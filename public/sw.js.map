{"version":3,"sources":["webpack:///./service-worker.js"],"names":["navigator","serviceWorker","getRegistrations","then","registrations","registration","unregister","importScripts","workbox","core","skipWaiting","clientsClaim","routing","registerRoute","strategies","StaleWhileRevalidate","cacheName","CacheFirst","plugins","cacheableResponse","CacheableResponsePlugin","statuses","expiration","ExpirationPlugin","maxAgeSeconds","maxEntries","self","addEventListener","event","data","type","console","warn","precaching","precacheAndRoute","__WB_MANIFEST"],"mappings":"AAAA,UAAU,cAAc,mBAAmB,MAAK,SAAU,GACxD,IAAK,IAAI,KAAgB,EACvB,EAAa,YAEjB,IAGA,cAAc,kFAId,QAAQ,KAAK,cACb,QAAQ,KAAK,eAGb,QAAQ,QAAQ,cACd,sBACA,IAAI,QAAQ,WAAW,qBAAqB,CAC1C,UAAW,sBAKf,QAAQ,QAAQ,cACd,oCACA,IAAI,QAAQ,WAAW,qBAAqB,CAC1C,UAAW,8BAKf,QAAQ,QAAQ,cACd,iCACA,IAAI,QAAQ,WAAW,WAAW,CAChC,UAAW,wBACX,QAAS,CACP,IAAI,QAAQ,kBAAkB,wBAAwB,CACpD,SAAU,CAAC,EAAG,OAEhB,IAAI,QAAQ,WAAW,iBAAiB,CACtC,cAAe,QACf,WAAY,SAOpB,KAAK,iBAAiB,WAAW,IAC3B,EAAM,MAA4B,iBAApB,EAAM,KAAK,OAEpB,iBADC,EAAM,KAAK,MASf,QAAQ,KAAM,6BAA4B,EAAM,KAAK,QAE3D,IAGF,QAAQ,WAAW,iBAAiB,+yqBAAK","file":"sw.js","sourceRoot":"","sourcesContent":["navigator.serviceWorker.getRegistrations().then(function (registrations) {\n  for (let registration of registrations) {\n    registration.unregister();\n  }\n});\n\n// https://developers.google.com/web/tools/workbox/guides/troubleshoot-and-debug\nimportScripts('https://storage.googleapis.com/workbox-cdn/releases/5.0.0-beta.1/workbox-sw.js');\n\n// Install newest\n// https://developers.google.com/web/tools/workbox/modules/workbox-core\nworkbox.core.skipWaiting();\nworkbox.core.clientsClaim();\n\n// Cache static assets that aren't precached\nworkbox.routing.registerRoute(\n  /\\.(?:js|css|json5)$/,\n  new workbox.strategies.StaleWhileRevalidate({\n    cacheName: 'static-resources',\n  })\n);\n\n// Cache the Google Fonts stylesheets with a stale-while-revalidate strategy.\nworkbox.routing.registerRoute(\n  /^https:\\/\\/fonts\\.googleapis\\.com/,\n  new workbox.strategies.StaleWhileRevalidate({\n    cacheName: 'google-fonts-stylesheets',\n  })\n);\n\n// Cache the underlying font files with a cache-first strategy for 1 year.\nworkbox.routing.registerRoute(\n  /^https:\\/\\/fonts\\.gstatic\\.com/,\n  new workbox.strategies.CacheFirst({\n    cacheName: 'google-fonts-webfonts',\n    plugins: [\n      new workbox.cacheableResponse.CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new workbox.expiration.ExpirationPlugin({\n        maxAgeSeconds: 60 * 60 * 24 * 365, // 1 Year\n        maxEntries: 30,\n      }),\n    ],\n  })\n);\n\n// MESSAGE HANDLER\nself.addEventListener('message', event => {\n  if (event.data && event.data.type === 'SKIP_WAITING') {\n    switch (event.data.type) {\n      case 'SKIP_WAITING':\n        // TODO: We'll eventually want this to be user prompted\n        // workbox.core.skipWaiting();\n        // workbox.core.clientsClaim();\n        // TODO: Global notification to indicate incoming reload\n        break;\n\n      default:\n        console.warn(`SW: Invalid message type: ${event.data.type}`);\n    }\n  }\n});\n\nworkbox.precaching.precacheAndRoute(self.__WB_MANIFEST);\n\n// TODO: Cache API\n// https://developers.google.com/web/fundamentals/instant-and-offline/web-storage/cache-api\n// Store DICOMs?\n// Clear Service Worker cache?\n// navigator.storage.estimate().then(est => console.log(est)); (2GB?)\n"]}