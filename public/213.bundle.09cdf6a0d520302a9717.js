"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[213],{213:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var s=n(86326);const t=JSON.parse('{"UU":"@ohif/extension-dicom-video"}').UU,r=`${t}.sopClassHandlerModule.dicom-video`;var i=n(62037),_=n(15327);const I={VIDEO_MICROSCOPIC_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.77.1.2.1",VIDEO_PHOTOGRAPHIC_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.77.1.4.1",VIDEO_ENDOSCOPIC_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.77.1.1.1",SECONDARY_CAPTURE_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.7",MULTIFRAME_TRUE_COLOR_SECONDARY_CAPTURE_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.7.4"},l=Object.values(I),E=[I.SECONDARY_CAPTURE_IMAGE_STORAGE,I.MULTIFRAME_TRUE_COLOR_SECONDARY_CAPTURE_IMAGE_STORAGE],O=Object.values({MPEG4_AVC_264_HIGH_PROFILE:"1.2.840.10008.1.2.4.102",MPEG4_AVC_264_BD_COMPATIBLE_HIGH_PROFILE:"1.2.840.10008.1.2.4.103",MPEG4_AVC_264_HIGH_PROFILE_FOR_2D_VIDEO:"1.2.840.10008.1.2.4.104",MPEG4_AVC_264_HIGH_PROFILE_FOR_3D_VIDEO:"1.2.840.10008.1.2.4.105",MPEG4_AVC_264_STEREO_HIGH_PROFILE:"1.2.840.10008.1.2.4.106",HEVC_265_MAIN_PROFILE:"1.2.840.10008.1.2.4.107",HEVC_265_MAIN_10_PROFILE:"1.2.840.10008.1.2.4.108"});function d(){return d=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d.apply(null,arguments)}const c=s.lazy((()=>n.e(6939).then(n.bind(n,86939)))),o=e=>s.createElement(s.Suspense,{fallback:s.createElement("div",null,"Loading...")},s.createElement(c,e));const u={id:t,getViewportModule:({servicesManager:e,extensionManager:a})=>[{name:"dicom-video",component:n=>s.createElement(o,d({servicesManager:e,extensionManager:a},n))}],getSopClassHandlerModule:function({servicesManager:e,extensionManager:a}){return[{name:"dicom-video",sopClassUids:l,getDisplaySetsFromSeries:e=>((e,a,n)=>{const s=n.getActiveDataSource()[0];return e.filter((e=>{const a=e.AvailableTransferSyntaxUID||e.TransferSyntaxUID||e["00083002"];return!!O.includes(a)||e.SOPClassUID===I.VIDEO_PHOTOGRAPHIC_IMAGE_STORAGE||E.includes(e.SOPClassUID)&&e.NumberOfFrames>=90})).map((e=>{const{Modality:a,SOPInstanceUID:n,SeriesDescription:t="VIDEO",imageId:I}=e,{SeriesNumber:E,SeriesDate:O,SeriesInstanceUID:d,StudyInstanceUID:c,NumberOfFrames:o,url:u}=e,S=s.retrieve.directURL({instance:e,singlepart:"video",tag:"PixelData",url:u}),A={Modality:a,displaySetInstanceUID:i.Wp.guid(),SeriesDescription:t,SeriesNumber:E,SeriesDate:O,SOPInstanceUID:n,SeriesInstanceUID:d,StudyInstanceUID:c,SOPClassHandlerId:r,referencedImages:null,measurements:null,viewportType:_.Enums.ViewportType.VIDEO,videoUrl:S,renderedUrl:S,instances:[e],thumbnailSrc:s.retrieve.directURL({instance:e,defaultPath:"/thumbnail",defaultType:"image/jpeg",tag:"Absent"}),imageIds:[I],isDerivedDisplaySet:!0,isLoaded:!1,sopClassUids:l,numImageFrames:o,instance:e};return _.utilities.genericMetadataProvider.add(I,{type:"imageUrlModule",metadata:{rendered:S}}),A}))})(e,0,a)}]}}}}]);
//# sourceMappingURL=213.bundle.09cdf6a0d520302a9717.js.map