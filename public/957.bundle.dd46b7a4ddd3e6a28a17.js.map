{"version":3,"file":"957.bundle.dd46b7a4ddd3e6a28a17.js","mappings":"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AAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,GAAI,IAAK,KACd,CAAC,IAAK,GAAI,GAAI,KACd,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,GAAI,IAAK,GAAI,KACd,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,GAAI,KACd,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,GAAI,IAAK,KACd,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,GAAI,IAAK,GAAI,KACd,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,GAAI,IAAK,GAAI,KACd,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,GAAI,KACd,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,GAAI,KACd,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,GAAI,IAAK,KACd,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,GAAI,IAAK,GAAI,KACd,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,GAAI,IAAK,IAAK,KACf,CAAC,IAAK,GAAI,IAAK,KACf,CAAC,IAAK,IAAK,GAAI,KACf,CAAC,GAAI,IAAK,IAAK,KAC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","sources":["webpack:///../../../node_modules/@cornerstonejs/tools/src/enums/ToolBindings.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/enums/ToolModes.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/enums/AnnotationStyleStates.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/enums/Events.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/enums/SegmentationRepresentations.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/enums/Touch.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/annotationLocking.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/annotationSelection.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/annotationVisibility.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/FrameOfReferenceSpecificAnnotationManager.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/svgNodeCache.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/state.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/addTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/mouse/getMouseEventPoints.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/mouse/mouseDoubleClickListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/mouse/mouseMoveListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/mouse/mouseDownListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/mouse/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/touch/preventGhostClick.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/touch/getTouchEventPoints.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/touch/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/touch/touchStartListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/touch/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/wheel/normalizeWheel.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/wheel/wheelListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/wheel/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/keyboard/keyDownListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/keyboard/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/constants/COLOR_LUT.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/contourConfig.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Labelmap/labelmapConfig.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/SegmentationStateManager.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/triggerSegmentationEvents.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/helpers/normalizeSegmentationInput.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/segmentationState.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/config/segmentationConfig.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Labelmap/addLabelmapToElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Labelmap/removeLabelmapFromElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Labelmap/labelmapDisplay.ts","webpack:///../../../node_modules/@kitware/vtk.js/Filters/General/AppendPolyData.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/utils.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/contourConfigCache.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/addContourSetsToElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/updateContourSets.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/removeContourFromElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/contourDisplay.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Contour/addOrUpdateContourSets.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/removeSegmentationsFromToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/Labelmap/validateRepresentationData.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/helpers/validateSegmentationInput.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/addSegmentations.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/addSegmentationRepresentations.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/activeSegmentation.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/segmentLocking.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/config/segmentationColor.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/config/segmentationVisibility.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/segmentation/segmentIndex.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/base/BaseTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/getSvgDrawingHelper.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/draw.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/_getHash.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/setAttributesIfNecessary.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/setNewAttributesIfValid.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawCircle.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawEllipse.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawHandles.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawLine.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawPolyline.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawTextBox.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/vec2/findClosestPoint.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawLink.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawLinkedTextBox.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawRect.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/drawingSvg/drawArrow.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/getToolsWithModesForElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/triggerAnnotationRender.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planar/filterAnnotationsWithinSlice.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planar/filterAnnotationsForDisplay.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/config/ToolStyle.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/config/helpers.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/config/getState.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/config/getFont.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/base/AnnotationDisplayTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/base/AnnotationTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/displayTools/SegmentationDisplayTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/triggerSegmentationRender.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/segmentation/segmentationRepresentationModifiedEventListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/segmentation/segmentationDataModifiedEventListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/segmentation/segmentationRepresentationRemovedEventListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/segmentation/segmentationModifiedEventListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/getAnnotationNearPoint.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/isObject.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/debounce.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/throttle.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/clip.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/calibrateImageSpacing.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/triggerAnnotationRenderForViewportIds.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/scroll.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewport/jumpToSlice.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/pointInShapeCallback.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/boundingBox/extend2DBoundingBoxInViewAxis.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/boundingBox/getBoundingBoxAroundShape.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/pointInSurroundingSphereCallback.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/sphere/pointInSphere.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/roundNumber.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/utils/isWithinThreshold.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/fillSphere.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/eraseSphere.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/ellipse/pointInEllipse.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/ellipse/getCanvasEllipseCorners.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/fillCircle.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/eraseCircle.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/MouseCursor.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/ImageMouseCursor.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/SVGCursorDescriptor.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/SVGMouseCursor.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/setCursorForElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/cursors/elementCursor.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/BrushTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/utilities.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/thresholdVolumeByRange.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/PanTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/TrackballRotateTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/WindowLevelTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/StackScrollTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/angle/angleBetweenLines.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/PlanarRotateTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/StackScrollToolMouseWheelTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/ZoomTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/VolumeRotateMouseWheelTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planar/getWorldWidthAndHeightFromCorners.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planar/getPointInLineOfSightWithCriteria.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planar/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewport/jumpToWorld.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/MIPJumpToClickTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewportFilters/filterViewportsWithFrameOfReferenceUID.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewportFilters/filterViewportsWithToolEnabled.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewportFilters/filterViewportsWithParallelNormals.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewportFilters/getViewportIdsWithToolToRender.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/vec2/liangBarksyClip.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/line/distanceToPointSquared.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/line/distanceToPoint.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/line/intersectLine.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/CrosshairsTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/MagnifyTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/ReferenceLinesTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/OverlayGridTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/getCalibratedUnits.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/drawing/getTextBoxCoordsCanvas.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/BidirectionalTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/LengthTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/getModalityUnit.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/viewport/isViewportPreScaled.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/ProbeTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/DragProbeTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/rectangle/distanceToPoint.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/basic/Calculator.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/basic/BasicStatsCalculator.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/RectangleROITool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planar/getWorldWidthAndHeightFromTwoPoints.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/EllipticalROITool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/point/distanceToPoint.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/circle/getCanvasCircleRadius.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/circle/getCanvasCircleCorners.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/CircleROITool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/polyline/getIntersectionWithPolyline.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/polyline/getSubPixelSpacingAndXYDirections.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/polyline/pointsAreWithinCloseContourProximity.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/polyline/addCanvasPointsToArray.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/polyline/pointCanProjectOnLine.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/polyline/calculateAreaOfPoints.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planarFreehandROITool/interpolation/interpolateSegmentPoints.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planarFreehandROITool/interpolation/algorithms/bspline.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planarFreehandROITool/interpolatePoints.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/findOpenUShapedContourVectorToPeak.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/drawLoop.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/editLoopCommon.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/closedContourEditLoop.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/openContourEditLoop.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/openContourEndEditLoop.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/planarFreehandROITool/renderMethods.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/PlanarFreehandROITool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/ArrowAnnotateTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/AngleTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/math/midPoint.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/annotation/CobbAngleTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/ReferenceCursors.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/ScaleOverlayTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/fillRectangle.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/strategies/eraseRectangle.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/RectangleScissorsTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/CircleScissorsTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/SphereScissorsTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/RectangleROIThresholdTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/RectangleROIStartEndThresholdTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/floodFill.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/segmentation/PaintFillTool.ts","webpack:///../../../node_modules/@kitware/vtk.js/Interaction/Widgets/OrientationMarkerWidget/Constants.js","webpack:///../../../node_modules/@kitware/vtk.js/Interaction/Widgets/OrientationMarkerWidget.js","webpack:///../../../node_modules/@kitware/vtk.js/Common/Core/ImageHelper.js","webpack:///../../../node_modules/@kitware/vtk.js/Rendering/Core/AnnotatedCubeActor/Presets.js","webpack:///../../../node_modules/@kitware/vtk.js/Rendering/Core/AnnotatedCubeActor.js","webpack:///../../../node_modules/@kitware/vtk.js/Filters/Sources/ConeSource.js","webpack:///../../../node_modules/@kitware/vtk.js/Filters/Sources/CylinderSource.js","webpack:///../../../node_modules/@kitware/vtk.js/Filters/Sources/ArrowSource.js","webpack:///../../../node_modules/@kitware/vtk.js/Rendering/Core/AxesActor.js","webpack:///../../../node_modules/fflate/esm/browser.js","webpack:///../../../node_modules/@kitware/vtk.js/IO/Core/DataAccessHelper.js","webpack:///../../../node_modules/@kitware/vtk.js/Common/Core/Base64.js","webpack:///../../../node_modules/@kitware/vtk.js/IO/Core/BinaryHelper.js","webpack:///../../../node_modules/@kitware/vtk.js/Common/Core/Endian.js","webpack:///../../../node_modules/@kitware/vtk.js/IO/Core/DataAccessHelper/LiteHttpDataAccessHelper.js","webpack:///../../../node_modules/@kitware/vtk.js/IO/XML/XMLReader.js","webpack:///../../../node_modules/@kitware/vtk.js/IO/XML/XMLPolyDataReader.js","webpack:///../../../node_modules/@cornerstonejs/tools/src/tools/OrientationMarkerTool.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/rectangleROITool/getBoundsIJKFromRectangleAnnotations.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/rectangleROIThresholdVolumeByRange.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/createMergedLabelmapForIndex.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/isValidRepresentationConfig.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/getDefaultRepresentationConfig.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/createLabelmapVolumeForViewport.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/brushSizeForToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/brushThresholdForToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/segmentation/thresholdSegmentationByRange.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/orientation/getOrientationStringLPS.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/orientation/invertOrientationStringLPS.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/cine/events.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/cine/state.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/cine/playClip.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planarFreehandROITool/interpolateAnnotation.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/planarFreehandROITool/index.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/stackPrefetch/state.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/stackPrefetch/stackPrefetchUtils.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/stackPrefetch/stackPrefetch.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/stackPrefetch/stackContextPrefetch.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/dynamicVolume/getDataInTime.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/utilities/dynamicVolume/generateImageFromTimeData.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/annotations/annotationSelectionListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventListeners/annotations/annotationModifiedListener.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/imageRenderedEventDispatcher.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/customCallbackHandler.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseClick.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseDoubleClick.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/filterToolsWithMoveableHandles.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/filterToolsWithAnnotationsForElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/filterMoveableAnnotationTools.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/getMouseModifier.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/getActiveToolForMouseEvent.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/getToolsWithModesForMouseEvent.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseDown.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseDownActivate.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseDrag.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseMove.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseUp.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseEventHandlers/mouseWheel.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/mouseToolEventDispatcher.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/getActiveToolForKeyboardEvent.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/keyboardEventHandlers/keyDown.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/keyboardEventHandlers/keyUp.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/keyboardToolEventDispatcher.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/cameraModifiedEventDispatcher.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/imageSpacingCalibratedEventDispatcher.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/getActiveToolForTouchEvent.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/shared/getToolsWithModesForTouchEvent.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchEventHandlers/touchStart.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchEventHandlers/touchStartActivate.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchEventHandlers/touchDrag.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchEventHandlers/touchEnd.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchEventHandlers/touchTap.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchEventHandlers/touchPress.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/eventDispatchers/touchToolEventDispatcher.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/addEnabledElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/getSynchronizersForViewport.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/getToolGroupForViewport.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/removeEnabledElement.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/cancelActiveManipulations.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/Synchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/createSynchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/destroy.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/getSynchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/getAllSynchronizers.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/SynchronizerManager/destroySynchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/ToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/createToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/destroyToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/destroy.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/getToolGroup.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/getAllToolGroups.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/store/ToolGroupManager/getToolGroupsWithToolName.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/annotationState.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/stateManagement/annotation/helpers/state.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/init.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/callbacks/cameraSyncCallback.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/synchronizers/createCameraPositionSynchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/callbacks/voiSyncCallback.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/synchronizers/createVOISynchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/callbacks/zoomPanSyncCallback.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/synchronizers/createZoomPanSynchronizer.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/callbacks/stackImageSyncCallback.ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/callbacks/areViewportsCoplanar .ts","webpack:///../../../node_modules/@cornerstonejs/tools/src/synchronizers/synchronizers/createStackImageSynchronizer.ts","webpack:///../../../node_modules/lodash.get/index.js","webpack:///../../../node_modules/xmlbuilder2/lib/xmlbuilder2.min.js"],"sourcesContent":["/**\n * Mouse This enum enumerates the different buttons returned by `.buttons` on the mouse event.\n * These values are used when setting a tool active in a tool group.\n *\n * See also: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n */\nenum MouseBindings {\n  /** usually the left button */\n  Primary = 1,\n  /** usually the right button */\n  Secondary = 2,\n  Primary_And_Secondary = 3,\n  /** usually mouse wheel button */\n  Auxiliary = 4,\n  Primary_And_Auxiliary = 5,\n  Secondary_And_Auxiliary = 6,\n  Primary_And_Secondary_And_Auxiliary = 7,\n  /** usually \"Browser Back\" button */\n  Fourth_Button = 8,\n  /** usually \"Browser Forward\" button */\n  Fifth_Button = 16,\n}\n\nenum KeyboardBindings {\n  Shift = 16,\n  Ctrl = 17,\n  Alt = 18,\n  Meta = 91,\n  ShiftCtrl = 1617,\n  ShiftAlt = 1618,\n  ShiftMeta = 1691,\n  CtrlAlt = 1718,\n  CtrlMeta = 1791,\n  AltMeta = 1891,\n}\n\nexport { MouseBindings, KeyboardBindings };\n","/**\n * ToolModes - This enum defines the 4 tool states which are available.\n */\nenum ToolModes {\n  /**\n   * Active:\n   * - Can be actively used by mouse/touch events mapped to its `ToolBinding`s.\n   * - Can add data if an annotation tool.\n   * - Can be passively interacted by grabbing a tool or its handles.\n   * - Renders data if the tool has a `renderAnnotation` method.\n   */\n  Active = 'Active',\n  /**\n   * Passive:\n   * - Can be passively interacted by grabbing a tool or its handles.\n   * - Renders data if the tool has a `renderAnnotation` method.\n   */\n  Passive = 'Passive',\n  /**\n   * Enabled:\n   * - Renders data if the tool has a `renderAnnotation` method.\n   */\n  Enabled = 'Enabled',\n  /**\n   * Disabled:\n   * - Annotation does not render.\n   */\n  Disabled = 'Disabled',\n}\n\nexport default ToolModes;\n","/**\n * AnnotationStyleStates - This enum defines the 4 possible states available for\n *  a Annotation instance.\n *\n * Default:\n *   The default state for the annotation instance\n * Highlighted:\n *   The annotation should be rendered in \"highlighted\" mode in response to\n *   direct user interaction;\n * Selected:\n *   The annotation has been selected by the user;\n * Locked:\n *   The annotation has been locked;\n */\nenum AnnotationStyleStates {\n  Default = '',\n  Highlighted = 'Highlighted',\n  Selected = 'Selected',\n  Locked = 'Locked',\n}\n\nexport default AnnotationStyleStates;\n","/**\n *  The events for cornerstoneTools3D Tools. Native Mouse and Keyboard events are\n *  captured, normalized, and re-triggered with a `CORNERSTONE_TOOLS` prefix. This\n *  allows us to handle events consistently across different browsers.\n *\n */\nenum Events {\n  ///////////////////////////////////////\n  //            Tools\n  ///////////////////////////////////////\n\n  /**\n   * Triggers on the eventTarget when a new tools is activated.\n   *\n   * Make use of {@link EventTypes.ToolActivatedEventType | Tool Activated Event Type  }\n   * for typing your event listeners for this tool activated event, and see what event\n   * detail is included in {@link EventTypes.ToolActivatedEventDetail | Tool Activated Event Detail}.\n   */\n  TOOL_ACTIVATED = 'CORNERSTONE_TOOLS_TOOL_ACTIVATED',\n\n  ///////////////////////////////////////\n  //            Annotations\n  ///////////////////////////////////////\n\n  /**\n   * Triggers on the eventTarget when a new annotation is added to the state.\n   *\n   * Make use of {@link EventTypes.AnnotationAddedEventType | Annotation Added Event Type  }\n   * for typing your event listeners for this annotation added event, and see what event\n   * detail is included in {@link EventTypes.AnnotationAddedEventDetail | Annotation Added Event Detail}.\n   */\n  ANNOTATION_ADDED = 'CORNERSTONE_TOOLS_ANNOTATION_ADDED',\n\n  /**\n   * Triggers on the eventTarget when a new annotation is completed its drawing\n   * Make use of {@link EventTypes.AnnotationCompletedEventType | Annotation Completed Event Type }\n   * for typing your event listeners for this annotation completed event, and see what event\n   * detail is included in {@link EventTypes.AnnotationCompletedEventDetail | Annotation Completed Event Detail}.\n   */\n  ANNOTATION_COMPLETED = 'CORNERSTONE_TOOLS_ANNOTATION_COMPLETED',\n\n  /**\n   * Triggers on the eventTarget when an annotation is modified (e.g. a handle is modified).\n   * Make use of {@link EventTypes.AnnotationModifiedEventType | Annotation Modified Event Type}\n   * for typing your event listeners for this annotation modified event, and see what\n   * event detail is included in {@link EventTypes.AnnotationModifiedEventDetail | Annotation Modified Event Detail}.\n   */\n  ANNOTATION_MODIFIED = 'CORNERSTONE_TOOLS_ANNOTATION_MODIFIED',\n\n  /**\n   * Triggers on the eventTarget when an annotation is removed from the annotations manager.\n   * Make use of {@link EventTypes.AnnotationRemovedEventType | Annotation Removed Event Type}\n   * for typing your event listeners for this annotation removed event, and see what\n   * event detail is included in {@link EventTypes.AnnotationRemovedEventDetail | Annotation Removed Event Detail}.\n   */\n  ANNOTATION_REMOVED = 'CORNERSTONE_TOOLS_ANNOTATION_REMOVED',\n\n  /**\n   * Triggers on the eventTarget when an annotation selection status is changed.\n   * Make use of {@link EventTypes.AnnotationSelectionChangeEventType | Annotation Selection Change Event Type}\n   * for typing your event listeners for this annotation selection change event, and see what\n   * event detail is included in {@link EventTypes.AnnotationSelectionChangeEventDetail | Annotation Selection Change Event Detail}.\n   */\n  ANNOTATION_SELECTION_CHANGE = 'CORNERSTONE_TOOLS_ANNOTATION_SELECTION_CHANGE',\n\n  /**\n   * Triggers on the eventTarget when an annotation locked status is changed.\n   * Make use of {@link EventTypes.AnnotationLockChangeEventType | Annotation Lock Change Event Type}\n   * for typing your event listeners for this annotation lock change event, and see what\n   * event detail is included in {@link EventTypes.AnnotationLockChangeEventDetail | Annotation Lock Change Event Detail}.\n   */\n  ANNOTATION_LOCK_CHANGE = 'CORNERSTONE_TOOLS_ANNOTATION_LOCK_CHANGE',\n\n  /**\n   * Triggers on the eventTarget when an annotation visible status is changed.\n   * Make use of {@link EventTypes.AnnotationVisibilityChangeEventType | Annotation Visible Change Event Type}\n   * for typing your event listeners for this annotation Hide change event, and see what\n   * event detail is included in {@link EventTypes.AnnotationVisibilityChangeEventDetail | Annotation Visible Change Event Detail}.\n   */\n  ANNOTATION_VISIBILITY_CHANGE = 'CORNERSTONE_TOOLS_ANNOTATION_VISIBILITY_CHANGE',\n\n  /**\n   * Triggers on the eventTarget when an annotation is rendered.\n   * Make use of {@link EventTypes.AnnotationRenderedEventType | Annotation Rendered Event Type}\n   * for typing your event listeners for this annotation rendered event, and see what\n   * event detail is included in {@link EventTypes.AnnotationRenderedEventDetail | Annotation Rendered Event Detail}.\n   */\n  ANNOTATION_RENDERED = 'CORNERSTONE_TOOLS_ANNOTATION_RENDERED',\n\n  ///////////////////////////////////////\n  //        Segmentations Events\n  ///////////////////////////////////////\n\n  /**\n   * Triggers on the eventTarget when a Segmentation is updated in the state manager.\n   * Make use of {@link EventTypes.SegmentationModifiedEventType | Segmentation Modified Event Type}\n   * for typing your event listeners for this segmentation modified event, and see what\n   * event detail is included in {@link EventTypes.SegmentationModifiedEventDetail | Segmentation Modified Event Detail}.\n   */\n  SEGMENTATION_MODIFIED = 'CORNERSTONE_TOOLS_SEGMENTATION_MODIFIED',\n\n  /**\n   * Triggers on the eventTarget when a Segmentation is rendered by the Segmentation Rendering Engine.\n   * Make use of {@link EventTypes.SegmentationRenderedEventType | Segmentation Rendered Event Type}\n   * for typing your event listeners for this segmentation rendered event, and see what\n   * event detail is included in {@link EventTypes.SegmentationRenderedEventDetail | Segmentation Rendered Event Detail}.\n   */\n  SEGMENTATION_RENDERED = 'CORNERSTONE_TOOLS_SEGMENTATION_RENDERED',\n\n  /**\n   * Triggers on the eventTarget when a Segmentation representation of a toolGroup is modified in the state manager.\n   * Make use of {@link EventTypes.SegmentationRepresentationModifiedEventType | Segmentation Representation Modified Event Type}\n   * for typing your event listeners for this segmentation representation modified event, and see what\n   * event detail is included in {@link EventTypes.SegmentationRepresentationModifiedEventDetail | Segmentation Representation Modified Event Detail}.\n   */\n  SEGMENTATION_REPRESENTATION_MODIFIED = 'CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_MODIFIED',\n\n  /**\n   * Triggers on the eventTarget when a Segmentation is removed from the state manager.\n   * Make use of {@link EventTypes.SegmentationRemovedEventType | Segmentation Removed Event Type}\n   * for typing your event listeners for this segmentation removed event, and see what\n   * event detail is included in {@link EventTypes.SegmentationRemovedEventDetail | Segmentation Removed Event Detail}.\n   */\n  SEGMENTATION_REMOVED = 'CORNERSTONE_TOOLS_SEGMENTATION_REMOVED',\n\n  /**\n   * Triggers on the eventTarget when a Segmentation representation of a toolGroup is removed in the state manager.\n   * Make use of {@link EventTypes.SegmentationRepresentationRemovedEventType | Segmentation Representation Removed Event Type}\n   * for typing your event listeners for this segmentation representation removed event, and see what\n   * event detail is included in {@link EventTypes.SegmentationRepresentationRemovedEventDetail | Segmentation Representation Removed Event Detail}.\n   */\n  SEGMENTATION_REPRESENTATION_REMOVED = 'CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_REMOVED',\n\n  /**\n   * Triggers on the eventTarget when a Segmentation data is modified (e.g., by brush tool).\n   * Make use of {@link EventTypes.SegmentationDataModifiedEventType | Segmentation Data Modified Event Type}\n   * for typing your event listeners for this segmentation data modified event, and see what\n   * event detail is included in {@link EventTypes.SegmentationDataModifiedEventDetail | Segmentation Data Modified Event Detail}.\n   */\n  SEGMENTATION_DATA_MODIFIED = 'CORNERSTONE_TOOLS_SEGMENTATION_DATA_MODIFIED',\n\n  ///////////////////////////////////////\n  //         Keyboard Events\n  ///////////////////////////////////////\n\n  /**\n   * Triggers on the eventTarget when a key on the keyboard is pressed.\n   * Make use of {@link EventTypes.KeyDownEventType | Key Down Event Type}\n   * for typing your event listeners for this key down event, and see what\n   * event detail is included in {@link EventTypes.KeyDownEventDetail | Key Down Event Detail}.\n   */\n  KEY_DOWN = 'CORNERSTONE_TOOLS_KEY_DOWN',\n\n  /**\n   * Triggers on the eventTarget when a key on the keyboard is released.\n   * Make use of {@link EventTypes.KeyUpEventType | Key Up Event Type}\n   * for typing your event listeners for this key up event, and see what\n   * event detail is included in {@link EventTypes.KeyUpEventDetail | Key Up Event Detail}.\n   */\n  KEY_UP = 'CORNERSTONE_TOOLS_KEY_UP',\n\n  ///////////////////////////////////////\n  //      Mouse Events\n  ///////////////////////////////////////\n\n  /**\n   * Triggers on the eventTarget when the mouse is pressed down, it is CornerstoneTools normalized event.\n   * Make use of {@link EventTypes.MouseDownEventType | Mouse Down Event Type}\n   * for typing your event listeners for this mouse down event, and see what\n   * event detail is included in {@link EventTypes.MouseDownEventDetail | Mouse Down Event Detail}.\n   */\n  MOUSE_DOWN = 'CORNERSTONE_TOOLS_MOUSE_DOWN',\n\n  /**\n   * Triggers on the eventTarget when the mouse is released, it is CornerstoneTools normalized event.\n   * Make use of {@link EventTypes.MouseUpEventType | Mouse Up Event Type}\n   * for typing your event listeners for this mouse up event, and see what\n   * event detail is included in {@link EventTypes.MouseUpEventDetail | Mouse Up Event Detail}.\n   */\n  MOUSE_UP = 'CORNERSTONE_TOOLS_MOUSE_UP',\n\n  /**\n   * Triggers on the eventTarget when a handled `MOUSE_DOWN` event does not `stopPropagation`. The hook\n   * we use to create new annotation for mouse events.\n   * Make use of {@link EventTypes.MouseDownActivateEventType | Mouse Down Activate Event Type}\n   * for typing your event listeners for this mouse down activate event, and see what\n   * event detail is included in {@link EventTypes.MouseDownActivateEventDetail | Mouse Down Activate Event Detail}.\n   */\n  MOUSE_DOWN_ACTIVATE = 'CORNERSTONE_TOOLS_MOUSE_DOWN_ACTIVATE',\n\n  /**\n   * Triggers on the event target when mouse is dragging an annotation or textBox.\n   * Make use of {@link EventTypes.MouseDragEventType | Mouse Drag Event Type}\n   * for typing your event listeners for this mouse drag event, and see what\n   * event detail is included in {@link EventTypes.MouseDragEventDetail | Mouse Drag Event Detail}.\n   */\n  MOUSE_DRAG = 'CORNERSTONE_TOOLS_MOUSE_DRAG',\n\n  /**\n   * Triggers on the eventTarget, when the mouse is moved, it is CornerstoneTools normalized event.\n   * It can be just a mouse move or when double click is performed and annotation\n   * drawing can be performed with just mouse move.\n   * Make use of {@link EventTypes.MouseMoveEventType | Mouse Move Event Type}\n   * for typing your event listeners for this mouse move event, and see what\n   * event detail is included in {@link EventTypes.MouseMoveEventDetail | Mouse Move Event Detail}.\n   */\n  MOUSE_MOVE = 'CORNERSTONE_TOOLS_MOUSE_MOVE',\n\n  /**\n   * Triggers on the eventTarget when a mouse click is detected. It is CornerstoneTools normalized event.\n   * Make use of {@link EventTypes.MouseClickEventType | Mouse Click Event Type}\n   * for typing your event listeners for this mouse click event, and see what\n   * event detail is included in {@link EventTypes.MouseClickEventDetail | Mouse Click Event Detail}.\n   */\n  MOUSE_CLICK = 'CORNERSTONE_TOOLS_MOUSE_CLICK',\n\n  /**\n   * Triggers on the eventTarget when a mouse double click is detected. It is CornerstoneTools normalized event.\n   * Make use of {@link EventTypes.MouseDoubleClickEventType | Mouse Double Click Event Type}\n   * for typing your event listeners for this mouse double click event, and see what\n   * event detail is included in {@link EventTypes.MouseDoubleClickEventDetail | Mouse Double Click Event Detail}.\n   */\n  MOUSE_DOUBLE_CLICK = 'CORNERSTONE_TOOLS_MOUSE_DOUBLE_CLICK',\n\n  /**\n   * Triggers on the eventTarget when a mouse wheel event is detected. It is CornerstoneTools normalized event.\n   * Make use of {@link EventTypes.MouseWheelEventType | Mouse Wheel Event Type}\n   * for typing your event listeners for this mouse wheel event, and see what\n   * event detail is included in {@link EventTypes.MouseWheelEventDetail | Mouse Wheel Event Detail}.\n   */\n  MOUSE_WHEEL = 'CORNERSTONE_TOOLS_MOUSE_WHEEL',\n\n  // Todo: not being fired as of now\n  // ANNOTATION_COMPLETED = 'CORNERSTONE_TOOLS_ANNOTATION_COMPLETED',\n  // Todo: not implemented yet\n  // KEY_PRESS = 'CORNERSTONE_TOOLS_KEY_PRESS',\n\n  //////////////////////\n  //   Touch Events   //\n  //////////////////////\n  // The event flow looks like the following\n  // Touch Start -> (optional) Touch Press -> Touch Drag -> (optional) Touch Swipe -> Touch End\n  // Touch Tap\n  // mousedown\n  // mousedown, Touch Start, and Tap are mutually exclusive events\n  TOUCH_START = 'CORNERSTONE_TOOLS_TOUCH_START',\n  TOUCH_START_ACTIVATE = 'CORNERSTONE_TOOLS_TOUCH_START_ACTIVATE',\n  TOUCH_PRESS = 'CORNERSTONE_TOOLS_TOUCH_PRESS',\n  TOUCH_DRAG = 'CORNERSTONE_TOOLS_TOUCH_DRAG',\n  TOUCH_END = 'CORNERSTONE_TOOLS_TOUCH_END',\n  TOUCH_TAP = 'CORNERSTONE_TOOLS_TAP',\n  TOUCH_SWIPE = 'CORNERSTONE_TOOLS_SWIPE',\n}\n\nexport default Events;\n","/**\n * Segmentations on viewports can be visualized in different ways. This enum\n * defines the different ways of visualizing segmentations. Currently, only\n * labelmap is supported.\n */\nenum SegmentationRepresentations {\n  Labelmap = 'LABELMAP',\n  Contour = 'CONTOUR',\n  // Todo: add more representations\n}\n\nexport default SegmentationRepresentations;\n","enum Swipe {\n  UP = 'UP',\n  DOWN = 'DOWN',\n  LEFT = 'LEFT',\n  RIGHT = 'RIGHT',\n}\n\nexport { Swipe };\n","import { eventTarget, triggerEvent } from '@cornerstonejs/core';\nimport { Events } from '../../enums';\nimport { Annotation } from '../../types';\nimport { AnnotationLockChangeEventDetail } from '../../types/EventTypes';\n\n/*\n * Constants\n */\nconst globalLockedAnnotationsSet: Set<Annotation> = new Set();\n\n/*\n * Interface (Public API)\n */\n\n/**\n * Set the \"Locked\" state of a given annotation instance.\n *\n * @triggers ANNOTATION_LOCK_CHANGE\n *\n * @param annotation - The annotation instance which will have\n * its locked state changed. An event will only be triggered if the locked state\n * of the given annotation instance changed.\n * @param locked - A boolean value indicating if the instance should\n * be locked (true) or not (false)\n */\nfunction setAnnotationLocked(annotation: Annotation, locked = true): void {\n  const detail = makeEventDetail();\n  if (annotation) {\n    if (locked) {\n      lock(annotation, globalLockedAnnotationsSet, detail);\n    } else {\n      unlock(annotation, globalLockedAnnotationsSet, detail);\n    }\n  }\n  publish(detail, globalLockedAnnotationsSet);\n}\n\n/**\n * Clears all the locked annotation\n *\n */\nfunction unlockAllAnnotations(): void {\n  const detail = makeEventDetail();\n  clearLockedAnnotationsSet(globalLockedAnnotationsSet, detail);\n  publish(detail, globalLockedAnnotationsSet);\n}\n\n/**\n * Returns an array of all the annotation that is currently locked\n * @returns An array of tool specific annotation objects.\n *\n */\nfunction getAnnotationsLocked(): Array<Annotation> {\n  return Array.from(globalLockedAnnotationsSet);\n}\n\n/**\n * Given a Annotation object, return true if it is locked.\n * @param annotation - Annotation\n * @returns A boolean value.\n */\nfunction isAnnotationLocked(annotation: Annotation): boolean {\n  return globalLockedAnnotationsSet.has(annotation);\n}\n\n/**\n * Get the number of locked annotation objects in the global set of locked annotation\n * objects.\n * @returns The number of locked annotation objects.\n *\n */\nfunction getAnnotationsLockedCount(): number {\n  return globalLockedAnnotationsSet.size;\n}\n\n/**\n * Properly initialize the isLocked on annotation, and set it as locked if\n * isLocked is true.\n * @param annotation - The annotation object to be checked.\n */\nfunction checkAndDefineIsLockedProperty(annotation: Annotation): void {\n  if (annotation) {\n    const isLocked = !!annotation.isLocked;\n    if (shouldDefineIsLockedProperty(annotation)) {\n      Object.defineProperty(annotation, 'isLocked', {\n        configurable: false,\n        enumerable: true,\n        set: setIsLocked,\n        get: getIsLocked,\n      });\n    }\n    setAnnotationLocked(annotation, isLocked);\n  }\n}\n\n/*\n * Private Helpers\n */\n\nfunction makeEventDetail(): AnnotationLockChangeEventDetail {\n  return Object.freeze({\n    added: [],\n    removed: [],\n    locked: [],\n  });\n}\n\nfunction lock(\n  annotation: Annotation,\n  lockedAnnotationsSet: Set<Annotation>,\n  detail: AnnotationLockChangeEventDetail\n): void {\n  if (!lockedAnnotationsSet.has(annotation)) {\n    lockedAnnotationsSet.add(annotation);\n    detail.added.push(annotation);\n  }\n}\n\nfunction unlock(\n  annotation: Annotation,\n  lockedAnnotationsSet: Set<Annotation>,\n  detail: AnnotationLockChangeEventDetail\n): void {\n  if (lockedAnnotationsSet.delete(annotation)) {\n    detail.removed.push(annotation);\n  }\n}\n\nfunction clearLockedAnnotationsSet(\n  lockedAnnotationsSet: Set<Annotation>,\n  detail: AnnotationLockChangeEventDetail\n): void {\n  lockedAnnotationsSet.forEach((annotation) => {\n    unlock(annotation, lockedAnnotationsSet, detail);\n  });\n}\n\nfunction publish(\n  detail: AnnotationLockChangeEventDetail,\n  lockedAnnotationsSet: Set<Annotation>\n) {\n  if (detail.added.length > 0 || detail.removed.length > 0) {\n    lockedAnnotationsSet.forEach((item) => void detail.locked.push(item));\n    triggerEvent(eventTarget, Events.ANNOTATION_LOCK_CHANGE, detail);\n  }\n}\n\nfunction shouldDefineIsLockedProperty(annotation: Annotation): boolean {\n  const descriptor = Object.getOwnPropertyDescriptor(annotation, 'isLocked');\n  if (descriptor) {\n    return (\n      descriptor.configurable &&\n      (descriptor.set !== setIsLocked || descriptor.get !== getIsLocked)\n    );\n  }\n  return Object.isExtensible(annotation);\n}\n\nfunction setIsLocked(locked: boolean) {\n  setAnnotationLocked(this as Annotation, locked);\n}\n\nfunction getIsLocked() {\n  return isAnnotationLocked(this as Annotation);\n}\n\n/*\n * Exports\n */\n\nexport {\n  setAnnotationLocked,\n  getAnnotationsLocked,\n  getAnnotationsLockedCount,\n  unlockAllAnnotations,\n  isAnnotationLocked,\n  checkAndDefineIsLockedProperty,\n};\n","import { eventTarget, triggerEvent } from '@cornerstonejs/core';\nimport { Events } from '../../enums';\nimport { AnnotationSelectionChangeEventDetail } from '../../types/EventTypes';\nimport { getAnnotation } from './annotationState';\n\n/*\n * Constants\n */\n\nconst selectedAnnotationUIDs: Set<string> = new Set();\n\n/*\n * Interface (Public API)\n */\n\n/**\n * Set a given annotationUID as selected or deselected based on the provided\n * selected value.\n *\n * @param annotationUID - The annotation UID to be selected\n * @param selected - When true, the annotation is selected. When false, the annotation is deselected.\n * @param preserveSelected - When true, preserves existing\n *  selections (i.e., the given annotation is appended to the selection set).\n *  When false (the default behavior) the currently selected items are discarded\n *  (i.e., the given annotation instance replaces the currently selected ones).\n */\nfunction setAnnotationSelected(\n  annotationUID: string,\n  selected = true,\n  preserveSelected = false\n): void {\n  if (selected) {\n    selectAnnotation(annotationUID, preserveSelected);\n  } else {\n    deselectAnnotation(annotationUID);\n  }\n}\n\n/**\n * Set a given annotation as selected.\n *\n * @param annotationUID - The annotation UID to be selected\n * @param preserveSelected - When true, preserves existing\n *  selections (i.e., the given annotation is appended to the selection set).\n *  When false (the default behavior) the currently selected items are discarded\n *  (i.e., the given annotation instance replaces the currently selected ones).\n */\nfunction selectAnnotation(\n  annotationUID: string,\n  preserveSelected = false\n): void {\n  const detail = makeEventDetail();\n  if (!preserveSelected) {\n    clearSelectionSet(selectedAnnotationUIDs, detail);\n  }\n  if (annotationUID && !selectedAnnotationUIDs.has(annotationUID)) {\n    selectedAnnotationUIDs.add(annotationUID);\n    detail.added.push(annotationUID);\n  }\n  publish(detail, selectedAnnotationUIDs);\n}\n\n/**\n * Deselect one or all annotations.\n *\n * @param annotationUID - If an annotation is provided that instance will be removed from\n * the internal selection set. If none is given, ALL selections will be cleared.\n */\nfunction deselectAnnotation(annotationUID?: string): void {\n  const detail = makeEventDetail();\n  if (annotationUID) {\n    if (selectedAnnotationUIDs.delete(annotationUID)) {\n      detail.removed.push(annotationUID);\n    }\n  } else {\n    clearSelectionSet(selectedAnnotationUIDs, detail);\n  }\n  publish(detail, selectedAnnotationUIDs);\n}\n\n/**\n * Return an array of ALL the selected annotationUIDs\n * @returns An array of Annotation UIDs\n */\nfunction getAnnotationsSelected(): Array<string> {\n  return Array.from(selectedAnnotationUIDs);\n}\n\n/**\n * Given a tool name, return ALL the annotationUIDs for that tool that are selected\n * @param toolName - The name of the tool you want to get the selected annotation for\n * @returns An array of annotationUIDs\n */\nfunction getAnnotationsSelectedByToolName(toolName: string): Array<string> {\n  return getAnnotationsSelected().filter((annotationUID) => {\n    const annotation = getAnnotation(annotationUID);\n    return annotation.metadata.toolName === toolName;\n  });\n}\n\n/**\n * Given an annotationUID, return true if it is selected, false\n * otherwise.\n * @param annotationUID - Annotation UID\n * @returns A boolean value.\n */\nfunction isAnnotationSelected(annotationUID: string): boolean {\n  return selectedAnnotationUIDs.has(annotationUID);\n}\n\n/**\n * Return the number of the selected annotation\n * @returns The size of the selected annotation set\n */\nfunction getAnnotationsSelectedCount(): number {\n  return selectedAnnotationUIDs.size;\n}\n\n/*\n * Private Helpers\n */\n\nfunction makeEventDetail(): AnnotationSelectionChangeEventDetail {\n  return Object.freeze({\n    added: [],\n    removed: [],\n    selection: [],\n  });\n}\n\nfunction clearSelectionSet(\n  selectionSet: Set<string>,\n  detail: AnnotationSelectionChangeEventDetail\n): void {\n  selectionSet.forEach((value) => {\n    if (selectionSet.delete(value)) {\n      detail.removed.push(value);\n    }\n  });\n}\n\nfunction publish(\n  detail: AnnotationSelectionChangeEventDetail,\n  selectionSet: Set<string>\n) {\n  if (detail.added.length > 0 || detail.removed.length > 0) {\n    selectionSet.forEach((item) => void detail.selection.push(item));\n    triggerEvent(eventTarget, Events.ANNOTATION_SELECTION_CHANGE, detail);\n  }\n}\n\n/*\n * Exports\n */\n\nexport {\n  setAnnotationSelected,\n  getAnnotationsSelected,\n  getAnnotationsSelectedByToolName,\n  getAnnotationsSelectedCount,\n  deselectAnnotation,\n  isAnnotationSelected,\n};\n","import { eventTarget, triggerEvent } from '@cornerstonejs/core';\nimport { getAnnotation } from './annotationState';\nimport { Events } from '../../enums';\nimport { Annotation } from '../../types';\nimport { AnnotationVisibilityChangeEventDetail } from '../../types/EventTypes';\nimport {\n  isAnnotationSelected,\n  deselectAnnotation,\n} from './annotationSelection';\n\n/*\n * It stores all hidden annotation uids.\n */\nconst globalHiddenAnnotationUIDsSet: Set<string> = new Set();\n\n/*\n * Interface (Public API)\n */\n\n/**\n * Set the \"visible\" state of a given annotation instance.\n *\n * @event ANNOTATION_VISIBILITY_CHANGE\n *\n * @param annotationUID - The annotation uid which will have\n * its visible state changed. An event will only be triggered if the visible state\n * of the given annotation instance changed.\n * @param visible - A boolean value indicating if the instance should\n * be visible (true) or not (false)\n */\nfunction setAnnotationVisibility(annotationUID: string, visible = true): void {\n  const detail = makeEventDetail();\n  if (annotationUID) {\n    if (visible) {\n      show(annotationUID, globalHiddenAnnotationUIDsSet, detail);\n    } else {\n      hide(annotationUID, globalHiddenAnnotationUIDsSet, detail);\n    }\n  }\n  publish(detail);\n}\n\n/**\n * Clears all the hidden annotations.\n *\n */\nfunction showAllAnnotations(): void {\n  const detail = makeEventDetail();\n  globalHiddenAnnotationUIDsSet.forEach((annotationUID) => {\n    show(annotationUID, globalHiddenAnnotationUIDsSet, detail);\n  });\n  publish(detail);\n}\n\n/**\n * Given an annotation UID, return true if it is visible, false if hidden and undefined if does not exist.\n * @param annotationUID - The annotation uid to tell if is visible or not.\n * @returns A boolean value or value if does not exist.\n */\nfunction isAnnotationVisible(annotationUID: string): boolean | undefined {\n  const annotation = getAnnotation(annotationUID);\n\n  if (annotation) {\n    return !globalHiddenAnnotationUIDsSet.has(annotationUID);\n  }\n}\n/**\n * It decorates given annotation with isVisible property.\n * It properly initializes the isVisible on annotation(the property will be create if does not exist yet)\n *\n * @param annotation - The annotation object to be checked.\n */\nfunction checkAndDefineIsVisibleProperty(annotation: Annotation): void {\n  if (annotation) {\n    const isVisible = annotation.isVisible ?? true;\n    if (shouldDefineIsVisibleProperty(annotation)) {\n      Object.defineProperty(annotation, 'isVisible', {\n        configurable: false,\n        enumerable: true,\n        set: setIsVisible,\n        get: getIsVisible,\n      });\n    }\n    setAnnotationVisibility(annotation.annotationUID, isVisible);\n  }\n}\n\n/*\n * Private Helpers\n */\nfunction makeEventDetail(): AnnotationVisibilityChangeEventDetail {\n  return Object.freeze({\n    lastVisible: [],\n    lastHidden: [],\n    hidden: [],\n  });\n}\n\nfunction show(\n  annotationUID: string,\n  annotationUIDsSet: Set<string>,\n  detail: AnnotationVisibilityChangeEventDetail\n): void {\n  if (annotationUIDsSet.delete(annotationUID)) {\n    detail.lastVisible.push(annotationUID);\n  }\n}\n\nfunction hide(\n  annotationUID: string,\n  annotationUIDsSet: Set<string>,\n  detail: AnnotationVisibilityChangeEventDetail\n): void {\n  if (!annotationUIDsSet.has(annotationUID)) {\n    annotationUIDsSet.add(annotationUID);\n    if (isAnnotationSelected(annotationUID)) {\n      deselectAnnotation(annotationUID);\n    }\n    detail.lastHidden.push(annotationUID);\n  }\n}\n\nfunction publish(detail: AnnotationVisibilityChangeEventDetail) {\n  if (detail.lastHidden.length > 0 || detail.lastVisible.length > 0) {\n    globalHiddenAnnotationUIDsSet.forEach(\n      (item) => void detail.hidden.push(item)\n    );\n    triggerEvent(eventTarget, Events.ANNOTATION_VISIBILITY_CHANGE, detail);\n  }\n}\n\nfunction shouldDefineIsVisibleProperty(annotation: Annotation): boolean {\n  const descriptor = Object.getOwnPropertyDescriptor(annotation, 'isVisible');\n  if (descriptor) {\n    return (\n      descriptor.configurable &&\n      (descriptor.set !== setIsVisible || descriptor.get !== getIsVisible)\n    );\n  }\n  return Object.isExtensible(annotation);\n}\n\nfunction setIsVisible(hidden: boolean) {\n  setAnnotationVisibility((this as Annotation).annotationUID, hidden);\n}\n\nfunction getIsVisible() {\n  return isAnnotationVisible((this as Annotation).annotationUID);\n}\n\nexport {\n  setAnnotationVisibility,\n  showAllAnnotations,\n  isAnnotationVisible,\n  checkAndDefineIsVisibleProperty,\n};\n","import cloneDeep from 'lodash.clonedeep';\nimport {\n  Annotation,\n  Annotations,\n  AnnotationState,\n  GroupSpecificAnnotations,\n} from '../../types/AnnotationTypes';\n\nimport { AnnotationGroupSelector, IAnnotationManager } from '../../types';\n\nimport {\n  Enums,\n  eventTarget,\n  getEnabledElement,\n  Types,\n  utilities,\n} from '@cornerstonejs/core';\n\nimport { checkAndDefineIsLockedProperty } from './annotationLocking';\nimport { checkAndDefineIsVisibleProperty } from './annotationVisibility';\n\n/**\n * This is the default annotation manager. It stores annotations by default\n * based on the FrameOfReferenceUID. However, it is possible to override the\n * getAnnotationStateKey function to store annotations based on any other\n * property of the element. When you write your custom annotation manager, you\n * can use the setAnnotationManager function to set your custom annotation.\n *\n * Note that this class is a singleton and should not be instantiated directly.\n * To get the stored annotations information you can use ToolState helpers.\n */\nclass FrameOfReferenceSpecificAnnotationManager implements IAnnotationManager {\n  private annotations: AnnotationState;\n  public readonly uid: string;\n\n  /**\n   * @param uid - The uid of the state manager. If omitted it is autogenerated.\n   */\n  constructor(uid?: string) {\n    if (!uid) {\n      uid = utilities.uuidv4();\n    }\n    this.annotations = {};\n    this.uid = uid;\n\n    // Listen to the IMAGE_VOLUME_MODIFIED event to invalidate data.\n    eventTarget.addEventListener(\n      Enums.Events.IMAGE_VOLUME_MODIFIED,\n      this._imageVolumeModifiedHandler\n    );\n  }\n\n  /**\n   * Default annotation manager works with FrameOfReferenceUID as the key. The\n   * manager adds them under the FrameOfReferenceUID for the element being\n   * annotated.\n   *\n   * @param annotationGroupSelector - element or a string that is provided\n   * to the annotation manager to get the key.\n   * @returns - The annotation state key for the element.\n   */\n  getGroupKey = (annotationGroupSelector: AnnotationGroupSelector): string => {\n    if (typeof annotationGroupSelector === 'string') {\n      return annotationGroupSelector;\n    }\n\n    const element = annotationGroupSelector;\n    const enabledElement = getEnabledElement(element);\n\n    if (!enabledElement) {\n      throw new Error(\n        'Element not enabled, you must have an enabled element if you are not providing a FrameOfReferenceUID'\n      );\n    }\n\n    return enabledElement.FrameOfReferenceUID;\n  };\n\n  /**\n   * When a volume is modified we invalidate all of the `annotations` on the\n   * volume's `FrameOfReferenceUID`. This is mainly to update statistics calculations\n   * when an annotation is drawn whilst data is still loading.\n   *\n   * @param evt - The IMAGE_VOLUME_MODIFIED rendering event.\n   */\n  _imageVolumeModifiedHandler = (\n    evt: Types.EventTypes.ImageVolumeModifiedEvent\n  ) => {\n    const eventDetail = evt.detail;\n    const { FrameOfReferenceUID } = eventDetail;\n\n    const annotations = this.annotations;\n    const frameOfReferenceSpecificAnnotations =\n      annotations[FrameOfReferenceUID];\n\n    if (!frameOfReferenceSpecificAnnotations) {\n      return;\n    }\n\n    Object.keys(frameOfReferenceSpecificAnnotations).forEach((toolName) => {\n      const toolSpecificAnnotations =\n        frameOfReferenceSpecificAnnotations[toolName];\n\n      toolSpecificAnnotations.forEach((annotation) => {\n        const invalidated = annotation.invalidated;\n\n        if (invalidated !== undefined) {\n          annotation.invalidated = true;\n        }\n      });\n    });\n  };\n\n  /**\n   * Returns all the available frameOfReferences inside the state manager\n   * @returns - All the added frames of references inside the manager\n   */\n  getFramesOfReference = (): Array<string> => {\n    return Object.keys(this.annotations);\n  };\n\n  /**\n   * Returns the annotations associated with the specified frameOfReference and tool, or\n   * all annotations for the group if the tool name is not provided.\n   *\n   * @param groupKey - The annotation group key to retrieve annotations for (in default manager it is FrameOfReferenceUID).\n   * @param toolName - Optional. The name of the tool to retrieve annotations for.\n   * @returns The annotations associated with the specified group (default FrameOfReferenceUID) and tool,\n   * or all annotations for the group (FrameOfReferenceUID) if the tool name is not provided.\n   */\n  getAnnotations = (\n    groupKey: string,\n    toolName?: string\n  ): GroupSpecificAnnotations | Annotations => {\n    const annotations = this.annotations;\n\n    if (!annotations[groupKey]) {\n      return [];\n    }\n\n    if (toolName) {\n      return annotations[groupKey][toolName];\n    }\n\n    return annotations[groupKey];\n  };\n\n  /**\n   * Given the unique identified for the some `annotation`, returns the `annotation`\n   * from the `annotations`. Each `annotation` has a unique identifier.\n   *\n   * @param annotationUID - The unique identifier of the `annotation`.\n   * @returns The retrieved `annotation`.\n   */\n  getAnnotation = (annotationUID: string): Annotation | undefined => {\n    const annotations = this.annotations;\n\n    for (const frameOfReferenceUID in annotations) {\n      const frameOfReferenceAnnotations = annotations[frameOfReferenceUID];\n\n      for (const toolName in frameOfReferenceAnnotations) {\n        const toolSpecificAnnotations = frameOfReferenceAnnotations[toolName];\n\n        for (const annotation of toolSpecificAnnotations) {\n          if (annotationUID === annotation.annotationUID) {\n            return annotation;\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * A function that returns the number of annotations for a given tool in the\n   * specific group (default FrameOfReferenceUID) IF no groupKey (FrameOfReferenceUID) is provided,\n   * it will return the number of annotations for the tool in all groups (FrameOfReferenceUIDs)\n   *\n   * @param groupKey - The annotation group key to retrieve annotations for (in default manager it is FrameOfReferenceUID).\n   * @param toolName - The name of the tool to retrieve data for.\n   *\n   * @returns The number of annotations for a given tool in the state\n   */\n  getNumberOfAnnotations = (groupKey: string, toolName?: string): number => {\n    const annotations = this.getAnnotations(groupKey, toolName);\n\n    if (!annotations.length) {\n      return 0;\n    }\n\n    if (toolName) {\n      return (annotations as Annotations).length;\n    }\n\n    let total = 0;\n\n    for (const toolName in annotations) {\n      total += annotations[toolName].length;\n    }\n\n    return total;\n  };\n\n  /**\n   * Adds an instance of `Annotation` to the `annotations`.\n   *\n   * @param annotation - The annotation to add.\n   * @param groupKey - The annotation group key to add the annotation to (in default manager it is FrameOfReferenceUID).\n   */\n  addAnnotation = (annotation: Annotation, groupKey?: string): void => {\n    const { metadata } = annotation;\n    const { FrameOfReferenceUID, toolName } = metadata;\n\n    groupKey = groupKey || FrameOfReferenceUID;\n\n    const annotations = this.annotations;\n\n    let frameOfReferenceSpecificAnnotations = annotations[groupKey];\n\n    if (!frameOfReferenceSpecificAnnotations) {\n      annotations[groupKey] = {};\n\n      frameOfReferenceSpecificAnnotations = annotations[groupKey];\n    }\n\n    let toolSpecificAnnotations = frameOfReferenceSpecificAnnotations[toolName];\n\n    if (!toolSpecificAnnotations) {\n      frameOfReferenceSpecificAnnotations[toolName] = [];\n\n      toolSpecificAnnotations = frameOfReferenceSpecificAnnotations[toolName];\n    }\n\n    toolSpecificAnnotations.push(annotation);\n    checkAndDefineIsLockedProperty(annotation);\n    checkAndDefineIsVisibleProperty(annotation);\n  };\n\n  /**\n   * Given the unique identified for the some `annotation`, removes the `annotation`\n   * from the `annotations`.\n   *\n   * @param annotationUID - The unique identifier of the `annotation` to remove.\n   */\n  removeAnnotation = (annotationUID: string): void => {\n    const { annotations } = this;\n\n    for (const groupKey in annotations) {\n      const groupAnnotations = annotations[groupKey];\n\n      for (const toolName in groupAnnotations) {\n        const toolAnnotations = groupAnnotations[toolName];\n\n        const index = toolAnnotations.findIndex(\n          (annotation) => annotation.annotationUID === annotationUID\n        );\n\n        if (index !== -1) {\n          toolAnnotations.splice(index, 1);\n\n          if (toolAnnotations.length === 0) {\n            delete groupAnnotations[toolName];\n          }\n        }\n      }\n\n      if (Object.keys(groupAnnotations).length === 0) {\n        delete annotations[groupKey];\n      }\n    }\n  };\n\n  /**\n   * Removes all annotations associated with the specified group (FrameOfReferenceUID) and tool, or\n   * all annotations for the group (FrameOfReferenceUID) if the tool name is not provided.\n   *\n   * @param groupKey - The group key to remove annotations for (in default manager it is FrameOfReferenceUID).\n   * @param toolName - Optional. The name of the tool to remove annotations for.\n   */\n  removeAnnotations = (groupKey: string, toolName?: string): void => {\n    const annotations = this.annotations;\n    if (annotations[groupKey]) {\n      if (toolName) {\n        delete annotations[groupKey][toolName];\n      } else {\n        delete annotations[groupKey];\n      }\n    }\n  };\n\n  /**\n   * Returns a section of the annotations. Useful for serialization.\n   * If both groupKey (default manager is FrameOfReferenceUID) and toolName are provided, returns the corresponding Annotations instance\n   * for that groupKey (FrameOfReferenceUID) and toolName.\n   * If only groupKey is provided, returns the corresponding FrameOfReferenceSpecificAnnotations instance\n   * for that groupKey.\n   * If neither groupKey nor toolName is provided, returns the entire AnnotationState object.\n   * @param groupKey - Optional. The group key (e.g. FrameOfReferenceUID) to retrieve annotations for.\n   * @param toolName - Optional. The name of the tool to retrieve annotations for.\n   * @returns A section of the annotations.\n   */\n  saveAnnotations = (\n    groupKey?: string,\n    toolName?: string\n  ): AnnotationState | GroupSpecificAnnotations | Annotations => {\n    const annotations = this.annotations;\n\n    if (groupKey && toolName) {\n      const frameOfReferenceSpecificAnnotations = annotations[groupKey];\n\n      if (!frameOfReferenceSpecificAnnotations) {\n        return;\n      }\n\n      const toolSpecificAnnotations =\n        frameOfReferenceSpecificAnnotations[toolName];\n\n      return cloneDeep(toolSpecificAnnotations);\n    } else if (groupKey) {\n      const frameOfReferenceSpecificAnnotations = annotations[groupKey];\n\n      return cloneDeep(frameOfReferenceSpecificAnnotations);\n    }\n\n    return cloneDeep(annotations);\n  };\n\n  /**\n   * Restores a section of the `annotations`. Useful for loading in serialized data.\n   *\n   * - If no arguments are given, the entire `AnnotationState` instance is restored.\n   * - If the `FrameOfReferenceUID` is given, the corresponding\n   * `FrameOfReferenceSpecificAnnotations` instance is restored.\n   * - If both the `FrameOfReferenceUID` and the `toolName` are are given, the\n   * corresponding `Annotations` instance is restored.\n   *\n   * @param groupKey - A filter string for restoring only the `annotations` of a specific frame of reference.\n   * @param toolName - A filter string for restoring `annotation` for a specific tool on a specific frame of reference.\n   */\n  restoreAnnotations = (\n    state: AnnotationState | GroupSpecificAnnotations | Annotations,\n    groupKey?: string,\n    toolName?: string\n  ): void => {\n    const annotations = this.annotations;\n\n    if (groupKey && toolName) {\n      // Set Annotations for FrameOfReferenceUID and toolName.\n\n      let frameOfReferenceSpecificAnnotations = annotations[groupKey];\n\n      if (!frameOfReferenceSpecificAnnotations) {\n        annotations[groupKey] = {};\n\n        frameOfReferenceSpecificAnnotations = annotations[groupKey];\n      }\n\n      frameOfReferenceSpecificAnnotations[toolName] = <Annotations>state;\n    } else if (groupKey) {\n      // Set FrameOfReferenceSpecificAnnotations for FrameOfReferenceUID.\n\n      annotations[groupKey] = <GroupSpecificAnnotations>state;\n    } else {\n      // Set entire annotations\n      this.annotations = <AnnotationState>cloneDeep(state);\n    }\n  };\n\n  /**\n   * A function that returns the number of all annotations in the annotation state\n   *\n   * @returns The number of all annotations in the state\n   */\n  getNumberOfAllAnnotations = (): number => {\n    let count = 0;\n    const annotations = this.annotations;\n    for (const groupKey in annotations) {\n      const frameOfReferenceSpecificAnnotations = annotations[groupKey];\n      for (const toolName in frameOfReferenceSpecificAnnotations) {\n        const toolSpecificAnnotations =\n          frameOfReferenceSpecificAnnotations[toolName];\n        count += toolSpecificAnnotations.length;\n      }\n    }\n    return count;\n  };\n\n  /**\n   * Removes all annotations in the annotation state.\n   */\n  removeAllAnnotations = (): void => {\n    this.annotations = {};\n  };\n}\n\nconst defaultFrameOfReferenceSpecificAnnotationManager =\n  new FrameOfReferenceSpecificAnnotationManager('DEFAULT');\n\nexport { defaultFrameOfReferenceSpecificAnnotationManager };\nexport default FrameOfReferenceSpecificAnnotationManager;\n","let svgNodeCache = {};\n\nexport function resetSvgNodeCache(): void {\n  svgNodeCache = {};\n}\n\nexport default svgNodeCache;\n","import _cloneDeep from 'lodash.clonedeep';\n\nimport { IToolGroup, IToolClassReference } from '../types';\nimport Synchronizer from './SynchronizerManager/Synchronizer';\nimport svgNodeCache, { resetSvgNodeCache } from './svgNodeCache';\n\ninterface ICornerstoneTools3dState {\n  isInteractingWithTool: boolean;\n  isMultiPartToolActive: boolean;\n  tools: Record<\n    string,\n    {\n      toolClass: IToolClassReference;\n    }\n  >;\n  toolGroups: Array<IToolGroup>;\n  synchronizers: Array<Synchronizer>;\n  svgNodeCache: Record<string, unknown>;\n  enabledElements: Array<unknown>;\n  handleRadius: number;\n}\n\nconst defaultState: ICornerstoneTools3dState = {\n  isInteractingWithTool: false,\n  isMultiPartToolActive: false,\n  tools: {},\n  toolGroups: [],\n  synchronizers: [],\n  svgNodeCache: svgNodeCache,\n  // Should this be named... canvases?\n  enabledElements: [], // switch to Uids?\n  handleRadius: 6,\n};\n\nlet state: ICornerstoneTools3dState = {\n  isInteractingWithTool: false,\n  isMultiPartToolActive: false,\n  tools: {},\n  toolGroups: [],\n  synchronizers: [],\n  svgNodeCache: svgNodeCache,\n  // Should this be named... canvases?\n  enabledElements: [], // switch to Uids?\n  handleRadius: 6,\n};\n\nfunction resetCornerstoneToolsState(): void {\n  resetSvgNodeCache();\n  state = _cloneDeep(defaultState);\n}\n\nexport {\n  ICornerstoneTools3dState,\n  resetCornerstoneToolsState,\n  state,\n  state as default,\n};\n","import { state } from './state';\n\n/**\n * Adds the tool class to the cornerstoneTools to be used later. This function\n * should be called before creating the toolGroups and adding tools and setting their mode.\n * The flow is:\n * - addTool(ToolClass) // where ToolClass is the tool constructor imported from CornerstoneTools or created by a 3rd party\n * - createToolGroup(toolGroupId)\n * - toolGroup.addTool(${toolName}) // NOT THE TOOL CLASS\n * - toolGroup.setToolActive(${toolName})\n *\n * @param ToolClass - A tool calls to instantiate.\n * @param toolOptions - The tool-specific configuration options for the tool.\n * @returns\n */\nexport function addTool(ToolClass): void {\n  // Check if tool exists and name is not undefined\n  const toolName = ToolClass.toolName;\n  const toolAlreadyAdded = state.tools[toolName] !== undefined;\n\n  if (!toolName) {\n    throw new Error(`No Tool Found for the ToolClass ${ToolClass.name}`);\n  }\n\n  if (toolAlreadyAdded) {\n    throw new Error(`${toolName} has already been added globally`);\n  }\n\n  // Stores the toolNames and ToolClass to be instantiated in the toolGroup on toolGroup.addTool\n  state.tools[toolName] = {\n    toolClass: ToolClass,\n  };\n}\n\n/**\n * Removes the tool class from the cornerstoneTools.\n *\n * @param ToolClass - A tool calls to instantiate.\n */\nexport function removeTool(ToolClass): void {\n  const toolName = ToolClass.toolName;\n\n  if (!toolName) {\n    throw new Error(`No tool found for: ${ToolClass.name}`);\n  }\n\n  if (!state.tools[toolName] !== undefined) {\n    delete state.tools[toolName];\n  } else {\n    throw new Error(\n      `${toolName} cannot be removed because it has not been added`\n    );\n  }\n}\n\nexport default addTool;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { IPoints } from '../../types';\n\n/**\n * Given a native mouse event, get the associated cornerstone3D enabled element\n * and derive a set of coordinates useful for tools.\n * @param evt - The Mouse event.\n * @param element - The DOM HTMLDivElement that the event was triggered on.\n * @returns The points related to the event in the form of a `IPoints` object containing\n * the following properties: `page`, `client`, `canvas`, and `world` details of the event.\n */\nexport default function getMouseEventPoints(\n  evt: MouseEvent,\n  element?: HTMLDivElement\n): IPoints {\n  const elementToUse = element || (evt.currentTarget as HTMLDivElement);\n  const { viewport } = getEnabledElement(elementToUse);\n  const clientPoint = _clientToPoint(evt);\n  const pagePoint = _pageToPoint(evt);\n  const canvasPoint = _pagePointsToCanvasPoints(elementToUse, pagePoint);\n  const worldPoint = viewport.canvasToWorld(canvasPoint);\n\n  return {\n    page: pagePoint,\n    client: clientPoint,\n    canvas: canvasPoint,\n    world: worldPoint,\n  };\n}\n\n/**\n * Converts point from page coordinates to canvas coordinates.\n * @param element - HTMLDivElement\n * @param pagePoint - Point in page coordinates pageX and pageY\n *\n * @returns The canvas coordinate points\n */\nfunction _pagePointsToCanvasPoints(\n  element: HTMLDivElement,\n  pagePoint: Types.Point2\n): Types.Point2 {\n  const rect = element.getBoundingClientRect();\n  return [\n    pagePoint[0] - rect.left - window.pageXOffset,\n    pagePoint[1] - rect.top - window.pageYOffset,\n  ];\n}\n\n/**\n * Converts the event's `pageX` and `pageY` properties to Types.Point2 format\n *\n * @param evt - The Mouse `Event`\n */\nfunction _pageToPoint(evt: MouseEvent): Types.Point2 {\n  return [evt.pageX, evt.pageY];\n}\n\n/**\n * Converts the event's `clientX` and `clientY` properties to Types.Point2 format\n * @param evt - The Mouse `Event`\n */\nfunction _clientToPoint(evt: MouseEvent): Types.Point2 {\n  return [evt.clientX, evt.clientY];\n}\n","import { getEnabledElement, triggerEvent } from '@cornerstonejs/core';\nimport Events from '../../enums/Events';\nimport getMouseEventPoints from './getMouseEventPoints';\nimport { EventTypes, IPoints } from '../../types';\n\n/**\n * Captures and normalizes the double click event. Emits as a cornerstoneTools3D\n * double click event.\n *\n * @param evt - The mouse event.\n */\nfunction mouseDoubleClickListener(evt: MouseEvent): void {\n  const element = <HTMLDivElement>evt.currentTarget;\n\n  const { viewportId, renderingEngineId } = getEnabledElement(element);\n\n  const startPoints = getMouseEventPoints(evt, element);\n  const deltaPoints: IPoints = {\n    page: [0, 0],\n    client: [0, 0],\n    canvas: [0, 0],\n    world: [0, 0, 0],\n  };\n\n  const eventDetail: EventTypes.MouseDoubleClickEventDetail = {\n    event: evt,\n    eventName: Events.MOUSE_DOUBLE_CLICK,\n    viewportId,\n    renderingEngineId,\n    camera: {},\n    element,\n    startPoints,\n    lastPoints: startPoints,\n    currentPoints: startPoints,\n    deltaPoints,\n  };\n\n  const consumed = !triggerEvent(\n    element,\n    Events.MOUSE_DOUBLE_CLICK,\n    eventDetail\n  );\n\n  if (consumed) {\n    // The Events.MOUSE_DOUBLE_CLICK was consumed, thus no other listener should handle this 'dblclick' event.\n\n    // Use stopImmediatePropagation to lessen the possibility that a third party 'dblclick'\n    // listener receives this event. However, there still is no guarantee\n    // that any third party listener has not already handled the event.\n    evt.stopImmediatePropagation();\n    evt.preventDefault();\n  }\n}\n\nexport default mouseDoubleClickListener;\n","import { getEnabledElement, triggerEvent } from '@cornerstonejs/core';\nimport Events from '../../enums/Events';\nimport getMouseEventPoints from './getMouseEventPoints';\nimport { MouseMoveEventDetail } from '../../types/EventTypes';\n\nconst eventName = Events.MOUSE_MOVE;\n\n/**\n * Captures and normalizes the mouse move event. Emits as a cornerstoneTools3D\n * mouse move event.\n *\n * @param evt - The mouse event.\n */\nfunction mouseMoveListener(evt: MouseEvent) {\n  const element = <HTMLDivElement>evt.currentTarget;\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngineId, viewportId } = enabledElement;\n\n  const currentPoints = getMouseEventPoints(evt);\n  const eventDetail: MouseMoveEventDetail = {\n    renderingEngineId,\n    viewportId,\n    camera: {},\n    element,\n    currentPoints,\n    eventName,\n    event: evt,\n  };\n\n  triggerEvent(element, eventName, eventDetail);\n}\n\nexport default mouseMoveListener;\n","import { getEnabledElement, triggerEvent } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport Events from '../../enums/Events';\nimport mouseMoveListener from './mouseMoveListener';\nimport { EventTypes, IPoints } from '../../types';\nimport getMouseEventPoints from './getMouseEventPoints';\n\nconst { MOUSE_DOWN, MOUSE_DOWN_ACTIVATE, MOUSE_CLICK, MOUSE_UP, MOUSE_DRAG } =\n  Events;\n\n// The amount of time in milliseconds within which a browser 'dblclick' event has to occur.\n// Any mouse down, up, down and up sequence taking longer than this time is considered to\n// NOT be a double click and any browser 'dblclick' event that subsequently occurs as a result\n// of such a sequence will be ignored. It is best to set this to a value that is less\n// than the system value for detecting a double click. Setting something too large\n// might detect a double click that does not constitute a browser 'dblclick' and thus\n// no mouse events for the sequence will get fired at all.\n//\n// TODO This module should detect and fire 'dblclick' events at its discretion and\n// ignore all those generated by the browser.\n//\nconst DOUBLE_CLICK_TOLERANCE_MS = 400;\n\n// This tolerance is how long to accept a secondary button down\nconst MULTI_BUTTON_TOLERANCE_MS = 150;\n\n// A drag (projected distance) during the double click timeout that is greater than this\n// value will cancel the timeout and suppress any double click that might occur.\n// This tolerance is particularly important on touch devices where some movement\n// might occur between the two clicks.\n//\n// TODO revisit this value for touch devices\n//\nconst DOUBLE_CLICK_DRAG_TOLERANCE = 3;\n\ninterface IMouseDownListenerState {\n  mouseButton: number;\n  element: HTMLDivElement;\n  renderingEngineId: string;\n  viewportId: string;\n  isClickEvent: boolean;\n  clickDelay: number;\n  preventClickTimeout: ReturnType<typeof setTimeout>;\n  startPoints: IPoints;\n  lastPoints: IPoints;\n}\n\ninterface IDoubleClickState {\n  doubleClickTimeout: ReturnType<typeof setTimeout>;\n  mouseDownEvent: MouseEvent;\n  mouseUpEvent: MouseEvent;\n  ignoreDoubleClick: boolean;\n}\n\n// STATE\nconst defaultState: IMouseDownListenerState = {\n  mouseButton: undefined,\n  //\n  element: null,\n  renderingEngineId: undefined,\n  viewportId: undefined,\n  //\n  isClickEvent: true,\n  clickDelay: 200,\n  preventClickTimeout: null,\n  startPoints: {\n    page: [0, 0],\n    client: [0, 0],\n    canvas: [0, 0],\n    world: [0, 0, 0],\n  },\n  lastPoints: {\n    page: [0, 0],\n    client: [0, 0],\n    canvas: [0, 0],\n    world: [0, 0, 0],\n  },\n};\n\nlet state: IMouseDownListenerState = {\n  mouseButton: undefined,\n  //\n  renderingEngineId: undefined,\n  viewportId: undefined,\n  //\n  isClickEvent: true,\n  clickDelay: 200,\n  element: null,\n  preventClickTimeout: null,\n  startPoints: {\n    page: [0, 0],\n    client: [0, 0],\n    canvas: [0, 0],\n    world: [0, 0, 0],\n  },\n  lastPoints: {\n    page: [0, 0],\n    client: [0, 0],\n    canvas: [0, 0],\n    world: [0, 0, 0],\n  },\n};\n\nconst doubleClickState: IDoubleClickState = {\n  doubleClickTimeout: null,\n  mouseDownEvent: null,\n  mouseUpEvent: null,\n  ignoreDoubleClick: false,\n};\n\n/**\n * Listens to mouse down events from the DOM and depending on interaction and further\n * interaction can emit the following mouse events:\n *\n * - MOUSE_DOWN\n * - MOUSE_DOWN_ACTIVATE\n * - MOUSE_DRAG (move while down)\n * - MOUSE_UP\n * - MOUSE_CLICK\n *\n * The mouse down is NOT handled immediately. Instead, a timeout is started to\n * determine if this mouse down is the first in a sequence that constitutes a\n * double click.\n *\n * @param evt - The Mouse event.\n * @private\n */\nfunction mouseDownListener(evt: MouseEvent) {\n  if (doubleClickState.doubleClickTimeout) {\n    // A second identical click will be a double click event, so ignore it\n    if (evt.buttons === doubleClickState.mouseDownEvent.buttons) {\n      return;\n    }\n\n    // Record the second button or the changed button event as the initial\n    // button down state so that the multi-button event can be detected\n    doubleClickState.mouseDownEvent = evt;\n\n    // If second button is added, then ensure double click timeout is terminated\n    // and do not handle three or more button gestures.\n    _doStateMouseDownAndUp();\n    return;\n  }\n\n  // Handle multi-button clicks by adding a delay before handling them.\n  // Double clicks (left button only) physically take the user longer, so\n  // use a longer timeout, and for multi-button at the same time, the clicks\n  // are done at the same time by the user, just the system perceives them\n  // separately, so have a short timeout to allow catching both buttons.\n  doubleClickState.doubleClickTimeout = setTimeout(\n    _doStateMouseDownAndUp,\n    evt.buttons === 1 ? DOUBLE_CLICK_TOLERANCE_MS : MULTI_BUTTON_TOLERANCE_MS\n  );\n\n  // First mouse down of a potential double click. So save it and start\n  // a timeout to determine a double click.\n  doubleClickState.mouseDownEvent = evt;\n  doubleClickState.ignoreDoubleClick = false;\n\n  state.element = <HTMLDivElement>evt.currentTarget;\n\n  state.mouseButton = evt.buttons;\n\n  const enabledElement = getEnabledElement(state.element);\n  const { renderingEngineId, viewportId } = enabledElement;\n\n  state.renderingEngineId = renderingEngineId;\n  state.viewportId = viewportId;\n\n  state.preventClickTimeout = setTimeout(\n    _preventClickHandler,\n    state.clickDelay\n  );\n\n  // Prevent CornerstoneToolsMouseMove while mouse is down\n  state.element.removeEventListener('mousemove', mouseMoveListener);\n\n  const startPoints = getMouseEventPoints(evt, state.element);\n  state.startPoints = _copyPoints(startPoints);\n  state.lastPoints = _copyPoints(startPoints);\n\n  document.addEventListener('mouseup', _onMouseUp);\n  document.addEventListener('mousemove', _onMouseDrag);\n}\n\n/**\n * Does the actual mouse down logic if the double click timer has expired or\n * a mouse drag has started.\n * @param evt the mouse down event\n * @private\n */\nfunction _doMouseDown(evt: MouseEvent) {\n  const deltaPoints = _getDeltaPoints(state.startPoints, state.startPoints);\n\n  const eventDetail: EventTypes.MouseDownEventDetail = {\n    event: evt,\n    eventName: MOUSE_DOWN,\n    element: state.element,\n    mouseButton: state.mouseButton,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    startPoints: state.startPoints,\n    lastPoints: state.startPoints,\n    currentPoints: state.startPoints,\n    deltaPoints,\n  };\n\n  state.lastPoints = _copyPoints(eventDetail.lastPoints);\n\n  // by triggering MOUSE_DOWN it checks if this is toolSelection, handle modification etc.\n  // of already existing tools\n  const notConsumed = triggerEvent(\n    eventDetail.element,\n    MOUSE_DOWN,\n    eventDetail\n  );\n\n  // if no tools responded to this event and prevented its default behavior,\n  // create a new tool\n  if (notConsumed) {\n    triggerEvent(eventDetail.element, MOUSE_DOWN_ACTIVATE, eventDetail);\n  }\n}\n\n/**\n *_onMouseDrag - Handle emission of drag events whilst the mouse is depressed.\n *\n * @private\n * @param evt - The mouse event.\n */\nfunction _onMouseDrag(evt: MouseEvent) {\n  const currentPoints = getMouseEventPoints(evt, state.element);\n  const lastPoints = _updateMouseEventsLastPoints(\n    state.element,\n    state.lastPoints\n  );\n\n  const deltaPoints = _getDeltaPoints(currentPoints, lastPoints);\n\n  if (doubleClickState.doubleClickTimeout) {\n    if (_isDragPastDoubleClickTolerance(deltaPoints.canvas)) {\n      // Dragging past the tolerance means no double click should occur.\n      _doStateMouseDownAndUp();\n    } else {\n      return;\n    }\n  }\n\n  const eventDetail: EventTypes.MouseDragEventDetail = {\n    event: evt,\n    eventName: MOUSE_DRAG,\n    mouseButton: state.mouseButton,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    element: state.element,\n    startPoints: _copyPoints(state.startPoints),\n    lastPoints: _copyPoints(lastPoints),\n    currentPoints,\n    deltaPoints,\n  };\n\n  triggerEvent(state.element, MOUSE_DRAG, eventDetail);\n\n  // Update the last points\n  state.lastPoints = _copyPoints(currentPoints);\n}\n\n/**\n *_onMouseUp - Handle emission of mouse up events, and re-enabling mouse move events.\n *\n * If the mouse up event occurs during a double click timeout, it is either the first or\n * second mouse up of a potential double click sequence. If the first, then it\n * is saved in case the double click timeout expires and a simple mouse down and\n * up have to get executed. If the second, then the latest mouse down, up, down and\n * up constitute a double click and the mouseDoubleClickListener needs to execute.\n *\n * If the mouse up event comes after the double click timeout, then it is simply\n * handled as the up of a mouse down and up sequence.\n *\n * @private\n * @param evt - The mouse event.\n */\nfunction _onMouseUp(evt: MouseEvent): void {\n  // Cancel the timeout preventing the click event from triggering\n  clearTimeout(state.preventClickTimeout);\n\n  if (doubleClickState.doubleClickTimeout) {\n    // received a mouse up while waiting for a double click (via a timeout)\n\n    if (!doubleClickState.mouseUpEvent) {\n      // this is the first mouse up during the double click timeout; we'll need it later if the timeout expires\n      doubleClickState.mouseUpEvent = evt;\n\n      state.element.addEventListener('mousemove', _onMouseMove);\n    } else {\n      // this is the second mouse up of a double click!\n      _cleanUp();\n    }\n  } else {\n    // Handle the actual mouse up. Note that it may have occurred during the double click timeout or\n    // after it expired. In either case this block is being executed after the time out has expired\n    // or after a drag started.\n\n    const eventName = state.isClickEvent ? MOUSE_CLICK : MOUSE_UP;\n\n    const currentPoints = getMouseEventPoints(evt, state.element);\n    const deltaPoints = _getDeltaPoints(currentPoints, state.lastPoints);\n    const eventDetail:\n      | EventTypes.MouseUpEventDetail\n      | EventTypes.MouseClickEventType = {\n      event: evt,\n      eventName,\n      mouseButton: state.mouseButton,\n      element: state.element,\n      renderingEngineId: state.renderingEngineId,\n      viewportId: state.viewportId,\n      camera: {},\n      startPoints: _copyPoints(state.startPoints),\n      lastPoints: _copyPoints(state.lastPoints),\n      currentPoints,\n      deltaPoints,\n    };\n\n    triggerEvent(eventDetail.element, eventName, eventDetail);\n\n    _cleanUp();\n  }\n\n  // Remove the drag as soon as we get the mouse up because either we have executed\n  // the mouse up logic, or we have not even handled the mouse down logic yet\n  // - either way no drag should/can occur.\n  document.removeEventListener('mousemove', _onMouseDrag);\n}\n\n/**\n * Handles a mouse move on the state element after a mouse down AND up AND\n * while the double click timeout is still running.\n * @private\n * @param evt - The mouse event.\n */\nfunction _onMouseMove(evt: MouseEvent) {\n  const currentPoints = getMouseEventPoints(evt, state.element);\n  const lastPoints = _updateMouseEventsLastPoints(\n    state.element,\n    state.lastPoints\n  );\n\n  const deltaPoints = _getDeltaPoints(currentPoints, lastPoints);\n\n  if (!_isDragPastDoubleClickTolerance(deltaPoints.canvas)) {\n    return;\n  }\n\n  _doStateMouseDownAndUp();\n\n  // Do the move again because during the timeout the global mouse move listener was removed.\n  // Now it is back.\n  mouseMoveListener(evt);\n}\n\n/**\n * Determines if the given delta is past the double click, (projected) drag distance\n * tolerance.\n * @param delta the delta\n * @returns true iff the delta is past the tolerance\n */\nfunction _isDragPastDoubleClickTolerance(delta: Types.Point2): boolean {\n  return Math.abs(delta[0]) + Math.abs(delta[1]) > DOUBLE_CLICK_DRAG_TOLERANCE;\n}\n\nfunction _preventClickHandler() {\n  state.isClickEvent = false;\n}\n\n/**\n * Do a mouse down and potential mouse up using each of the events in the double click state.\n * The events were stored in the state during the timeout to determine a double click.\n *\n * This function should be invoked whenever it is determined that the latest\n * sequence of mouse down(s) and up(s) is NOT a double click. Examples of this include\n * - the expiration of the double click timeout\n * - a mouse drag/move beyond the DOUBLE_CLICK_DRAG_TOLERANCE\n *\n * This function sets the doubleClickState.ignoreDoubleClick flag in case our timeout value\n * or mouse move/drag tolerance is inaccurate and we do indeed get a double click event from\n * the browser later. The flag will be cleared in the mouseDoubleClickIgnoreListener should a\n * double click event get fired. If there is no eventual double click for the latest sequence,\n * the flag spills into the next sequence where it will get cleared at the beginning of that next\n * sequence in mouseDownListener. It is perfectly safe for the flag to be\n * left true when no double click actually occurs because any future double click must start with\n * a mouse down that is handled in this module.\n *\n * @private\n */\nfunction _doStateMouseDownAndUp() {\n  doubleClickState.ignoreDoubleClick = true;\n\n  const mouseDownEvent = doubleClickState.mouseDownEvent;\n  const mouseUpEvent = doubleClickState.mouseUpEvent;\n\n  _clearDoubleClickTimeoutAndEvents();\n\n  _doMouseDown(mouseDownEvent);\n\n  if (mouseUpEvent) {\n    _onMouseUp(mouseUpEvent);\n  }\n}\n\n/**\n * Clears the mouse events and double click timeout id in the double click state object.\n * The timeout itself is also cleared so that no callback is invoked.\n */\nfunction _clearDoubleClickTimeoutAndEvents() {\n  if (doubleClickState.doubleClickTimeout) {\n    clearTimeout(doubleClickState.doubleClickTimeout);\n    doubleClickState.doubleClickTimeout = null;\n  }\n\n  doubleClickState.mouseDownEvent = null;\n  doubleClickState.mouseUpEvent = null;\n}\n\nfunction _cleanUp() {\n  document.removeEventListener('mouseup', _onMouseUp);\n  state.element?.removeEventListener('mousemove', _onMouseMove);\n\n  // Restore our global mousemove listener\n  state.element?.addEventListener('mousemove', mouseMoveListener);\n\n  _clearDoubleClickTimeoutAndEvents();\n\n  state = JSON.parse(JSON.stringify(defaultState));\n}\n\n/**\n * Copies a set of points.\n * @param points - The `IPoints` instance to copy.\n *\n * @returns A copy of the points.\n */\nfunction _copyPoints(points: IPoints): IPoints {\n  return JSON.parse(JSON.stringify(points));\n}\n\n/**\n * Recalculates the last world coordinate, as the linear transform from client\n * to world could be different if the camera was updated.\n * @param element - The HTML element\n * @param lastPoints - The last points\n */\nfunction _updateMouseEventsLastPoints(\n  element: HTMLDivElement,\n  lastPoints: IPoints\n): IPoints {\n  const { viewport } = getEnabledElement(element);\n  // Need to update the world point to be calculated from the current reference frame,\n  // Which might have changed since the last interaction.\n  const world = viewport.canvasToWorld(lastPoints.canvas);\n\n  return {\n    page: lastPoints.page,\n    client: lastPoints.client,\n    canvas: lastPoints.canvas,\n    world,\n  };\n}\n\n/**\n * Returns the difference between two `IPoints` instances.\n * @param currentPoints - The current points.\n * @param lastPoints -- The last points, to be subtracted from the `currentPoints`.\n *\n * @returns The difference in IPoints format\n */\nfunction _getDeltaPoints(currentPoints: IPoints, lastPoints: IPoints): IPoints {\n  return {\n    page: _subtractPoints2D(currentPoints.page, lastPoints.page),\n    client: _subtractPoints2D(currentPoints.client, lastPoints.client),\n    canvas: _subtractPoints2D(currentPoints.canvas, lastPoints.canvas),\n    world: _subtractPoints3D(currentPoints.world, lastPoints.world),\n  };\n}\n\n/**\n * _subtractPoints - Subtracts `point1` from `point0`.\n * @param point0 - The first point.\n * @param point1 - The second point to subtract from the first.\n *\n * @returns The difference.\n */\nfunction _subtractPoints2D(\n  point0: Types.Point2,\n  point1: Types.Point2\n): Types.Point2 {\n  return [point0[0] - point1[0], point0[1] - point1[1]];\n}\n\nfunction _subtractPoints3D(\n  point0: Types.Point3,\n  point1: Types.Point3\n): Types.Point3 {\n  return [point0[0] - point1[0], point0[1] - point1[1], point0[2] - point1[2]];\n}\n\nexport function getMouseButton(): number {\n  return state.mouseButton;\n}\n\n/**\n * Handles a dblclick event to determine if it should be ignored based on the\n * double click state's ignoreDoubleClick flag. stopImmediatePropagation and\n * preventDefault are used to ignore the event.\n * @param evt browser dblclick event\n */\nexport function mouseDoubleClickIgnoreListener(evt: MouseEvent) {\n  if (doubleClickState.ignoreDoubleClick) {\n    doubleClickState.ignoreDoubleClick = false;\n\n    // Use stopImmediatePropagation to lessen the possibility that a third party 'dblclick'\n    // listener receives this event. However, there still is no guarantee\n    // that any third party listener has not already handled the event.\n    evt.stopImmediatePropagation();\n    evt.preventDefault();\n  } else {\n    // If the embedding application blocked the first mouse down and up\n    // of a double click sequence from reaching this module, then this module\n    // has handled the second mouse down and up and thus needs to clean them up.\n    // Doing a clean up here for the typical double click case is harmless.\n    _cleanUp();\n  }\n}\n\nexport default mouseDownListener;\n","import mouseDoubleClickListener from './mouseDoubleClickListener';\nimport mouseDownListener, {\n  mouseDoubleClickIgnoreListener,\n} from './mouseDownListener';\nimport mouseMoveListener from './mouseMoveListener';\n\n/**\n * Removes mouse event listeners for native mouse event. Enables\n * vtk.js tools flavored events that build on top of existing events to\n * provide more helpful information.\n *\n * @private\n * @param element - The DOM element to remove event listeners from.\n */\nfunction disable(element: HTMLDivElement): void {\n  element.removeEventListener('dblclick', mouseDoubleClickListener);\n  element.removeEventListener('mousedown', mouseDownListener);\n  element.removeEventListener('mousemove', mouseMoveListener);\n  // The mouseDoubleClickIgnoreListener prevents those browser 'dblclick'\n  // events that cornerstone has determined are single clicks from propagating\n  // to other (3rd party) listeners. A capture phase listener is used so that\n  // the 'dblclick' event can be ignored and not propagated ASAP.\n  element.removeEventListener('dblclick', mouseDoubleClickIgnoreListener, {\n    capture: true,\n  });\n}\n\n/**\n * Registers mouse event listeners for native mouse event. Enables\n * vtk.js tools flavored events that build on top of existing events to\n * provide more helpful information.\n *\n * @private\n * @param element - The DOM element to register event listeners on.\n */\nfunction enable(element: HTMLDivElement): void {\n  // Prevent handlers from being attached multiple times\n  disable(element);\n\n  element.addEventListener('dblclick', mouseDoubleClickListener);\n  element.addEventListener('mousedown', mouseDownListener);\n  element.addEventListener('mousemove', mouseMoveListener);\n  // The mouseDoubleClickIgnoreListener prevents those browser 'dblclick'\n  // events that cornerstone has determined are single clicks from propagating\n  // to other (3rd party) listeners. A capture phase listener is used so that\n  // the 'dblclick' event can be ignored and not propagated ASAP.\n  element.addEventListener('dblclick', mouseDoubleClickIgnoreListener, {\n    capture: true,\n  });\n}\n\nexport default {\n  enable,\n  disable,\n};\n","// Functions to prevent ghost clicks following a touch\n// Since the event lifecycle is touchstart, mousedown, touchend, mouseup\n// we want to prevent mousedown and mouseup events after touch events\n// All credit to @kosich\n// https://gist.github.com/kosich/23188dd86633b6c2efb7\n\nconst antiGhostDelay = 2000,\n  pointerType = {\n    mouse: 0,\n    touch: 1,\n  };\n\nlet lastInteractionType, lastInteractionTime;\n\nfunction handleTap(type, e) {\n  const now = Date.now();\n\n  if (type !== lastInteractionType) {\n    if (now - lastInteractionTime <= antiGhostDelay) {\n      e.preventDefault();\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n\n      return false;\n    }\n\n    lastInteractionType = type;\n  }\n\n  lastInteractionTime = now;\n}\n\n// Cacheing the function references\n// Necessary because a new function reference is created after .bind() is called\n// http://stackoverflow.com/questions/11565471/removing-event-listener-which-was-added-with-bind\nconst handleTapMouse = handleTap.bind(null, pointerType.mouse);\nconst handleTapTouch = handleTap.bind(null, pointerType.touch);\n\nfunction attachEvents(element, eventList, interactionType) {\n  const tapHandler = interactionType ? handleTapMouse : handleTapTouch;\n\n  eventList.forEach(function (eventName) {\n    element.addEventListener(eventName, tapHandler, { passive: false });\n  });\n}\n\nfunction removeEvents(element, eventList, interactionType) {\n  const tapHandler = interactionType ? handleTapMouse : handleTapTouch;\n\n  eventList.forEach(function (eventName) {\n    element.removeEventListener(eventName, tapHandler);\n  });\n}\n\nconst mouseEvents = ['mousedown', 'mouseup', 'mousemove'];\nconst touchEvents = ['touchstart', 'touchend'];\n\nfunction disable(element) {\n  removeEvents(element, mouseEvents, pointerType.mouse);\n  removeEvents(element, touchEvents, pointerType.touch);\n}\n\nfunction enable(element) {\n  disable(element);\n  attachEvents(element, mouseEvents, pointerType.mouse);\n  attachEvents(element, touchEvents, pointerType.touch);\n}\n\nexport default {\n  enable,\n  disable,\n};\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { ITouchPoints } from '../../types';\n\n/**\n * Given a native touch event, get the associated cornerstone3D enabled element\n * and derive a set of coordinates useful for tools.\n * @param evt - The Touch event.\n * @param element - The DOM HTMLDivElement that the event was triggered on.\n * @returns The points related to the event in the form of a `IPoints` object containing\n * the following properties: `page`, `client`, `canvas`, and `world` details of the event.\n */\nexport default function getTouchEventPoints(\n  evt: TouchEvent,\n  element?: HTMLDivElement\n): ITouchPoints[] {\n  const elementToUse = element || (evt.currentTarget as HTMLDivElement);\n  const touches = evt.type === 'touchend' ? evt.changedTouches : evt.touches;\n  return Object.keys(touches).map((i) => {\n    const clientPoint = _clientToPoint(touches[i]);\n    const pagePoint = _pageToPoint(touches[i]);\n    const canvasPoint = _pagePointsToCanvasPoints(elementToUse, pagePoint);\n    const { viewport } = getEnabledElement(elementToUse);\n    const worldPoint = viewport.canvasToWorld(canvasPoint);\n    return {\n      page: pagePoint,\n      client: clientPoint,\n      canvas: canvasPoint,\n      world: worldPoint,\n      touch: {\n        identifier: i,\n        radiusX: touches[i].radiusX,\n        radiusY: touches[i].radiusY,\n        force: touches[i].force,\n        rotationAngle: touches[i].rotationAngle,\n      },\n    };\n  });\n}\n\n/**\n * Converts point from page coordinates to canvas coordinates.\n * @param element - HTMLDivElement\n * @param pagePoint - Point in page coordinates pageX and pageY\n *\n * @returns The canvas coordinate points\n */\nfunction _pagePointsToCanvasPoints(\n  element: HTMLDivElement,\n  pagePoint: Types.Point2\n): Types.Point2 {\n  const rect = element.getBoundingClientRect();\n  return [\n    pagePoint[0] - rect.left - window.pageXOffset,\n    pagePoint[1] - rect.top - window.pageYOffset,\n  ];\n}\n\n/**\n * Converts the event's `pageX` and `pageY` properties to Types.Point2 format\n *\n * @param touch - The Touch\n */\nfunction _pageToPoint(touch: Touch): Types.Point2 {\n  return [touch.pageX, touch.pageY];\n}\n\n/**\n * Converts the event's `clientX` and `clientY` properties to Types.Point2 format\n * @param evt - The Touch `Event`\n */\nfunction _clientToPoint(touch: Touch): Types.Point2 {\n  return [touch.clientX, touch.clientY];\n}\n","import { IDistance, IPoints, ITouchPoints } from '../../types';\nimport { Types } from '@cornerstonejs/core';\n\n/**\n * Returns the difference between multiple `IPoints` instances.\n * @param currentPoints - The current points.\n * @param lastPoints - The last points, to be subtracted from the `currentPoints`.\n *\n * @returns The difference in IPoints format\n */\nfunction getDeltaPoints(\n  currentPoints: IPoints[],\n  lastPoints: IPoints[]\n): IPoints {\n  const curr = getMeanPoints(currentPoints);\n  const last = getMeanPoints(lastPoints);\n  return {\n    page: _subtractPoints2D(curr.page, last.page),\n    client: _subtractPoints2D(curr.client, last.client),\n    canvas: _subtractPoints2D(curr.canvas, last.canvas),\n    world: _subtractPoints3D(curr.world, last.world),\n  };\n}\n\n/**\n * Returns the distance between multiple `IPoints` instances.\n * @param currentPoints - The current points.\n * @param lastPoints - The last points, to be subtracted from the `currentPoints`.\n *\n * @returns The distance difference in IDistance format\n */\nfunction getDeltaDistance(\n  currentPoints: IPoints[],\n  lastPoints: IPoints[]\n): IDistance {\n  const curr = getMeanPoints(currentPoints);\n  const last = getMeanPoints(lastPoints);\n  return {\n    page: _getDistance2D(curr.page, last.page),\n    client: _getDistance2D(curr.client, last.client),\n    canvas: _getDistance2D(curr.canvas, last.canvas),\n    world: _getDistance3D(curr.world, last.world),\n  };\n}\n\nfunction getDeltaRotation(\n  currentPoints: ITouchPoints[],\n  lastPoints: ITouchPoints[]\n) {\n  // TODO\n}\n\n/**\n * Returns the distance difference between multiple `IPoints` instances.\n * @param currentPoints - The current points.\n * @param lastPoints -- The last points.\n *\n * @returns The difference in IPoints format\n */\nfunction getDeltaDistanceBetweenIPoints(\n  currentPoints: IPoints[],\n  lastPoints: IPoints[]\n): IDistance {\n  const currentDistance = _getMeanDistanceBetweenAllIPoints(currentPoints);\n  const lastDistance = _getMeanDistanceBetweenAllIPoints(lastPoints);\n  const deltaDistance = {\n    page: currentDistance.page - lastDistance.page,\n    client: currentDistance.client - lastDistance.client,\n    canvas: currentDistance.canvas - lastDistance.canvas,\n    world: currentDistance.world - lastDistance.world,\n  };\n  return deltaDistance;\n}\n\n/**\n * Copies a set of points.\n * @param points - The `IPoints` instance to copy.\n *\n * @returns A copy of the points.\n */\nfunction copyPointsList(points: ITouchPoints[]): ITouchPoints[] {\n  return JSON.parse(JSON.stringify(points));\n}\n\nfunction copyPoints(points: ITouchPoints): ITouchPoints {\n  return JSON.parse(JSON.stringify(points));\n}\n\nfunction getMeanPoints(points: IPoints[]): IPoints {\n  return points.reduce(\n    (prev, curr) => {\n      return {\n        page: [\n          prev.page[0] + curr.page[0] / points.length,\n          prev.page[1] + curr.page[1] / points.length,\n        ],\n        client: [\n          prev.client[0] + curr.client[0] / points.length,\n          prev.client[1] + curr.client[1] / points.length,\n        ],\n        canvas: [\n          prev.canvas[0] + curr.canvas[0] / points.length,\n          prev.canvas[1] + curr.canvas[1] / points.length,\n        ],\n        world: [\n          prev.world[0] + curr.world[0] / points.length,\n          prev.world[1] + curr.world[1] / points.length,\n          prev.world[2] + curr.world[2] / points.length,\n        ],\n      };\n    },\n    {\n      page: [0, 0],\n      client: [0, 0],\n      canvas: [0, 0],\n      world: [0, 0, 0],\n    }\n  );\n}\n\nfunction getMeanTouchPoints(points: ITouchPoints[]): ITouchPoints {\n  return points.reduce(\n    (prev, curr) => {\n      return {\n        page: [\n          prev.page[0] + curr.page[0] / points.length,\n          prev.page[1] + curr.page[1] / points.length,\n        ],\n        client: [\n          prev.client[0] + curr.client[0] / points.length,\n          prev.client[1] + curr.client[1] / points.length,\n        ],\n        canvas: [\n          prev.canvas[0] + curr.canvas[0] / points.length,\n          prev.canvas[1] + curr.canvas[1] / points.length,\n        ],\n        world: [\n          prev.world[0] + curr.world[0] / points.length,\n          prev.world[1] + curr.world[1] / points.length,\n          prev.world[2] + curr.world[2] / points.length,\n        ],\n        touch: {\n          identifier: null,\n          radiusX: prev.touch.radiusX + curr.touch.radiusX / points.length,\n          radiusY: prev.touch.radiusY + curr.touch.radiusY / points.length,\n          force: prev.touch.force + curr.touch.force / points.length,\n          rotationAngle:\n            prev.touch.rotationAngle + curr.touch.rotationAngle / points.length,\n        },\n      };\n    },\n    {\n      page: [0, 0],\n      client: [0, 0],\n      canvas: [0, 0],\n      world: [0, 0, 0],\n      touch: {\n        identifier: null,\n        radiusX: 0,\n        radiusY: 0,\n        force: 0,\n        rotationAngle: 0,\n      },\n    }\n  );\n}\n/**\n * _subtractPoints - Subtracts `point1` from `point0`.\n * @param point0 - The first point.\n * @param point1 - The second point to subtract from the first.\n *\n * @returns The difference.\n */\nfunction _subtractPoints2D(\n  point0: Types.Point2,\n  point1: Types.Point2\n): Types.Point2 {\n  return [point0[0] - point1[0], point0[1] - point1[1]];\n}\n\nfunction _subtractPoints3D(\n  point0: Types.Point3,\n  point1: Types.Point3\n): Types.Point3 {\n  return [point0[0] - point1[0], point0[1] - point1[1], point0[2] - point1[2]];\n}\n\nfunction _getMeanDistanceBetweenAllIPoints(points: IPoints[]): IDistance {\n  // get mean distance between all unordered pairs of points\n  const pairedDistance: IDistance[] = [];\n  for (let i = 0; i < points.length; i++) {\n    for (let j = 0; j < points.length; j++) {\n      if (i < j) {\n        pairedDistance.push({\n          page: _getDistance2D(points[i].page, points[j].page),\n          client: _getDistance2D(points[i].client, points[j].client),\n          canvas: _getDistance2D(points[i].canvas, points[j].canvas),\n          world: _getDistance3D(points[i].world, points[j].world),\n        });\n      }\n    }\n  }\n\n  // take the average distance\n  return pairedDistance.reduce(\n    (prev, curr) => {\n      return {\n        page: prev.page + curr.page / pairedDistance.length,\n        client: prev.client + curr.client / pairedDistance.length,\n        canvas: prev.canvas + curr.canvas / pairedDistance.length,\n        world: prev.world + curr.world / pairedDistance.length,\n      };\n    },\n    {\n      page: 0,\n      client: 0,\n      canvas: 0,\n      world: 0,\n    }\n  );\n}\n\nfunction _getDistance2D(point0: Types.Point2, point1: Types.Point2): number {\n  return Math.sqrt(\n    Math.pow(point0[0] - point1[0], 2) + Math.pow(point0[1] - point1[1], 2)\n  );\n}\n\nfunction _getDistance3D(point0: Types.Point3, point1: Types.Point3): number {\n  return Math.sqrt(\n    Math.pow(point0[0] - point1[0], 2) +\n      Math.pow(point0[1] - point1[1], 2) +\n      Math.pow(point0[2] - point1[2], 2)\n  );\n}\n\nexport {\n  getMeanPoints,\n  getMeanTouchPoints,\n  copyPoints,\n  copyPointsList,\n  getDeltaDistanceBetweenIPoints,\n  getDeltaPoints,\n  getDeltaDistance,\n  getDeltaRotation,\n};\n","import { getEnabledElement, triggerEvent } from '@cornerstonejs/core';\nimport Events from '../../enums/Events';\nimport { Swipe } from '../../enums/Touch';\n\nimport { EventTypes, ITouchPoints, IPoints, IDistance } from '../../types';\n\nimport getTouchEventPoints from './getTouchEventPoints';\nimport {\n  copyPoints,\n  copyPointsList,\n  getDeltaDistanceBetweenIPoints,\n  getDeltaDistance,\n  getDeltaPoints,\n  getMeanTouchPoints,\n  // getRotation\n} from '../../utilities/touch';\nimport { Settings } from '@cornerstonejs/core';\n\nconst runtimeSettings = Settings.getRuntimeSettings();\n\nconst {\n  TOUCH_START,\n  TOUCH_START_ACTIVATE,\n  TOUCH_PRESS,\n  TOUCH_DRAG,\n  TOUCH_END,\n  TOUCH_TAP,\n  TOUCH_SWIPE,\n} = Events;\n\ninterface ITouchTapListnenerState {\n  element: HTMLDivElement;\n  renderingEngineId: string;\n  viewportId: string;\n  startPointsList: ITouchPoints[];\n  tapMaxDistance: number;\n  tapTimeout: ReturnType<typeof setTimeout>;\n  taps: number;\n  tapToleranceMs: number;\n}\n\ninterface ITouchStartListenerState {\n  element: HTMLDivElement;\n  renderingEngineId: string;\n  viewportId: string;\n  startPointsList: ITouchPoints[];\n  lastPointsList: ITouchPoints[];\n\n  // only trigger one touch event in the case the user puts down multiple fingers\n  isTouchStart: boolean;\n  startTime: Date;\n\n  // handle long press\n  pressTimeout: ReturnType<typeof setTimeout>;\n  pressDelay: number;\n  pressMaxDistance: number;\n  accumulatedDistance: IDistance;\n\n  // handle swipes\n  swipeDistanceThreshold: number;\n  swiped: boolean;\n  swipeToleranceMs: number;\n}\n\nconst zeroIPoint: IPoints = {\n  page: [0, 0],\n  client: [0, 0],\n  canvas: [0, 0],\n  world: [0, 0, 0],\n};\n\nconst zeroIDistance: IDistance = {\n  page: 0,\n  client: 0,\n  canvas: 0,\n  world: 0,\n};\n\n// STATE\nconst defaultState: ITouchStartListenerState = {\n  renderingEngineId: undefined,\n  viewportId: undefined,\n  element: null,\n  startPointsList: [\n    {\n      ...zeroIPoint,\n      touch: null,\n    },\n  ],\n  lastPointsList: [\n    {\n      ...zeroIPoint,\n      touch: null,\n    },\n  ],\n  isTouchStart: false,\n  startTime: null,\n\n  pressTimeout: null,\n  pressDelay: 700,\n  pressMaxDistance: 5,\n  accumulatedDistance: zeroIDistance,\n\n  swipeDistanceThreshold: 48,\n  swiped: false,\n  swipeToleranceMs: 300, // user has 300ms to swipe after touch start or no swipe will trigger\n};\n\n// TODO: these values should be configurable to handle different use cases such\n// as pen, left/right handed, index finger vs thumb, etc. These current values\n// assume thumb usage for single finger and index/middle finger for two finger\n// gestures in an attempt to cover the 90% use case.\nconst defaultTapState: ITouchTapListnenerState = {\n  renderingEngineId: undefined,\n  viewportId: undefined,\n  element: null,\n  startPointsList: [\n    {\n      ...zeroIPoint,\n      touch: null,\n    },\n  ],\n  taps: 0,\n  tapTimeout: null,\n  tapMaxDistance: 24,\n  tapToleranceMs: 300,\n};\n\nlet state: ITouchStartListenerState = JSON.parse(JSON.stringify(defaultState));\nlet tapState: ITouchTapListnenerState = JSON.parse(\n  JSON.stringify(defaultTapState)\n);\n\nfunction triggerEventCallback(ele, name, eventDetail) {\n  if (runtimeSettings.get('debug')) {\n    if (name === 'CORNERSTONE_TOOLS_TOUCH_DRAG') {\n      console.debug(name);\n    } else {\n      console.debug(name, eventDetail);\n    }\n  }\n  return triggerEvent(ele, name, eventDetail);\n}\n\n/**\n * Listens to touch events from the DOM (touchstart, touchmove, touchend)\n * and depending on interaction and further interaction can emit the\n * following touch events:\n *\n * - TOUCH_START\n * - TOUCH_START_ACTIVATE\n * - TOUCH_PRESS\n * - TOUCH_DRAG (move while down)\n * - TOUCH_SWIPE\n * - TOUCH_END (also an end for multi touch)\n *\n * - TOUCH_TAP\n *\n * @param evt - The Touch event (touchstart).\n * @private\n */\nfunction touchStartListener(evt: TouchEvent) {\n  // if a user adds an extra finger when a touch/multi touch has already started\n  // don't trigger another touch.\n  state.element = <HTMLDivElement>evt.currentTarget;\n  const enabledElement = getEnabledElement(state.element);\n  const { renderingEngineId, viewportId } = enabledElement;\n  state.renderingEngineId = renderingEngineId;\n  state.viewportId = viewportId;\n  // this prevents multiple start firing\n  if (state.isTouchStart) {\n    return;\n  }\n  // this will clear on touchstart and touchend\n  clearTimeout(state.pressTimeout);\n  state.pressTimeout = setTimeout(() => _onTouchPress(evt), state.pressDelay);\n\n  _onTouchStart(evt);\n  document.addEventListener('touchmove', _onTouchDrag); // also checks for swipe\n  document.addEventListener('touchend', _onTouchEnd); // also checks for tap\n}\n\n/**\n * _onTouchPress - Handle emission of touchstart events which are held down for a longer\n * period of time\n *\n * @private\n * @param evt - The touch event (touchstart)\n */\nfunction _onTouchPress(evt: TouchEvent) {\n  const totalDistance = state.accumulatedDistance.canvas;\n  if (totalDistance > state.pressMaxDistance) {\n    return;\n  }\n  const eventDetail: EventTypes.TouchPressEventDetail = {\n    event: evt, // touchstart native event\n    eventName: TOUCH_PRESS,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    element: state.element,\n    startPointsList: copyPointsList(state.startPointsList),\n    lastPointsList: copyPointsList(state.lastPointsList),\n    startPoints: copyPoints(getMeanTouchPoints(state.startPointsList)),\n    lastPoints: copyPoints(getMeanTouchPoints(state.lastPointsList)),\n  };\n  triggerEventCallback(eventDetail.element, TOUCH_PRESS, eventDetail);\n}\n\n/**\n * _onTouchStart - Handle emission of touchstart events.\n *\n * @private\n * @param evt - The touch event (touchstart)\n */\nfunction _onTouchStart(evt: TouchEvent) {\n  state.isTouchStart = true;\n  state.startTime = new Date();\n  const startPointsList = getTouchEventPoints(evt, state.element);\n  const startPoints = getMeanTouchPoints(startPointsList);\n  const deltaPoints = zeroIPoint;\n  const deltaDistance = zeroIDistance;\n  // deltaRotation same as deltaDistance but values are theta\n  const eventDetail: EventTypes.TouchStartEventDetail = {\n    event: evt,\n    eventName: TOUCH_START,\n    element: state.element,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    startPointsList: startPointsList,\n    lastPointsList: startPointsList,\n    currentPointsList: startPointsList,\n    startPoints: startPoints,\n    lastPoints: startPoints,\n    currentPoints: startPoints,\n    deltaPoints,\n    deltaDistance,\n    // deltaRotation\n  };\n\n  state.startPointsList = copyPointsList(eventDetail.startPointsList);\n  state.lastPointsList = copyPointsList(eventDetail.lastPointsList);\n  // by triggering TOUCH_START it checks if this is toolSelection, handle modification etc.\n  // of already existing tools\n  const eventDidPropagate = triggerEventCallback(\n    eventDetail.element,\n    TOUCH_START,\n    eventDetail\n  );\n\n  // if no tools responded to this event and prevented its default propagation behavior,\n  // create a new tool\n  if (eventDidPropagate) {\n    triggerEventCallback(\n      eventDetail.element,\n      TOUCH_START_ACTIVATE,\n      eventDetail\n    );\n  }\n}\n\n/**\n * _onTouchDrag - Handle emission of drag events whilst the touch is depressed.\n *\n * @private\n * @param evt - The touch event (touchmove)\n */\nfunction _onTouchDrag(evt: TouchEvent) {\n  const currentPointsList = getTouchEventPoints(evt, state.element);\n  const lastPointsList = _updateTouchEventsLastPoints(\n    state.element,\n    state.lastPointsList\n  );\n\n  const deltaPoints =\n    currentPointsList.length === lastPointsList.length\n      ? getDeltaPoints(currentPointsList, lastPointsList)\n      : zeroIPoint;\n\n  const deltaDistance =\n    currentPointsList.length === lastPointsList.length\n      ? getDeltaDistanceBetweenIPoints(currentPointsList, lastPointsList)\n      : zeroIDistance;\n\n  const totalDistance =\n    currentPointsList.length === lastPointsList.length\n      ? getDeltaDistance(currentPointsList, state.lastPointsList)\n      : zeroIDistance;\n\n  state.accumulatedDistance = {\n    page: state.accumulatedDistance.page + totalDistance.page,\n    client: state.accumulatedDistance.client + totalDistance.client,\n    canvas: state.accumulatedDistance.canvas + totalDistance.canvas,\n    world: state.accumulatedDistance.world + totalDistance.world,\n  };\n\n  /**\n   * this is can be uncommented to make dragging smoother. In the future, these values\n   * should be in a configuration file. There may also need to be different\n   * profiles for left handed and right handed thumb use. These values\n   * are currently optimized for left handed use.\n   *\n   * const clamp = (num) => Math.min(Math.max(num, -15), 10);\n   * const deltaDistanceClamped = \\{\n   *     page: clamp(deltaDistance.page),\n   *     client: clamp(deltaDistance.client),\n   *     canvas: clamp(deltaDistance.canvas),\n   *     world: clamp(deltaDistance.world),\n   * \\};\n   */\n\n  const eventDetail: EventTypes.TouchDragEventDetail = {\n    event: evt,\n    eventName: TOUCH_DRAG,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    element: state.element,\n    startPoints: getMeanTouchPoints(state.startPointsList),\n    lastPoints: getMeanTouchPoints(lastPointsList),\n    currentPoints: getMeanTouchPoints(currentPointsList),\n    startPointsList: copyPointsList(state.startPointsList),\n    lastPointsList: copyPointsList(lastPointsList),\n    currentPointsList,\n    deltaPoints: deltaPoints,\n    deltaDistance: deltaDistance,\n  };\n\n  triggerEventCallback(state.element, TOUCH_DRAG, eventDetail);\n\n  // check for swipe events\n  _checkTouchSwipe(evt, deltaPoints);\n\n  // Update the last points\n  state.lastPointsList = copyPointsList(currentPointsList);\n}\n\n/**\n * _onTouchEnd - Handle emission of touch end events\n *\n * @private\n * @param evt - The touch event.\n */\nfunction _onTouchEnd(evt: TouchEvent): void {\n  // in case it was a tap event we don't want to fire the cornerstone normalized\n  // touch end event if the touch start never happend\n  clearTimeout(state.pressTimeout);\n  const currentPointsList = getTouchEventPoints(evt, state.element);\n  const lastPointsList = _updateTouchEventsLastPoints(\n    state.element,\n    state.lastPointsList\n  );\n  const deltaPoints =\n    currentPointsList.length === lastPointsList.length\n      ? getDeltaPoints(currentPointsList, lastPointsList)\n      : getDeltaPoints(currentPointsList, currentPointsList);\n  const deltaDistance =\n    currentPointsList.length === lastPointsList.length\n      ? getDeltaDistanceBetweenIPoints(currentPointsList, lastPointsList)\n      : getDeltaDistanceBetweenIPoints(currentPointsList, currentPointsList);\n  const eventDetail: EventTypes.TouchEndEventDetail = {\n    event: evt,\n    eventName: TOUCH_END,\n    element: state.element,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    startPointsList: copyPointsList(state.startPointsList),\n    lastPointsList: copyPointsList(lastPointsList),\n    currentPointsList,\n    startPoints: getMeanTouchPoints(state.startPointsList),\n    lastPoints: getMeanTouchPoints(lastPointsList),\n    currentPoints: getMeanTouchPoints(currentPointsList),\n    deltaPoints,\n    deltaDistance,\n  };\n\n  triggerEventCallback(eventDetail.element, TOUCH_END, eventDetail);\n  _checkTouchTap(evt);\n\n  // reset to default state\n  state = JSON.parse(JSON.stringify(defaultState));\n  document.removeEventListener('touchmove', _onTouchDrag);\n  document.removeEventListener('touchend', _onTouchEnd);\n}\n\nfunction _checkTouchTap(evt: TouchEvent): void {\n  const currentTime = new Date().getTime();\n  const startTime = state.startTime.getTime();\n  if (currentTime - startTime > tapState.tapToleranceMs) {\n    return;\n  }\n\n  // first tap, initialize the state\n  if (tapState.taps === 0) {\n    tapState.element = state.element;\n    tapState.renderingEngineId = state.renderingEngineId;\n    tapState.viewportId = state.viewportId;\n    tapState.startPointsList = state.startPointsList;\n  }\n\n  // subsequent tap is on a different element\n  if (\n    tapState.taps > 0 &&\n    !(\n      tapState.element == state.element &&\n      tapState.renderingEngineId == state.renderingEngineId &&\n      tapState.viewportId == state.viewportId\n    )\n  ) {\n    return;\n  }\n\n  const currentPointsList = getTouchEventPoints(evt, tapState.element);\n  const distanceFromStart = getDeltaDistance(\n    currentPointsList,\n    tapState.startPointsList\n  ).canvas;\n\n  // if the tap is too far from starting tap, we can ignore it.\n  // TODO: in the case the user means to tap in two separate areas within the\n  // tapTolerance (300ms), the second tap will not trigger. This is because it\n  // is ignored below for simplicity to track multiple taps (double, triple etc)\n  // in order to support two separate single taps that occur < 300ms on the\n  // screen. One can create the concept of \"TapChains\". Our current implementation\n  // only supports a single tap chain on the screen. You can think of it as a\n  // region where the user has the option to perform unlimited multitaps as long\n  // as they are < the tapToleranceMs value. So a tap somewhere else on the screen\n  // that is > the tapMaxDistance will start a separate and new \"TapChain\".\n  if (distanceFromStart > tapState.tapMaxDistance) {\n    return;\n  }\n\n  clearTimeout(tapState.tapTimeout);\n  tapState.taps += 1;\n\n  tapState.tapTimeout = setTimeout(() => {\n    const eventDetail: EventTypes.TouchTapEventDetail = {\n      event: evt,\n      eventName: TOUCH_TAP,\n      element: tapState.element,\n      renderingEngineId: tapState.renderingEngineId,\n      viewportId: tapState.viewportId,\n      camera: {},\n      currentPointsList,\n      currentPoints: getMeanTouchPoints(currentPointsList),\n      taps: tapState.taps,\n    };\n    triggerEventCallback(eventDetail.element, TOUCH_TAP, eventDetail);\n    tapState = JSON.parse(JSON.stringify(defaultTapState));\n  }, tapState.tapToleranceMs);\n}\n\nfunction _checkTouchSwipe(evt: TouchEvent, deltaPoints: IPoints) {\n  const currentTime = new Date().getTime();\n  const startTime = state.startTime.getTime();\n  if (state.swiped || currentTime - startTime > state.swipeToleranceMs) {\n    return;\n  }\n  const [x, y] = deltaPoints.canvas;\n  const eventDetail: EventTypes.TouchSwipeEventDetail = {\n    event: evt,\n    eventName: TOUCH_SWIPE,\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    camera: {},\n    element: state.element,\n    swipe: null,\n  };\n  if (Math.abs(x) > state.swipeDistanceThreshold) {\n    eventDetail.swipe = x > 0 ? Swipe.RIGHT : Swipe.LEFT;\n    triggerEventCallback(eventDetail.element, TOUCH_SWIPE, eventDetail);\n    state.swiped = true;\n  }\n\n  if (Math.abs(y) > state.swipeDistanceThreshold) {\n    eventDetail.swipe = y > 0 ? Swipe.DOWN : Swipe.UP;\n    triggerEventCallback(eventDetail.element, TOUCH_SWIPE, eventDetail);\n    state.swiped = true;\n  }\n}\n\n/**\n * Recalculates the last world coordinate, as the linear transform from client\n * to world could be different if the camera was updated.\n * @param element - The HTML element\n * @param lastPoints - The last points\n */\nfunction _updateTouchEventsLastPoints(\n  element: HTMLDivElement,\n  lastPoints: ITouchPoints[]\n): ITouchPoints[] {\n  const { viewport } = getEnabledElement(element);\n  // Need to update the world point to be calculated from the current reference frame,\n  // Which might have changed since the last interaction.\n  return lastPoints.map((lp) => {\n    const world = viewport.canvasToWorld(lp.canvas);\n    return {\n      page: lp.page,\n      client: lp.client,\n      canvas: lp.canvas,\n      world,\n      touch: lp.touch,\n    };\n  });\n}\n\nexport default touchStartListener;\n","import preventGhostClick from './preventGhostClick';\nimport touchStartListener from './touchStartListener';\n\n/**\n * Removes touch event listeners for native touch event. Enables\n * vtk.js tools flavored events that build on top of existing events to\n * provide more helpful information.\n *\n * @private\n * @param element - The DOM element to remove event listeners from.\n */\nfunction disable(element: HTMLDivElement): void {\n  preventGhostClick.disable(element);\n  element.removeEventListener('touchstart', touchStartListener);\n}\n\n/**\n * Registers touch event listeners for native touch event. Enables\n * vtk.js tools flavored events that build on top of existing events to\n * provide more helpful information.\n *\n * @private\n * @param element - The DOM element to register event listeners on.\n */\nfunction enable(element: HTMLDivElement): void {\n  // Prevent handlers from being attached multiple times\n  disable(element);\n  preventGhostClick.enable(element);\n  element.addEventListener('touchstart', touchStartListener, {\n    passive: false,\n  });\n}\n\nexport default {\n  enable,\n  disable,\n};\n","// Reasonable defaults\nconst PIXEL_STEP = 10;\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\n\n/**\n * Normalizes wheel events and provides properties that are more\n * consistent and helpful across different browsers\n *\n * @param event - the original mouse event\n * @returns a normalized eventDetail\n */\nexport default function normalizeWheel(event) {\n  let spinX = 0,\n    spinY = 0,\n    pixelX = 0,\n    pixelY = 0;\n\n  // Legacy\n  if ('detail' in event) {\n    spinY = event.detail;\n  }\n  if ('wheelDelta' in event) {\n    spinY = -event.wheelDelta / 120;\n  }\n  if ('wheelDeltaY' in event) {\n    spinY = -event.wheelDeltaY / 120;\n  }\n  if ('wheelDeltaX' in event) {\n    spinX = -event.wheelDeltaX / 120;\n  }\n\n  pixelX = spinX * PIXEL_STEP;\n  pixelY = spinY * PIXEL_STEP;\n\n  if ('deltaY' in event) {\n    pixelY = event.deltaY;\n  }\n  if ('deltaX' in event) {\n    pixelX = event.deltaX;\n  }\n\n  if ((pixelX || pixelY) && event.deltaMode) {\n    if (event.deltaMode === 1) {\n      // Delta in LINE units\n      pixelX *= LINE_HEIGHT;\n      pixelY *= LINE_HEIGHT;\n    } else {\n      // Delta in PAGE units\n      pixelX *= PAGE_HEIGHT;\n      pixelY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pixelX && !spinX) {\n    spinX = pixelX < 1 ? -1 : 1;\n  }\n  if (pixelY && !spinY) {\n    spinY = pixelY < 1 ? -1 : 1;\n  }\n\n  return {\n    spinX,\n    spinY,\n    pixelX,\n    pixelY,\n  };\n}\n","import { getEnabledElement, triggerEvent } from '@cornerstonejs/core';\nimport normalizeWheel from './normalizeWheel';\nimport Events from '../../enums/Events';\n// ~~ VIEWPORT LIBRARY\nimport getMouseEventPoints from '../mouse/getMouseEventPoints';\nimport { MouseWheelEventDetail } from '../../types/EventTypes';\n\n/**\n * wheelListener - Captures and normalizes mouse wheel events. Emits as a\n * cornerstoneTools3D mouse wheel event.\n * @param evt - The mouse wheel event.\n */\nfunction wheelListener(evt: WheelEvent) {\n  const element = <HTMLDivElement>evt.currentTarget;\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngineId, viewportId } = enabledElement;\n\n  // Prevent triggering MouseWheel events that are not real scroll events:\n  // E.g. when clicking the MiddleMouseWheelButton, a deltaY of 0 is emitted.\n  // See https://github.com/cornerstonejs/cornerstoneTools/issues/935\n  if (evt.deltaY > -1 && evt.deltaY < 1) {\n    return;\n  }\n\n  evt.preventDefault();\n\n  const { spinX, spinY, pixelX, pixelY } = normalizeWheel(evt);\n  const direction = spinY < 0 ? -1 : 1;\n\n  const eventDetail: MouseWheelEventDetail = {\n    event: evt,\n    eventName: Events.MOUSE_WHEEL,\n    renderingEngineId,\n    viewportId,\n    element,\n    camera: {},\n    detail: evt,\n    wheel: {\n      spinX,\n      spinY,\n      pixelX,\n      pixelY,\n      direction,\n    },\n    points: getMouseEventPoints(evt),\n  };\n\n  triggerEvent(element, Events.MOUSE_WHEEL, eventDetail);\n}\n\nexport default wheelListener;\n","import wheelListener from './wheelListener';\n\n/**\n * Listens for the wheel event, and handles it. Handled event\n * will be \"normalized\" and re-emitted as `Events.MOUSE_WHEEL`\n *\n * @param element - The HTML element\n */\nfunction enable(element: HTMLDivElement) {\n  disable(element);\n  element.addEventListener('wheel', wheelListener, { passive: false });\n}\n\n/**\n * Removes listener and handler for wheel event. `Events.MOUSE_WHEEL`\n * will no longer be emitted.\n *\n * @param element - THe HTML element\n */\nfunction disable(element: HTMLDivElement) {\n  element.removeEventListener('wheel', wheelListener);\n}\n\nexport default {\n  enable,\n  disable,\n};\n","import _cloneDeep from 'lodash.clonedeep';\nimport { getEnabledElement, triggerEvent } from '@cornerstonejs/core';\nimport Events from '../../enums/Events';\nimport { KeyDownEventDetail, KeyUpEventDetail } from '../../types/EventTypes';\n\ninterface IKeyDownListenerState {\n  renderingEngineId: string;\n  viewportId: string;\n  key: string | null;\n  keyCode: number | null;\n  element: HTMLDivElement;\n}\n\nconst defaultState: IKeyDownListenerState = {\n  //\n  renderingEngineId: undefined,\n  viewportId: undefined,\n  //\n  key: undefined,\n  keyCode: undefined,\n  element: null,\n};\n\nlet state: IKeyDownListenerState = {\n  //\n  renderingEngineId: undefined,\n  viewportId: undefined,\n  //\n  key: undefined,\n  keyCode: undefined,\n  element: null,\n};\n\n/**\n * Normalizes the keyboard event and triggers KEY_DOWN event from CornerstoneTools3D events\n * @param evt - DOM Keyboard event\n */\nfunction keyListener(evt: KeyboardEvent): void {\n  state.element = <HTMLDivElement>evt.currentTarget;\n\n  const enabledElement = getEnabledElement(state.element);\n  const { renderingEngineId, viewportId } = enabledElement;\n\n  state.renderingEngineId = renderingEngineId;\n  state.viewportId = viewportId;\n  state.key = evt.key;\n  state.keyCode = evt.keyCode;\n\n  evt.preventDefault();\n  const eventDetail: KeyDownEventDetail = {\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    element: state.element,\n    key: state.key,\n    keyCode: state.keyCode,\n\n    // detail: evt,\n    // Todo: mouse event points can be used later for placing tools with a key\n    // e.g., putting an arrow/probe/etc. on the mouse position. Another use case\n    // hovering and deleting the tool\n    // points: getMouseEventPoints(evt),\n  };\n\n  triggerEvent(eventDetail.element, Events.KEY_DOWN, eventDetail);\n\n  document.addEventListener('keyup', _onKeyUp);\n  document.addEventListener('visibilitychange', _onVisibilityChange);\n\n  // Todo: handle combination of keys\n  state.element.removeEventListener('keydown', keyListener);\n}\n\n/**\n * Whenever the visibility (i.e. tab focus) changes such that the tab is NOT the\n * active tab, reset the modifier key.\n */\nfunction _onVisibilityChange(): void {\n  document.removeEventListener('visibilitychange', _onVisibilityChange);\n  if (document.visibilityState === 'hidden') {\n    resetModifierKey();\n  }\n}\n\nfunction _onKeyUp(evt: KeyboardEvent): void {\n  const eventDetail: KeyUpEventDetail = {\n    renderingEngineId: state.renderingEngineId,\n    viewportId: state.viewportId,\n    element: state.element,\n    key: state.key,\n    keyCode: state.keyCode,\n    // detail: evt,\n  };\n\n  // Remove our temporary handlers\n  document.removeEventListener('keyup', _onKeyUp);\n  document.removeEventListener('visibilitychange', _onVisibilityChange);\n  state.element.addEventListener('keydown', keyListener);\n\n  // Restore `state` to `defaultState`\n  state = _cloneDeep(defaultState);\n  triggerEvent(eventDetail.element, Events.KEY_UP, eventDetail);\n}\n\nexport function getModifierKey(): number | undefined {\n  return state.keyCode;\n}\n\nexport function resetModifierKey(): void {\n  state.keyCode = undefined;\n}\n\nexport default keyListener;\n","import keyDownListener, { getModifierKey } from './keyDownListener';\n\nfunction enable(element: HTMLDivElement): void {\n  disable(element);\n  element.addEventListener('keydown', keyDownListener);\n}\n\nfunction disable(element: HTMLDivElement): void {\n  element.removeEventListener('keydown', keyDownListener);\n}\n\nexport default {\n  enable,\n  disable,\n  getModifierKey,\n};\n","/**\n * Cornerstone Color LUT used for Segmentations\n */\nconst CORNERSTONE_COLOR_LUT = [\n  [0, 0, 0, 0],\n  [221, 84, 84, 255],\n  [77, 228, 121, 255],\n  [166, 70, 235, 255],\n  [189, 180, 116, 255],\n  [109, 182, 196, 255],\n  [204, 101, 157, 255],\n  [123, 211, 94, 255],\n  [93, 87, 218, 255],\n  [225, 128, 80, 255],\n  [73, 232, 172, 255],\n  [181, 119, 186, 255],\n  [176, 193, 112, 255],\n  [105, 153, 200, 255],\n  [208, 97, 120, 255],\n  [90, 215, 101, 255],\n  [135, 83, 222, 255],\n  [229, 178, 76, 255],\n  [122, 183, 181, 255],\n  [190, 115, 171, 255],\n  [149, 197, 108, 255],\n  [100, 118, 205, 255],\n  [212, 108, 93, 255],\n  [86, 219, 141, 255],\n  [183, 79, 226, 255],\n  [233, 233, 72, 255],\n  [118, 167, 187, 255],\n  [194, 111, 146, 255],\n  [116, 201, 104, 255],\n  [115, 96, 209, 255],\n  [216, 147, 89, 255],\n  [82, 223, 188, 255],\n  [230, 75, 224, 255],\n  [163, 184, 121, 255],\n  [114, 143, 191, 255],\n  [198, 107, 114, 255],\n  [99, 206, 122, 255],\n  [153, 92, 213, 255],\n  [220, 192, 85, 255],\n  [78, 215, 227, 255],\n  [234, 71, 173, 255],\n  [141, 188, 117, 255],\n  [110, 113, 195, 255],\n  [202, 128, 103, 255],\n  [95, 210, 157, 255],\n  [195, 88, 217, 255],\n  [206, 224, 81, 255],\n  [74, 166, 231, 255],\n  [185, 120, 139, 255],\n  [113, 192, 113, 255],\n  [133, 106, 199, 255],\n  [207, 162, 98, 255],\n  [91, 214, 198, 255],\n  [221, 84, 198, 255],\n  [159, 228, 77, 255],\n  [70, 111, 235, 255],\n  [189, 119, 116, 255],\n  [109, 196, 138, 255],\n  [165, 101, 204, 255],\n  [211, 201, 94, 255],\n  [87, 191, 218, 255],\n  [225, 80, 153, 255],\n  [106, 232, 73, 255],\n  [124, 119, 186, 255],\n  [193, 142, 112, 255],\n  [105, 200, 168, 255],\n  [203, 97, 208, 255],\n  [184, 215, 90, 255],\n  [83, 147, 222, 255],\n  [229, 76, 101, 255],\n  [122, 183, 130, 255],\n  [146, 115, 190, 255],\n  [197, 171, 108, 255],\n  [100, 205, 205, 255],\n  [212, 93, 177, 255],\n  [141, 219, 86, 255],\n  [79, 97, 226, 255],\n  [233, 99, 72, 255],\n  [118, 187, 150, 255],\n  [173, 111, 194, 255],\n  [197, 201, 104, 255],\n  [96, 171, 209, 255],\n  [216, 89, 137, 255],\n  [94, 223, 82, 255],\n  [107, 75, 230, 255],\n  [184, 153, 121, 255],\n  [114, 191, 175, 255],\n  [198, 107, 191, 255],\n  [166, 206, 99, 255],\n  [92, 132, 213, 255],\n  [220, 85, 91, 255],\n  [78, 227, 115, 255],\n  [159, 71, 234, 255],\n  [188, 176, 117, 255],\n  [110, 185, 195, 255],\n  [202, 103, 161, 255],\n  [129, 210, 95, 255],\n  [88, 88, 217, 255],\n  [224, 123, 81, 255],\n  [74, 231, 166, 255],\n  [177, 120, 185, 255],\n  [179, 192, 113, 255],\n  [106, 156, 199, 255],\n  [207, 98, 125, 255],\n  [91, 214, 96, 255],\n  [130, 84, 221, 255],\n  [228, 171, 77, 255],\n  [70, 235, 221, 255],\n  [189, 116, 174, 255],\n  [153, 196, 109, 255],\n  [101, 123, 204, 255],\n  [211, 104, 94, 255],\n  [87, 218, 136, 255],\n  [177, 80, 225, 255],\n  [232, 225, 73, 255],\n  [119, 169, 186, 255],\n  [193, 112, 149, 255],\n  [121, 200, 105, 255],\n  [111, 97, 208, 255],\n  [215, 142, 90, 255],\n  [83, 222, 181, 255],\n  [229, 76, 229, 255],\n  [165, 183, 122, 255],\n  [115, 146, 190, 255],\n  [197, 108, 119, 255],\n  [100, 205, 118, 255],\n  [148, 93, 212, 255],\n  [219, 186, 86, 255],\n  [79, 220, 226, 255],\n  [233, 72, 179, 255],\n  [144, 187, 118, 255],\n  [111, 118, 194, 255],\n  [201, 124, 104, 255],\n  [96, 209, 153, 255],\n  [189, 89, 216, 255],\n  [211, 223, 82, 255],\n  [75, 172, 230, 255],\n  [184, 121, 142, 255],\n  [117, 191, 114, 255],\n  [130, 107, 198, 255],\n  [206, 157, 99, 255],\n  [92, 213, 193, 255],\n  [220, 85, 203, 255],\n  [165, 227, 78, 255],\n  [71, 118, 234, 255],\n  [188, 117, 117, 255],\n  [110, 195, 135, 255],\n  [161, 103, 202, 255],\n  [210, 195, 95, 255],\n  [88, 195, 217, 255],\n  [224, 81, 158, 255],\n  [113, 231, 74, 255],\n  [123, 120, 185, 255],\n  [192, 139, 113, 255],\n  [106, 199, 164, 255],\n  [198, 98, 207, 255],\n  [188, 214, 91, 255],\n  [84, 153, 221, 255],\n  [228, 77, 108, 255],\n  [70, 235, 84, 255],\n  [143, 116, 189, 255],\n  [196, 167, 109, 255],\n  [101, 204, 199, 255],\n  [211, 94, 182, 255],\n  [147, 218, 87, 255],\n  [80, 104, 225, 255],\n  [232, 93, 73, 255],\n  [119, 186, 147, 255],\n  [170, 112, 193, 255],\n  [200, 200, 105, 255],\n  [97, 175, 208, 255],\n  [215, 90, 142, 255],\n  [100, 222, 83, 255],\n  [101, 76, 229, 255],\n  [183, 150, 122, 255],\n  [115, 190, 171, 255],\n  [197, 108, 194, 255],\n  [170, 205, 100, 255],\n  [93, 138, 212, 255],\n  [219, 86, 97, 255],\n  [79, 226, 110, 255],\n  [153, 72, 233, 255],\n  [187, 173, 118, 255],\n  [111, 187, 194, 255],\n  [201, 104, 165, 255],\n  [134, 209, 96, 255],\n  [89, 95, 216, 255],\n  [223, 117, 82, 255],\n  [75, 230, 159, 255],\n  [174, 121, 184, 255],\n  [182, 191, 114, 255],\n  [107, 160, 198, 255],\n  [206, 99, 130, 255],\n  [92, 213, 92, 255],\n  [124, 85, 220, 255],\n  [227, 165, 78, 255],\n  [71, 234, 214, 255],\n  [188, 117, 176, 255],\n  [156, 195, 110, 255],\n  [103, 128, 202, 255],\n  [210, 100, 95, 255],\n  [88, 217, 131, 255],\n  [170, 81, 224, 255],\n  [231, 218, 74, 255],\n  [120, 172, 185, 255],\n  [192, 113, 153, 255],\n  [125, 199, 106, 255],\n  [107, 98, 207, 255],\n  [214, 137, 91, 255],\n  [84, 221, 175, 255],\n  [222, 77, 228, 255],\n  [194, 235, 70, 255],\n  [116, 149, 189, 255],\n  [196, 109, 123, 255],\n  [101, 204, 114, 255],\n  [143, 94, 211, 255],\n  [218, 180, 87, 255],\n  [80, 225, 225, 255],\n  [232, 73, 186, 255],\n  [147, 186, 119, 255],\n  [112, 122, 193, 255],\n  [200, 121, 105, 255],\n  [97, 208, 148, 255],\n  [184, 90, 215, 255],\n  [216, 222, 83, 255],\n  [76, 178, 229, 255],\n  [183, 122, 145, 255],\n  [121, 190, 115, 255],\n  [126, 108, 197, 255],\n  [205, 153, 100, 255],\n  [93, 212, 187, 255],\n  [219, 86, 208, 255],\n  [171, 226, 79, 255],\n  [72, 126, 233, 255],\n  [187, 118, 121, 255],\n  [111, 194, 132, 255],\n  [157, 104, 201, 255],\n  [209, 190, 96, 255],\n  [89, 200, 216, 255],\n  [223, 82, 164, 255],\n  [120, 230, 75, 255],\n  [121, 121, 184, 255],\n  [191, 136, 114, 255],\n  [107, 198, 160, 255],\n  [192, 99, 206, 255],\n  [193, 213, 92, 255],\n  [85, 158, 220, 255],\n  [227, 78, 115, 255],\n  [71, 234, 78, 255],\n  [141, 117, 188, 255],\n  [195, 163, 110, 255],\n  [103, 202, 194, 255],\n  [210, 95, 186, 255],\n  [153, 217, 88, 255],\n  [81, 111, 224, 255],\n];\n\nexport default CORNERSTONE_COLOR_LUT;\n","import { ContourConfig } from '../../../types/ContourTypes';\n\nconst defaultContourConfig: ContourConfig = {\n  renderOutline: true,\n  outlineWidthActive: 2,\n  outlineWidthInactive: 2,\n  outlineOpacity: 1,\n  outlineOpacityInactive: 0.85,\n  renderFill: true,\n  fillAlpha: 1,\n  fillAlphaInactive: 0,\n};\n\nfunction getDefaultContourConfig(): ContourConfig {\n  return defaultContourConfig;\n}\n\nexport default getDefaultContourConfig;\n","import { LabelmapConfig } from '../../../types/LabelmapTypes';\n\nconst defaultLabelmapConfig: LabelmapConfig = {\n  renderOutline: true,\n  outlineWidthActive: 3,\n  outlineWidthInactive: 2,\n  renderFill: true,\n  renderFillInactive: true,\n  fillAlpha: 0.7,\n  fillAlphaInactive: 0.65,\n  outlineOpacity: 1,\n  outlineOpacityInactive: 0.85,\n};\n\nfunction getDefaultLabelmapConfig(): LabelmapConfig {\n  return defaultLabelmapConfig;\n}\n\n// Checks if the labelmap config is valid, which means\n// if all the required fields are present and have the correct type\nfunction isValidLabelmapConfig(config): boolean {\n  return (\n    config &&\n    typeof config.renderOutline === 'boolean' &&\n    typeof config.outlineWidthActive === 'number' &&\n    typeof config.outlineWidthInactive === 'number' &&\n    typeof config.renderFill === 'boolean' &&\n    typeof config.renderFillInactive === 'boolean' &&\n    typeof config.fillAlpha === 'number' &&\n    typeof config.fillAlphaInactive === 'number' &&\n    typeof config.outlineOpacity === 'number' &&\n    typeof config.outlineOpacityInactive === 'number'\n  );\n}\n\nexport default getDefaultLabelmapConfig;\nexport { isValidLabelmapConfig };\n","import { utilities as csUtils } from '@cornerstonejs/core';\nimport cloneDeep from 'lodash.clonedeep';\n\nimport CORNERSTONE_COLOR_LUT from '../../constants/COLOR_LUT';\n\nimport { SegmentationRepresentations } from '../../enums';\nimport getDefaultContourConfig from '../../tools/displayTools/Contour/contourConfig';\nimport getDefaultLabelmapConfig from '../../tools/displayTools/Labelmap/labelmapConfig';\nimport type {\n  ColorLUT,\n  RepresentationConfig,\n  Segmentation,\n  SegmentationRepresentationConfig,\n  SegmentationState,\n  SegmentSpecificRepresentationConfig,\n  ToolGroupSpecificRepresentation,\n  ToolGroupSpecificRepresentations,\n} from '../../types/SegmentationStateTypes';\n\n// Initialize the default configuration\n// Note: when we get other representations, we should set their default representations too.\nconst defaultLabelmapConfig = getDefaultLabelmapConfig();\nconst defaultContourConfig = getDefaultContourConfig();\n\nconst newGlobalConfig: SegmentationRepresentationConfig = {\n  renderInactiveSegmentations: true,\n  representations: {\n    [SegmentationRepresentations.Labelmap]: defaultLabelmapConfig,\n    [SegmentationRepresentations.Contour]: defaultContourConfig,\n  },\n};\n\n/* A default initial state for the segmentation manager. */\nconst initialDefaultState: SegmentationState = {\n  colorLUT: [],\n  segmentations: [],\n  globalConfig: newGlobalConfig,\n  toolGroups: {},\n};\n\n/**\n * The SegmentationStateManager Class is responsible for managing the state of the\n * segmentations. It stores the segmentations and toolGroup specific representations\n * of the segmentation. It also stores a global config and a toolGroup specific\n * config. Note that this is a singleton state manager.\n */\nexport default class SegmentationStateManager {\n  private state: SegmentationState;\n  public readonly uid: string;\n\n  constructor(uid?: string) {\n    if (!uid) {\n      uid = csUtils.uuidv4();\n    }\n    this.state = cloneDeep(initialDefaultState);\n    this.uid = uid;\n  }\n\n  /**\n   * It returns a copy of the current state of the segmentation\n   * @returns A deep copy of the state.\n   */\n  getState(): SegmentationState {\n    return this.state;\n  }\n\n  /**\n   * It returns an array of toolGroupIds currently in the segmentation state.\n   * @returns An array of strings.\n   */\n  getToolGroups(): string[] {\n    return Object.keys(this.state.toolGroups);\n  }\n\n  /**\n   * It returns the colorLUT at the specified index.\n   * @param lutIndex - The index of the color LUT to retrieve.\n   * @returns A ColorLUT object.\n   */\n  getColorLUT(lutIndex: number): ColorLUT | undefined {\n    return this.state.colorLUT[lutIndex];\n  }\n\n  /**\n   * Reset the state to the default state\n   */\n  resetState(): void {\n    this.state = cloneDeep(initialDefaultState);\n  }\n\n  /**\n   * Given a segmentation Id, return the segmentation state\n   * @param segmentationId - The id of the segmentation to get the data for.\n   * @returns - The segmentation data\n   */\n  getSegmentation(segmentationId: string): Segmentation | undefined {\n    return this.state.segmentations.find(\n      (segmentation) => segmentation.segmentationId === segmentationId\n    );\n  }\n\n  /**\n   * It adds a segmentation to the segmentations array.\n   * @param segmentation - Segmentation\n   */\n  addSegmentation(segmentation: Segmentation): void {\n    this._initDefaultColorLUTIfNecessary();\n\n    // Check if the segmentation already exists with the segmentationId\n    if (this.getSegmentation(segmentation.segmentationId)) {\n      throw new Error(\n        `Segmentation with id ${segmentation.segmentationId} already exists`\n      );\n    }\n\n    this.state.segmentations.push(segmentation);\n  }\n\n  /**\n   * Get the segmentation representations for a tool group\n   * @param toolGroupId - string\n   * @returns A list of segmentation representations.\n   */\n  getSegmentationRepresentations(\n    toolGroupId: string\n  ): ToolGroupSpecificRepresentations | undefined {\n    const toolGroupSegRepresentationsWithConfig =\n      this.state.toolGroups[toolGroupId];\n\n    if (!toolGroupSegRepresentationsWithConfig) {\n      return;\n    }\n\n    return toolGroupSegRepresentationsWithConfig.segmentationRepresentations;\n  }\n\n  /**\n   * Returns an array of all segmentation representations for all tool groups.\n   * @returns An array of ToolGroupSpecificRepresentations.\n   */\n  getAllSegmentationRepresentations(): Record<\n    string,\n    ToolGroupSpecificRepresentation[]\n  > {\n    const toolGroupSegReps: Record<string, ToolGroupSpecificRepresentation[]> =\n      {};\n    Object.entries(this.state.toolGroups).forEach(\n      ([toolGroupId, toolGroupSegRepresentationsWithConfig]) => {\n        toolGroupSegReps[toolGroupId] =\n          toolGroupSegRepresentationsWithConfig.segmentationRepresentations;\n      }\n    );\n    return toolGroupSegReps;\n  }\n\n  /**\n   * Add a new segmentation representation to the toolGroup's segmentation representations.\n   * @param toolGroupId - The Id of the tool group .\n   * @param segmentationRepresentation - The segmentation representation to add.\n   */\n  addSegmentationRepresentation(\n    toolGroupId: string,\n    segmentationRepresentation: ToolGroupSpecificRepresentation\n  ): void {\n    // Initialize the default toolGroup state if not created yet\n    if (!this.state.toolGroups[toolGroupId]) {\n      this.state.toolGroups[toolGroupId] = {\n        segmentationRepresentations: [],\n        config: {} as SegmentationRepresentationConfig,\n      };\n    }\n\n    // local toolGroupSpecificSegmentationState\n    this.state.toolGroups[toolGroupId].segmentationRepresentations.push(\n      segmentationRepresentation\n    );\n\n    this._handleActiveSegmentation(toolGroupId, segmentationRepresentation);\n  }\n\n  /**\n   * Get the global config containing both representation config\n   * and render inactive segmentations config\n   * @returns The global config object.\n   */\n  getGlobalConfig(): SegmentationRepresentationConfig {\n    return this.state.globalConfig;\n  }\n\n  /**\n   * It sets the global segmentation config including both representation config\n   * and render inactive segmentations config\n   * @param config - The global configuration for the segmentations.\n   */\n  setGlobalConfig(config: SegmentationRepresentationConfig): void {\n    this.state.globalConfig = config;\n  }\n\n  /**\n   * Given a toolGroupId and a segmentationRepresentationUID, return the segmentation\n   * representation for that tool group.\n   * @param toolGroupId - The Id of the tool group\n   * @param segmentationRepresentationUID - string\n   * @returns The segmentation representation.\n   */\n  getSegmentationRepresentationByUID(\n    toolGroupId: string,\n    segmentationRepresentationUID: string\n  ): ToolGroupSpecificRepresentation | undefined {\n    const toolGroupSegRepresentations =\n      this.getSegmentationRepresentations(toolGroupId);\n\n    const segmentationData = toolGroupSegRepresentations.find(\n      (representation) =>\n        representation.segmentationRepresentationUID ===\n        segmentationRepresentationUID\n    );\n\n    return segmentationData;\n  }\n\n  /**\n   * It removes the segmentation from the segmentation state.\n   * @param segmentationId - The id of the segmentation to remove.\n   */\n  removeSegmentation(segmentationId: string): void {\n    this.state.segmentations = this.state.segmentations.filter(\n      (segmentation) => segmentation.segmentationId !== segmentationId\n    );\n  }\n\n  /**\n   * Remove a segmentation representation from the toolGroup\n   * @param toolGroupId - The Id of the tool group\n   * @param segmentationRepresentationUID - the uid of the segmentation representation to remove\n   * @param immediate - If true, the viewport will be updated immediately.\n   */\n  removeSegmentationRepresentation(\n    toolGroupId: string,\n    segmentationRepresentationUID: string\n  ): void {\n    const toolGroupSegmentationRepresentations =\n      this.getSegmentationRepresentations(toolGroupId);\n\n    if (\n      !toolGroupSegmentationRepresentations ||\n      !toolGroupSegmentationRepresentations.length\n    ) {\n      throw new Error(\n        `No viewport specific segmentation state found for viewport ${toolGroupId}`\n      );\n    }\n\n    const state =\n      toolGroupSegmentationRepresentations as ToolGroupSpecificRepresentations;\n    const index = state.findIndex(\n      (segData) =>\n        segData.segmentationRepresentationUID === segmentationRepresentationUID\n    );\n\n    if (index === -1) {\n      console.warn(\n        `No viewport specific segmentation state data found for viewport ${toolGroupId} and segmentation data UID ${segmentationRepresentationUID}`\n      );\n    }\n\n    const removedSegmentationRepresentation =\n      toolGroupSegmentationRepresentations[index];\n\n    toolGroupSegmentationRepresentations.splice(index, 1);\n\n    this._handleActiveSegmentation(\n      toolGroupId,\n      removedSegmentationRepresentation\n    );\n  }\n\n  /**\n   * Set the active segmentation data for a tool group\n   * @param toolGroupId - The Id of the tool group that owns the\n   * segmentation data.\n   * @param segmentationRepresentationUID - string\n   */\n  setActiveSegmentationRepresentation(\n    toolGroupId: string,\n    segmentationRepresentationUID: string\n  ): void {\n    const toolGroupSegmentations =\n      this.getSegmentationRepresentations(toolGroupId);\n\n    if (!toolGroupSegmentations || !toolGroupSegmentations.length) {\n      throw new Error(\n        `No segmentation data found for toolGroupId: ${toolGroupId}`\n      );\n    }\n\n    const segmentationData = toolGroupSegmentations.find(\n      (segmentationData) =>\n        segmentationData.segmentationRepresentationUID ===\n        segmentationRepresentationUID\n    );\n\n    if (!segmentationData) {\n      throw new Error(\n        `No segmentation data found for segmentation data UID ${segmentationRepresentationUID}`\n      );\n    }\n\n    segmentationData.active = true;\n    this._handleActiveSegmentation(toolGroupId, segmentationData);\n  }\n\n  /**\n   * Given a tool group Id it returns the tool group specific representation config\n   *\n   * @param toolGroupId - The Id of the tool group\n   * @returns A SegmentationConfig object.\n   */\n  getToolGroupSpecificConfig(\n    toolGroupId: string\n  ): SegmentationRepresentationConfig | undefined {\n    const toolGroupStateWithConfig = this.state.toolGroups[toolGroupId];\n\n    if (!toolGroupStateWithConfig) {\n      return;\n    }\n\n    return toolGroupStateWithConfig.config;\n  }\n\n  getSegmentationRepresentationSpecificConfig(\n    toolGroupId: string,\n    segmentationRepresentationUID: string\n  ): RepresentationConfig {\n    const segmentationRepresentation = this.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n    if (!segmentationRepresentation) {\n      return;\n    }\n\n    return segmentationRepresentation.segmentationRepresentationSpecificConfig;\n  }\n\n  setSegmentationRepresentationSpecificConfig(\n    toolGroupId: string,\n    segmentationRepresentationUID: string,\n    config: RepresentationConfig\n  ): void {\n    const segmentationRepresentation = this.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n    if (!segmentationRepresentation) {\n      return;\n    }\n\n    segmentationRepresentation.segmentationRepresentationSpecificConfig =\n      config;\n  }\n\n  getSegmentSpecificConfig(\n    toolGroupId: string,\n    segmentationRepresentationUID: string,\n    segmentIndex: number\n  ): RepresentationConfig {\n    const segmentationRepresentation = this.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n    if (!segmentationRepresentation) {\n      return;\n    }\n\n    return segmentationRepresentation.segmentSpecificConfig[segmentIndex];\n  }\n\n  setSegmentSpecificConfig(\n    toolGroupId: string,\n    segmentationRepresentationUID: string,\n    config: SegmentSpecificRepresentationConfig\n  ): void {\n    const segmentationRepresentation = this.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n    if (!segmentationRepresentation) {\n      return;\n    }\n\n    segmentationRepresentation.segmentSpecificConfig = config;\n  }\n\n  /**\n   * Set the segmentation representations config for a given tool group. It will create a new\n   * tool group specific config if one does not exist.\n   *\n   * @param toolGroupId - The Id of the tool group that the segmentation\n   * belongs to.\n   * @param config - SegmentationConfig\n   */\n  setSegmentationRepresentationConfig(\n    toolGroupId: string,\n    config: SegmentationRepresentationConfig\n  ): void {\n    let toolGroupStateWithConfig = this.state.toolGroups[toolGroupId];\n\n    if (!toolGroupStateWithConfig) {\n      this.state.toolGroups[toolGroupId] = {\n        segmentationRepresentations: [],\n        config: {\n          renderInactiveSegmentations: true,\n          representations: {},\n        },\n      };\n\n      toolGroupStateWithConfig = this.state.toolGroups[toolGroupId];\n    }\n\n    toolGroupStateWithConfig.config = {\n      ...toolGroupStateWithConfig.config,\n      ...config,\n    };\n  }\n\n  /**\n   * It adds a color LUT to the state.\n   * @param colorLUT - ColorLUT\n   * @param lutIndex - The index of the color LUT table to add.\n   */\n  addColorLUT(colorLUT: ColorLUT, lutIndex: number): void {\n    if (this.state.colorLUT[lutIndex]) {\n      console.log('Color LUT table already exists, overwriting');\n    }\n\n    this.state.colorLUT[lutIndex] = colorLUT;\n  }\n\n  /**\n   * Removes a color LUT to the state.\n   * @param colorLUTIndex - The index of the color LUT table to remove.\n   */\n  removeColorLUT(colorLUTIndex: number): void {\n    delete this.state.colorLUT[colorLUTIndex];\n  }\n\n  /**\n   * It handles the active segmentation representation based on the active status of the\n   * segmentation representation that was added or removed.\n   *\n   * @param toolGroupId - The Id of the tool group that the segmentation representation belongs to.\n   * @param recentlyAddedOrRemovedSegmentationRepresentation - ToolGroupSpecificSegmentationData\n   */\n  _handleActiveSegmentation(\n    toolGroupId: string,\n    recentlyAddedOrRemovedSegmentationRepresentation: ToolGroupSpecificRepresentation\n  ): void {\n    const segmentationRepresentations =\n      this.getSegmentationRepresentations(toolGroupId);\n\n    // 1. If there is no segmentation representations, return early\n    if (segmentationRepresentations.length === 0) {\n      return;\n    }\n\n    // 2. If there is only one segmentation representation, make that one active\n    if (segmentationRepresentations.length === 1) {\n      segmentationRepresentations[0].active = true;\n      return;\n    }\n\n    // 3. If removed Segmentation representation was active, make the first one active\n    const activeSegmentationRepresentations =\n      segmentationRepresentations.filter(\n        (representation) => representation.active\n      );\n\n    if (activeSegmentationRepresentations.length === 0) {\n      segmentationRepresentations[0].active = true;\n      return;\n    }\n\n    // 4. If the added segmentation representation is active, make other segmentation\n    // representations inactive\n    if (recentlyAddedOrRemovedSegmentationRepresentation.active) {\n      segmentationRepresentations.forEach((representation) => {\n        if (\n          representation.segmentationRepresentationUID !==\n          recentlyAddedOrRemovedSegmentationRepresentation.segmentationRepresentationUID\n        ) {\n          representation.active = false;\n        }\n      });\n    }\n\n    // 5. if added/removed segmentation is is inactive, do nothing\n  }\n\n  _initDefaultColorLUTIfNecessary() {\n    // if colorLUTTable is not specified or the default one is not found\n    if (this.state.colorLUT.length === 0 || !this.state.colorLUT[0]) {\n      this.addColorLUT(CORNERSTONE_COLOR_LUT as ColorLUT, 0);\n    }\n  }\n}\n\nconst defaultSegmentationStateManager = new SegmentationStateManager('DEFAULT');\nexport { defaultSegmentationStateManager };\n","import { triggerEvent, eventTarget } from '@cornerstonejs/core';\n\nimport { Events } from '../../enums';\nimport {\n  getSegmentationRepresentations,\n  getSegmentations,\n} from '../../stateManagement/segmentation/segmentationState';\nimport {\n  SegmentationRepresentationModifiedEventDetail,\n  SegmentationDataModifiedEventDetail,\n  SegmentationModifiedEventDetail,\n  SegmentationRepresentationRemovedEventDetail,\n  SegmentationRemovedEventDetail,\n} from '../../types/EventTypes';\n\n/**\n * Trigger an event that a segmentation is removed\n * @param segmentationId - The Id of segmentation\n */\nfunction triggerSegmentationRemoved(segmentationId: string): void {\n  const eventDetail: SegmentationRemovedEventDetail = {\n    segmentationId,\n  };\n\n  triggerEvent(eventTarget, Events.SEGMENTATION_REMOVED, eventDetail);\n}\n\n/**\n * Trigger an event that a segmentation representation was removed\n * @param toolGroupId - The id of the tool group that the segmentation\n * representation was removed from.\n * @param segmentationRepresentationUID - The UID of the segmentation\n * representation that was removed.\n */\nfunction triggerSegmentationRepresentationRemoved(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): void {\n  const eventDetail: SegmentationRepresentationRemovedEventDetail = {\n    toolGroupId,\n    segmentationRepresentationUID,\n  };\n\n  triggerEvent(\n    eventTarget,\n    Events.SEGMENTATION_REPRESENTATION_REMOVED,\n    eventDetail\n  );\n}\n\n/**\n * Trigger an event on the eventTarget that the segmentation representation for\n * toolGroupId has been updated\n * @param toolGroupId - The Id of the toolGroup\n */\nfunction triggerSegmentationRepresentationModified(\n  toolGroupId: string,\n  segmentationRepresentationUID?: string\n): void {\n  const eventDetail: SegmentationRepresentationModifiedEventDetail = {\n    toolGroupId,\n    segmentationRepresentationUID,\n  };\n\n  if (segmentationRepresentationUID) {\n    triggerEvent(\n      eventTarget,\n      Events.SEGMENTATION_REPRESENTATION_MODIFIED,\n      eventDetail\n    );\n    return;\n  }\n\n  // If no segmentationRepresentationUID is provided, then we need to trigger\n  // the event for all segmentation representations in the toolGroup\n\n  // Get all segmentation representations in the toolGroup\n  const segmentationRepresentations =\n    getSegmentationRepresentations(toolGroupId) || [];\n\n  segmentationRepresentations.forEach((segmentationRepresentation) => {\n    const { segmentationRepresentationUID } = segmentationRepresentation;\n    const eventDetail: SegmentationRepresentationModifiedEventDetail = {\n      toolGroupId,\n      segmentationRepresentationUID,\n    };\n\n    triggerEvent(\n      eventTarget,\n      Events.SEGMENTATION_REPRESENTATION_MODIFIED,\n      eventDetail\n    );\n  });\n}\n\n/**\n * Triggers segmentation global state updated event, notifying all toolGroups\n * that the global state has been updated, If a segmentationId is provided\n * the event will only be triggered for that segmentation, otherwise it will\n * be triggered for all segmentations.\n *\n * @param segmentationId - The id of the segmentation that has been updated\n */\nfunction triggerSegmentationModified(segmentationId?: string): void {\n  let segmentationIds;\n\n  if (segmentationId) {\n    segmentationIds = [segmentationId];\n  } else {\n    // get all toolGroups\n    segmentationIds = getSegmentations().map(\n      ({ segmentationId }) => segmentationId\n    );\n  }\n\n  // 1. Trigger an event notifying all listeners about the segmentationId\n  // that has been updated.\n  segmentationIds.forEach((segmentationId) => {\n    const eventDetail: SegmentationModifiedEventDetail = {\n      segmentationId,\n    };\n    triggerEvent(eventTarget, Events.SEGMENTATION_MODIFIED, eventDetail);\n  });\n\n  // Todo: I don't think we need the following lines of code\n  // // 2. Notify all viewports that render the segmentationId in order to update the\n  // // rendering based on the new global state.\n  // toolGroupIds.forEach((toolGroupId) => {\n  //   triggerSegmentationRepresentationModified(toolGroupId)\n  // })\n}\n\n/**\n * Trigger an event that a segmentation data has been modified\n * @param segmentationId - The Id of segmentation\n */\nfunction triggerSegmentationDataModified(\n  segmentationId: string,\n  modifiedSlicesToUse?: number[]\n): void {\n  const eventDetail: SegmentationDataModifiedEventDetail = {\n    segmentationId,\n    modifiedSlicesToUse,\n  };\n\n  triggerEvent(eventTarget, Events.SEGMENTATION_DATA_MODIFIED, eventDetail);\n}\n\nexport {\n  // ToolGroup Specific\n  triggerSegmentationRepresentationModified,\n  triggerSegmentationRepresentationRemoved,\n  // Global\n  triggerSegmentationDataModified,\n  triggerSegmentationModified,\n  triggerSegmentationRemoved,\n};\n","import {\n  SegmentationPublicInput,\n  Segmentation,\n} from '../../../types/SegmentationStateTypes';\n\n/**\n * It takes in a segmentation input and returns a segmentation with default values\n * @param segmentationInput - The input to the segmentation.\n * @returns A Segmentation object.\n * @internal\n */\nfunction normalizeSegmentationInput(\n  segmentationInput: SegmentationPublicInput\n): Segmentation {\n  const { segmentationId, representation } = segmentationInput;\n\n  // Todo: we should be able to let the user pass in non-default values for\n  // cachedStats, label, activeSegmentIndex, etc.\n  return {\n    segmentationId,\n    cachedStats: {},\n    segmentLabels: {},\n    label: null,\n    segmentsLocked: new Set(),\n    type: representation.type,\n    activeSegmentIndex: 1,\n    representationData: {\n      [representation.type]: {\n        ...representation.data,\n      },\n    },\n  };\n}\n\nexport default normalizeSegmentationInput;\n","import type {\n  ColorLUT,\n  RepresentationConfig,\n  Segmentation,\n  SegmentationPublicInput,\n  SegmentationRepresentationConfig,\n  SegmentSpecificRepresentationConfig,\n  ToolGroupSpecificRepresentation,\n  ToolGroupSpecificRepresentations,\n} from '../../types/SegmentationStateTypes';\nimport { defaultSegmentationStateManager } from './SegmentationStateManager';\nimport {\n  triggerSegmentationModified,\n  triggerSegmentationRemoved,\n  triggerSegmentationRepresentationModified,\n  triggerSegmentationRepresentationRemoved,\n} from './triggerSegmentationEvents';\n\nimport normalizeSegmentationInput from './helpers/normalizeSegmentationInput';\n\n/**\n * It returns the defaultSegmentationStateManager.\n */\nfunction getDefaultSegmentationStateManager() {\n  return defaultSegmentationStateManager;\n}\n\n/*************************\n *\n * Segmentation State\n *\n **************************/\n\n/**\n * Get the segmentation for the given segmentationId\n * @param segmentationId - The Id of the segmentation\n * @returns A GlobalSegmentationData object\n */\nfunction getSegmentation(segmentationId: string): Segmentation | undefined {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getSegmentation(segmentationId);\n}\n\n/**\n * Get the segmentations inside the state\n * @returns Segmentation array\n */\nfunction getSegmentations(): Segmentation[] | [] {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  const state = segmentationStateManager.getState();\n\n  return state.segmentations;\n}\n\n/**\n * It takes a segmentation input and adds it to the segmentation state manager\n * @param segmentationInput - The segmentation to add.\n * @param suppressEvents - If true, the event will not be triggered.\n */\nfunction addSegmentation(\n  segmentationInput: SegmentationPublicInput,\n  suppressEvents?: boolean\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n\n  const segmentation = normalizeSegmentationInput(segmentationInput);\n\n  segmentationStateManager.addSegmentation(segmentation);\n\n  if (!suppressEvents) {\n    triggerSegmentationModified(segmentation.segmentationId);\n  }\n}\n\n/**\n * Get the segmentation state for a tool group. It will return an array of\n * segmentation representation objects.\n * @param toolGroupId - The unique identifier of the tool group.\n * @returns An array of segmentation representation objects.\n */\nfunction getSegmentationRepresentations(\n  toolGroupId: string\n): ToolGroupSpecificRepresentations | [] {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getSegmentationRepresentations(toolGroupId);\n}\n\n/**\n * Get all segmentation representations in the state\n * @returns An array of segmentation representation objects.\n */\nfunction getAllSegmentationRepresentations(): Record<\n  string,\n  ToolGroupSpecificRepresentation[]\n> {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getAllSegmentationRepresentations();\n}\n\n/**\n * Get the tool group IDs that have a segmentation representation with the given\n * segmentationId\n * @param segmentationId - The id of the segmentation\n * @returns An array of tool group IDs.\n */\nfunction getToolGroupIdsWithSegmentation(segmentationId: string): string[] {\n  if (!segmentationId) {\n    throw new Error('getToolGroupIdsWithSegmentation: segmentationId is empty');\n  }\n\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  const state = segmentationStateManager.getState();\n  const toolGroupIds = Object.keys(state.toolGroups);\n\n  const foundToolGroupIds = [];\n  toolGroupIds.forEach((toolGroupId) => {\n    const toolGroupSegmentationRepresentations =\n      segmentationStateManager.getSegmentationRepresentations(toolGroupId);\n\n    toolGroupSegmentationRepresentations.forEach((representation) => {\n      if (representation.segmentationId === segmentationId) {\n        foundToolGroupIds.push(toolGroupId);\n      }\n    });\n  });\n\n  return foundToolGroupIds;\n}\n\n/**\n * Get the segmentation representations config for a given tool group\n * @param toolGroupId - The Id of the tool group that the segmentation\n * config belongs to.\n * @returns A SegmentationConfig object.\n */\nfunction getToolGroupSpecificConfig(\n  toolGroupId: string\n): SegmentationRepresentationConfig {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getToolGroupSpecificConfig(toolGroupId);\n}\n\n/**\n * Set the segmentation representation config for the provided toolGroup. ToolGroup specific\n * configuration overwrites the global configuration for each representation.\n * It fires SEGMENTATION_REPRESENTATION_MODIFIED event if not suppressed.\n *\n * @triggers SEGMENTATION_REPRESENTATION_MODIFIED\n * @param toolGroupId - The Id of the tool group that the segmentation\n * config is being set for.\n * @param config - The new configuration for the tool group.\n * @param suppressEvents - If true, the event will not be triggered.\n */\nfunction setToolGroupSpecificConfig(\n  toolGroupId: string,\n  config: SegmentationRepresentationConfig,\n  suppressEvents?: boolean\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.setSegmentationRepresentationConfig(\n    toolGroupId,\n    config\n  );\n\n  if (!suppressEvents) {\n    triggerSegmentationRepresentationModified(toolGroupId);\n  }\n}\n\n/**\n * It sets the segmentation representation specific config for all the segments\n * inside the segmentation.\n * @param segmentationRepresentationUID - The unique identifier of the segmentation representation.\n * @param config  - The new configuration for the segmentation representation it is an object with keys of\n * different representation types, and values of the configuration for each representation type.\n */\nfunction setSegmentationRepresentationSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  config: RepresentationConfig,\n  suppressEvents = false\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.setSegmentationRepresentationSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationUID,\n    config\n  );\n\n  if (!suppressEvents) {\n    triggerSegmentationRepresentationModified(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n  }\n}\n\n/**\n * It returns the segmentation representation specific config which is the same for all the segments\n * @param segmentationRepresentationUID - The unique identifier of the segmentation representation.\n * @returns - The segmentation representation specific config.\n */\nfunction getSegmentationRepresentationSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): RepresentationConfig {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getSegmentationRepresentationSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\nfunction getSegmentSpecificRepresentationConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  segmentIndex: number\n): RepresentationConfig {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getSegmentSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationUID,\n    segmentIndex\n  );\n}\n\nfunction setSegmentSpecificRepresentationConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  config: SegmentSpecificRepresentationConfig,\n  suppressEvents = false\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.setSegmentSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationUID,\n    config\n  );\n\n  // Todo: this can be even more performant if we create a new event for\n  // triggering a specific segment config change.\n  if (!suppressEvents) {\n    triggerSegmentationRepresentationModified(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n  }\n}\n\n/**\n * Add the given segmentation representation data to the given tool group state. It fires\n * SEGMENTATION_REPRESENTATION_MODIFIED event if not suppressed.\n *\n * @triggers SEGMENTATION_REPRESENTATION_MODIFIED\n *\n * @param toolGroupId - The Id of the tool group that the segmentation representation is for.\n * @param segmentationData - The data to add to the segmentation state.\n * @param suppressEvents - boolean\n */\nfunction addSegmentationRepresentation(\n  toolGroupId: string,\n  segmentationRepresentation: ToolGroupSpecificRepresentation,\n  suppressEvents?: boolean\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.addSegmentationRepresentation(\n    toolGroupId,\n    segmentationRepresentation\n  );\n\n  if (!suppressEvents) {\n    triggerSegmentationRepresentationModified(\n      toolGroupId,\n      segmentationRepresentation.segmentationRepresentationUID\n    );\n  }\n}\n\n/**\n * It returns the global segmentation config. Note that the toolGroup-specific\n * configuration has higher priority than the global configuration and overwrites\n * the global configuration for each representation.\n * @returns The global segmentation configuration for all segmentations.\n */\nfunction getGlobalConfig(): SegmentationRepresentationConfig {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getGlobalConfig();\n}\n\n/**\n * Set the global segmentation configuration. It fires SEGMENTATION_MODIFIED\n * event if not suppressed.\n *\n * @triggers SEGMENTATION_MODIFIED\n * @param config - The new global segmentation config.\n * @param suppressEvents - If true, the `segmentationGlobalStateModified` event will not be triggered.\n */\nfunction setGlobalConfig(\n  config: SegmentationRepresentationConfig,\n  suppressEvents?: boolean\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.setGlobalConfig(config);\n\n  if (!suppressEvents) {\n    triggerSegmentationModified();\n  }\n}\n\n/**\n * Get the segmentation data object for a given tool group and\n * segmentation data UID. It searches all the toolGroup specific segmentation\n * data objects and returns the first one that matches the UID.\n * @param toolGroupId - The Id of the tool group that the segmentation\n * data belongs to.\n * @param segmentationRepresentationUID - The uid of the segmentation representation\n * @returns Segmentation Data object.\n */\nfunction getSegmentationRepresentationByUID(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): ToolGroupSpecificRepresentation | undefined {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getSegmentationRepresentationByUID(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\n/**\n * It removes the segmentation from the segmentation state manager\n *\n * @triggers SEGMENTATION_REMOVED\n *\n * @param segmentationId - The id of the segmentation\n */\nfunction removeSegmentation(segmentationId: string): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.removeSegmentation(segmentationId);\n  triggerSegmentationRemoved(segmentationId);\n}\n\n/**\n * Remove a segmentation representation from the segmentation state manager for a toolGroup.\n * It fires SEGMENTATION_REPRESENTATION_MODIFIED event.\n *\n * @triggers SEGMENTATION_REPRESENTATION_REMOVED\n *\n * @param toolGroupId - The Id of the tool group that the segmentation\n * data belongs to.\n * @param segmentationRepresentationUID - The uid of the segmentation representation to remove.\n * remove.\n * @param - immediate - If true, the viewports will be updated immediately.\n */\nfunction removeSegmentationRepresentation(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.removeSegmentationRepresentation(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n\n  triggerSegmentationRepresentationRemoved(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\n/**\n * Add a color LUT to the segmentation state manager\n * @param colorLUT - The color LUT array to add.\n * @param index - The index of the color LUT to add.\n */\nfunction removeColorLUT(colorLUTIndex: number): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.removeColorLUT(colorLUTIndex);\n}\n\n/**\n * Get the color lut for a given index\n * @param index - The index of the color lut to retrieve.\n * @returns A ColorLUT array.\n */\nfunction getColorLUT(index: number): ColorLUT | undefined {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  return segmentationStateManager.getColorLUT(index);\n}\n\n/**\n * Add a color LUT to the segmentation state manager\n * @param colorLUT - The color LUT array to add.\n * @param index - The index of the color LUT to add.\n */\nfunction addColorLUT(colorLUT: ColorLUT, index: number): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n  segmentationStateManager.addColorLUT(colorLUT, index);\n  // Todo: trigger event color LUT added\n}\n\nexport {\n  getDefaultSegmentationStateManager,\n  // Segmentation\n  getSegmentation,\n  getSegmentations,\n  addSegmentation,\n  removeSegmentation,\n  // ToolGroup specific Segmentation Representation\n  getSegmentationRepresentations,\n  addSegmentationRepresentation,\n  removeSegmentationRepresentation,\n  // config\n  getToolGroupSpecificConfig,\n  setToolGroupSpecificConfig,\n  getGlobalConfig,\n  setGlobalConfig,\n  getSegmentationRepresentationSpecificConfig,\n  setSegmentationRepresentationSpecificConfig,\n  getSegmentSpecificRepresentationConfig,\n  setSegmentSpecificRepresentationConfig,\n  // helpers s\n  getToolGroupIdsWithSegmentation,\n  getAllSegmentationRepresentations,\n  getSegmentationRepresentationByUID,\n  // color\n  addColorLUT,\n  getColorLUT,\n  removeColorLUT,\n};\n","import SegmentationRepresentations from '../../../enums/SegmentationRepresentations';\nimport * as SegmentationState from '../../../stateManagement/segmentation/segmentationState';\n\nimport {\n  RepresentationConfig,\n  SegmentationRepresentationConfig,\n  SegmentSpecificRepresentationConfig,\n} from '../../../types/SegmentationStateTypes';\n\n/**\n * It returns the global segmentation config.\n * @returns The global segmentation config containing the representations\n * config for each representation type and renderInactiveSegmentations flag.\n */\nfunction getGlobalConfig(): SegmentationRepresentationConfig {\n  return SegmentationState.getGlobalConfig();\n}\n\n/**\n * Set the global segmentation config\n * @param segmentationConfig - SegmentationConfig\n */\nfunction setGlobalConfig(\n  segmentationConfig: SegmentationRepresentationConfig\n): void {\n  SegmentationState.setGlobalConfig(segmentationConfig);\n}\n\n/**\n * Given a representation type, return the corresponding global representation config\n * @param representationType - The type of representation to query\n * @returns A representation configuration object.\n */\nfunction getGlobalRepresentationConfig(\n  representationType: SegmentationRepresentations\n): RepresentationConfig['LABELMAP'] {\n  const globalConfig = getGlobalConfig();\n  return globalConfig.representations[representationType];\n}\n\n/**\n * Set the global configuration for a given representation type. It fires\n * a SEGMENTATION_MODIFIED event.\n *\n * @triggers SEGMENTATION_MODIFIED\n * @param representationType - The type of representation to set config for\n * @param config - The configuration for the representation.\n */\nfunction setGlobalRepresentationConfig(\n  representationType: SegmentationRepresentations,\n  config: RepresentationConfig['LABELMAP']\n): void {\n  const globalConfig = getGlobalConfig();\n\n  setGlobalConfig({\n    ...globalConfig,\n    representations: {\n      ...globalConfig.representations,\n      [representationType]: {\n        ...globalConfig.representations[representationType],\n        ...config,\n      },\n    },\n  });\n}\n\n/**\n * Get the toolGroup specific segmentation config\n * @param toolGroupId - The Id of the tool group\n * @returns A SegmentationConfig object.\n */\nfunction getToolGroupSpecificConfig(\n  toolGroupId: string\n): SegmentationRepresentationConfig {\n  return SegmentationState.getToolGroupSpecificConfig(toolGroupId);\n}\n\n/**\n * Sets the tool group specific configuration for the segmentation\n * representation. This will apply to all segmentation representations.\n * @param toolGroupId - The tool group id where the segmentation representation belongs to.\n * @param segmentationRepresentationConfig - This is the configuration object that you will use to set the default values for\n * the segmentation representation.\n */\nfunction setToolGroupSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationConfig: SegmentationRepresentationConfig\n): void {\n  SegmentationState.setToolGroupSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationConfig\n  );\n}\n\n/**\n * Give the segmentation representation UID, return the corresponding config\n * which is shared by all segments in the segmentation representation. This is\n * an optional level of configuration that can be set by the user, by default\n * it will fallback to the toolGroup specific config, if not set, it will fallback\n * to the global config.\n *\n * @param segmentationRepresentationUID - The uid of the segmentation representation\n * @param config - The configuration for the representation. This is an object\n * only containing the representation type as key and the config as value.\n * @returns - The configuration for the representation.\n */\nfunction getSegmentationRepresentationSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): RepresentationConfig {\n  return SegmentationState.getSegmentationRepresentationSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\n/**\n * Set the segmentation representation specific configuration for the\n * segmentation representation. This will apply to all segments in the\n * segmentation representation and has higher priority than the toolGroup\n * specific config.\n *\n * @param segmentationRepresentationUID - The uid of the segmentation representation\n * @param config - The configuration for the representation. This is an object\n * only containing the representation type as key and the config as value.\n */\nfunction setSegmentationRepresentationSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  config: RepresentationConfig\n): void {\n  SegmentationState.setSegmentationRepresentationSpecificConfig(\n    toolGroupId,\n    segmentationRepresentationUID,\n    config\n  );\n}\n\n/**\n * Get the segment specific configuration for the segmentation representation.\n *\n * @param toolGroupId - The tool group id where the segmentation representation belongs to.\n * @param segmentationRepresentationUID  - The uid of the segmentation representation\n * @param segmentIndex - The index of the segment\n * @returns - The configuration for the segment index in the segmentation representation that is shown in the toolGroup's viewport\n */\nfunction getSegmentSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  segmentIndex: number\n): RepresentationConfig {\n  return SegmentationState.getSegmentSpecificRepresentationConfig(\n    toolGroupId,\n    segmentationRepresentationUID,\n    segmentIndex\n  );\n}\n\n/**\n * Set the segment specific configuration for the segmentation representation.\n * This configuration, if specified, has higher priority than the segmentation representation specific config,\n * and the toolGroup specific config. The order of priority is: segment specific config > segmentation representation specific config > toolGroup specific config > global config\n * @param toolGroupId - The tool group id where the segmentation representation belongs to.\n * @param segmentationRepresentationUID - The uid of the segmentation representation\n * @param segmentIndex - The index of the segment\n * @param config - The configuration for the representation. This is an object\n */\nfunction setSegmentSpecificConfig(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  config: SegmentSpecificRepresentationConfig\n): void {\n  SegmentationState.setSegmentSpecificRepresentationConfig(\n    toolGroupId,\n    segmentationRepresentationUID,\n    config\n  );\n}\n\nexport {\n  // Global\n  getGlobalConfig,\n  setGlobalConfig,\n  getGlobalRepresentationConfig,\n  setGlobalRepresentationConfig,\n  // ToolGroup Specific\n  getToolGroupSpecificConfig,\n  setToolGroupSpecificConfig,\n  // segmentation representation specific config\n  getSegmentationRepresentationSpecificConfig,\n  setSegmentationRepresentationSpecificConfig,\n  // segment specific config\n  getSegmentSpecificConfig,\n  setSegmentSpecificConfig,\n};\n","import {\n  getEnabledElement,\n  addVolumesToViewports,\n  Types,\n  Enums,\n} from '@cornerstonejs/core';\n\n/**\n * It adds a labelmap segmentation representation of the viewport's HTML Element.\n * NOTE: This function should not be called directly.\n *\n * @param element - The element that will be rendered.\n * @param volumeId - The volume id of the labelmap.\n * @param segmentationRepresentationUID - The segmentation representation UID.\n *\n * @internal\n */\nasync function addLabelmapToElement(\n  element: HTMLDivElement,\n  volumeId: string,\n  segmentationRepresentationUID: string\n): Promise<void> {\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngine, viewport } = enabledElement;\n  const { id: viewportId } = viewport;\n\n  // Default to true since we are setting a new segmentation, however,\n  // in the event listener, we will make other segmentations visible/invisible\n  // based on the config\n  const visibility = true;\n  const immediateRender = false;\n  const suppressEvents = true;\n\n  // Todo: Right now we use MIP blend mode for the labelmap, since the\n  // composite blend mode has a non linear behavior regarding fill and line\n  // opacity. This should be changed to a custom labelmap blendMode which does\n  // what composite does, but with a linear behavior.\n  const volumeInputs: Types.IVolumeInput[] = [\n    {\n      volumeId,\n      actorUID: segmentationRepresentationUID,\n      visibility,\n      blendMode: Enums.BlendModes.MAXIMUM_INTENSITY_BLEND,\n    },\n  ];\n\n  // Add labelmap volumes to the viewports to be be rendered, but not force the render\n  await addVolumesToViewports(\n    renderingEngine,\n    volumeInputs,\n    [viewportId],\n    immediateRender,\n    suppressEvents\n  );\n}\n\nexport default addLabelmapToElement;\n","import { StackViewport, getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Remove the labelmap segmentation representation from the viewport's HTML Element.\n * NOTE: This function should not be called directly.\n *\n * @param element - The element that the segmentation is being added to.\n * @param segmentationRepresentationUID - The UID of the labelmap representation to remove.\n * @param removeFromCache - boolean\n *\n * @internal\n */\nfunction removeLabelmapFromElement(\n  element: HTMLDivElement,\n  segmentationRepresentationUID: string,\n  removeFromCache = false // Todo\n): void {\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  if (viewport instanceof StackViewport) {\n    // Todo: we don't have stack segmentation yet\n    return;\n  }\n\n  (viewport as Types.IVolumeViewport).removeVolumeActors([\n    segmentationRepresentationUID,\n  ]);\n}\n\nexport default removeLabelmapFromElement;\n","import vtkPiecewiseFunction from '@kitware/vtk.js/Common/DataModel/PiecewiseFunction';\nimport vtkColorTransferFunction from '@kitware/vtk.js/Rendering/Core/ColorTransferFunction';\n\nimport {\n  cache,\n  getEnabledElementByIds,\n  Types,\n  utilities,\n} from '@cornerstonejs/core';\n\nimport Representations from '../../../enums/SegmentationRepresentations';\nimport * as SegmentationConfig from '../../../stateManagement/segmentation/config/segmentationConfig';\nimport * as SegmentationState from '../../../stateManagement/segmentation/segmentationState';\nimport { getToolGroup } from '../../../store/ToolGroupManager';\nimport type {\n  LabelmapConfig,\n  LabelmapRenderingConfig,\n} from '../../../types/LabelmapTypes';\nimport {\n  RepresentationPublicInput,\n  SegmentationRepresentationConfig,\n  ToolGroupSpecificRepresentation,\n} from '../../../types/SegmentationStateTypes';\n\nimport addLabelmapToElement from './addLabelmapToElement';\n\nimport removeLabelmapFromElement from './removeLabelmapFromElement';\n\nconst MAX_NUMBER_COLORS = 255;\nconst labelMapConfigCache = new Map();\n\n/**\n * For each viewport, in the toolGroup it adds the segmentation labelmap\n * representation to its viewports.\n * @param toolGroup - the tool group that contains the viewports\n * @param representationInput - The segmentation representation input\n * @param toolGroupSpecificConfig - The configuration object for toolGroup\n *\n * @returns The UID of the new segmentation representation\n */\nasync function addSegmentationRepresentation(\n  toolGroupId: string,\n  representationInput: RepresentationPublicInput,\n  toolGroupSpecificConfig?: SegmentationRepresentationConfig\n): Promise<string> {\n  const { segmentationId } = representationInput;\n  const segmentationRepresentationUID = utilities.uuidv4();\n\n  // Todo: make these configurable during representation input by user\n  const segmentsHidden = new Set() as Set<number>;\n  const colorLUTIndex = 0;\n  const active = true;\n  const cfun = vtkColorTransferFunction.newInstance();\n  const ofun = vtkPiecewiseFunction.newInstance();\n\n  ofun.addPoint(0, 0);\n\n  const toolGroupSpecificRepresentation: ToolGroupSpecificRepresentation = {\n    segmentationId,\n    segmentationRepresentationUID,\n    type: Representations.Labelmap,\n    segmentsHidden,\n    colorLUTIndex,\n    active,\n    segmentationRepresentationSpecificConfig: {},\n    segmentSpecificConfig: {},\n    config: {\n      cfun,\n      ofun,\n    },\n  };\n\n  // Update the toolGroup specific configuration\n  if (toolGroupSpecificConfig) {\n    // Since setting configuration on toolGroup will trigger a segmentationRepresentation\n    // update event, we don't want to trigger the event twice, so we suppress\n    // the first one\n    const currentToolGroupConfig =\n      SegmentationConfig.getToolGroupSpecificConfig(toolGroupId);\n\n    const mergedConfig = utilities.deepMerge(\n      currentToolGroupConfig,\n      toolGroupSpecificConfig\n    );\n\n    SegmentationConfig.setToolGroupSpecificConfig(toolGroupId, {\n      renderInactiveSegmentations:\n        mergedConfig.renderInactiveSegmentations || true,\n      representations: {\n        ...mergedConfig.representations,\n      },\n    });\n  }\n\n  SegmentationState.addSegmentationRepresentation(\n    toolGroupId,\n    toolGroupSpecificRepresentation\n  );\n\n  return segmentationRepresentationUID;\n}\n\n/**\n * For each viewport, and for each segmentation, set the segmentation for the viewport's enabled element\n * Initializes the global and viewport specific state for the segmentation in the\n * SegmentationStateManager.\n * @param toolGroup - the tool group that contains the viewports\n * @param segmentationRepresentationUID - The uid of the segmentation representation\n * @param renderImmediate - If true, there will be a render call after the labelmap is removed\n */\nfunction removeSegmentationRepresentation(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  renderImmediate = false\n): void {\n  _removeLabelmapFromToolGroupViewports(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n  SegmentationState.removeSegmentationRepresentation(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n\n  if (renderImmediate) {\n    const viewportsInfo = getToolGroup(toolGroupId).getViewportsInfo();\n    viewportsInfo.forEach(({ viewportId, renderingEngineId }) => {\n      const enabledElement = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n      enabledElement.viewport.render();\n    });\n  }\n}\n\n/**\n * Checks if a segmentation data have the same frameOfReference as the series\n * displayed in a given viewport\n * @param viewport\n * @param referencedVolumeId volume id of the segmentation reference series\n * @returns\n */\nfunction isSameFrameOfReference(viewport, referencedVolumeId) {\n  // if the referencedVolumeId is not defined, we acted as before to not break\n  // applications as referencedVolumeId is inserted in this change\n  // Can modify that in the future commits\n  if (!referencedVolumeId) {\n    return true;\n  }\n  const defaultActor = viewport.getDefaultActor();\n  if (!defaultActor) {\n    return false;\n  }\n  const { uid: defaultActorUID } = defaultActor;\n  const volume = cache.getVolume(defaultActorUID);\n\n  if (volume) {\n    const referencedVolume = cache.getVolume(referencedVolumeId);\n    if (\n      referencedVolume &&\n      volume.metadata.FrameOfReferenceUID ===\n        referencedVolume.metadata.FrameOfReferenceUID\n    ) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * It takes the enabled element, the segmentation Id, and the configuration, and\n * it sets the segmentation for the enabled element as a labelmap\n * @param enabledElement - The cornerstone enabled element\n * @param segmentationId - The id of the segmentation to be rendered.\n * @param configuration - The configuration object for the labelmap.\n */\nasync function render(\n  viewport: Types.IVolumeViewport,\n  representation: ToolGroupSpecificRepresentation,\n  toolGroupConfig: SegmentationRepresentationConfig\n): Promise<void> {\n  const {\n    colorLUTIndex,\n    active,\n    segmentationId,\n    segmentationRepresentationUID,\n    segmentsHidden,\n    config: renderingConfig,\n  } = representation;\n\n  const segmentation = SegmentationState.getSegmentation(segmentationId);\n  const labelmapData =\n    segmentation.representationData[Representations.Labelmap];\n  const { volumeId: labelmapUID } = labelmapData;\n\n  const labelmap = cache.getVolume(labelmapUID);\n\n  if (!labelmap) {\n    throw new Error(`No Labelmap found for volumeId: ${labelmapUID}`);\n  }\n\n  if (!isSameFrameOfReference(viewport, labelmapData?.referencedVolumeId)) {\n    return;\n  }\n  let actorEntry = viewport.getActor(segmentationRepresentationUID);\n\n  if (!actorEntry) {\n    const segmentation = SegmentationState.getSegmentation(segmentationId);\n    const { volumeId } =\n      segmentation.representationData[Representations.Labelmap];\n    // only add the labelmap to ToolGroup viewports if it is not already added\n    await _addLabelmapToViewport(\n      viewport,\n      volumeId,\n      segmentationRepresentationUID\n    );\n\n    actorEntry = viewport.getActor(segmentationRepresentationUID);\n  }\n\n  if (!actorEntry) {\n    return;\n  }\n\n  const { cfun, ofun } = renderingConfig as LabelmapRenderingConfig;\n\n  const renderInactiveSegmentations =\n    toolGroupConfig.renderInactiveSegmentations;\n\n  _setLabelmapColorAndOpacity(\n    viewport.id,\n    actorEntry,\n    cfun,\n    ofun,\n    colorLUTIndex,\n    toolGroupConfig.representations[Representations.Labelmap],\n    representation,\n    active,\n    renderInactiveSegmentations,\n    segmentsHidden\n  );\n}\n\nfunction _setLabelmapColorAndOpacity(\n  viewportId: string,\n  actorEntry: Types.ActorEntry,\n  cfun: vtkColorTransferFunction,\n  ofun: vtkPiecewiseFunction,\n  colorLUTIndex: number,\n  toolGroupLabelmapConfig: LabelmapConfig,\n  segmentationRepresentation: ToolGroupSpecificRepresentation,\n  isActiveLabelmap: boolean,\n  renderInactiveSegmentations: boolean,\n  segmentsHidden: Set<number>\n): void {\n  const { segmentSpecificConfig, segmentationRepresentationSpecificConfig } =\n    segmentationRepresentation;\n\n  const segmentationRepresentationLabelmapConfig =\n    segmentationRepresentationSpecificConfig[Representations.Labelmap];\n\n  // Note: MAX_NUMBER_COLORS = 256 is needed because the current method to generate\n  // the default color table uses RGB.\n  const colorLUT = SegmentationState.getColorLUT(colorLUTIndex);\n  const numColors = Math.min(256, colorLUT.length);\n  const volumeActor = actorEntry.actor as Types.VolumeActor;\n  const { uid: actorUID } = actorEntry;\n\n  // Note: right now outlineWidth and renderOutline are not configurable\n  // at the segment level, so we don't need to check for segment specific\n  // configuration in the loop, Todo: make them configurable at the segment level\n  const { outlineWidth, renderOutline, outlineOpacity } = _getLabelmapConfig(\n    toolGroupLabelmapConfig,\n    segmentationRepresentationLabelmapConfig,\n    isActiveLabelmap\n  );\n\n  // Todo: the below loop probably can be optimized so that we don't hit it\n  // unless a config has changed. Right now we get into the following loop\n  // even for brush drawing which does not makes sense\n  for (let i = 0; i < numColors; i++) {\n    const segmentIndex = i;\n    const segmentColor = colorLUT[segmentIndex];\n\n    const segmentSpecificLabelmapConfig =\n      segmentSpecificConfig[segmentIndex]?.[Representations.Labelmap];\n\n    const { fillAlpha, outlineWidth, renderFill, renderOutline } =\n      _getLabelmapConfig(\n        toolGroupLabelmapConfig,\n        segmentationRepresentationLabelmapConfig,\n        isActiveLabelmap,\n        segmentSpecificLabelmapConfig\n      );\n\n    const { forceOpacityUpdate, forceColorUpdate } =\n      _needsTransferFunctionUpdate(viewportId, actorUID, segmentIndex, {\n        fillAlpha,\n        renderFill,\n        renderOutline,\n        segmentColor,\n        outlineWidth,\n        segmentsHidden,\n      });\n\n    if (forceColorUpdate) {\n      cfun.addRGBPoint(\n        segmentIndex,\n        segmentColor[0] / MAX_NUMBER_COLORS,\n        segmentColor[1] / MAX_NUMBER_COLORS,\n        segmentColor[2] / MAX_NUMBER_COLORS\n      );\n    }\n\n    if (forceOpacityUpdate) {\n      if (renderFill) {\n        const segmentOpacity = segmentsHidden.has(segmentIndex)\n          ? 0\n          : (segmentColor[3] / 255) * fillAlpha;\n\n        ofun.removePoint(segmentIndex);\n        ofun.addPointLong(segmentIndex, segmentOpacity, 0.5, 1.0);\n      } else {\n        ofun.addPointLong(segmentIndex, 0.01, 0.5, 1.0);\n      }\n    }\n  }\n\n  volumeActor.getProperty().setRGBTransferFunction(0, cfun);\n\n  ofun.setClamping(false);\n  volumeActor.getProperty().setScalarOpacity(0, ofun);\n\n  volumeActor.getProperty().setInterpolationTypeToNearest();\n\n  volumeActor.getProperty().setUseLabelOutline(renderOutline);\n\n  // @ts-ignore: setLabelOutlineWidth is not in the vtk.d.ts apparently\n  volumeActor.getProperty().setLabelOutlineOpacity(outlineOpacity);\n  volumeActor.getProperty().setLabelOutlineThickness(outlineWidth);\n\n  // Set visibility based on whether actor visibility is specifically asked\n  // to be turned on/off (on by default) AND whether is is in active but\n  // we are rendering inactive labelmap\n  const visible = isActiveLabelmap || renderInactiveSegmentations;\n  volumeActor.setVisibility(visible);\n}\n\nfunction _getLabelmapConfig(\n  toolGroupLabelmapConfig: LabelmapConfig,\n  segmentationRepresentationLabelmapConfig: LabelmapConfig,\n  isActiveLabelmap: boolean,\n  segmentsLabelmapConfig?: LabelmapConfig\n) {\n  const segmentLabelmapConfig = segmentsLabelmapConfig || {};\n\n  const configToUse = {\n    ...toolGroupLabelmapConfig,\n    ...segmentationRepresentationLabelmapConfig,\n    ...segmentLabelmapConfig,\n  };\n\n  const fillAlpha = isActiveLabelmap\n    ? configToUse.fillAlpha\n    : configToUse.fillAlphaInactive;\n  const outlineWidth = isActiveLabelmap\n    ? configToUse.outlineWidthActive\n    : configToUse.outlineWidthInactive;\n\n  const renderFill = isActiveLabelmap\n    ? configToUse.renderFill\n    : configToUse.renderFillInactive;\n\n  const renderOutline = configToUse.renderOutline;\n\n  const outlineOpacity = isActiveLabelmap\n    ? configToUse.outlineOpacity\n    : configToUse.outlineOpacityInactive;\n\n  return {\n    fillAlpha,\n    outlineWidth,\n    renderFill,\n    renderOutline,\n    outlineOpacity,\n  };\n}\n\nfunction _needsTransferFunctionUpdate(\n  viewportId: string,\n  actorUID: string,\n  segmentIndex: number,\n  {\n    fillAlpha,\n    renderFill,\n    renderOutline,\n    segmentColor,\n    outlineWidth,\n    segmentsHidden,\n  }: {\n    fillAlpha: number;\n    renderFill: boolean;\n    renderOutline: boolean;\n    outlineWidth: number;\n    segmentColor: number[];\n    segmentsHidden: Set<number>;\n  }\n) {\n  const cacheUID = `${viewportId}-${actorUID}-${segmentIndex}`;\n  const oldConfig = labelMapConfigCache.get(cacheUID);\n\n  if (!oldConfig) {\n    labelMapConfigCache.set(cacheUID, {\n      fillAlpha,\n      renderFill,\n      renderOutline,\n      outlineWidth,\n      segmentColor: segmentColor.slice(), // Create a copy\n      segmentsHidden: new Set(segmentsHidden), // Create a copy\n    });\n\n    return {\n      forceOpacityUpdate: true,\n      forceColorUpdate: true,\n    };\n  }\n\n  const {\n    fillAlpha: oldFillAlpha,\n    renderFill: oldRenderFill,\n    renderOutline: oldRenderOutline,\n    outlineWidth: oldOutlineWidth,\n    segmentColor: oldSegmentColor,\n    segmentsHidden: oldSegmentsHidden,\n  } = oldConfig;\n\n  const forceColorUpdate =\n    oldSegmentColor[0] !== segmentColor[0] ||\n    oldSegmentColor[1] !== segmentColor[1] ||\n    oldSegmentColor[2] !== segmentColor[2];\n\n  const forceOpacityUpdate =\n    oldSegmentColor[3] !== segmentColor[3] ||\n    oldFillAlpha !== fillAlpha ||\n    oldRenderFill !== renderFill ||\n    oldRenderOutline !== renderOutline ||\n    oldOutlineWidth !== outlineWidth ||\n    oldSegmentsHidden.has(segmentIndex) !== segmentsHidden.has(segmentIndex);\n\n  // update the cache\n  labelMapConfigCache.set(cacheUID, {\n    fillAlpha,\n    renderFill,\n    renderOutline,\n    outlineWidth,\n    segmentColor: segmentColor.slice(), // Create a copy\n    segmentsHidden: new Set(segmentsHidden), // Create a copy\n  });\n\n  return {\n    forceOpacityUpdate,\n    forceColorUpdate,\n  };\n}\n\nfunction _removeLabelmapFromToolGroupViewports(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): void {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    throw new Error(`ToolGroup with ToolGroupId ${toolGroupId} does not exist`);\n  }\n\n  const { viewportsInfo } = toolGroup;\n\n  for (const viewportInfo of viewportsInfo) {\n    const { viewportId, renderingEngineId } = viewportInfo;\n    const enabledElement = getEnabledElementByIds(\n      viewportId,\n      renderingEngineId\n    );\n    removeLabelmapFromElement(\n      enabledElement.viewport.element,\n      segmentationRepresentationUID\n    );\n  }\n}\n\nasync function _addLabelmapToViewport(\n  viewport: Types.IVolumeViewport,\n  volumeId: string,\n  segmentationRepresentationUID: string\n): Promise<void> {\n  await addLabelmapToElement(\n    viewport.element,\n    volumeId,\n    segmentationRepresentationUID\n  );\n}\n\nexport default {\n  render,\n  addSegmentationRepresentation,\n  removeSegmentationRepresentation,\n};\n","import macro from '../../macros.js';\nimport vtkDataArray from '../../Common/Core/DataArray.js';\nimport vtkPoints from '../../Common/Core/Points.js';\nimport vtkPolyData from '../../Common/DataModel/PolyData.js';\nimport { DesiredOutputPrecision } from '../../Common/DataModel/DataSetAttributes/Constants.js';\nimport { VtkDataTypes } from '../../Common/Core/DataArray/Constants.js';\n\nvar vtkErrorMacro = macro.vtkErrorMacro;\n\nfunction offsetCellArray(typedArray, offset) {\n  var currentIdx = 0;\n  return typedArray.map(function (value, index) {\n    if (index === currentIdx) {\n      currentIdx += value + 1;\n      return value;\n    }\n\n    return value + offset;\n  });\n}\n\nfunction appendCellData(dest, src, ptOffset, cellOffset) {\n  dest.set(offsetCellArray(src, ptOffset), cellOffset);\n} // ----------------------------------------------------------------------------\n// vtkAppendPolyData methods\n// ----------------------------------------------------------------------------\n\n\nfunction vtkAppendPolyData(publicAPI, model) {\n  // Set our classname\n  model.classHierarchy.push('vtkAppendPolyData');\n\n  publicAPI.requestData = function (inData, outData) {\n    // implement requestData\n    var numberOfInputs = publicAPI.getNumberOfInputPorts();\n\n    if (!numberOfInputs) {\n      vtkErrorMacro('No input specified.');\n      return;\n    }\n\n    if (numberOfInputs === 1) {\n      // pass through filter\n      outData[0] = inData[0];\n      return;\n    } // Allocate output\n\n\n    var output = vtkPolyData.newInstance();\n    var numPts = 0;\n    var pointType = 0;\n    var ttype = 1;\n    var firstType = 1;\n    var numVerts = 0;\n    var numLines = 0;\n    var numStrips = 0;\n    var numPolys = 0; // Field data is propagated to output only if present in all inputs\n\n    var hasPtNormals = true; // assume present by default\n\n    var hasPtTCoords = true;\n    var hasPtScalars = true;\n\n    for (var i = 0; i < numberOfInputs; i++) {\n      var ds = inData[i];\n\n      if (!ds) {\n        // eslint-disable-next-line\n        continue;\n      }\n\n      var dsNumPts = ds.getPoints().getNumberOfPoints();\n      numPts += dsNumPts;\n      numVerts += ds.getVerts().getNumberOfValues();\n      numLines += ds.getLines().getNumberOfValues();\n      numStrips += ds.getStrips().getNumberOfValues();\n      numPolys += ds.getPolys().getNumberOfValues();\n\n      if (dsNumPts) {\n        if (firstType) {\n          firstType = 0;\n          pointType = ds.getPoints().getDataType();\n        }\n\n        ttype = ds.getPoints().getDataType();\n        pointType = pointType > ttype ? pointType : ttype;\n      }\n\n      var ptD = ds.getPointData();\n\n      if (ptD) {\n        hasPtNormals = hasPtNormals && ptD.getNormals() !== null;\n        hasPtTCoords = hasPtTCoords && ptD.getTCoords() !== null;\n        hasPtScalars = hasPtScalars && ptD.getScalars() !== null;\n      } else {\n        hasPtNormals = false;\n        hasPtTCoords = false;\n        hasPtScalars = false;\n      }\n    }\n\n    if (model.outputPointsPrecision === DesiredOutputPrecision.SINGLE) {\n      pointType = VtkDataTypes.FLOAT;\n    } else if (model.outputPointsPrecision === DesiredOutputPrecision.DOUBLE) {\n      pointType = VtkDataTypes.DOUBLE;\n    }\n\n    var points = vtkPoints.newInstance({\n      dataType: pointType\n    });\n    points.setNumberOfPoints(numPts);\n    var pointData = points.getData();\n    var vertData = new Uint32Array(numVerts);\n    var lineData = new Uint32Array(numLines);\n    var stripData = new Uint32Array(numStrips);\n    var polyData = new Uint32Array(numPolys);\n    var newPtNormals = null;\n    var newPtTCoords = null;\n    var newPtScalars = null;\n    var lds = inData[numberOfInputs - 1];\n\n    if (hasPtNormals) {\n      var dsNormals = lds.getPointData().getNormals();\n      newPtNormals = vtkDataArray.newInstance({\n        numberOfComponents: 3,\n        numberOfTuples: numPts,\n        size: 3 * numPts,\n        dataType: dsNormals.getDataType(),\n        name: dsNormals.getName()\n      });\n    }\n\n    if (hasPtTCoords) {\n      var dsTCoords = lds.getPointData().getTCoords();\n      newPtTCoords = vtkDataArray.newInstance({\n        numberOfComponents: 2,\n        numberOfTuples: numPts,\n        size: 2 * numPts,\n        dataType: dsTCoords.getDataType(),\n        name: dsTCoords.getName()\n      });\n    }\n\n    if (hasPtScalars) {\n      var dsScalars = lds.getPointData().getScalars();\n      newPtScalars = vtkDataArray.newInstance({\n        numberOfComponents: dsScalars.getNumberOfComponents(),\n        numberOfTuples: numPts,\n        size: numPts * dsScalars.getNumberOfComponents(),\n        dataType: dsScalars.getDataType(),\n        name: dsScalars.getName()\n      });\n    }\n\n    numPts = 0;\n    numVerts = 0;\n    numLines = 0;\n    numStrips = 0;\n    numPolys = 0;\n\n    for (var _i = 0; _i < numberOfInputs; _i++) {\n      var _ds = inData[_i];\n      pointData.set(_ds.getPoints().getData(), numPts * 3);\n      appendCellData(vertData, _ds.getVerts().getData(), numPts, numVerts);\n      numVerts += _ds.getVerts().getNumberOfValues();\n      appendCellData(lineData, _ds.getLines().getData(), numPts, numLines);\n      numLines += _ds.getLines().getNumberOfValues();\n      appendCellData(stripData, _ds.getStrips().getData(), numPts, numStrips);\n      numStrips += _ds.getStrips().getNumberOfValues();\n      appendCellData(polyData, _ds.getPolys().getData(), numPts, numPolys);\n      numPolys += _ds.getPolys().getNumberOfValues();\n\n      var dsPD = _ds.getPointData();\n\n      if (hasPtNormals) {\n        var ptNorms = dsPD.getNormals();\n        newPtNormals.getData().set(ptNorms.getData(), numPts * 3);\n      }\n\n      if (hasPtTCoords) {\n        var ptTCoords = dsPD.getTCoords();\n        newPtTCoords.getData().set(ptTCoords.getData(), numPts * 2);\n      }\n\n      if (hasPtScalars) {\n        var ptScalars = dsPD.getScalars();\n        newPtScalars.getData().set(ptScalars.getData(), numPts * newPtScalars.getNumberOfComponents());\n      }\n\n      numPts += _ds.getPoints().getNumberOfPoints();\n    }\n\n    output.setPoints(points);\n    output.getVerts().setData(vertData);\n    output.getLines().setData(lineData);\n    output.getStrips().setData(stripData);\n    output.getPolys().setData(polyData);\n\n    if (newPtNormals) {\n      output.getPointData().setNormals(newPtNormals);\n    }\n\n    if (newPtTCoords) {\n      output.getPointData().setTCoords(newPtTCoords);\n    }\n\n    if (newPtScalars) {\n      output.getPointData().setScalars(newPtScalars);\n    }\n\n    outData[0] = output;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  outputPointsPrecision: DesiredOutputPrecision.DEFAULT\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.setGet(publicAPI, model, ['outputPointsPrecision']); // Make this a VTK object\n\n  macro.obj(publicAPI, model); // Also make it an algorithm with one input and one output\n\n  macro.algo(publicAPI, model, 1, 1); // Object specific methods\n\n  vtkAppendPolyData(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkAppendPolyData'); // ----------------------------------------------------------------------------\n\nvar vtkAppendPolyData$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkAppendPolyData$1 as default, extend, newInstance };\n","import { Enums, Types } from '@cornerstonejs/core';\nimport vtkCellArray from '@kitware/vtk.js/Common/Core/CellArray';\nimport vtkPoints from '@kitware/vtk.js/Common/Core/Points';\nimport vtkPolyData from '@kitware/vtk.js/Common/DataModel/PolyData';\nimport { ToolGroupSpecificContourRepresentation } from '../../../types';\n\n/**\n * If the segment specific config exists for the given segment id, it returns\n * the segment specific config. Otherwise, it looks for the segment specific\n * config for the given index. If it doesn't exist, it returns null.\n *\n * @param contourRepresentation -  The representation object that is passed\n * to the tool.\n * @param segmentId -  The id of the segment.\n * @param index -  The index of the segment in the list of segments.\n * @returns the segment specific config for the given segment id.\n *\n */\nexport function getSegmentSpecificConfig(\n  contourRepresentation: ToolGroupSpecificContourRepresentation,\n  segmentId: string,\n  index: number\n) {\n  let segmentSpecificConfig =\n    contourRepresentation.segmentSpecificConfig?.[segmentId];\n\n  if (!segmentSpecificConfig) {\n    // try the index\n    segmentSpecificConfig =\n      contourRepresentation.segmentSpecificConfig?.[index];\n  }\n\n  if (!segmentSpecificConfig) {\n    return null;\n  }\n\n  return segmentSpecificConfig.CONTOUR;\n}\n\n/**\n * takes a geometry object as an argument\n * and throws an error if the geometry object is not a contour\n * @param geometry -  The geometry object to be rendered.\n */\nexport function validateGeometry(geometry: Types.IGeometry): void {\n  if (!geometry) {\n    throw new Error(`No contours found for geometryId ${geometry.id}`);\n  }\n\n  const geometryId = geometry.id;\n\n  if (geometry.type !== Enums.GeometryType.CONTOUR) {\n    throw new Error(\n      `Geometry type ${geometry.type} not supported for rendering.`\n    );\n  }\n\n  if (!geometry.data) {\n    console.warn(\n      `No contours found for geometryId ${geometryId}. Skipping render.`\n    );\n    return;\n  }\n}\n\n/**\n * It takes a contourSet and returns a vtkPolyData for that contourSet. A contour set\n * is a collection of contours. Each contour is a collection of points. Each point\n * is x,y,z in the world coordinate system.\n *\n * @param contourSet -  the contour set that you want to convert to polyData\n * @returns A vtkPolyData object\n */\nexport function getPolyData(contourSet: Types.IContourSet) {\n  const pointArray = [];\n\n  const points = vtkPoints.newInstance();\n  const lines = vtkCellArray.newInstance();\n\n  // this variable will indicate the index of the first point in the current line\n  // so we can correctly generate the point index list to add in the cellArray\n  let pointIndex = 0;\n  contourSet.getContours().forEach((contour: Types.IContour) => {\n    const pointList = contour.getPoints();\n    const flatPoints = contour.getFlatPointsArray();\n    const type = contour.getType();\n\n    // creating a point index list that defines a line\n    const pointIndexes = pointList.map(\n      (_, pointListIndex) => pointListIndex + pointIndex\n    );\n\n    // if close planar, add the first point index to the list\n    if (type === Enums.ContourType.CLOSED_PLANAR) {\n      pointIndexes.push(pointIndexes[0]);\n    }\n\n    const linePoints = Float32Array.from(flatPoints);\n    // add the current points into the point list\n    pointArray.push(...linePoints);\n    // add the point indexes into the cell array\n    lines.insertNextCell([...pointIndexes]);\n    // update the first point index\n    pointIndex = pointIndex + pointList.length;\n  });\n\n  // converts the pointArray into vtkPoints\n  points.setData(pointArray, 3);\n\n  // creates the polyData\n  const polygon = vtkPolyData.newInstance();\n  polygon.setPoints(points);\n  polygon.setLines(lines);\n\n  return polygon;\n}\n","type ConfigCache = {\n  segmentsHidden: Set<number>;\n  outlineWidthActive: number;\n  visibility: boolean;\n};\n\n/**\n * Config cache is used to store the config for a given segmentation\n * representation. This is used to avoid having to recompute the config\n * every time the user changes the active segment, and also for performance\n * reasons.\n */\nconst configCachePerSegmentationRepresentationUID = new Map();\n\nexport function getConfigCache(\n  segmentationRepresentationUID: string\n): ConfigCache {\n  return configCachePerSegmentationRepresentationUID.get(\n    segmentationRepresentationUID\n  );\n}\n\nexport function setConfigCache(\n  segmentationRepresentationUID: string,\n  config: ConfigCache\n) {\n  configCachePerSegmentationRepresentationUID.set(\n    segmentationRepresentationUID,\n    config\n  );\n}\n\nexport function deleteConfigCache(segmentationRepresentationUID: string) {\n  configCachePerSegmentationRepresentationUID.delete(\n    segmentationRepresentationUID\n  );\n}\n","import { cache, Types } from '@cornerstonejs/core';\nimport vtkDataArray from '@kitware/vtk.js/Common/Core/DataArray';\nimport vtkAppendPolyData from '@kitware/vtk.js/Filters/General/AppendPolyData';\nimport vtkActor from '@kitware/vtk.js/Rendering/Core/Actor';\nimport vtkMapper from '@kitware/vtk.js/Rendering/Core/Mapper';\n\nimport {\n  getPolyData,\n  getSegmentSpecificConfig,\n  validateGeometry,\n} from './utils';\n\nimport {\n  SegmentationRepresentationConfig,\n  ToolGroupSpecificContourRepresentation,\n} from '../../../types';\nimport { getConfigCache, setConfigCache } from './contourConfigCache';\n\nexport function addContourSetsToElement(\n  viewport: Types.IVolumeViewport,\n  geometryIds: string[],\n  contourRepresentation: ToolGroupSpecificContourRepresentation,\n  contourRepresentationConfig: SegmentationRepresentationConfig,\n  contourActorUID: string\n) {\n  const { segmentationRepresentationUID, segmentsHidden } =\n    contourRepresentation;\n  const appendPolyData = vtkAppendPolyData.newInstance();\n\n  const scalarToColorMap = new Map();\n  const segmentSpecificMap = new Map();\n\n  geometryIds.forEach((geometryId) => {\n    const geometry = cache.getGeometry(geometryId);\n\n    if (!geometry) {\n      console.warn(\n        `No geometry found for geometryId ${geometryId}. Skipping render.`\n      );\n      return;\n    }\n\n    const segmentIndex = (geometry.data as Types.IContourSet).getSegmentIndex();\n\n    validateGeometry(geometry);\n\n    const segmentSpecificConfig = getSegmentSpecificConfig(\n      contourRepresentation,\n      geometryId,\n      segmentIndex\n    );\n\n    const contourSet = geometry.data;\n    const polyData = getPolyData(contourSet);\n    const color = contourSet.getColor();\n\n    const size = polyData.getPoints().getNumberOfPoints();\n\n    const scalars = vtkDataArray.newInstance({\n      size: size * 4,\n      numberOfComponents: 4,\n      dataType: 'Uint8Array',\n    });\n    for (let i = 0; i < size; ++i) {\n      scalars.setTuple(i, [...color, 255]);\n    }\n    polyData.getPointData().setScalars(scalars);\n\n    if (segmentSpecificConfig) {\n      segmentSpecificMap.set(segmentIndex, segmentSpecificConfig);\n    }\n\n    scalarToColorMap.set(segmentIndex, [\n      ...color,\n      segmentsHidden.has(segmentIndex) ? 0 : 255,\n    ]);\n\n    segmentIndex === 0\n      ? appendPolyData.setInputData(polyData)\n      : appendPolyData.addInputData(polyData);\n  });\n\n  const polyDataOutput = appendPolyData.getOutputData();\n\n  const outlineWidthActive =\n    contourRepresentationConfig.representations.CONTOUR.outlineWidthActive;\n\n  const mapper = vtkMapper.newInstance();\n  mapper.setInputData(polyDataOutput);\n\n  const actor = vtkActor.newInstance();\n  actor.setMapper(mapper);\n  actor.getProperty().setLineWidth(outlineWidthActive);\n\n  // set the config cache for later update of the contour\n  setConfigCache(\n    segmentationRepresentationUID,\n    Object.assign({}, getConfigCache(segmentationRepresentationUID), {\n      segmentsHidden: new Set(segmentsHidden),\n      segmentSpecificMap,\n      outlineWidthActive,\n    })\n  );\n\n  actor.setForceOpaque(true);\n\n  viewport.addActor({\n    uid: contourActorUID,\n    actor: actor as unknown as Types.Actor,\n  });\n  viewport.resetCamera();\n  viewport.render();\n}\n","import { cache, Types } from '@cornerstonejs/core';\nimport vtkActor from '@kitware/vtk.js/Rendering/Core/Actor';\n\nimport {\n  SegmentationRepresentationConfig,\n  ToolGroupSpecificContourRepresentation,\n} from '../../../types';\nimport { getConfigCache, setConfigCache } from './contourConfigCache';\nimport { getSegmentSpecificConfig } from './utils';\n\nexport function updateContourSets(\n  viewport: Types.IVolumeViewport,\n  geometryIds: string[],\n  contourRepresentation: ToolGroupSpecificContourRepresentation,\n  contourRepresentationConfig: SegmentationRepresentationConfig,\n  contourActorUID: string\n) {\n  const { segmentationRepresentationUID, segmentsHidden } =\n    contourRepresentation;\n  const newContourConfig = contourRepresentationConfig.representations.CONTOUR;\n  const cachedConfig = getConfigCache(segmentationRepresentationUID);\n\n  const contourSetsActor = viewport.getActor(contourActorUID);\n\n  if (!contourSetsActor) {\n    console.warn(\n      `No contour actor found for actorUID ${contourActorUID}. Skipping render.`\n    );\n    return;\n  }\n\n  const { actor } = contourSetsActor;\n\n  const newOutlineWithActive = newContourConfig.outlineWidthActive;\n\n  if (cachedConfig?.outlineWidthActive !== newOutlineWithActive) {\n    (actor as unknown as vtkActor)\n      .getProperty()\n      .setLineWidth(newOutlineWithActive);\n\n    setConfigCache(\n      segmentationRepresentationUID,\n      Object.assign({}, cachedConfig, {\n        outlineWidthActive: newOutlineWithActive,\n      })\n    );\n  }\n\n  const mapper = (actor as unknown as vtkActor).getMapper();\n  const lut = mapper.getLookupTable();\n\n  const segmentsToSetToInvisible = [];\n  const segmentsToSetToVisible = [];\n\n  for (const segmentIndex of segmentsHidden) {\n    if (!cachedConfig.segmentsHidden.has(segmentIndex)) {\n      segmentsToSetToInvisible.push(segmentIndex);\n    }\n  }\n\n  // the other way around\n  for (const segmentIndex of cachedConfig.segmentsHidden) {\n    if (!segmentsHidden.has(segmentIndex)) {\n      segmentsToSetToVisible.push(segmentIndex);\n    }\n  }\n\n  const mergedInvisibleSegments = Array.from(cachedConfig.segmentsHidden)\n    .filter((segmentIndex) => !segmentsToSetToVisible.includes(segmentIndex))\n    .concat(segmentsToSetToInvisible);\n\n  const { contourSets, segmentSpecificConfigs } = geometryIds.reduce(\n    (acc, geometryId) => {\n      const geometry = cache.getGeometry(geometryId);\n      const { data: contourSet } = geometry;\n      const segmentIndex = (contourSet as Types.IContourSet).getSegmentIndex();\n      const segmentSpecificConfig = getSegmentSpecificConfig(\n        contourRepresentation,\n        geometryId,\n        segmentIndex\n      );\n\n      acc.contourSets.push(contourSet);\n      acc.segmentSpecificConfigs[segmentIndex] = segmentSpecificConfig ?? {};\n\n      return acc;\n    },\n    { contourSets: [], segmentSpecificConfigs: {} }\n  );\n\n  const affectedSegments = [\n    ...mergedInvisibleSegments,\n    ...segmentsToSetToVisible,\n  ];\n\n  const hasCustomSegmentSpecificConfig = Object.values(\n    segmentSpecificConfigs\n  ).some((config) => Object.keys(config).length > 0);\n\n  let polyDataModified = false;\n\n  if (affectedSegments.length || hasCustomSegmentSpecificConfig) {\n    const appendPolyData = mapper.getInputData();\n    const appendScalars = appendPolyData.getPointData().getScalars();\n    const appendScalarsData = appendScalars.getData();\n    // below we will only manipulate the polyData of the contourSets that are affected\n    // by picking the correct offset in the scalarData array\n    let offset = 0;\n    contourSets.forEach((contourSet) => {\n      const segmentIndex = (contourSet as Types.IContourSet).getSegmentIndex();\n      const size = contourSet.getTotalNumberOfPoints();\n\n      if (\n        affectedSegments.includes(segmentIndex) ||\n        segmentSpecificConfigs[segmentIndex]?.fillAlpha // Todo: add others\n      ) {\n        const color = contourSet.getColor();\n        let visibility = mergedInvisibleSegments.includes(segmentIndex)\n          ? 0\n          : 255;\n\n        const segmentConfig = segmentSpecificConfigs[segmentIndex];\n        if (segmentConfig.fillAlpha !== undefined) {\n          visibility = segmentConfig.fillAlpha * 255;\n        }\n\n        for (let i = 0; i < size; ++i) {\n          appendScalarsData[offset + i * 4] = color[0];\n          appendScalarsData[offset + i * 4 + 1] = color[1];\n          appendScalarsData[offset + i * 4 + 2] = color[2];\n          appendScalarsData[offset + i * 4 + 3] = visibility;\n        }\n\n        polyDataModified = true;\n      }\n\n      offset = offset + size * 4;\n    });\n\n    if (polyDataModified) {\n      appendPolyData.modified();\n    }\n\n    setConfigCache(\n      segmentationRepresentationUID,\n      Object.assign({}, cachedConfig, {\n        segmentsHidden: new Set(segmentsHidden),\n      })\n    );\n\n    mapper.setLookupTable(lut);\n  }\n\n  viewport.render();\n}\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Remove the contour representation from the viewport's HTML Element.\n * NOTE: This function should not be called directly.\n *\n * @param element - The element that the segmentation is being added to.\n * @param segmentationRepresentationUID - The UID of the contour representation to remove.\n * @param removeFromCache - boolean\n *\n * @internal\n */\nfunction removeContourFromElement(\n  element: HTMLDivElement,\n  segmentationRepresentationUID: string,\n  removeFromCache = false // Todo\n): void {\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  const actorEntries = (viewport as Types.IVolumeViewport).getActors();\n\n  // remove actors whose id has the same prefix as the segmentationRepresentationUID\n  const actorUIDsToRemove = actorEntries\n    .map(({ uid }) =>\n      uid.includes(segmentationRepresentationUID) ? uid : undefined\n    )\n    .filter(Boolean);\n\n  // @ts-ignore\n  viewport.removeActors(actorUIDsToRemove);\n}\n\nexport default removeContourFromElement;\n","import {\n  getEnabledElementByIds,\n  Types,\n  utilities as csUtils,\n  StackViewport,\n} from '@cornerstonejs/core';\n\nimport Representations from '../../../enums/SegmentationRepresentations';\nimport * as SegmentationConfig from '../../../stateManagement/segmentation/config/segmentationConfig';\nimport * as SegmentationState from '../../../stateManagement/segmentation/segmentationState';\nimport { getToolGroup } from '../../../store/ToolGroupManager';\nimport {\n  RepresentationPublicInput,\n  SegmentationRepresentationConfig,\n  ToolGroupSpecificRepresentation,\n} from '../../../types/SegmentationStateTypes';\nimport { addOrUpdateContourSets } from './addOrUpdateContourSets';\nimport removeContourFromElement from './removeContourFromElement';\nimport { deleteConfigCache } from './contourConfigCache';\n\n/**\n * It adds a new segmentation representation to the segmentation state\n * @param toolGroupId - The id of the toolGroup that the segmentation\n * belongs to\n * @param representationInput - RepresentationPublicInput\n * @param toolGroupSpecificConfig - The configuration that is specific to the toolGroup.\n * @returns The segmentationRepresentationUID\n */\nasync function addSegmentationRepresentation(\n  toolGroupId: string,\n  representationInput: RepresentationPublicInput,\n  toolGroupSpecificConfig?: SegmentationRepresentationConfig\n): Promise<string> {\n  const { segmentationId } = representationInput;\n  const segmentationRepresentationUID = csUtils.uuidv4();\n  // Todo: make these configurable during representation input by user\n  const segmentsHidden = new Set() as Set<number>;\n  const visibility = true;\n  const colorLUTIndex = 0;\n  const active = true;\n  const toolGroupSpecificRepresentation: ToolGroupSpecificRepresentation = {\n    segmentationId,\n    segmentationRepresentationUID,\n    type: Representations.Contour,\n    segmentsHidden,\n    colorLUTIndex,\n    active,\n    segmentationRepresentationSpecificConfig: {},\n    segmentSpecificConfig: {},\n    config: {},\n  };\n  // Update the toolGroup specific configuration\n  if (toolGroupSpecificConfig) {\n    // Since setting configuration on toolGroup will trigger a segmentationRepresentation\n    // update event, we don't want to trigger the event twice, so we suppress\n    // the first one\n    const currentToolGroupConfig =\n      SegmentationConfig.getToolGroupSpecificConfig(toolGroupId);\n    const mergedConfig = csUtils.deepMerge(\n      currentToolGroupConfig,\n      toolGroupSpecificConfig\n    );\n    SegmentationConfig.setToolGroupSpecificConfig(toolGroupId, {\n      renderInactiveSegmentations:\n        mergedConfig.renderInactiveSegmentations || true,\n      representations: {\n        ...mergedConfig.representations,\n      },\n    });\n  }\n  SegmentationState.addSegmentationRepresentation(\n    toolGroupId,\n    toolGroupSpecificRepresentation\n  );\n  return segmentationRepresentationUID;\n}\n\n/**\n * It removes a segmentation representation from the tool group's viewports and\n * from the segmentation state\n * @param toolGroupId - The toolGroupId of the toolGroup that the\n * segmentationRepresentation belongs to.\n * @param segmentationRepresentationUID - This is the unique identifier\n * for the segmentation representation.\n * @param renderImmediate - If true, the viewport will be rendered\n * immediately after the segmentation representation is removed.\n */\nfunction removeSegmentationRepresentation(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  renderImmediate = false\n): void {\n  _removeContourFromToolGroupViewports(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n  SegmentationState.removeSegmentationRepresentation(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n\n  deleteConfigCache(segmentationRepresentationUID);\n\n  if (renderImmediate) {\n    const viewportsInfo = getToolGroup(toolGroupId).getViewportsInfo();\n    viewportsInfo.forEach(({ viewportId, renderingEngineId }) => {\n      const enabledElement = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n      enabledElement.viewport.render();\n    });\n  }\n}\n\n/**\n * It renders the contour sets for the given segmentation\n * @param viewport - The viewport object\n * @param representation - ToolGroupSpecificRepresentation\n * @param toolGroupConfig - This is the configuration object for the tool group\n */\nasync function render(\n  viewport: Types.IVolumeViewport,\n  representationConfig: ToolGroupSpecificRepresentation,\n  toolGroupConfig: SegmentationRepresentationConfig\n): Promise<void> {\n  const { segmentationId } = representationConfig;\n  const segmentation = SegmentationState.getSegmentation(segmentationId);\n  const contourData = segmentation.representationData[Representations.Contour];\n  const { geometryIds } = contourData;\n\n\n  // We don't have a good way to handle stack viewports for contours at the moment.\n  // Plus, if we add a segmentation to one viewport, it gets added to all the viewports in the toolGroup too.\n  if (viewport instanceof StackViewport) {\n    return;\n  }\n\n  if (!geometryIds?.length) {\n    console.warn(\n      `No contours found for segmentationId ${segmentationId}. Skipping render.`\n    );\n  }\n\n  // add the contour sets to the viewport\n  addOrUpdateContourSets(\n    viewport,\n    geometryIds,\n    representationConfig,\n    toolGroupConfig\n  );\n}\n\nfunction _removeContourFromToolGroupViewports(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): void {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    throw new Error(`ToolGroup with ToolGroupId ${toolGroupId} does not exist`);\n  }\n\n  const { viewportsInfo } = toolGroup;\n\n  for (const viewportInfo of viewportsInfo) {\n    const { viewportId, renderingEngineId } = viewportInfo;\n    const enabledElement = getEnabledElementByIds(\n      viewportId,\n      renderingEngineId\n    );\n    removeContourFromElement(\n      enabledElement.viewport.element,\n      segmentationRepresentationUID\n    );\n  }\n}\n\nexport default {\n  render,\n  addSegmentationRepresentation,\n  removeSegmentationRepresentation,\n};\n","import { Types } from '@cornerstonejs/core';\n\nimport {\n  SegmentationRepresentationConfig,\n  ToolGroupSpecificContourRepresentation,\n} from '../../../types';\nimport { addContourSetsToElement } from './addContourSetsToElement';\nimport { updateContourSets } from './updateContourSets';\n\nexport function addOrUpdateContourSets(\n  viewport: Types.IVolumeViewport,\n  geometryIds: string[],\n  contourRepresentation: ToolGroupSpecificContourRepresentation,\n  contourRepresentationConfig: SegmentationRepresentationConfig\n) {\n  const { segmentationRepresentationUID } = contourRepresentation;\n  const actorUID = `CONTOUR_${segmentationRepresentationUID}`;\n  const actor = viewport.getActor(actorUID);\n\n  const addOrUpdateFn = actor ? updateContourSets : addContourSetsToElement;\n  addOrUpdateFn(\n    viewport,\n    geometryIds,\n    contourRepresentation,\n    contourRepresentationConfig,\n    actorUID\n  );\n}\n","import SegmentationRepresentations from '../../enums/SegmentationRepresentations';\nimport { labelmapDisplay } from '../../tools/displayTools/Labelmap';\nimport { contourDisplay } from '../../tools/displayTools/Contour';\n\nimport {\n  getSegmentationRepresentations,\n  getSegmentationRepresentationByUID,\n} from './segmentationState';\n\n/**\n * Remove the segmentation representation (representation) from the viewports of the toolGroup.\n * @param toolGroupId - The Id of the toolGroup to remove the segmentation from.\n * @param segmentationRepresentationUIDs - The UIDs of the segmentation representations to remove.\n * @param immediate - if True the viewport will be re-rendered immediately.\n */\nfunction removeSegmentationsFromToolGroup(\n  toolGroupId: string,\n  segmentationRepresentationUIDs?: string[] | undefined,\n  immediate?: boolean\n): void {\n  const toolGroupSegRepresentations =\n    getSegmentationRepresentations(toolGroupId);\n\n  if (\n    !toolGroupSegRepresentations ||\n    toolGroupSegRepresentations.length === 0\n  ) {\n    return;\n  }\n\n  const toolGroupSegRepresentationUIDs = toolGroupSegRepresentations.map(\n    (representation) => representation.segmentationRepresentationUID\n  );\n\n  let segRepresentationUIDsToRemove = segmentationRepresentationUIDs;\n  if (segRepresentationUIDsToRemove) {\n    // make sure the segmentationDataUIDs that are going to be removed belong\n    // to the toolGroup\n    const invalidSegRepresentationUIDs = segmentationRepresentationUIDs.filter(\n      (segRepresentationUID) =>\n        !toolGroupSegRepresentationUIDs.includes(segRepresentationUID)\n    );\n\n    if (invalidSegRepresentationUIDs.length > 0) {\n      throw new Error(\n        `The following segmentationRepresentationUIDs are not part of the toolGroup: ${JSON.stringify(\n          invalidSegRepresentationUIDs\n        )}`\n      );\n    }\n  } else {\n    // remove all segmentation representations\n    segRepresentationUIDsToRemove = toolGroupSegRepresentationUIDs;\n  }\n\n  segRepresentationUIDsToRemove.forEach((segmentationDataUID) => {\n    _removeSegmentation(toolGroupId, segmentationDataUID, immediate);\n  });\n}\n\nfunction _removeSegmentation(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  immediate?: boolean\n): void {\n  const segmentationRepresentation = getSegmentationRepresentationByUID(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n\n  const { type } = segmentationRepresentation;\n\n  if (type === SegmentationRepresentations.Labelmap) {\n    labelmapDisplay.removeSegmentationRepresentation(\n      toolGroupId,\n      segmentationRepresentationUID,\n      immediate\n    );\n  } else if (type === SegmentationRepresentations.Contour) {\n    contourDisplay.removeSegmentationRepresentation(\n      toolGroupId,\n      segmentationRepresentationUID,\n      immediate\n    );\n  } else {\n    throw new Error(`The representation ${type} is not supported yet`);\n  }\n}\n\nexport default removeSegmentationsFromToolGroup;\n","import { SegmentationPublicInput } from '../../../types/SegmentationStateTypes';\nimport { cache } from '@cornerstonejs/core';\nimport { LabelmapSegmentationData } from '../../../types/LabelmapTypes';\n\nfunction validate(segmentationInput: SegmentationPublicInput): void {\n  if (!segmentationInput.representation.data) {\n    throw new Error(\n      'The segmentationInput.representationData.data is undefined, please provide a valid representationData.data'\n    );\n  }\n\n  const representationData = segmentationInput.representation\n    .data as LabelmapSegmentationData;\n\n  if (!representationData.volumeId) {\n    throw new Error(\n      'The segmentationInput.representationData.volumeId is undefined, please provide a valid representationData.volumeId'\n    );\n  }\n\n  const cachedVolume = cache.getVolume(representationData.volumeId);\n\n  if (!cachedVolume) {\n    throw new Error(\n      `volumeId of ${representationData.volumeId} not found in cache, you should load and cache volume before adding segmentation`\n    );\n  }\n}\n\nexport default validate;\n","import * as Enums from '../../../enums';\nimport { SegmentationPublicInput } from '../../../types/SegmentationStateTypes';\nimport validateLabelmap from '../../../tools/displayTools/Labelmap/validateRepresentationData';\n\n/**\n * Checks if the segmentationInputArray is valid meaning it contains\n * correct representationProps for the representation type that is being used.\n *\n * @param segmentationInputArray - Array of segmentation inputs\n * @internal\n */\nfunction validateSegmentationInput(\n  segmentationInputArray: SegmentationPublicInput[]\n): void {\n  if (!segmentationInputArray || !segmentationInputArray.length) {\n    throw new Error('The segmentationInputArray is undefined or empty array');\n  }\n\n  segmentationInputArray.forEach((segmentationInput) => {\n    if (segmentationInput.segmentationId === undefined) {\n      throw new Error(\n        'The segmentationInput.segmentationId is undefined, please provide a valid segmentationId'\n      );\n    }\n\n    if (segmentationInput.representation === undefined) {\n      throw new Error(\n        'The segmentationInput.representation is undefined, please provide a valid representation'\n      );\n    }\n\n    if (\n      segmentationInput.representation.type ===\n      Enums.SegmentationRepresentations.Labelmap\n    ) {\n      validateLabelmap(segmentationInput);\n    }\n  });\n}\n\nexport default validateSegmentationInput;\n","import _cloneDeep from 'lodash.clonedeep';\nimport { SegmentationPublicInput } from '../../types/SegmentationStateTypes';\nimport { validateSegmentationInput } from './helpers';\nimport { addSegmentation as addSegmentationToState } from './segmentationState';\n/**\n * Adds the segmentation to the cornerstone3D segmentation state. It should be\n * noted that segmentations are not added to any toolGroup's viewports. In order to\n * do so, you should add a \"representation\" of the segmentation to the toolGroup\n * using addSegmentationRepresentations helper. The reason for this is that there\n * can be multiple representations of the same segmentation (e.g. Labelmap and\n * Contour, etc. - Currently only Labelmap representations is supported).\n * @param segmentationInputArray - The array of segmentation input, each of which\n * defining the segmentationId and the main representation data for the segmentation.\n */\nfunction addSegmentations(\n  segmentationInputArray: SegmentationPublicInput[]\n): void {\n  validateSegmentationInput(segmentationInputArray);\n\n  segmentationInputArray.map((segInput) => {\n    const segmentationInput = _cloneDeep(segInput);\n\n    addSegmentationToState(segmentationInput);\n  });\n}\n\nexport default addSegmentations;\n","import _cloneDeep from 'lodash.clonedeep';\nimport {\n  SegmentationRepresentationConfig,\n  RepresentationPublicInput,\n} from '../../types/SegmentationStateTypes';\nimport Representations from '../../enums/SegmentationRepresentations';\nimport { getToolGroup } from '../../store/ToolGroupManager';\n\nimport { labelmapDisplay } from '../../tools/displayTools/Labelmap';\nimport { contourDisplay } from '../../tools/displayTools/Contour';\n\n/**\n * Set the specified segmentation representations on the viewports of the specified\n * toolGroup. It accepts a second argument which is a toolGroup specific representation\n * configuration.\n *\n * @param toolGroupId - The Id of the toolGroup to add the segmentation representations to\n * @param representationInputArray - An array of segmentation representations to add to the toolGroup\n * @param toolGroupSpecificRepresentationConfig - The toolGroup specific configuration\n * for the segmentation representations\n */\nasync function addSegmentationRepresentations(\n  toolGroupId: string,\n  representationInputArray: RepresentationPublicInput[],\n  toolGroupSpecificRepresentationConfig?: SegmentationRepresentationConfig\n): Promise<string[]> {\n  // Check if there exists a toolGroup with the toolGroupId\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (!toolGroup) {\n    throw new Error(`No tool group found for toolGroupId: ${toolGroupId}`);\n  }\n\n  const promises = representationInputArray.map((representationInput) => {\n    return _addSegmentationRepresentation(\n      toolGroupId,\n      representationInput,\n      toolGroupSpecificRepresentationConfig\n    );\n  });\n\n  const segmentationRepresentationUIDs = await Promise.all(promises);\n\n  return segmentationRepresentationUIDs;\n}\n\nasync function _addSegmentationRepresentation(\n  toolGroupId: string,\n  representationInput: RepresentationPublicInput,\n  toolGroupSpecificRepresentationConfig?: SegmentationRepresentationConfig\n): Promise<string> {\n  let segmentationRepresentationUID;\n\n  if (representationInput.type === Representations.Labelmap) {\n    segmentationRepresentationUID =\n      await labelmapDisplay.addSegmentationRepresentation(\n        toolGroupId,\n        representationInput,\n        toolGroupSpecificRepresentationConfig\n      );\n  } else if (representationInput.type === Representations.Contour) {\n    segmentationRepresentationUID =\n      await contourDisplay.addSegmentationRepresentation(\n        toolGroupId,\n        representationInput,\n        toolGroupSpecificRepresentationConfig\n      );\n  } else {\n    throw new Error(\n      `The representation type ${representationInput.type} is not supported`\n    );\n  }\n\n  return segmentationRepresentationUID;\n}\n\nexport default addSegmentationRepresentations;\n","import { ToolGroupSpecificRepresentation } from '../../types/SegmentationStateTypes';\nimport { getDefaultSegmentationStateManager } from './segmentationState';\nimport { triggerSegmentationRepresentationModified } from './triggerSegmentationEvents';\n\n/**\n * Get the active segmentation representation for the tool group with\n * the given toolGroupId.\n * @param toolGroupId - The Id of the tool group\n * @returns The active segmentation representation for the tool group.\n */\nfunction getActiveSegmentationRepresentation(\n  toolGroupId: string\n): ToolGroupSpecificRepresentation {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n\n  const toolGroupSegmentationRepresentations =\n    segmentationStateManager.getSegmentationRepresentations(toolGroupId);\n\n  if (!toolGroupSegmentationRepresentations) {\n    return;\n  }\n\n  const activeRepresentation = toolGroupSegmentationRepresentations.find(\n    (representation) => representation.active\n  );\n\n  return activeRepresentation;\n}\n\n/**\n * Set the active segmentation for the given tool group for all its viewports\n *\n * @param toolGroupId - The Id of the tool group to set the active\n * segmentation for.\n * @param segmentationRepresentationUID - The id of the segmentation representation to set as\n * active.\n */\nfunction setActiveSegmentationRepresentation(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): void {\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n\n  segmentationStateManager.setActiveSegmentationRepresentation(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n\n  triggerSegmentationRepresentationModified(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\nexport {\n  // get\n  getActiveSegmentationRepresentation,\n  // set\n  setActiveSegmentationRepresentation,\n};\n","import { getActiveSegmentationRepresentation } from './activeSegmentation';\n\nimport { getSegmentation } from '../../stateManagement/segmentation/segmentationState';\nimport { triggerSegmentationModified } from './triggerSegmentationEvents';\n\n/**\n * Get the locked status for a segment index in a segmentation\n * @param segmentationId - The id of the segmentation that the segment\n * belongs to.\n * @param segmentIndex - The index of the segment\n * @returns A boolean value indicating whether the segment is locked or not.\n */\nfunction isSegmentIndexLocked(\n  segmentationId: string,\n  segmentIndex: number\n): boolean {\n  const segmentation = getSegmentation(segmentationId);\n\n  if (!segmentation) {\n    throw new Error(`No segmentation state found for ${segmentationId}`);\n  }\n\n  const { segmentsLocked } = segmentation;\n  return segmentsLocked.has(segmentIndex);\n}\n\n/**\n * Set the locked status of a segment index in a segmentation\n * @param segmentationId - The id of the segmentation whose segment\n * index is being modified.\n * @param segmentIndex - The index of the segment to lock/unlock.\n */\nfunction setSegmentIndexLocked(\n  segmentationId: string,\n  segmentIndex: number,\n  locked = true\n): void {\n  const segmentation = getSegmentation(segmentationId);\n\n  if (!segmentation) {\n    throw new Error(`No segmentation state found for ${segmentationId}`);\n  }\n\n  const { segmentsLocked } = segmentation;\n\n  if (locked) {\n    segmentsLocked.add(segmentIndex);\n  } else {\n    segmentsLocked.delete(segmentIndex);\n  }\n\n  triggerSegmentationModified(segmentationId);\n}\n\n/**\n * Get the locked segments for a segmentation\n * @param segmentationId - The id of the segmentation to get locked\n * segments for.\n * @returns An array of locked segment indices.\n */\nfunction getLockedSegments(segmentationId: string): number[] | [] {\n  const segmentation = getSegmentation(segmentationId);\n\n  if (!segmentation) {\n    throw new Error(`No segmentation state found for ${segmentationId}`);\n  }\n\n  const { segmentsLocked } = segmentation;\n  return Array.from(segmentsLocked);\n}\n\nexport { isSegmentIndexLocked, setSegmentIndexLocked, getLockedSegments };\n","import { utilities } from '@cornerstonejs/core';\nimport * as SegmentationState from '../../../stateManagement/segmentation/segmentationState';\nimport { Color } from '../../../types/SegmentationStateTypes';\nimport { ColorLUT } from '../../../types/SegmentationStateTypes';\nimport { triggerSegmentationRepresentationModified } from '../triggerSegmentationEvents';\nimport { SegmentationRepresentations } from '../../../enums';\n\n/**\n * addColorLUT - Adds a new color LUT to the state at the given colorLUTIndex.\n * If no colorLUT is provided, a new color LUT is generated.\n *\n * @param colorLUTIndex - the index of the colorLUT in the state\n * @param colorLUT - An array of The colorLUT to set.\n * @returns\n */\nfunction addColorLUT(colorLUT: ColorLUT, colorLUTIndex: number): void {\n  if (!colorLUT) {\n    throw new Error('addColorLUT: colorLUT is required');\n  }\n\n  // Append the \"zero\" (no label) color to the front of the LUT, if necessary.\n  if (!utilities.isEqual(colorLUT[0], [0, 0, 0, 0])) {\n    console.warn(\n      'addColorLUT: [0, 0, 0, 0] color is not provided for the background color (segmentIndex =0), automatically adding it'\n    );\n    colorLUT.unshift([0, 0, 0, 0]);\n  }\n\n  SegmentationState.addColorLUT(colorLUT, colorLUTIndex);\n}\n\n/**\n * It sets the toolGroup's segmentationRepresentation to use the provided\n * colorLUT at the given colorLUTIndex.\n * @param toolGroupId - the id of the toolGroup that renders the representation\n * @param segmentationRepresentationUID - the representationUID for the segmentation\n * @param colorLUTIndex - the index of the colorLUT to use\n */\nfunction setColorLUT(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  colorLUTIndex: number\n): void {\n  const segRepresentation =\n    SegmentationState.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n  if (!segRepresentation) {\n    throw new Error(\n      `setColorLUT: could not find segmentation representation with UID ${segmentationRepresentationUID}`\n    );\n  }\n\n  if (!SegmentationState.getColorLUT(colorLUTIndex)) {\n    throw new Error(\n      `setColorLUT: could not find colorLUT with index ${colorLUTIndex}`\n    );\n  }\n\n  segRepresentation.colorLUTIndex = colorLUTIndex;\n\n  triggerSegmentationRepresentationModified(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\n/**\n * Given a tool group UID, a segmentation representationUID, and a segment index, return the\n * color for that segment. It can be used for segmentation tools that need to\n * display the color of their annotation.\n *\n * @param toolGroupId - The Id of the tool group that owns the segmentation representation.\n * @param segmentationRepresentationUID - The uid of the segmentation representation\n * @param segmentIndex - The index of the segment in the segmentation\n * @returns A color.\n */\nfunction getColorForSegmentIndex(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  segmentIndex: number\n): Color {\n  const segmentationRepresentation =\n    SegmentationState.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n  if (!segmentationRepresentation) {\n    throw new Error(\n      `segmentation representation with UID ${segmentationRepresentationUID} does not exist for tool group ${toolGroupId}`\n    );\n  }\n\n  const { colorLUTIndex } = segmentationRepresentation;\n\n  // get colorLUT\n  const colorLUT = SegmentationState.getColorLUT(colorLUTIndex);\n  return colorLUT[segmentIndex];\n}\n\nfunction setColorForSegmentIndex(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  segmentIndex: number,\n  color: Color\n): void {\n  // Get the reference to the color in the colorLUT.\n  const colorReference = getColorForSegmentIndex(\n    toolGroupId,\n    segmentationRepresentationUID,\n    segmentIndex\n  );\n\n  // Modify the values by reference\n  for (let i = 0; i < color.length; i++) {\n    colorReference[i] = color[i];\n  }\n\n  triggerSegmentationRepresentationModified(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\nexport {\n  getColorForSegmentIndex,\n  addColorLUT,\n  setColorLUT,\n  setColorForSegmentIndex,\n};\n","import { cache, Types } from '@cornerstonejs/core';\nimport * as SegmentationState from '../../../stateManagement/segmentation/segmentationState';\nimport { getSegmentationRepresentations } from '../../../stateManagement/segmentation/segmentationState';\nimport { ToolGroupSpecificRepresentation } from '../../../types/SegmentationStateTypes';\nimport { triggerSegmentationRepresentationModified } from '../triggerSegmentationEvents';\nimport SegmentationRepresentations from '../../../enums/SegmentationRepresentations';\n\nfunction getSegmentationIndices(segmentationId) {\n  const segmentation = SegmentationState.getSegmentation(segmentationId);\n\n  if (segmentation.type === SegmentationRepresentations.Labelmap) {\n    const volume = cache.getVolume(segmentationId);\n    const scalarData = volume.getScalarData();\n\n    const keySet = {};\n    for (let i = 0; i < scalarData.length; i++) {\n      const segmentIndex = scalarData[i];\n      if (segmentIndex !== 0 && !keySet[segmentIndex]) {\n        keySet[segmentIndex] = true;\n      }\n    }\n    return Object.keys(keySet).map((it) => parseInt(it, 10));\n  } else if (segmentation.type === SegmentationRepresentations.Contour) {\n    const geometryIds = segmentation.representationData.CONTOUR?.geometryIds;\n\n    if (!geometryIds) {\n      throw new Error(\n        `No geometryIds found for segmentationId ${segmentationId}`\n      );\n    }\n\n    return geometryIds.map((geometryId) => {\n      const geometry = cache.getGeometry(geometryId) as Types.IGeometry;\n      return (geometry.data as Types.IContourSet).getSegmentIndex();\n    });\n  }\n}\n\n/**\n * Set the visibility of a segmentation representation for a given tool group. It fires\n * a SEGMENTATION_REPRESENTATION_MODIFIED event. Visibility true will show all segments\n * and visibility false will hide all segments\"\n *\n * @triggers SEGMENTATION_REPRESENTATION_MODIFIED\n * @param toolGroupId - The Id of the tool group that contains the segmentation.\n * @param segmentationRepresentationUID - The id of the segmentation representation to modify its visibility.\n * @param visibility - boolean\n */\nfunction setSegmentationVisibility(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  visibility: boolean\n): void {\n  const toolGroupSegmentationRepresentations =\n    getSegmentationRepresentations(toolGroupId);\n\n  if (!toolGroupSegmentationRepresentations) {\n    return;\n  }\n\n  const representation = toolGroupSegmentationRepresentations.find(\n    (representation: ToolGroupSpecificRepresentation) =>\n      representation.segmentationRepresentationUID ===\n      segmentationRepresentationUID\n  );\n\n  if (!representation) {\n    return;\n  }\n\n  const { segmentsHidden, segmentationId } = representation;\n\n  const indices = getSegmentationIndices(segmentationId);\n\n  // if visibility is set to be true, we need to remove all the segments\n  // from the segmentsHidden set, otherwise we need to add all the segments\n  // to the segmentsHidden set\n  if (visibility) {\n    segmentsHidden.clear();\n  } else {\n    indices.forEach((index) => {\n      segmentsHidden.add(index);\n    });\n  }\n\n  triggerSegmentationRepresentationModified(\n    toolGroupId,\n    representation.segmentationRepresentationUID\n  );\n}\n\n/**\n * Get the visibility of a segmentation data for a given tool group.\n *\n * @param toolGroupId - The Id of the tool group that the segmentation\n * data belongs to.\n * @param segmentationRepresentationUID - The id of the segmentation data to get\n * @returns A boolean value that indicates whether the segmentation data is visible or\n * not on the toolGroup\n */\nfunction getSegmentationVisibility(\n  toolGroupId: string,\n  segmentationRepresentationUID: string\n): boolean | undefined {\n  const toolGroupSegmentationRepresentations =\n    getSegmentationRepresentations(toolGroupId);\n\n  const representation = toolGroupSegmentationRepresentations.find(\n    (representation: ToolGroupSpecificRepresentation) =>\n      representation.segmentationRepresentationUID ===\n      segmentationRepresentationUID\n  );\n\n  if (!representation) {\n    return;\n  }\n\n  const { segmentsHidden } = representation;\n\n  return segmentsHidden.size === 0;\n}\n\n/**\n * Set the visibility of the given segment indices to the given visibility. This\n * is a helper to set the visibility of multiple segments at once and reduces\n * the number of events fired.\n *\n * @param toolGroupId -  The tool group id of the segmentation representation.\n * @param segmentationRepresentationUID -  The UID of the segmentation\n * representation.\n * @param segmentIndices -  The indices of the segments to be hidden/shown.\n * @param visibility -  The visibility to set the segments to.\n *\n */\nfunction setSegmentsVisibility(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  segmentIndices: number[],\n  visibility: boolean\n): void {\n  const segRepresentation =\n    SegmentationState.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n  if (!segRepresentation) {\n    return;\n  }\n\n  segmentIndices.forEach((segmentIndex) => {\n    visibility\n      ? segRepresentation.segmentsHidden.delete(segmentIndex)\n      : segRepresentation.segmentsHidden.add(segmentIndex);\n  });\n\n  triggerSegmentationRepresentationModified(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\nfunction setSegmentVisibility(\n  toolGroupId: string,\n  segmentationRepresentationUID: string,\n  segmentIndex: number,\n  visibility: boolean\n): void {\n  const segRepresentation =\n    SegmentationState.getSegmentationRepresentationByUID(\n      toolGroupId,\n      segmentationRepresentationUID\n    );\n\n  if (!segRepresentation) {\n    return;\n  }\n\n  visibility\n    ? segRepresentation.segmentsHidden.delete(segmentIndex)\n    : segRepresentation.segmentsHidden.add(segmentIndex);\n\n  triggerSegmentationRepresentationModified(\n    toolGroupId,\n    segmentationRepresentationUID\n  );\n}\n\nexport {\n  setSegmentationVisibility,\n  getSegmentationVisibility,\n  setSegmentVisibility,\n  setSegmentsVisibility,\n};\n","import { getSegmentation } from './segmentationState';\nimport { triggerSegmentationModified } from './triggerSegmentationEvents';\n\n/**\n * Set the active segment index for a segmentation Id. It fires a global state\n * modified event.\n *\n * @triggers SEGMENTATION_MODIFIED\n * @param segmentationId - The id of the segmentation that the segment belongs to.\n * @param segmentIndex - The index of the segment to be activated.\n */\nfunction setActiveSegmentIndex(\n  segmentationId: string,\n  segmentIndex: number\n): void {\n  const segmentation = getSegmentation(segmentationId);\n\n  if (segmentation?.activeSegmentIndex !== segmentIndex) {\n    segmentation.activeSegmentIndex = segmentIndex;\n\n    triggerSegmentationModified(segmentationId);\n  }\n}\n\n/**\n * Get the active segment index for a segmentation in the global state\n * @param segmentationId - The id of the segmentation to get the active segment index from.\n * @returns The active segment index for the given segmentation.\n */\nfunction getActiveSegmentIndex(segmentationId: string): number | undefined {\n  const segmentation = getSegmentation(segmentationId);\n\n  if (segmentation) {\n    return segmentation.activeSegmentIndex;\n  }\n}\n\nexport { getActiveSegmentIndex, setActiveSegmentIndex };\n","import {\n  StackViewport,\n  utilities,\n  BaseVolumeViewport,\n} from '@cornerstonejs/core';\nimport { Types } from '@cornerstonejs/core';\nimport { ToolModes } from '../../enums';\nimport { InteractionTypes, ToolProps, PublicToolProps } from '../../types';\n\nexport interface IBaseTool {\n  /** ToolGroup ID the tool instance belongs to */\n  toolGroupId: string;\n  /** Tool supported interaction types */\n  supportedInteractionTypes: InteractionTypes[];\n  /** Tool Mode : Active, Passive, Enabled, Disabled */\n  mode: ToolModes;\n  /** Tool Configuration */\n  configuration: {\n    preventHandleOutsideImage?: boolean;\n    strategies?: Record<string, any>;\n    defaultStrategy?: string;\n    activeStrategy?: string;\n    strategyOptions?: Record<string, unknown>;\n  };\n}\n\n/**\n * Abstract base class from which all tools derive.\n * Deals with cleanly merging custom and default configuration, and strategy\n * application.\n */\nabstract class BaseTool implements IBaseTool {\n  static toolName;\n  /** Supported Interaction Types - currently only Mouse */\n  public supportedInteractionTypes: InteractionTypes[];\n  public configuration: Record<string, any>;\n  /** ToolGroup ID the tool instance belongs to */\n  public toolGroupId: string;\n  /** Tool Mode - Active/Passive/Enabled/Disabled/ */\n  public mode: ToolModes;\n\n  constructor(toolProps: PublicToolProps, defaultToolProps: ToolProps) {\n    const initialProps = utilities.deepMerge(defaultToolProps, toolProps);\n\n    const {\n      configuration = {},\n      supportedInteractionTypes,\n      toolGroupId,\n    } = initialProps;\n\n    // If strategies are not initialized in the tool config\n    if (!configuration.strategies) {\n      configuration.strategies = {};\n      configuration.defaultStrategy = undefined;\n      configuration.activeStrategy = undefined;\n      configuration.strategyOptions = {};\n    }\n\n    this.toolGroupId = toolGroupId;\n    this.supportedInteractionTypes = supportedInteractionTypes || [];\n    this.configuration = Object.assign({}, configuration);\n    this.mode = ToolModes.Disabled;\n  }\n\n  /**\n   * Returns the name of the tool\n   * @returns The name of the tool.\n   */\n  public getToolName(): string {\n    // Since toolName is static we get it from the class constructor\n    return (<typeof BaseTool>this.constructor).toolName;\n  }\n\n  /**\n   * It applies the active strategy to the enabled element.\n   * @param enabledElement - The element that is being operated on.\n   * @param operationData - The data that needs to be passed to the strategy.\n   * @returns The result of the strategy.\n   */\n  public applyActiveStrategy(\n    enabledElement: Types.IEnabledElement,\n    operationData: unknown\n  ): any {\n    const { strategies, activeStrategy } = this.configuration;\n    return strategies[activeStrategy].call(this, enabledElement, operationData);\n  }\n\n  /**\n   * merges the new configuration with the tool configuration\n   * @param configuration - toolConfiguration\n   */\n  public setConfiguration(newConfiguration: Record<string, any>): void {\n    this.configuration = utilities.deepMerge(\n      this.configuration,\n      newConfiguration\n    );\n  }\n\n  /**\n   * Sets the active strategy for a tool. Strategies are\n   * multiple implementations of tool behavior that can be switched by tool\n   * configuration.\n   *\n   * @param strategyName - name of the strategy to be set as active\n   */\n  public setActiveStrategy(strategyName: string): void {\n    this.setConfiguration({ activeStrategy: strategyName });\n  }\n\n  /**\n   * Returns the volumeId for the volume viewport. It will grabbed the volumeId\n   * from the volumeId if particularly specified in the tool configuration, or if\n   * not, the first actorUID in the viewport is returned as the volumeId. NOTE: for\n   * segmentations, actorUID is not necessarily the volumeId since the segmentation\n   * can have multiple representations, use segmentation helpers to get the volumeId\n   * based on the actorUID.\n   *\n   * @param viewport - Volume viewport\n   * @returns the volumeId for the viewport if specified in the tool configuration,\n   * or the first actorUID in the viewport if not.\n   */\n  private getTargetVolumeId(viewport: Types.IViewport): string | undefined {\n    if (this.configuration.volumeId) {\n      return this.configuration.volumeId;\n    }\n\n    // If volume not specified, then return the actorUID for the\n    // default actor - first actor\n    const actorEntries = viewport.getActors();\n\n    if (!actorEntries) {\n      return;\n    }\n\n    // find the first image actor of instance type vtkVolume\n    return actorEntries.find(\n      (actorEntry) => actorEntry.actor.getClassName() === 'vtkVolume'\n    )?.uid;\n  }\n\n  /**\n   * Get the image that is displayed for the targetId in the cachedStats\n   * which can be either imageId:<imageId> or volumeId:<volumeId>\n   *\n   * @param targetId - annotation targetId stored in the cached stats\n   * @param renderingEngine - The rendering engine\n   * @returns The image data for the target.\n   */\n  protected getTargetIdImage(\n    targetId: string,\n    renderingEngine: Types.IRenderingEngine\n  ): Types.IImageData | Types.CPUIImageData | Types.IImageVolume {\n    if (targetId.startsWith('imageId:')) {\n      const imageId = targetId.split('imageId:')[1];\n      const imageURI = utilities.imageIdToURI(imageId);\n      let viewports = utilities.getViewportsWithImageURI(\n        imageURI,\n        renderingEngine.id\n      );\n\n      if (!viewports || !viewports.length) {\n        return;\n      }\n\n      viewports = viewports.filter((viewport) => {\n        return viewport.getCurrentImageId() === imageId;\n      });\n\n      if (!viewports || !viewports.length) {\n        return;\n      }\n\n      return viewports[0].getImageData();\n    } else if (targetId.startsWith('volumeId:')) {\n      const volumeId = targetId.split('volumeId:')[1];\n      const viewports = utilities.getViewportsWithVolumeId(\n        volumeId,\n        renderingEngine.id\n      );\n\n      if (!viewports || !viewports.length) {\n        return;\n      }\n\n      return viewports[0].getImageData();\n    } else {\n      throw new Error(\n        'getTargetIdImage: targetId must start with \"imageId:\" or \"volumeId:\"'\n      );\n    }\n  }\n\n  /**\n   * Get the target Id for the viewport which will be used to store the cached\n   * statistics scoped to that target in the annotations.\n   * For StackViewport, targetId is the viewportId, but for the volume viewport,\n   * the targetId will be grabbed from the volumeId if particularly specified\n   * in the tool configuration, or if not, the first actorUID in the viewport.\n   *\n   * @param viewport - viewport to get the targetId for\n   * @returns targetId\n   */\n  protected getTargetId(viewport: Types.IViewport): string | undefined {\n    if (viewport instanceof StackViewport) {\n      return `imageId:${viewport.getCurrentImageId()}`;\n    } else if (viewport instanceof BaseVolumeViewport) {\n      return `volumeId:${this.getTargetVolumeId(viewport)}`;\n    } else {\n      throw new Error(\n        'getTargetId: viewport must be a StackViewport or VolumeViewport'\n      );\n    }\n  }\n}\n\n// Note: this is a workaround since terser plugin does not support static blocks\n// yet and we can't easily say static toolName = \"BaseTool\" in the class definition.\nBaseTool.toolName = 'BaseTool';\nexport default BaseTool;\n","import { state } from '../store';\nimport { getEnabledElement } from '@cornerstonejs/core';\nimport { SVGDrawingHelper } from '../types';\n\nconst VIEWPORT_ELEMENT = 'viewport-element';\n\n/**\n * Returns the SVG drawing helper for the given HTML element.\n * @param element - The HTML element to get the SVG drawing helper for.\n * @private\n */\nfunction getSvgDrawingHelper(element: HTMLDivElement): SVGDrawingHelper {\n  const enabledElement = getEnabledElement(element);\n  const { viewportId, renderingEngineId } = enabledElement;\n  const canvasHash = `${viewportId}:${renderingEngineId}`;\n  const svgLayerElement = _getSvgLayer(element);\n\n  // Reset touched\n  Object.keys(state.svgNodeCache[canvasHash]).forEach((cacheKey) => {\n    state.svgNodeCache[canvasHash][cacheKey].touched = false;\n  });\n\n  return {\n    svgLayerElement: svgLayerElement,\n    svgNodeCacheForCanvas: state.svgNodeCache,\n    getSvgNode: getSvgNode.bind(this, canvasHash),\n    appendNode: appendNode.bind(this, svgLayerElement, canvasHash),\n    setNodeTouched: setNodeTouched.bind(this, canvasHash),\n    clearUntouched: clearUntouched.bind(this, svgLayerElement, canvasHash),\n  };\n}\n\n/**\n *\n * @param element\n * @private\n */\nfunction _getSvgLayer(element) {\n  const viewportElement = `.${VIEWPORT_ELEMENT}`;\n  const internalDivElement = element.querySelector(viewportElement);\n  const svgLayer = internalDivElement.querySelector('.svg-layer');\n\n  return svgLayer;\n}\n\nfunction getSvgNode(canvasHash, cacheKey) {\n  // If state has been reset\n  if (!state.svgNodeCache[canvasHash]) {\n    return;\n  }\n\n  if (state.svgNodeCache[canvasHash][cacheKey]) {\n    return state.svgNodeCache[canvasHash][cacheKey].domRef;\n  }\n}\n\nfunction appendNode(svgLayerElement, canvasHash, svgNode, cacheKey) {\n  // If state has been reset\n  if (!state.svgNodeCache[canvasHash]) {\n    return null;\n  }\n\n  state.svgNodeCache[canvasHash][cacheKey] = {\n    touched: true,\n    domRef: svgNode,\n  };\n\n  svgLayerElement.appendChild(svgNode);\n}\n\nfunction setNodeTouched(canvasHash, cacheKey) {\n  // If state has been reset\n  if (!state.svgNodeCache[canvasHash]) {\n    return;\n  }\n\n  if (state.svgNodeCache[canvasHash][cacheKey]) {\n    state.svgNodeCache[canvasHash][cacheKey].touched = true;\n  }\n}\n\nfunction clearUntouched(svgLayerElement, canvasHash) {\n  // If state has been reset\n  if (!state.svgNodeCache[canvasHash]) {\n    return;\n  }\n\n  Object.keys(state.svgNodeCache[canvasHash]).forEach((cacheKey) => {\n    const cacheEntry = state.svgNodeCache[canvasHash][cacheKey];\n\n    if (!cacheEntry.touched && cacheEntry.domRef) {\n      svgLayerElement.removeChild(cacheEntry.domRef);\n      delete state.svgNodeCache[canvasHash][cacheKey];\n    }\n  });\n}\n\nexport default getSvgDrawingHelper;\n","import getSvgDrawingHelper from './getSvgDrawingHelper';\n\nfunction draw(\n  element: HTMLDivElement,\n  fn: (svgDrawingElement: any) => any\n): void {\n  const svgDrawingHelper = getSvgDrawingHelper(element);\n\n  // Save...\n  fn(svgDrawingHelper);\n  // Restore...\n\n  svgDrawingHelper.clearUntouched();\n}\n\nexport default draw;\n","function _getHash(\n  annotationUID: string,\n  drawingElementType: string,\n  nodeUID: string\n): string {\n  return `${annotationUID}::${drawingElementType}::${nodeUID}`;\n}\n\nexport default _getHash;\n","export function setAttributesIfNecessary(attributes, svgNode) {\n  Object.keys(attributes).forEach((key) => {\n    const currentValue = svgNode.getAttribute(key);\n    const newValue = attributes[key];\n    if (newValue === undefined || newValue === '') {\n      svgNode.removeAttribute(key);\n    } else if (currentValue !== newValue) {\n      svgNode.setAttribute(key, newValue);\n    }\n  });\n}\n\nexport default setAttributesIfNecessary;\n","export function setNewAttributesIfValid(attributes, svgNode) {\n  Object.keys(attributes).forEach((key) => {\n    const newValue = attributes[key];\n    if (newValue !== undefined && newValue !== '') {\n      svgNode.setAttribute(key, newValue);\n    }\n  });\n}\n\nexport default setNewAttributesIfValid;\n","import type { Types } from '@cornerstonejs/core';\nimport { SVGDrawingHelper } from '../types';\n\nimport _getHash from './_getHash';\n\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\nimport setNewAttributesIfValid from './setNewAttributesIfValid';\n\nfunction drawCircle(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  circleUID: string,\n  center: Types.Point2,\n  radius: number,\n  options = {},\n  dataId = ''\n): void {\n  const {\n    color,\n    fill,\n    width,\n    lineWidth,\n    lineDash,\n    fillOpacity,\n    strokeOpacity,\n  } = Object.assign(\n    {\n      color: 'dodgerblue',\n      fill: 'transparent',\n      width: '2',\n      lineDash: undefined,\n      lineWidth: undefined,\n      strokeOpacity: 1,\n      fillOpacity: 1,\n    },\n    options\n  );\n\n  // for supporting both lineWidth and width options\n  const strokeWidth = lineWidth || width;\n\n  // variable for the namespace\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgNodeHash = _getHash(annotationUID, 'circle', circleUID);\n  const existingCircleElement = svgDrawingHelper.getSvgNode(svgNodeHash);\n\n  const attributes = {\n    cx: `${center[0]}`,\n    cy: `${center[1]}`,\n    r: `${radius}`,\n    stroke: color,\n    fill,\n    'stroke-width': strokeWidth,\n    'stroke-dasharray': lineDash,\n    'fill-opacity': fillOpacity, // setting fill opacity\n    'stroke-opacity': strokeOpacity, // setting stroke opacity\n  };\n\n  if (existingCircleElement) {\n    setAttributesIfNecessary(attributes, existingCircleElement);\n\n    svgDrawingHelper.setNodeTouched(svgNodeHash);\n  } else {\n    const newCircleElement = document.createElementNS(svgns, 'circle');\n\n    if (dataId !== '') {\n      newCircleElement.setAttribute('data-id', dataId);\n    }\n\n    setNewAttributesIfValid(attributes, newCircleElement);\n\n    svgDrawingHelper.appendNode(newCircleElement, svgNodeHash);\n  }\n}\n\nexport default drawCircle;\n","import type { Types } from '@cornerstonejs/core';\nimport { SVGDrawingHelper } from '../types';\n\nimport _getHash from './_getHash';\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\nimport setNewAttributesIfValid from './setNewAttributesIfValid';\n\nfunction drawEllipse(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  ellipseUID: string,\n  corner1: Types.Point2,\n  corner2: Types.Point2,\n  options = {},\n  dataId = ''\n): void {\n  const { color, width, lineWidth, lineDash } = Object.assign(\n    {\n      color: 'dodgerblue',\n      width: '2',\n      lineWidth: undefined,\n      lineDash: undefined,\n    },\n    options\n  );\n\n  // for supporting both lineWidth and width options\n  const strokeWidth = lineWidth || width;\n\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgNodeHash = _getHash(annotationUID, 'ellipse', ellipseUID);\n  const existingEllipse = svgDrawingHelper.getSvgNode(svgNodeHash);\n\n  const w = Math.abs(corner1[0] - corner2[0]);\n  const h = Math.abs(corner1[1] - corner2[1]);\n  const xMin = Math.min(corner1[0], corner2[0]);\n  const yMin = Math.min(corner1[1], corner2[1]);\n\n  const center = [xMin + w / 2, yMin + h / 2];\n  const radiusX = w / 2;\n  const radiusY = h / 2;\n\n  const attributes = {\n    cx: `${center[0]}`,\n    cy: `${center[1]}`,\n    rx: `${radiusX}`,\n    ry: `${radiusY}`,\n    stroke: color,\n    fill: 'transparent',\n    'stroke-width': strokeWidth,\n    'stroke-dasharray': lineDash,\n  };\n\n  if (existingEllipse) {\n    setAttributesIfNecessary(attributes, existingEllipse);\n\n    svgDrawingHelper.setNodeTouched(svgNodeHash);\n  } else {\n    const svgEllipseElement = document.createElementNS(svgns, 'ellipse');\n\n    if (dataId !== '') {\n      svgEllipseElement.setAttribute('data-id', dataId);\n    }\n\n    setNewAttributesIfValid(attributes, svgEllipseElement);\n\n    svgDrawingHelper.appendNode(svgEllipseElement, svgNodeHash);\n  }\n}\n\nexport default drawEllipse;\n","import type { Types } from '@cornerstonejs/core';\n\nimport _getHash from './_getHash';\nimport setNewAttributesIfValid from './setNewAttributesIfValid';\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\nimport { SVGDrawingHelper } from '../types';\n\nfunction drawHandles(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  handleGroupUID: string,\n  handlePoints: Array<Types.Point2>,\n  options = {}\n): void {\n  const { color, handleRadius, width, lineWidth, fill, type, opacity } =\n    Object.assign(\n      {\n        color: 'dodgerblue',\n        handleRadius: '6',\n        width: '2',\n        lineWidth: undefined,\n        fill: 'transparent',\n        type: 'circle',\n        opacity: 1,\n      },\n      options\n    );\n\n  // for supporting both lineWidth and width options\n  const strokeWidth = lineWidth || width;\n\n  for (let i = 0; i < handlePoints.length; i++) {\n    const handle = handlePoints[i];\n\n    // variable for the namespace\n    const svgns = 'http://www.w3.org/2000/svg';\n    const svgNodeHash = _getHash(\n      annotationUID,\n      'handle',\n      `hg-${handleGroupUID}-index-${i}`\n    );\n\n    let attributes;\n    if (type === 'circle') {\n      attributes = {\n        cx: `${handle[0]}`,\n        cy: `${handle[1]}`,\n        r: handleRadius,\n        stroke: color,\n        fill,\n        'stroke-width': strokeWidth,\n        opacity: opacity,\n      };\n    } else if (type === 'rect') {\n      const handleRadiusFloat = parseFloat(handleRadius);\n      const side = handleRadiusFloat * 1.5;\n      const x = handle[0] - side * 0.5;\n      const y = handle[1] - side * 0.5;\n\n      attributes = {\n        x: `${x}`,\n        y: `${y}`,\n        width: `${side}`,\n        height: `${side}`,\n        stroke: color,\n        fill,\n        'stroke-width': strokeWidth,\n        rx: `${side * 0.1}`,\n        opacity: opacity,\n      };\n    } else {\n      throw new Error(`Unsupported handle type: ${type}`);\n    }\n\n    const existingHandleElement = svgDrawingHelper.getSvgNode(svgNodeHash);\n\n    if (existingHandleElement) {\n      setAttributesIfNecessary(attributes, existingHandleElement);\n\n      svgDrawingHelper.setNodeTouched(svgNodeHash);\n    } else {\n      const newHandleElement = document.createElementNS(svgns, type);\n\n      setNewAttributesIfValid(attributes, newHandleElement);\n\n      svgDrawingHelper.appendNode(newHandleElement, svgNodeHash);\n    }\n  }\n}\n\nexport default drawHandles;\n","import type { Types } from '@cornerstonejs/core';\n\nimport _getHash from './_getHash';\nimport setNewAttributesIfValid from './setNewAttributesIfValid';\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\nimport { SVGDrawingHelper } from '../types';\n\nexport default function drawLine(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  lineUID: string,\n  start: Types.Point2,\n  end: Types.Point2,\n  options = {},\n  dataId = ''\n): void {\n  // if length is NaN return\n  if (isNaN(start[0]) || isNaN(start[1]) || isNaN(end[0]) || isNaN(end[1])) {\n    return;\n  }\n\n  const { color, width, lineWidth, lineDash, shadow } = Object.assign(\n    {\n      color: 'dodgerblue',\n      width: '2',\n      lineWidth: undefined,\n      lineDash: undefined,\n      shadow: undefined,\n    },\n    options\n  );\n\n  // for supporting both lineWidth and width options\n  const strokeWidth = lineWidth || width;\n\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgNodeHash = _getHash(annotationUID, 'line', lineUID);\n  const existingLine = svgDrawingHelper.getSvgNode(svgNodeHash);\n  const dropShadowStyle = shadow\n    ? `filter:url(#shadow-${svgDrawingHelper.svgLayerElement.id});`\n    : '';\n\n  const attributes = {\n    x1: `${start[0]}`,\n    y1: `${start[1]}`,\n    x2: `${end[0]}`,\n    y2: `${end[1]}`,\n    stroke: color,\n    style: dropShadowStyle,\n    'stroke-width': strokeWidth,\n    'stroke-dasharray': lineDash,\n  };\n\n  if (existingLine) {\n    // This is run to avoid re-rendering annotations that actually haven't changed\n    setAttributesIfNecessary(attributes, existingLine);\n\n    svgDrawingHelper.setNodeTouched(svgNodeHash);\n  } else {\n    const newLine = document.createElementNS(svgns, 'line');\n\n    if (dataId !== '') {\n      newLine.setAttribute('data-id', dataId);\n    }\n\n    setNewAttributesIfValid(attributes, newLine);\n\n    svgDrawingHelper.appendNode(newLine, svgNodeHash);\n  }\n}\n","import type { Types } from '@cornerstonejs/core';\nimport _getHash from './_getHash';\nimport setNewAttributesIfValid from './setNewAttributesIfValid';\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\nimport { SVGDrawingHelper } from '../types';\n\n/**\n * Draws an SVG polyline with the given points.\n *\n * The `connectLastToFirst` option, if true, draws a closed polyline, with the\n * last point connected to the first.\n */\nexport default function drawPolyline(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  polylineUID: string,\n  points: Types.Point2[],\n  options: {\n    color?: string;\n    width?: number;\n    lineWidth?: number;\n    lineDash?: string;\n    connectLastToFirst?: boolean;\n  }\n): void {\n  if (points.length < 2) {\n    return;\n  }\n\n  const { color, width, lineWidth, lineDash } = Object.assign(\n    {\n      color: 'dodgerblue',\n      width: '2',\n      lineWidth: undefined,\n      lineDash: undefined,\n      connectLastToFirst: false,\n    },\n    options\n  );\n\n  // for supporting both lineWidth and width options\n  const strokeWidth = lineWidth || width;\n\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgNodeHash = _getHash(annotationUID, 'polyline', polylineUID);\n  const existingPolyLine = svgDrawingHelper.getSvgNode(svgNodeHash);\n\n  let pointsAttribute = '';\n\n  for (const point of points) {\n    pointsAttribute += `${point[0]}, ${point[1]} `;\n  }\n\n  if (options.connectLastToFirst) {\n    const firstPoint = points[0];\n\n    pointsAttribute += `${firstPoint[0]}, ${firstPoint[1]}`;\n  }\n\n  const attributes = {\n    points: pointsAttribute,\n    stroke: color,\n    fill: 'none',\n    'stroke-width': strokeWidth,\n    'stroke-dasharray': lineDash,\n  };\n\n  if (existingPolyLine) {\n    // This is run to avoid re-rendering annotations that actually haven't changed\n    setAttributesIfNecessary(attributes, existingPolyLine);\n\n    svgDrawingHelper.setNodeTouched(svgNodeHash);\n  } else {\n    const newPolyLine = document.createElementNS(svgns, 'polyline');\n\n    setNewAttributesIfValid(attributes, newPolyLine);\n\n    svgDrawingHelper.appendNode(newPolyLine, svgNodeHash);\n  }\n}\n","import type { Types } from '@cornerstonejs/core';\nimport { SVGDrawingHelper } from '../types';\n\nimport _getHash from './_getHash';\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\n\n/**\n * Draws a textBox.\n *\n * @param textLines - The text to display.\n * @param position - The x/y position of the textbox\n * @param options - Options for the textBox.\n * @returns Bounding box; can be used for isPointNearTool\n */\nfunction drawTextBox(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  textUID: string,\n  textLines: Array<string>,\n  position: Types.Point2,\n  options = {}\n): SVGRect {\n  const mergedOptions = Object.assign(\n    {\n      fontFamily: 'Helvetica, Arial, sans-serif',\n      fontSize: '14px',\n      color: 'rgb(255, 255, 0)',\n      background: '',\n      padding: 25,\n      centerX: false,\n      centerY: true,\n    },\n    options\n  );\n\n  // Draw each of the text lines on top of the background box\n  const textGroupBoundingBox = _drawTextGroup(\n    svgDrawingHelper,\n    annotationUID,\n    textUID,\n    textLines,\n    position,\n    mergedOptions\n  );\n\n  return textGroupBoundingBox;\n}\n\nfunction _drawTextGroup(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  textUID: string,\n  textLines: Array<string> = [''],\n  position: Types.Point2,\n  options: any\n): SVGRect {\n  const { padding, color, fontFamily, fontSize, background } = options;\n\n  let textGroupBoundingBox;\n  const [x, y] = [position[0] + padding, position[1] + padding];\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgNodeHash = _getHash(annotationUID, 'text', textUID);\n  const existingTextGroup = svgDrawingHelper.getSvgNode(svgNodeHash);\n\n  // Todo: right now textBox gets a re-render even if the textBox has not changed\n  // and evenIf the attributes are not set again since they are the same.\n  if (existingTextGroup) {\n    // TODO: Iterate each node and update color? font-size?\n    const textElement = existingTextGroup.querySelector('text');\n    const textSpans = Array.from(textElement.children) as Array<SVGElement>;\n\n    for (let i = 0; i < textSpans.length; i++) {\n      const textSpanElement = textSpans[i];\n      const text = textLines[i] || '';\n\n      textSpanElement.textContent = text;\n    }\n\n    // if the textLines have changed size, we need to create textSpans for them\n    if (textLines.length > textSpans.length) {\n      for (let i = 0; i < textLines.length - textSpans.length; i++) {\n        const textLine = textLines[i + textSpans.length];\n        const textSpan = _createTextSpan(textLine);\n\n        textElement.appendChild(textSpan);\n      }\n\n      existingTextGroup.appendChild(textElement);\n      svgDrawingHelper.appendNode(existingTextGroup, svgNodeHash);\n    }\n\n    const textAttributes = {\n      fill: color,\n      'font-size': fontSize,\n      'font-family': fontFamily,\n    };\n\n    const textGroupAttributes = {\n      transform: `translate(${x} ${y})`,\n    };\n\n    // Todo: for some reason this does not work to not re-render the textBox\n    setAttributesIfNecessary(textAttributes, textElement);\n    setAttributesIfNecessary(textGroupAttributes, existingTextGroup);\n\n    textGroupBoundingBox = _drawTextBackground(existingTextGroup, background);\n\n    svgDrawingHelper.setNodeTouched(svgNodeHash);\n  } else {\n    const textGroup = document.createElementNS(svgns, 'g');\n\n    textGroup.setAttribute('transform', `translate(${x} ${y})`);\n\n    //\n    const textElement = _createTextElement(svgDrawingHelper, options);\n    for (let i = 0; i < textLines.length; i++) {\n      const textLine = textLines[i];\n      const textSpan = _createTextSpan(textLine);\n\n      textElement.appendChild(textSpan);\n    }\n\n    textGroup.appendChild(textElement);\n    svgDrawingHelper.appendNode(textGroup, svgNodeHash);\n    textGroupBoundingBox = _drawTextBackground(textGroup, background);\n  }\n\n  // We translate the group using `position`\n  // which means we also need to pluck those values when returning\n  // the bounding box\n  return Object.assign({}, textGroupBoundingBox, {\n    x,\n    y,\n    height: textGroupBoundingBox.height + padding,\n    width: textGroupBoundingBox.width + padding,\n  });\n}\n\nfunction _createTextElement(\n  svgDrawingHelper: SVGDrawingHelper,\n  options: any\n): SVGElement {\n  const { color, fontFamily, fontSize } = options;\n  const svgns = 'http://www.w3.org/2000/svg';\n  const textElement = document.createElementNS(svgns, 'text');\n  const noSelectStyle =\n    'user-select: none; pointer-events: none; -webkit-tap-highlight-color:  rgba(255, 255, 255, 0);';\n  const dropShadowStyle = `filter:url(#shadow-${svgDrawingHelper.svgLayerElement.id});`;\n  const combinedStyle = `${noSelectStyle}${dropShadowStyle}`;\n\n  // font-size=\"100\"\n  textElement.setAttribute('x', '0');\n  textElement.setAttribute('y', '0');\n  textElement.setAttribute('fill', color);\n  textElement.setAttribute('font-family', fontFamily);\n  textElement.setAttribute('font-size', fontSize);\n  textElement.setAttribute('style', combinedStyle);\n\n  return textElement;\n}\n\nfunction _createTextSpan(text): SVGElement {\n  const svgns = 'http://www.w3.org/2000/svg';\n  const textSpanElement = document.createElementNS(svgns, 'tspan');\n\n  // TODO: centerX\n  // (parent width / 2) - my width\n  // TODO: centerY\n\n  textSpanElement.setAttribute('x', '0');\n  textSpanElement.setAttribute('dy', '1.2em');\n  textSpanElement.textContent = text;\n\n  return textSpanElement;\n}\n\nfunction _drawTextBackground(group: SVGGElement, color: string) {\n  let element = group.querySelector('rect.background');\n\n  // If we have no background color, remove any element that exists and return\n  // the bounding box of the text\n  if (!color) {\n    if (element) {\n      group.removeChild(element);\n    }\n\n    return group.getBBox();\n  }\n\n  // Otherwise, check if we have a <rect> element. If not, create one\n  if (!element) {\n    element = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    element.setAttribute('class', 'background');\n    group.insertBefore(element, group.firstChild);\n  }\n\n  // Get the text groups's bounding box and use it to draw the background rectangle\n  const bBox = group.getBBox();\n\n  const attributes = {\n    x: `${bBox.x}`,\n    y: `${bBox.y}`,\n    width: `${bBox.width}`,\n    height: `${bBox.height}`,\n    fill: color,\n  };\n\n  setAttributesIfNecessary(attributes, element);\n\n  return bBox;\n}\n\nexport default drawTextBox;\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * Find the closest point to the target point\n *\n * @param sourcePoints - The potential source points.\n * @param targetPoint - The target point, used to find the closest source.\n * @returns The closest point in the array of point sources\n */\nexport default function findClosestPoint(\n  sourcePoints: Array<Types.Point2>,\n  targetPoint: Types.Point2\n): Types.Point2 {\n  let minPoint = [0, 0];\n  let minDistance = Number.MAX_SAFE_INTEGER;\n\n  sourcePoints.forEach(function (sourcePoint) {\n    const distance = _distanceBetween(targetPoint, sourcePoint);\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      minPoint = [...sourcePoint];\n    }\n  });\n\n  return minPoint as Types.Point2;\n}\n\n/**\n *\n * @private\n * @param p1\n * @param p2\n */\nfunction _distanceBetween(p1: Types.Point2, p2: Types.Point2): number {\n  const [x1, y1] = p1;\n  const [x2, y2] = p2;\n\n  return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n}\n","import type { Types } from '@cornerstonejs/core';\n\nimport drawLine from './drawLine';\nimport findClosestPoint from '../utilities/math/vec2/findClosestPoint';\nimport { PlanarBoundingBox, SVGDrawingHelper } from '../types';\n\n/**\n * Draw a link between an annotation to a box.\n */\nfunction drawLink(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  linkUID: string,\n  // Find closest point to approx. bounding box\n  annotationAnchorPoints: Array<Types.Point2>,\n  refPoint: Types.Point2,\n  // Find bounding box point that's closest to our identified\n  // start point\n  boundingBox: PlanarBoundingBox,\n  options = {}\n): void {\n  // The closest anchor point (for the annotation) to the\n  // text box / bounding box\n  const start =\n    annotationAnchorPoints.length > 0\n      ? findClosestPoint(annotationAnchorPoints, refPoint)\n      : refPoint;\n\n  // Calculate the midpoints of the bounding box\n  const boundingBoxPoints = _boundingBoxPoints(boundingBox);\n  // Find the closest textBox midpoint to the annotation's anchor/start point\n  const end = findClosestPoint(boundingBoxPoints, start);\n\n  // Finally we draw the dashed linking line\n  const mergedOptions = Object.assign(\n    {\n      color: 'rgb(255, 255, 0)',\n      lineWidth: '1',\n      lineDash: '2,3',\n    },\n    options\n  );\n\n  drawLine(\n    svgDrawingHelper,\n    annotationUID,\n    `link-${linkUID}`,\n    start,\n    end,\n    mergedOptions\n  );\n}\n\n/**\n * Find potential anchor points for a given bounding box. For example, it may\n * look nicer to draw a line from the \"middle left\" of a bounding box to an\n * annotation (instead of from a corner). This function calculates those points\n *\n * @param boundingBox\n */\nfunction _boundingBoxPoints(\n  boundingBox: PlanarBoundingBox\n): Array<Types.Point2> {\n  const { x: left, y: top, height, width } = boundingBox;\n  const halfWidth = width / 2;\n  const halfHeight = height / 2;\n\n  const topMiddle = [left + halfWidth, top] as Types.Point2;\n  const leftMiddle = [left, top + halfHeight] as Types.Point2;\n  const bottomMiddle = [left + halfWidth, top + height] as Types.Point2;\n  const rightMiddle = [left + width, top + halfHeight] as Types.Point2;\n\n  return [topMiddle, leftMiddle, bottomMiddle, rightMiddle];\n}\n\nexport default drawLink;\n","import type { Types } from '@cornerstonejs/core';\n\nimport drawTextBox from './drawTextBox';\nimport drawLink from './drawLink';\nimport { SVGDrawingHelper } from '../types';\n\nfunction drawLinkedTextBox(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  textBoxUID: string,\n  //\n  textLines: Array<string>,\n  textBoxPosition: Types.Point2,\n  annotationAnchorPoints: Array<Types.Point2>,\n  textBox: unknown,\n  options = {}\n  // TODO: yCenter as an option\n): SVGRect {\n  const mergedOptions = Object.assign(\n    {\n      handleRadius: '6',\n      centering: {\n        x: false,\n        y: true, // yCenter,\n      },\n    },\n    options\n  );\n\n  // Draw the text box\n  const canvasBoundingBox = drawTextBox(\n    svgDrawingHelper,\n    annotationUID,\n    textBoxUID,\n    textLines,\n    textBoxPosition,\n    mergedOptions\n  );\n  // if (textBox.hasMoved) {\n  //   // Draw dashed link line between tool and text\n  drawLink(\n    svgDrawingHelper,\n    annotationUID,\n    textBoxUID,\n    annotationAnchorPoints, // annotationAnchorPoints\n    textBoxPosition, // refPoint (text)\n    canvasBoundingBox, // textBoxBoundingBox\n    mergedOptions\n  );\n  // }\n\n  // const { top, left, width, height } = canvasBoundingBox\n\n  // textBox.worldBoundingBox = {\n  //   topLeft: canvasToWorld([left, top]),\n  //   topRight: canvasToWorld([left + width, top]),\n  //   bottomLeft: canvasToWorld([left, top + height]),\n  //   bottomRight: canvasToWorld([left + width, top + height]),\n  // }\n\n  return canvasBoundingBox;\n}\n\nexport default drawLinkedTextBox;\n","import type { Types } from '@cornerstonejs/core';\n\nimport _getHash from './_getHash';\nimport setAttributesIfNecessary from './setAttributesIfNecessary';\nimport setNewAttributesIfValid from './setNewAttributesIfValid';\nimport { SVGDrawingHelper } from '../types';\n\n// <rect x=\"120\" y=\"100\" width=\"100\" height=\"100\" />\nexport default function drawRect(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  rectangleUID: string,\n  start: Types.Point2,\n  end: Types.Point2,\n  options = {},\n  dataId = ''\n): void {\n  const {\n    color,\n    width: _width,\n    lineWidth,\n    lineDash,\n  } = Object.assign(\n    {\n      color: 'dodgerblue',\n      width: '2',\n      lineWidth: undefined,\n      lineDash: undefined,\n    },\n    options\n  );\n\n  // for supporting both lineWidth and width options\n  const strokeWidth = lineWidth || _width;\n\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgNodeHash = _getHash(annotationUID, 'rect', rectangleUID);\n  const existingRect = svgDrawingHelper.getSvgNode(svgNodeHash);\n\n  const tlhc = [Math.min(start[0], end[0]), Math.min(start[1], end[1])];\n  const width = Math.abs(start[0] - end[0]);\n  const height = Math.abs(start[1] - end[1]);\n\n  const attributes = {\n    x: `${tlhc[0]}`,\n    y: `${tlhc[1]}`,\n    width: `${width}`,\n    height: `${height}`,\n    stroke: color,\n    fill: 'transparent',\n    'stroke-width': strokeWidth,\n    'stroke-dasharray': lineDash,\n  };\n\n  if (existingRect) {\n    setAttributesIfNecessary(attributes, existingRect);\n\n    svgDrawingHelper.setNodeTouched(svgNodeHash);\n  } else {\n    const svgRectElement = document.createElementNS(svgns, 'rect');\n\n    if (dataId !== '') {\n      svgRectElement.setAttribute('data-id', dataId);\n    }\n\n    setNewAttributesIfValid(attributes, svgRectElement);\n\n    svgDrawingHelper.appendNode(svgRectElement, svgNodeHash);\n  }\n}\n","import type { Types } from '@cornerstonejs/core';\nimport { SVGDrawingHelper } from '../types';\nimport drawLine from './drawLine';\n\nexport default function drawArrow(\n  svgDrawingHelper: SVGDrawingHelper,\n  annotationUID: string,\n  arrowUID: string,\n  start: Types.Point2,\n  end: Types.Point2,\n  options = {}\n): void {\n  // if length is NaN return\n  if (isNaN(start[0]) || isNaN(start[1]) || isNaN(end[0]) || isNaN(end[1])) {\n    return;\n  }\n\n  const { color, width, lineWidth, lineDash } = Object.assign(\n    {\n      color: 'dodgerblue',\n      width: '2',\n      lineWidth: undefined,\n      lineDash: undefined,\n    },\n    options\n  );\n\n  // The line itself\n  drawLine(svgDrawingHelper, annotationUID, arrowUID, start, end, {\n    color,\n    width,\n    lineWidth,\n    lineDash,\n  });\n\n  // Drawing the head arrow with two lines\n  // Variables to be used when creating the arrow\n  const headLength = 10;\n  const angle = Math.atan2(end[1] - start[1], end[0] - start[0]);\n\n  const firstLine = {\n    start: [\n      end[0] - headLength * Math.cos(angle - Math.PI / 7),\n      end[1] - headLength * Math.sin(angle - Math.PI / 7),\n    ] as Types.Point2,\n    end: end,\n  };\n\n  const secondLine = {\n    start: [\n      end[0] - headLength * Math.cos(angle + Math.PI / 7),\n      end[1] - headLength * Math.sin(angle + Math.PI / 7),\n    ] as Types.Point2,\n    end: end,\n  };\n\n  drawLine(\n    svgDrawingHelper,\n    annotationUID,\n    '2',\n    firstLine.start,\n    firstLine.end,\n    {\n      color,\n      width,\n      lineWidth,\n    }\n  );\n\n  drawLine(\n    svgDrawingHelper,\n    annotationUID,\n    '3',\n    secondLine.start,\n    secondLine.end,\n    {\n      color,\n      width,\n      lineWidth,\n    }\n  );\n}\n","import { ToolGroupManager } from '../store';\nimport { ToolModes } from '../enums';\nimport { getEnabledElement } from '@cornerstonejs/core';\n\ntype ModesFilter = Array<ToolModes>;\n\n/**\n * Finds the enabled element, and iterates over the tools inside its\n * toolGroup. Returns the list of tool instances that are valid based\n * on the provided tool mode.\n *\n * @param element Canvas element\n * @param modesFilter tool modes: active, passive, enabled, disabled\n * @returns enabled tool instances\n */\nexport default function getToolsWithModesForElement(\n  element: HTMLDivElement,\n  modesFilter: ModesFilter\n) {\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngineId, viewportId } = enabledElement;\n\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return [];\n  }\n\n  const enabledTools = [];\n\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const toolOptions = toolGroup.toolOptions[toolName];\n\n    /* filter out tools that don't have options */\n    if (!toolOptions) {\n      continue;\n    }\n\n    if (modesFilter.includes(toolOptions.mode)) {\n      const toolInstance = toolGroup.getToolInstance(toolName);\n      enabledTools.push(toolInstance);\n    }\n  }\n\n  return enabledTools;\n}\n","import {\n  getEnabledElement,\n  triggerEvent,\n  getRenderingEngine,\n} from '@cornerstonejs/core';\nimport { Events, ToolModes } from '../enums';\nimport { draw as drawSvg } from '../drawingSvg';\nimport getToolsWithModesForElement from './getToolsWithModesForElement';\nimport { AnnotationRenderedEventDetail } from '../types/EventTypes';\nconst { Active, Passive, Enabled } = ToolModes;\n\n/**\n * AnnotationRenderingEngine is a class that is responsible for rendering\n * annotations defined in the renderAnnotation method of annotation tools on the page.\n * It mimics the RenderingEngine in the Cornerstone Core. Here it uses requestAnimationFrame\n * is used to render annotations by calling renderAnnotations() on each enabled tool. Note: This\n * is a Singleton class and should not be instantiated directly. To trigger\n * an annotation render for an HTML element containing a viewport you can use\n *\n * ```\n * triggerAnnotationRender(element)\n * ```\n */\nclass AnnotationRenderingEngine {\n  public hasBeenDestroyed: boolean;\n  private _needsRender: Set<HTMLDivElement> = new Set();\n  private _animationFrameSet = false;\n  private _animationFrameHandle: number | null = null;\n  private _viewportElements: Map<string, HTMLDivElement>;\n\n  constructor() {\n    this._viewportElements = new Map();\n  }\n\n  /**\n   * Add the viewport's HTMLDivElement to the viewports for rendering. This method\n   * just informs the annotationRenderingEngine about the viewport and\n   * does not initiate a render.\n   * @param viewportId - Viewport Unique identifier\n   * @param element - HTMLDivElement\n   */\n  public addViewportElement(viewportId: string, element: HTMLDivElement) {\n    this._viewportElements.set(viewportId, element);\n  }\n\n  /**\n   * Remove the viewport's HTMLDivElement from subsequent annotation renders\n   * @param viewportId - Viewport Unique identifier\n   */\n  public removeViewportElement(viewportId: string, element: HTMLDivElement) {\n    this._viewportElements.delete(viewportId);\n\n    // delete element from needsRender if element exist\n    this._needsRender.delete(element);\n\n    // I don' think there is any disadvantage to canceling the animation frame\n    // and resetting the flags on viewport's element removal, since the removeVIewportElement\n    // might be as a result of reEnabling the element (in re-enable we disable first), hence the need to render the\n    // new one while removing the old one\n    this._reset();\n  }\n\n  /**\n   * It tells the AnnotationRenderingEngine to render the viewport element the next\n   * time it renders.\n   *\n   * @param element - The element to render.\n   */\n  public renderViewport(element: HTMLDivElement): void {\n    this._setViewportsToBeRenderedNextFrame([element]);\n  }\n\n  /**\n   * _throwIfDestroyed Throws an error if trying to interact with the `RenderingEngine`\n   * instance after its `destroy` method has been called.\n   */\n  private _throwIfDestroyed() {\n    if (this.hasBeenDestroyed) {\n      throw new Error(\n        'this.destroy() has been manually called to free up memory, can not longer use this instance. Instead make a new one.'\n      );\n    }\n  }\n\n  private _renderFlaggedViewports = () => {\n    this._throwIfDestroyed();\n\n    const elements = Array.from(this._viewportElements.values());\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (this._needsRender.has(element)) {\n        this._triggerRender(element);\n\n        // This viewport has been rendered, we can remove it from the set\n        this._needsRender.delete(element);\n\n        // If there is nothing left that is flagged for rendering, stop here\n        // and allow RAF to be called again\n        if (this._needsRender.size === 0) {\n          this._animationFrameSet = false;\n          this._animationFrameHandle = null;\n          return;\n        }\n      }\n    }\n  };\n\n  private _setAllViewportsToBeRenderedNextFrame() {\n    const elements = [...this._viewportElements.values()];\n\n    elements.forEach((element) => {\n      this._needsRender.add(element);\n    });\n\n    this._renderFlaggedViewports();\n  }\n\n  private _setViewportsToBeRenderedNextFrame(elements: HTMLDivElement[]) {\n    const elementsEnabled = [...this._viewportElements.values()];\n\n    // Add the viewports to the set of flagged viewports\n    elements.forEach((element) => {\n      // only enabledElement need to render\n      if (elementsEnabled.indexOf(element) !== -1) {\n        this._needsRender.add(element);\n      }\n    });\n\n    // Render any flagged viewports\n    this._render();\n  }\n\n  /**\n   * _render Sets up animation frame if necessary\n   */\n  private _render() {\n    // If we have viewports that need rendering and we have not already\n    // set the RAF callback to run on the next frame.\n    if (this._needsRender.size > 0 && this._animationFrameSet === false) {\n      this._animationFrameHandle = window.requestAnimationFrame(\n        this._renderFlaggedViewports\n      );\n\n      // Set the flag that we have already set up the next RAF call.\n      this._animationFrameSet = true;\n    }\n  }\n\n  _triggerRender(element) {\n    const enabledElement = getEnabledElement(element);\n\n    if (!enabledElement) {\n      console.warn('Element has been disabled');\n      return;\n    }\n\n    const renderingEngine = getRenderingEngine(\n      enabledElement.renderingEngineId\n    );\n    if (!renderingEngine) {\n      console.warn('rendering Engine has been destroyed');\n      return;\n    }\n\n    const enabledTools = getToolsWithModesForElement(element, [\n      Active,\n      Passive,\n      Enabled,\n    ]);\n\n    const { renderingEngineId, viewportId } = enabledElement;\n    const eventDetail: AnnotationRenderedEventDetail = {\n      element,\n      renderingEngineId,\n      viewportId,\n    };\n\n    // const enabledToolsWithAnnotations = enabledTools.filter((tool) => {\n    //   const annotations = getAnnotations(tool.getToolName(), {FrameOfReferenceUID});\n    //   return annotations && annotations.length;\n    // });\n\n    drawSvg(element, (svgDrawingHelper) => {\n      let anyRendered = false;\n      const handleDrawSvg = (tool) => {\n        if (tool.renderAnnotation) {\n          const rendered = tool.renderAnnotation(\n            enabledElement,\n            svgDrawingHelper\n          );\n          anyRendered = anyRendered || rendered;\n        }\n      };\n\n      /**\n       * We should be able to filter tools that don't have annotations, but\n       * currently some of tools have renderAnnotation method BUT\n       * don't keep annotation in the state, so if we do so, the tool will not be\n       * rendered.\n       */\n      enabledTools.forEach(handleDrawSvg);\n\n      if (anyRendered) {\n        triggerEvent(element, Events.ANNOTATION_RENDERED, { ...eventDetail });\n      }\n    });\n  }\n\n  /**\n   * _reset Resets the `RenderingEngine`\n   */\n  private _reset() {\n    window.cancelAnimationFrame(this._animationFrameHandle);\n\n    this._needsRender.clear();\n    this._animationFrameSet = false;\n    this._animationFrameHandle = null;\n\n    this._setAllViewportsToBeRenderedNextFrame();\n  }\n}\n\nconst annotationRenderingEngine = new AnnotationRenderingEngine();\n\n/**\n * It triggers the rendering of the annotations for the given HTML element using\n * the `AnnotationRenderingEngine`\n * @param element - The element to render the annotation on.\n */\nfunction triggerAnnotationRender(element: HTMLDivElement): void {\n  annotationRenderingEngine.renderViewport(element);\n}\n\nexport { annotationRenderingEngine, triggerAnnotationRender };\n\nexport default triggerAnnotationRender;\n","import { vec3 } from 'gl-matrix';\nimport { CONSTANTS, metaData } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { Annotations, Annotation } from '../../types';\nimport { debug } from 'console';\n\nconst { EPSILON } = CONSTANTS;\n\nconst PARALLEL_THRESHOLD = 1 - EPSILON;\n\n/**\n * given some `Annotations`, and the slice defined by the camera's normal\n * direction and the spacing in the normal, filter the `Annotations` which\n * is within the slice.\n *\n * @param annotations - Annotations\n * @param camera - The camera\n * @param spacingInNormalDirection - The spacing in the normal direction\n * @returns The filtered `Annotations`.\n */\nexport default function filterAnnotationsWithinSlice(\n  annotations: Annotations,\n  camera: Types.ICamera,\n  spacingInNormalDirection: number\n): Annotations {\n  const { viewPlaneNormal } = camera;\n\n  // The reason we use parallel normals instead of actual orientation is that\n  // flipped action is done through camera API, so we can't rely on the\n  // orientation (viewplaneNormal and viewUp) since even the same image and\n  // same slice if flipped will have different orientation, but still rendering\n  // the same slice. Instead, we choose to use the parallel normals to filter\n  // the annotations and later we fine tune it with the annotation within slice\n  // logic down below.\n  const annotationsWithParallelNormals = annotations.filter(\n    (td: Annotation) => {\n      let annotationViewPlaneNormal = td.metadata.viewPlaneNormal;\n\n      if (!annotationViewPlaneNormal) {\n        // This code is run to set the annotation view plane normal\n        // for historical data which was saved without the normal.\n        const { referencedImageId } = td.metadata;\n        const { imageOrientationPatient } = metaData.get(\n          'imagePlaneModule',\n          referencedImageId\n        );\n        const rowCosineVec = vec3.fromValues(\n          imageOrientationPatient[0],\n          imageOrientationPatient[1],\n          imageOrientationPatient[2]\n        );\n\n        const colCosineVec = vec3.fromValues(\n          imageOrientationPatient[3],\n          imageOrientationPatient[4],\n          imageOrientationPatient[5]\n        );\n\n        annotationViewPlaneNormal = vec3.create() as Types.Point3;\n\n        vec3.cross(annotationViewPlaneNormal, rowCosineVec, colCosineVec);\n        td.metadata.viewPlaneNormal = annotationViewPlaneNormal;\n      }\n      const isParallel =\n        Math.abs(vec3.dot(viewPlaneNormal, annotationViewPlaneNormal)) >\n        PARALLEL_THRESHOLD;\n\n      return annotationViewPlaneNormal && isParallel;\n    }\n  );\n\n  // No in plane annotations.\n  if (!annotationsWithParallelNormals.length) {\n    return [];\n  }\n\n  // Annotation should be within the slice, which means that it should be between\n  // camera's focalPoint +/- spacingInNormalDirection.\n\n  const halfSpacingInNormalDirection = spacingInNormalDirection / 2;\n  const { focalPoint } = camera;\n\n  const annotationsWithinSlice = [];\n\n  for (const annotation of annotationsWithParallelNormals) {\n    const data = annotation.data;\n    const point = data.handles.points[0];\n\n    if (!annotation.isVisible) {\n      continue;\n    }\n    // A = point\n    // B = focal point\n    // P = normal\n\n    // B-A dot P  => Distance in the view direction.\n    // this should be less than half the slice distance.\n\n    const dir = vec3.create();\n\n    vec3.sub(dir, focalPoint, point);\n\n    const dot = vec3.dot(dir, viewPlaneNormal);\n\n    if (Math.abs(dot) < halfSpacingInNormalDirection) {\n      annotationsWithinSlice.push(annotation);\n    }\n  }\n\n  return annotationsWithinSlice;\n}\n","import {\n  StackViewport,\n  VolumeViewport,\n  Types,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\n\nimport filterAnnotationsWithinSlice from './filterAnnotationsWithinSlice';\nimport { Annotations } from '../../types';\n\n/**\n * Given the viewport and the annotations, it filters the annotations array and only\n * return those annotation that should be displayed on the viewport\n * @param annotations - Annotations\n * @returns A filtered version of the annotations.\n */\nexport default function filterAnnotationsForDisplay(\n  viewport: Types.IViewport,\n  annotations: Annotations\n): Annotations {\n  if (viewport instanceof StackViewport) {\n    // 1. Get the currently displayed imageId from the StackViewport\n    const imageId = viewport.getCurrentImageId();\n\n    // 2. remove the dataLoader scheme since it might be an annotation that was\n    // created on the volumeViewport initially and has the volumeLoader scheme\n    // but shares the same imageId\n    const colonIndex = imageId.indexOf(':');\n    const imageURI = imageId.substring(colonIndex + 1);\n\n    // 3. Filter annotation in the frame of reference by the referenced image ID property\n    // Note: With the current implementation drawing on the stack (PT stack) will not\n    // show the annotation on a volume that does not share the same imageURIs (CT Volume),\n    // and we don't have a proper way to check distance either since a stack can be\n    // composed of multiple unrelated images\n    return annotations.filter((annotation) => {\n      if (!annotation.isVisible) {\n        return false;\n      }\n\n      const imageId = annotation.metadata.referencedImageId;\n\n      if (imageId === undefined) {\n        // This annotation was not drawn on a non-coplanar reformat, and such does\n        // note have a referenced imageId.\n        return false;\n      }\n\n      const colonIndex = imageId.indexOf(':');\n      const referenceImageURI = imageId.substring(colonIndex + 1);\n      return referenceImageURI === imageURI;\n    });\n  } else if (viewport instanceof VolumeViewport) {\n    const camera = viewport.getCamera();\n\n    const { spacingInNormalDirection } =\n      csUtils.getTargetVolumeAndSpacingInNormalDir(viewport, camera);\n\n    // Get data with same normal and within the same slice\n    return filterAnnotationsWithinSlice(\n      annotations,\n      camera,\n      spacingInNormalDirection\n    );\n  } else {\n    throw new Error(`Viewport Type ${viewport.type} not supported`);\n  }\n}\n","import {\n  StyleConfig,\n  ToolStyleConfig,\n  StyleSpecifier,\n  AnnotationStyle,\n} from '../../../types/AnnotationStyle';\n\n/**\n * This class handles the configuration of the tool style. You can use it to set\n * the style of a tool at various levels (annotation, viewport, toolGroup, global).\n *\n * The hierarchy of the configuration is as follows (each level falls back to the\n * next level if not specified):\n *\n * 1) Annotation-level styles (with annotationUID)\n *     2) Viewport-level tool styles\n *         - Per-tool: Length on the viewport with viewportId\n *         - Global: All tools on the viewport with viewportId\n *             3) ToolGroup tool styles\n *                 - Per-tool: Angle on toolGroupId in all viewports of the toolGroup\n *                 - Global: All tools in the toolGroupId for all viewports\n *                     4) Default level:\n *                         - Per-tool: Length styles\n *                         - Global: Opinionated styles by CornerstoneJS\n */\nclass ToolStyle {\n  config: StyleConfig;\n\n  constructor() {\n    const defaultConfig = {\n      color: 'rgb(255, 255, 0)',\n      colorHighlighted: 'rgb(0, 255, 0)',\n      colorSelected: 'rgb(0, 220, 0)',\n      colorLocked: 'rgb(255, 255, 0)',\n      lineWidth: '1',\n      lineDash: '',\n      shadow: true,\n      textBoxVisibility: true,\n      textBoxFontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n      textBoxFontSize: '14px',\n      textBoxColor: 'rgb(255, 255, 0)',\n      textBoxColorHighlighted: 'rgb(0, 255, 0)',\n      textBoxColorSelected: 'rgb(0, 255, 0)',\n      textBoxColorLocked: 'rgb(255, 255, 0)',\n      textBoxBackground: '',\n      textBoxLinkLineWidth: '1',\n      textBoxLinkLineDash: '2,3',\n      textBoxShadow: true,\n    };\n\n    this._initializeConfig(defaultConfig);\n  }\n\n  /**\n   * It returns the annotation-specific tool styles for the annotation with the given UID\n   * @param annotationUID - The unique identifier of the annotation.\n   * @returns The annotation tool styles for the annotation with the given UID.\n   */\n  getAnnotationToolStyles(annotationUID: string): AnnotationStyle {\n    return this.config.annotations && this.config.annotations[annotationUID];\n  }\n\n  /**\n   * It returns the styles for a given viewport. It includes tool-specific and\n   * global styles (all tools in the viewport)\n   * @param viewportId - The id of the viewport\n   * @returns The viewport tool styles for the given viewport id.\n   */\n  getViewportToolStyles(viewportId: string): ToolStyleConfig {\n    return this.config.viewports && this.config.viewports[viewportId];\n  }\n\n  /**\n   * It returns the tool style for the given toolGroup. It includes tool-specific and\n   * global styles (all tools in the toolGroup)\n   * @param toolGroupId - The id of the toolGroup.\n   * @returns The tool styles for the tool group with the given id.\n   */\n  getToolGroupToolStyles(toolGroupId: string): ToolStyleConfig {\n    return this.config.toolGroups && this.config.toolGroups[toolGroupId];\n  }\n\n  /**\n   * It returns the default tool styles from the config file. It includes tool-specific and\n   * global styles (all tools in all tooLGroups)\n   * @returns The default tool styles.\n   */\n  getDefaultToolStyles(): ToolStyleConfig {\n    return this.config.default;\n  }\n\n  /**\n   * It takes an annotationUID and a style object and sets the styles at\n   * the annotationLevel (highest priority in the hierarchy). The styles is an\n   * object with key value pairs.\n   * @param annotationUID - string - The unique identifier for the annotation.\n   * @param styles - ToolStyles\n   */\n  setAnnotationStyles(annotationUID: string, styles: AnnotationStyle) {\n    let annotationSpecificStyles = this.config.annotations;\n\n    if (!annotationSpecificStyles) {\n      this.config = {\n        ...this.config,\n        annotations: {},\n      };\n\n      annotationSpecificStyles = this.config.annotations;\n    }\n\n    annotationSpecificStyles[annotationUID] = styles;\n  }\n\n  /**\n   * It takes a viewportId and a ToolStyles object, and adds the ToolStyles object\n   * at the viewport level (second highest priority in the hierarchy after the annotation level).\n   * @param viewportId - The id of the viewport\n   * @param styles - style object including tool-specific and/or global styles (All tools in the viewport)\n   */\n  setViewportToolStyles(viewportId: string, styles: ToolStyleConfig) {\n    let viewportSpecificStyles = this.config.viewports;\n\n    if (!viewportSpecificStyles) {\n      this.config = {\n        ...this.config,\n        viewports: {},\n      };\n\n      viewportSpecificStyles = this.config.viewports;\n    }\n\n    viewportSpecificStyles[viewportId] = styles;\n  }\n\n  /**\n   * It takes a toolGroupId and a ToolStyles object, and it adds the ToolStyles object\n   * at the toolGroup level (third highest priority in the hierarchy after the viewport level).\n   * @param toolGroupId - The id of the toolGroup\n   * @param styles - style object including tool-specific (in all viewports of the toolGroup) and/or\n   * global styles (All tools in the toolGroup for all viewports)\n   */\n  setToolGroupToolStyles(toolGroupId: string, styles: ToolStyleConfig) {\n    let toolGroupSpecificStyles = this.config.toolGroups;\n\n    if (!toolGroupSpecificStyles) {\n      this.config = {\n        ...this.config,\n        toolGroups: {},\n      };\n\n      toolGroupSpecificStyles = this.config.toolGroups;\n    }\n\n    toolGroupSpecificStyles[toolGroupId] = styles;\n  }\n\n  /**\n   * Sets the default tool styles for the editor. It overrides the default styles for all tools.\n   * @param styles - style object including tool-specific (a tool in all toolGroups) and/or\n   * global styles (All tools in all tooLGroups)\n   */\n  setDefaultToolStyles(styles: ToolStyleConfig) {\n    this.config.default = styles;\n  }\n\n  /**\n   * It returns the value for a given style key, based on the provided specifications.\n   * It starts by looking at the annotation-specific styles, then at the viewport-specific styles,\n   * then at the toolGroup-specific styles, and finally at the default styles.\n   * @param styleKey - The key of the style.\n   * @param styleSpecifier - An object containing the specifications such as viewportId,\n   * toolGroupId, toolName and annotationUID which are used to get the style if the level of specificity is\n   * met\n   * @returns The value for the given style key.\n   */\n  getStyleProperty(toolStyle: string, specifications: StyleSpecifier) {\n    const { annotationUID, viewportId, toolGroupId, toolName } = specifications;\n\n    return this._getToolStyle(\n      toolStyle,\n      annotationUID,\n      viewportId,\n      toolGroupId,\n      toolName\n    );\n  }\n\n  private _getToolStyle(\n    property: string,\n    annotationUID: string,\n    viewportId: string,\n    toolGroupId: string,\n    toolName: string\n  ) {\n    if (annotationUID) {\n      const styles = this.getAnnotationToolStyles(annotationUID);\n\n      if (styles) {\n        // check first in the toolSpecific styles\n        if (styles[property]) {\n          return styles[property];\n        }\n      }\n    }\n\n    if (viewportId) {\n      const styles = this.getViewportToolStyles(viewportId);\n\n      if (styles) {\n        // check if we have the viewportId specific style\n        // check first in the toolSpecific styles\n        if (styles[toolName] && styles[toolName][property]) {\n          return styles[toolName][property];\n        }\n\n        // check if we have the style in the viewport specific global viewportSpecificStyles\n        if (styles.global && styles.global[property]) {\n          return styles.global[property];\n        }\n      }\n    }\n\n    if (toolGroupId) {\n      const styles = this.getToolGroupToolStyles(toolGroupId);\n\n      if (styles) {\n        // check first in the toolSpecific styles\n        if (styles[toolName] && styles[toolName][property]) {\n          return styles[toolName][property];\n        }\n\n        // check if we have the style in the toolGroup specific global styles\n        if (styles.global && styles.global[property]) {\n          return styles.global[property];\n        }\n      }\n    }\n\n    const globalStyles = this.getDefaultToolStyles();\n\n    if (globalStyles[toolName] && globalStyles[toolName][property]) {\n      return globalStyles[toolName][property];\n    }\n\n    if (globalStyles.global && globalStyles.global[property]) {\n      return globalStyles.global[property];\n    }\n  }\n\n  private _initializeConfig(config) {\n    const toolStyles = {};\n    for (const name in config) {\n      toolStyles[name] = config[name];\n    }\n\n    this.config = {\n      default: {\n        global: toolStyles as AnnotationStyle,\n      },\n    };\n  }\n}\n\nconst toolStyle = new ToolStyle();\n\nexport default toolStyle;\n","import { StyleSpecifier } from '../../../types/AnnotationStyle';\nimport { ToolModes, AnnotationStyleStates } from '../../../enums';\nimport toolStyle from './ToolStyle';\n\n/**\n * Build a list of hierarchal property names in ascending order of priority\n * @param property - The base property name -- e.g., 'color'\n * @param state - An optional state to determine the final property name\n * @param mode - An optional mode to determine the final property name\n * @returns A list of property names\n */\nfunction getHierarchalPropertyStyles(\n  property: string,\n  state?: AnnotationStyleStates,\n  mode?: ToolModes\n): string[] {\n  const list = [`${property}`];\n  if (state) {\n    list.push(`${list[0]}${state}`);\n  }\n  if (mode) {\n    list.push(`${list[list.length - 1]}${mode}`);\n  }\n  return list;\n}\n\n/**\n * Get the value of a style property from the ToolStyle config\n * @param property - The name of the property to get.\n * @param styleSpecifier - An object containing the specifications such as viewportId,\n * toolGroupId, toolName and annotationUID which are used to get the style if the level of specificity is\n * met (hierarchy is checked from most specific to least specific which is\n * annotationLevel -> viewportLevel -> toolGroupLevel -> default.\n * @param state - The state of the tool (Default, Locked etc.)\n * @param mode - The current tool mode. (Active, Passive etc.)\n * @returns The value of the property.\n */\nfunction getStyleProperty(\n  property: string,\n  styleSpecifier: StyleSpecifier,\n  state?: AnnotationStyleStates,\n  mode?: ToolModes\n): string {\n  // Hierarchal property styles is a list of property names with priority in ascending\n  // order like: ['color', 'colorSelected', 'colorSelectedActive'], if in the toolStyle\n  // config, the `colorSelectedActive` property is defined, it will be used, otherwise\n  // the `colorSelected` property will be used, and if that is not defined, the `color`\n  // property will be used. This is done to ensure that the most specific property is used.\n  // Thus, we attempt resolving property names in reverse order\n  const alternatives = getHierarchalPropertyStyles(property, state, mode);\n  for (let i = alternatives.length - 1; i >= 0; --i) {\n    const style = toolStyle.getStyleProperty(alternatives[i], styleSpecifier);\n    if (style !== undefined) {\n      return style;\n    }\n  }\n}\n\nexport { getStyleProperty };\n","import { Annotation } from '../../../types';\nimport { isAnnotationLocked } from '../annotationLocking';\nimport { isAnnotationSelected } from '../annotationSelection';\nimport { AnnotationStyleStates } from '../../../enums';\n\n/**\n * Given a Annotation object, return the annotationStyle State that it\n * should be in based on its data\n * @param annotation - The annotation that we want to style.\n * @returns The state of the annotation whether it is Default, Highlighted, Locked, or Selected.\n */\nfunction getState(annotation?: Annotation): AnnotationStyleStates {\n  if (annotation) {\n    if (annotation.data && annotation.highlighted) {\n      return AnnotationStyleStates.Highlighted;\n    }\n    if (isAnnotationSelected(annotation.annotationUID)) {\n      return AnnotationStyleStates.Selected;\n    }\n\n    // Todo: make annotation lock api not to rely on the annotation itself\n    if (isAnnotationLocked(annotation)) {\n      return AnnotationStyleStates.Locked;\n    }\n  }\n\n  return AnnotationStyleStates.Default;\n}\n\nexport default getState;\n","import { ToolModes, AnnotationStyleStates } from '../../../enums';\nimport { getStyleProperty } from './helpers';\nimport { StyleSpecifier } from '../../../types/AnnotationStyle';\n\n/**\n * getFont - Returns a font string of the form \"{fontSize}px fontName\" used by `canvas`.\n * @param styleSpecifier - An object containing the specifications such as viewportId,\n * toolGroupId, toolName and annotationUID which are used to get the style if the level of specificity is\n * met (hierarchy is checked from most specific to least specific which is\n * annotationLevel -> viewportLevel -> toolGroupLevel -> default.\n * @param state - An optional state to determine the final property name\n * @param mode - An optional mode to determine the final property name\n * @returns The font string.\n */\nfunction getFont(\n  styleSpecifier: StyleSpecifier,\n  state?: AnnotationStyleStates,\n  mode?: ToolModes\n): string {\n  const fontSize = getStyleProperty(\n    'textBoxFontSize',\n    styleSpecifier,\n    state,\n    mode\n  );\n  const fontFamily = getStyleProperty(\n    'textBoxFontFamily',\n    styleSpecifier,\n    state,\n    mode\n  );\n\n  return `${fontSize}px ${fontFamily}`;\n}\n\nexport default getFont;\n","import {\n  utilities,\n  getEnabledElement,\n  VolumeViewport,\n  StackViewport,\n  cache,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport BaseTool from './BaseTool';\nimport { getAnnotationManager } from '../../stateManagement/annotation/annotationState';\nimport { Annotation, Annotations, SVGDrawingHelper } from '../../types';\nimport triggerAnnotationRender from '../../utilities/triggerAnnotationRender';\nimport filterAnnotationsForDisplay from '../../utilities/planar/filterAnnotationsForDisplay';\nimport { getStyleProperty } from '../../stateManagement/annotation/config/helpers';\nimport { getState } from '../../stateManagement/annotation/config';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\n/**\n * Abstract class for tools which create and display annotations on the\n * cornerstone3D canvas. In addition, it provides a base class for segmentation\n * tools that require drawing an annotation before running the segmentation strategy\n * for instance threshold segmentation based on an area and a threshold.\n * Annotation tools make use of drawing utilities to draw SVG elements on the viewport.\n *\n * To create a new annotation tool, derive from this class and implement the\n * abstract methods.\n */\nabstract class AnnotationDisplayTool extends BaseTool {\n  static toolName;\n\n  // ===================================================================\n  // Abstract Methods - Must be implemented.\n  // ===================================================================\n\n  /**\n   * @abstract renderAnnotation it used to draw the tool's annotation in each\n   * request animation frame\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  abstract renderAnnotation(\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  );\n\n  /**\n   * @virtual Given the element and annotations which is an array of annotation, it\n   * filters the annotations array to only include the annotation based on the viewportType.\n   * If the viewport is StackViewport, it filters based on the current imageId of the viewport,\n   * if the viewport is volumeViewport, it only returns those that are within the\n   * same slice as the current rendered slice in the volume viewport.\n   * imageId as the enabledElement.\n   * @param element - The HTML element\n   * @param annotations - The annotations to filter (array of annotation)\n   * @returns The filtered annotations\n   */\n  filterInteractableAnnotationsForElement(\n    element: HTMLDivElement,\n    annotations: Annotations\n  ): Annotations | undefined {\n    if (!annotations || !annotations.length) {\n      return;\n    }\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    return filterAnnotationsForDisplay(viewport, annotations);\n  }\n\n  /**\n   * On Image Calibration, take all the annotation from the AnnotationState manager,\n   * and invalidate them to force them to be re-rendered and their stats to be recalculated.\n   * Then use the old and new imageData (non-calibrated and calibrated) to calculate the\n   * new position for the annotations in the space of the new imageData.\n   *\n   * @param evt - The calibration event\n   *\n   */\n  public onImageSpacingCalibrated = (\n    evt: Types.EventTypes.ImageSpacingCalibratedEvent\n  ) => {\n    const { element, imageId } = evt.detail;\n\n    const imageURI = utilities.imageIdToURI(imageId);\n    const annotationManager = getAnnotationManager();\n    const framesOfReference = annotationManager.getFramesOfReference();\n\n    // For each frame Of Reference\n    framesOfReference.forEach((frameOfReference) => {\n      const frameOfReferenceSpecificAnnotations =\n        annotationManager.getAnnotations(frameOfReference);\n\n      const toolSpecificAnnotations =\n        frameOfReferenceSpecificAnnotations[this.getToolName()];\n\n      if (!toolSpecificAnnotations || !toolSpecificAnnotations.length) {\n        return;\n      }\n\n      // for this specific tool\n      toolSpecificAnnotations.forEach((annotation) => {\n        if (!annotation.metadata?.referencedImageId) {\n          return;\n        }\n\n        // if the annotation is drawn on the same imageId\n        const referencedImageURI = utilities.imageIdToURI(\n          annotation.metadata.referencedImageId\n        );\n\n        if (referencedImageURI === imageURI) {\n          // make them invalid since the image has been calibrated so that\n          // we can update the cachedStats and also rendering\n          annotation.invalidated = true;\n          annotation.data.cachedStats = {};\n        }\n      });\n      triggerAnnotationRender(element);\n    });\n  };\n\n  protected getReferencedImageId(\n    viewport: Types.IStackViewport | Types.IVolumeViewport,\n    worldPos: Types.Point3,\n    viewPlaneNormal: Types.Point3,\n    viewUp: Types.Point3\n  ): string {\n    const targetId = this.getTargetId(viewport);\n\n    let referencedImageId;\n\n    if (viewport instanceof StackViewport) {\n      referencedImageId = targetId.split('imageId:')[1];\n    } else {\n      const volumeId = targetId.split('volumeId:')[1];\n      const imageVolume = cache.getVolume(volumeId);\n\n      referencedImageId = utilities.getClosestImageId(\n        imageVolume,\n        worldPos,\n        viewPlaneNormal\n      );\n    }\n\n    return referencedImageId;\n  }\n\n  /**\n   * It takes the property (color, lineDash, etc.) and based on the state of the\n   * annotation (selected, highlighted etc.) it returns the appropriate value\n   * based on the central toolStyle settings for each level of specification.\n   * @param property - The name of the style property to get.\n   * @param styleSpecifier - An object containing the specifications such as viewportId,\n   * toolGroupId, toolName and annotationUID which are used to get the style if the level of specificity is\n   * met (hierarchy is checked from most specific to least specific which is\n   * annotationLevel -> viewportLevel -> toolGroupLevel -> default.\n   * @param annotation - The annotation for the tool that is\n   * currently active.\n   * @returns The value of the property.\n   */\n  public getStyle(\n    property: string,\n    specifications: StyleSpecifier,\n    annotation?: Annotation\n  ): unknown {\n    return getStyleProperty(\n      property,\n      specifications,\n      getState(annotation),\n      this.mode\n    );\n  }\n}\n\nAnnotationDisplayTool.toolName = 'AnnotationDisplayTool';\nexport default AnnotationDisplayTool;\n","import {\n  BaseVolumeViewport,\n  StackViewport,\n  cache,\n  getEnabledElement,\n  metaData,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { vec2 } from 'gl-matrix';\n\nimport AnnotationDisplayTool from './AnnotationDisplayTool';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport {\n  Annotation,\n  Annotations,\n  EventTypes,\n  ToolHandle,\n  InteractionTypes,\n  ToolProps,\n  PublicToolProps,\n} from '../../types';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\n/**-q\n * Abstract class for tools which create and display annotations on the\n * cornerstone3D canvas. In addition, it provides a base class for segmentation\n * tools that require drawing an annotation before running the segmentation strategy\n * for instance threshold segmentation based on an area and a threshold.\n * Annotation tools make use of drawing utilities to draw SVG elements on the viewport.\n *\n * To create a new annotation tool, derive from this class and implement the\n * abstract methods.\n */\nabstract class AnnotationTool extends AnnotationDisplayTool {\n  static toolName;\n  // ===================================================================\n  // Abstract Methods - Must be implemented.\n  // ===================================================================\n\n  constructor(toolProps: PublicToolProps, defaultToolProps: ToolProps) {\n    super(toolProps, defaultToolProps);\n\n    if (toolProps.configuration?.getTextLines) {\n      this.configuration.getTextLines = toolProps.configuration.getTextLines;\n    }\n\n    if (toolProps.configuration?.statsCalculator) {\n      this.configuration.statsCalculator =\n        toolProps.configuration.statsCalculator;\n    }\n  }\n\n  /**\n   * @abstract addNewAnnotation Creates a new annotation based on the clicked mouse position\n   *\n   * @param evt - The normalized mouse event\n   * @param interactionType -  The interaction type used to add the annotation.\n   */\n  abstract addNewAnnotation(\n    evt: EventTypes.InteractionEventType,\n    interactionType: InteractionTypes\n  ): Annotation;\n\n  /**\n   * @abstract cancel Used to cancel the ongoing tool drawing and manipulation\n   *\n   */\n  abstract cancel(element: HTMLDivElement);\n\n  /**\n   * handleSelectedCallback Custom callback for when a handle is selected.\n   *\n   * @param evt - The normalized mouse event\n   * @param annotation - The annotation selected.\n   * @param handle - The selected handle (either Types.Point3 in space for annotations, or TextBoxHandle object for text boxes).\n   * @param interactionType - The interaction type the handle was selected with.\n   */\n  abstract handleSelectedCallback(\n    evt: EventTypes.InteractionEventType,\n    annotation: Annotation,\n    handle: ToolHandle,\n    interactionType: InteractionTypes\n  ): void;\n\n  /**\n   * Custom callback for when an annotation is selected\n   *\n   * @param evt - The normalized mouse event\n   * @param annotation - The `Annotation` to check.\n   * @param interactionType - The interaction type used to select the tool.\n   */\n  abstract toolSelectedCallback(\n    evt: EventTypes.InteractionEventType,\n    annotation: Annotation,\n    interactionType: InteractionTypes\n  ): void;\n\n  /**\n   * Returns true if the provided canvas coordinate tool is near the annotation\n   *\n   * @param element - The HTML element\n   * @param annotation - The annotation to check\n   * @param canvasCoords - The canvas coordinate to check\n   * @param proximity - The minimum proximity to consider the point near\n   * @param interactionType - The interaction type used to select the tool.\n   *\n   * @returns boolean if the point is near.\n   */\n  abstract isPointNearTool(\n    element: HTMLDivElement,\n    annotation: Annotation,\n    canvasCoords: Types.Point2,\n    proximity: number,\n    interactionType: string\n  ): boolean;\n\n  /**\n   * @virtual Event handler for Cornerstone MOUSE_MOVE event.\n   *\n   *\n   * @param evt - The normalized mouse event\n   * @param filteredAnnotations - The annotations to check for hover interactions\n   * @returns True if the annotation needs to be re-drawn by the annotationRenderingEngine.\n   */\n  public mouseMoveCallback = (\n    evt: EventTypes.MouseMoveEventType,\n    filteredAnnotations?: Annotations\n  ): boolean => {\n    if (!filteredAnnotations) {\n      return false;\n    }\n\n    const { element, currentPoints } = evt.detail;\n    const canvasCoords = currentPoints.canvas;\n    let annotationsNeedToBeRedrawn = false;\n\n    for (const annotation of filteredAnnotations) {\n      // Do not do anything if the annotation is locked or hidden.\n      if (\n        isAnnotationLocked(annotation) ||\n        !isAnnotationVisible(annotation.annotationUID)\n      ) {\n        continue;\n      }\n\n      const { data } = annotation;\n      const activateHandleIndex = data.handles\n        ? data.handles.activeHandleIndex\n        : undefined;\n\n      // Perform tool specific imagePointNearToolOrHandle to determine if the mouse\n      // is near the tool or its handles or its textBox.\n      const near = this._imagePointNearToolOrHandle(\n        element,\n        annotation,\n        canvasCoords,\n        6 // Todo: This should come from the state\n      );\n\n      const nearToolAndNotMarkedActive = near && !annotation.highlighted;\n      const notNearToolAndMarkedActive = !near && annotation.highlighted;\n      if (nearToolAndNotMarkedActive || notNearToolAndMarkedActive) {\n        annotation.highlighted = !annotation.highlighted;\n        annotationsNeedToBeRedrawn = true;\n      } else if (\n        data.handles &&\n        data.handles.activeHandleIndex !== activateHandleIndex\n      ) {\n        // Active handle index has changed, re-render.\n        annotationsNeedToBeRedrawn = true;\n      }\n    }\n\n    return annotationsNeedToBeRedrawn;\n  };\n\n  /**\n   * It checks if the mouse click is near TextBoxHandle or AnnotationHandle itself, and\n   * return either it. It prioritize TextBoxHandle over AnnotationHandle. If\n   * the mouse click is not near any of the handles, it does not return anything.\n   *\n   * @param element - The element that the tool is attached to.\n   * @param annotation - The annotation object associated with the annotation\n   * @param canvasCoords - The coordinates of the mouse click on canvas\n   * @param proximity - The distance from the mouse cursor to the point\n   * that is considered \"near\".\n   * @returns The handle that is closest to the cursor, or null if the cursor\n   * is not near any of the handles.\n   */\n  getHandleNearImagePoint(\n    element: HTMLDivElement,\n    annotation: Annotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): ToolHandle | undefined {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const { data } = annotation;\n    const { points, textBox } = data.handles;\n\n    if (textBox) {\n      const { worldBoundingBox } = textBox;\n      if (worldBoundingBox) {\n        const canvasBoundingBox = {\n          topLeft: viewport.worldToCanvas(worldBoundingBox.topLeft),\n          topRight: viewport.worldToCanvas(worldBoundingBox.topRight),\n          bottomLeft: viewport.worldToCanvas(worldBoundingBox.bottomLeft),\n          bottomRight: viewport.worldToCanvas(worldBoundingBox.bottomRight),\n        };\n\n        if (\n          canvasCoords[0] >= canvasBoundingBox.topLeft[0] &&\n          canvasCoords[0] <= canvasBoundingBox.bottomRight[0] &&\n          canvasCoords[1] >= canvasBoundingBox.topLeft[1] &&\n          canvasCoords[1] <= canvasBoundingBox.bottomRight[1]\n        ) {\n          data.handles.activeHandleIndex = null;\n          return textBox;\n        }\n      }\n    }\n\n    for (let i = 0; i < points.length; i++) {\n      const point = points[i];\n      const annotationCanvasCoordinate = viewport.worldToCanvas(point);\n\n      const near =\n        vec2.distance(canvasCoords, annotationCanvasCoordinate) < proximity;\n\n      if (near === true) {\n        data.handles.activeHandleIndex = i;\n        return point;\n      }\n    }\n\n    data.handles.activeHandleIndex = null;\n  }\n\n  /**\n   * It returns the style for the text box\n   * @param styleSpecifier - An object containing the specifications such as viewportId,\n   * toolGroupId, toolName and annotationUID which are used to get the style if the level of specificity is\n   * met (hierarchy is checked from most specific to least specific which is\n   * annotationLevel -> viewportLevel -> toolGroupLevel -> default.\n   * @param annotation - The annotation for the tool that is\n   * currently active.\n   * @returns An object of the style settings for the text box.\n   */\n  public getLinkedTextBoxStyle(\n    specifications: StyleSpecifier,\n    annotation?: Annotation\n  ): Record<string, unknown> {\n    // Todo: this function can be used to set different styles for different toolMode\n    // for the textBox.\n\n    return {\n      visibility: this.getStyle(\n        'textBoxVisibility',\n        specifications,\n        annotation\n      ),\n      fontFamily: this.getStyle(\n        'textBoxFontFamily',\n        specifications,\n        annotation\n      ),\n      fontSize: this.getStyle('textBoxFontSize', specifications, annotation),\n      color: this.getStyle('textBoxColor', specifications, annotation),\n      shadow: this.getStyle('textBoxShadow', specifications, annotation),\n      background: this.getStyle(\n        'textBoxBackground',\n        specifications,\n        annotation\n      ),\n      lineWidth: this.getStyle(\n        'textBoxLinkLineWidth',\n        specifications,\n        annotation\n      ),\n      lineDash: this.getStyle(\n        'textBoxLinkLineDash',\n        specifications,\n        annotation\n      ),\n    };\n  }\n\n  /**\n   * Returns true if the viewport is scaled to SUV units\n   * @param viewport - The viewport\n   * @param targetId - The annotation targetId\n   * @param imageId - The annotation imageId\n   * @returns\n   */\n  isSuvScaled(\n    viewport: Types.IStackViewport | Types.IVolumeViewport,\n    targetId: string,\n    imageId?: string\n  ): boolean {\n    if (viewport instanceof BaseVolumeViewport) {\n      const volumeId = targetId.split('volumeId:')[1];\n      const volume = cache.getVolume(volumeId);\n      return volume.scaling?.PT !== undefined;\n    } else if (viewport instanceof StackViewport) {\n      const scalingModule: Types.ScalingParameters | undefined =\n        imageId && metaData.get('scalingModule', imageId);\n      return typeof scalingModule?.suvbw === 'number';\n    } else {\n      throw new Error('Viewport is not a valid type');\n    }\n  }\n\n  /**\n   * Returns true if the `canvasCoords` are near a handle or selectable part of the tool\n   *\n   * @param element - The HTML element\n   * @param annotation - The annotation to check\n   * @param canvasCoords - The canvas coordinates to check\n   * @param proximity - The proximity to consider\n   *\n   * @returns If the point is near.\n   */\n  private _imagePointNearToolOrHandle(\n    element: HTMLDivElement,\n    annotation: Annotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean {\n    // Based on the tool instance type, check if the point is near the tool handles\n    const handleNearImagePoint = this.getHandleNearImagePoint(\n      element,\n      annotation,\n      canvasCoords,\n      proximity\n    );\n\n    if (handleNearImagePoint) {\n      return true;\n    }\n\n    // If the point is not near the handles, check if the point is near the tool\n    const toolNewImagePoint = this.isPointNearTool(\n      element,\n      annotation,\n      canvasCoords,\n      proximity,\n      'mouse'\n    );\n\n    if (toolNewImagePoint) {\n      return true;\n    }\n  }\n}\n\nAnnotationTool.toolName = 'AnnotationTool';\nexport default AnnotationTool;\n","import {\n  getEnabledElementByIds,\n  Types,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport Representations from '../../enums/SegmentationRepresentations';\nimport { config as segmentationConfig } from '../../stateManagement/segmentation';\nimport { setSegmentationVisibility } from '../../stateManagement/segmentation/config/segmentationVisibility';\nimport { getSegmentationRepresentations } from '../../stateManagement/segmentation/segmentationState';\nimport { getToolGroup } from '../../store/ToolGroupManager';\nimport { PublicToolProps, ToolProps } from '../../types';\nimport { BaseTool } from '../base';\n\nimport {\n  SegmentationRepresentationConfig,\n  ToolGroupSpecificRepresentation,\n} from '../../types/SegmentationStateTypes';\nimport { contourDisplay } from './Contour';\nimport { labelmapDisplay } from './Labelmap';\n\n/**\n * In Cornerstone3DTools, displaying of segmentations are handled by the SegmentationDisplayTool.\n * Generally, any Segmentation can be viewed in various representations such as\n * labelmap (3d), contours, surface etc. As of now, Cornerstone3DTools only implements\n * Labelmap representation.\n *\n * SegmentationDisplayTool works at ToolGroup level, and is responsible for displaying the\n * segmentation representation for ALL viewports of a toolGroup, this way we can support complex\n * scenarios for displaying segmentations.\n *\n * Current Limitations:\n * - Only supports rendering of the volumetric segmentations in 3D space. (StackViewport segmentations are not supported yet)\n * - Labelmap representation is the only supported representation for now.\n *\n * Similar to other tools in Cornerstone3DTools, the SegmentationDisplayTool should\n * be added to the CornerstoneTools by calling cornerstoneTools.addTool(SegmentationDisplayTool)\n * and a toolGroup should be created for it using the ToolGroupManager API, finally\n * viewports information such as viewportId and renderingEngineId should be provided\n * to the toolGroup and the SegmentationDisplayTool should be set to be activated.\n *\n *\n */\nclass SegmentationDisplayTool extends BaseTool {\n  static toolName;\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      configuration: {},\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  onSetToolEnabled(): void {\n    const toolGroupId = this.toolGroupId;\n    const toolGroupSegmentationRepresentations =\n      getSegmentationRepresentations(toolGroupId);\n\n    if (\n      !toolGroupSegmentationRepresentations ||\n      toolGroupSegmentationRepresentations.length === 0\n    ) {\n      return;\n    }\n\n    // for each segmentationData, make the visibility true\n    toolGroupSegmentationRepresentations.forEach(\n      (segmentationRepresentation) => {\n        setSegmentationVisibility(\n          toolGroupId,\n          segmentationRepresentation.segmentationRepresentationUID,\n          true\n        );\n      }\n    );\n  }\n\n  onSetToolDisabled(): void {\n    const toolGroupId = this.toolGroupId;\n    const toolGroupSegmentationRepresentations =\n      getSegmentationRepresentations(toolGroupId);\n\n    if (\n      !toolGroupSegmentationRepresentations ||\n      toolGroupSegmentationRepresentations.length === 0\n    ) {\n      return;\n    }\n\n    // for each segmentationData, make the visibility false\n    toolGroupSegmentationRepresentations.forEach(\n      (segmentationRepresentation) => {\n        setSegmentationVisibility(\n          toolGroupId,\n          segmentationRepresentation.segmentationRepresentationUID,\n          false\n        );\n      }\n    );\n  }\n\n  /**\n   * It is used to trigger the render for each segmentations in the toolGroup.\n   * Based on the segmentation representation type, it will call the corresponding\n   * render function.\n   *\n   * @param toolGroupId - the toolGroupId\n   */\n  renderSegmentation = (toolGroupId: string): void => {\n    const toolGroup = getToolGroup(toolGroupId);\n\n    if (!toolGroup) {\n      return;\n    }\n\n    const toolGroupSegmentationRepresentations =\n      getSegmentationRepresentations(toolGroupId);\n\n    if (\n      !toolGroupSegmentationRepresentations ||\n      toolGroupSegmentationRepresentations.length === 0\n    ) {\n      return;\n    }\n\n    // toolGroup Viewports\n    const toolGroupViewports = toolGroup.viewportsInfo.map(\n      ({ renderingEngineId, viewportId }) => {\n        const enabledElement = getEnabledElementByIds(\n          viewportId,\n          renderingEngineId\n        );\n\n        if (enabledElement) {\n          return enabledElement.viewport;\n        }\n      }\n    );\n\n    // Render each segmentationData, in each viewport in the toolGroup\n    const segmentationRenderList = toolGroupSegmentationRepresentations.map(\n      (representation: ToolGroupSpecificRepresentation) => {\n        const config = this._getMergedRepresentationsConfig(toolGroupId);\n\n        const viewportsRenderList = [];\n        const display =\n          representation.type === Representations.Labelmap\n            ? labelmapDisplay\n            : contourDisplay;\n\n        for (const viewport of toolGroupViewports) {\n          const renderedViewport = display.render(\n            viewport as Types.IVolumeViewport,\n            representation,\n            config\n          );\n\n          viewportsRenderList.push(renderedViewport);\n        }\n        return viewportsRenderList;\n      }\n    );\n\n    Promise.allSettled(segmentationRenderList).then(() => {\n      // for all viewports in the toolGroup trigger a re-render\n      toolGroupViewports.forEach((viewport) => {\n        viewport.render();\n      });\n    });\n  };\n\n  /**\n   * Merge the toolGroup specific configuration with the default global configuration\n   * @param toolGroupId\n   * @returns\n   */\n  _getMergedRepresentationsConfig(\n    toolGroupId: string\n  ): SegmentationRepresentationConfig {\n    const toolGroupConfig =\n      segmentationConfig.getToolGroupSpecificConfig(toolGroupId);\n    const globalConfig = segmentationConfig.getGlobalConfig();\n\n    // merge two configurations and override the global config\n    const mergedConfig = csUtils.deepMerge(globalConfig, toolGroupConfig);\n\n    return mergedConfig;\n  }\n}\n\nSegmentationDisplayTool.toolName = 'SegmentationDisplay';\nexport default SegmentationDisplayTool;\n","import {\n  triggerEvent,\n  eventTarget,\n  getRenderingEngine,\n  Enums,\n  Types,\n} from '@cornerstonejs/core';\nimport { Events as csToolsEvents } from '../../enums';\nimport {\n  getToolGroup,\n  getToolGroupForViewport,\n} from '../../store/ToolGroupManager';\n\nimport SegmentationDisplayTool from '../../tools/displayTools/SegmentationDisplayTool';\nimport { SegmentationRenderedEventDetail } from '../../types/EventTypes';\n\n/**\n * SegmentationRenderingEngine is a class that is responsible for rendering\n * segmentations for a toolGroup. It will call SegmentationDisplayTool to render the segmentation\n * based on the segmentation data and their configurations. Note: This is a Singleton class\n * and should not be instantiated directly. To trigger a render for all the\n * segmentations of a tool group you can use.\n *\n * ```\n * triggerSegmentationRender(toolGroupId)\n * ```\n */\nclass SegmentationRenderingEngine {\n  private _needsRender: Set<string> = new Set();\n  private _animationFrameSet = false;\n  private _animationFrameHandle: number | null = null;\n  public hasBeenDestroyed: boolean;\n\n  public removeToolGroup(toolGroupId) {\n    this._needsRender.delete(toolGroupId);\n\n    if (this._needsRender.size === 0) {\n      this._reset();\n    }\n  }\n\n  public renderToolGroupSegmentations(toolGroupId): void {\n    this._setToolGroupSegmentationToBeRenderedNextFrame([toolGroupId]);\n  }\n\n  /**\n   *  _throwIfDestroyed Throws an error if trying to interact with the `RenderingEngine`\n   * instance after its `destroy` method has been called.\n   */\n  private _throwIfDestroyed() {\n    if (this.hasBeenDestroyed) {\n      throw new Error(\n        'this.destroy() has been manually called to free up memory, can not longer use this instance. Instead make a new one.'\n      );\n    }\n  }\n\n  private _setToolGroupSegmentationToBeRenderedNextFrame(\n    toolGroupIds: string[]\n  ) {\n    // Add the viewports to the set of flagged viewports\n    toolGroupIds.forEach((toolGroupId) => {\n      this._needsRender.add(toolGroupId);\n    });\n\n    // Render any flagged viewports\n    this._render();\n  }\n\n  /**\n   *  _render Sets up animation frame if necessary\n   */\n  private _render() {\n    // If we have viewports that need rendering and we have not already\n    // set the RAF callback to run on the next frame.\n    if (this._needsRender.size > 0 && this._animationFrameSet === false) {\n      this._animationFrameHandle = window.requestAnimationFrame(\n        this._renderFlaggedToolGroups\n      );\n\n      // Set the flag that we have already set up the next RAF call.\n      this._animationFrameSet = true;\n    }\n  }\n\n  private _renderFlaggedToolGroups = () => {\n    this._throwIfDestroyed();\n\n    // for each toolGroupId insides the _needsRender set, render the segmentation\n    const toolGroupIds = Array.from(this._needsRender.values());\n\n    for (const toolGroupId of toolGroupIds) {\n      this._triggerRender(toolGroupId);\n\n      // This viewport has been rendered, we can remove it from the set\n      this._needsRender.delete(toolGroupId);\n\n      // If there is nothing left that is flagged for rendering, stop here\n      // and allow RAF to be called again\n      if (this._needsRender.size === 0) {\n        this._animationFrameSet = false;\n        this._animationFrameHandle = null;\n        return;\n      }\n    }\n  };\n  _triggerRender(toolGroupId) {\n    const toolGroup = getToolGroup(toolGroupId);\n\n    if (!toolGroup) {\n      console.warn(`No tool group found with toolGroupId: ${toolGroupId}`);\n      return;\n    }\n\n    const { viewportsInfo } = toolGroup;\n    const viewports = [];\n\n    viewportsInfo.forEach(({ viewportId, renderingEngineId }) => {\n      const renderingEngine = getRenderingEngine(renderingEngineId);\n\n      if (!renderingEngine) {\n        console.warn('rendering Engine has been destroyed');\n        return;\n      }\n\n      viewports.push(renderingEngine.getViewport(viewportId));\n    });\n\n    const segmentationDisplayToolInstance = toolGroup.getToolInstance(\n      SegmentationDisplayTool.toolName\n    ) as SegmentationDisplayTool;\n    if (!segmentationDisplayToolInstance) {\n      console.warn('No segmentation tool found inside', toolGroupId);\n      return;\n    }\n\n    function onSegmentationRender(evt: Types.EventTypes.ImageRenderedEvent) {\n      const { element, viewportId, renderingEngineId } = evt.detail;\n\n      element.removeEventListener(\n        Enums.Events.IMAGE_RENDERED,\n        onSegmentationRender as EventListener\n      );\n\n      const toolGroup = getToolGroupForViewport(viewportId, renderingEngineId);\n\n      if (!toolGroup) {\n        console.warn('toolGroup has been destroyed');\n        return;\n      }\n\n      const eventDetail: SegmentationRenderedEventDetail = {\n        toolGroupId: toolGroup.id,\n        viewportId,\n      };\n\n      triggerEvent(eventTarget, csToolsEvents.SEGMENTATION_RENDERED, {\n        ...eventDetail,\n      });\n    }\n\n    // Todo: for other representations we probably need the drawSVG, but right now we are not using it\n    // drawSvg(element, (svgDrawingHelper) => {\n    //   const handleDrawSvg = (tool) => {\n    //     if (tool instanceof SegmentationDisplayTool && tool.renderAnnotation) {\n    //       tool.renderAnnotation({ detail: eventDetail })\n    //       triggerEvent(element, csToolsEvents.SEGMENTATION_RENDERED, { ...eventDetail })\n    //     }\n    //   }\n    //   enabledTools.forEach(handleDrawSvg)\n    // })\n\n    viewports.forEach(({ element }) => {\n      element.addEventListener(\n        Enums.Events.IMAGE_RENDERED,\n        onSegmentationRender\n      );\n    });\n\n    segmentationDisplayToolInstance.renderSegmentation(toolGroupId);\n  }\n\n  /**\n   *  _reset Resets the `RenderingEngine`\n   */\n  private _reset() {\n    window.cancelAnimationFrame(this._animationFrameHandle);\n\n    this._needsRender.clear();\n    this._animationFrameSet = false;\n    this._animationFrameHandle = null;\n  }\n}\n\nconst segmentationRenderingEngine = new SegmentationRenderingEngine();\n\n/**\n * It triggers a render for all the segmentations of the tool group with the given Id.\n * @param toolGroupId - The Id of the tool group to render.\n */\nfunction triggerSegmentationRender(toolGroupId: string): void {\n  segmentationRenderingEngine.renderToolGroupSegmentations(toolGroupId);\n}\n\nexport { segmentationRenderingEngine, triggerSegmentationRender };\nexport default triggerSegmentationRender;\n","import triggerSegmentationRender from '../../utilities/segmentation/triggerSegmentationRender';\nimport { SegmentationRepresentationModifiedEventType } from '../../types/EventTypes';\n\n/** A function that listens to the `segmentationStateModified` event and triggers\n * the `triggerSegmentationRender` function. This function is called when the\n * segmentation state or config is modified.\n */\nconst segmentationRepresentationModifiedListener = function (\n  evt: SegmentationRepresentationModifiedEventType\n): void {\n  const { toolGroupId } = evt.detail;\n  triggerSegmentationRender(toolGroupId);\n};\n\nexport default segmentationRepresentationModifiedListener;\n","import { cache } from '@cornerstonejs/core';\n\nimport triggerSegmentationRender from '../../utilities/segmentation/triggerSegmentationRender';\nimport SegmentationRepresentations from '../../enums/SegmentationRepresentations';\nimport * as SegmentationState from '../../stateManagement/segmentation/segmentationState';\nimport { SegmentationDataModifiedEventType } from '../../types/EventTypes';\n\n/** A callback function that is called when the segmentation data is modified which\n *  often is as a result of tool interactions e.g., scissors, eraser, etc.\n */\nconst onSegmentationDataModified = function (\n  evt: SegmentationDataModifiedEventType\n): void {\n  const { segmentationId, modifiedSlicesToUse } = evt.detail;\n\n  const { representationData, type } =\n    SegmentationState.getSegmentation(segmentationId);\n\n  let toolGroupIds;\n  if (type === SegmentationRepresentations.Labelmap) {\n    // get the volume from cache, we need the openGLTexture to be updated to GPU\n    const segmentationVolume = cache.getVolume(\n      representationData[type].volumeId\n    );\n\n    if (!segmentationVolume) {\n      console.warn('segmentation not found in cache');\n      return;\n    }\n\n    const { imageData, vtkOpenGLTexture } = segmentationVolume;\n\n    // Update the texture for the volume in the GPU\n    let slicesToUpdate;\n    if (modifiedSlicesToUse && Array.isArray(modifiedSlicesToUse)) {\n      slicesToUpdate = modifiedSlicesToUse;\n    } else {\n      const numSlices = imageData.getDimensions()[2];\n      slicesToUpdate = [...Array(numSlices).keys()];\n    }\n\n    slicesToUpdate.forEach((i) => {\n      vtkOpenGLTexture.setUpdatedFrame(i);\n    });\n\n    // Trigger modified on the imageData to update the image\n    imageData.modified();\n    toolGroupIds =\n      SegmentationState.getToolGroupIdsWithSegmentation(segmentationId);\n  } else {\n    throw new Error(\n      `onSegmentationDataModified: representationType ${type} not supported yet`\n    );\n  }\n\n  toolGroupIds.forEach((toolGroupId) => {\n    triggerSegmentationRender(toolGroupId);\n  });\n};\n\nexport default onSegmentationDataModified;\n","import triggerSegmentationRender from '../../utilities/segmentation/triggerSegmentationRender';\nimport { SegmentationRepresentationRemovedEventType } from '../../types/EventTypes';\n\n/** A function that listens to the `segmentationRepresentationRemoved` event and triggers\n * the `triggerSegmentationRender` function. This function is called when the\n * segmentation state or config is modified.\n */\nconst segmentationRepresentationRemovedEventListener = function (\n  evt: SegmentationRepresentationRemovedEventType\n): void {\n  const { toolGroupId, segmentationRepresentationUID } = evt.detail;\n\n  triggerSegmentationRender(toolGroupId);\n};\n\nexport default segmentationRepresentationRemovedEventListener;\n","import { SegmentationModifiedEventType } from '../../types/EventTypes';\nimport {\n  getToolGroupIdsWithSegmentation,\n  getSegmentationRepresentations,\n} from '../../stateManagement/segmentation/segmentationState';\nimport { triggerSegmentationRepresentationModified } from '../../stateManagement/segmentation/triggerSegmentationEvents';\n\n/** A function that listens to the `segmentationModified` event and triggers\n * the triggerSegmentationRepresentationModified on each toolGroup that\n * has a representation of the given segmentationId.\n */\nconst segmentationModifiedListener = function (\n  evt: SegmentationModifiedEventType\n): void {\n  const { segmentationId } = evt.detail;\n\n  const toolGroupIds = getToolGroupIdsWithSegmentation(segmentationId);\n\n  toolGroupIds.forEach((toolGroupId) => {\n    const segRepresentations = getSegmentationRepresentations(toolGroupId);\n    segRepresentations.forEach((representation) => {\n      if (representation.segmentationId === segmentationId) {\n        triggerSegmentationRepresentationModified(\n          toolGroupId,\n          representation.segmentationRepresentationUID\n        );\n      }\n    });\n  });\n};\n\nexport default segmentationModifiedListener;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { AnnotationTool, BaseTool } from '../tools';\nimport { Annotation } from '../types';\nimport { getAnnotations } from '../stateManagement/annotation/annotationState';\nimport * as ToolGroupManager from '../store/ToolGroupManager';\n\n/**\n * Get the annotation that is close to the provided canvas point, it will return\n * the first annotation that is found.\n *\n * @param element - The element to search for an annotation on.\n * @param canvasPoint - The canvasPoint on the page where the user clicked.\n * @param proximity - The distance from the canvasPoint to the annotation.\n * @returns The annotation for the element\n */\nfunction getAnnotationNearPoint(\n  element: HTMLDivElement,\n  canvasPoint: Types.Point2,\n  proximity = 5\n): Annotation | null {\n  // Todo: this function should return closest annotation, BUT, we are not using\n  // the function anywhere.\n  const enabledElement = getEnabledElement(element);\n  if (!enabledElement) {\n    throw new Error('getAnnotationNearPoint: enabledElement not found');\n  }\n\n  return getAnnotationNearPointOnEnabledElement(\n    enabledElement,\n    canvasPoint,\n    proximity\n  );\n}\n\n/**\n * \"Find the annotation near the point on the enabled element.\" it will return the\n * first annotation that is found.\n *\n * @param enabledElement - The element that is currently active.\n * @param point - The point to search near.\n * @param proximity - The distance from the point that the annotation must\n * be within.\n * @returns A Annotation object.\n */\nfunction getAnnotationNearPointOnEnabledElement(\n  enabledElement: Types.IEnabledElement,\n  point: Types.Point2,\n  proximity: number\n): Annotation | null {\n  // Todo: this function should return closest annotation, BUT, we are not using\n  // the function anywhere.\n  const { renderingEngineId, viewportId } = enabledElement;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return null;\n  }\n\n  const { _toolInstances: tools } = toolGroup;\n  for (const name in tools) {\n    const found = findAnnotationNearPointByTool(\n      tools[name],\n      enabledElement,\n      point,\n      proximity\n    );\n    if (found) {\n      return found;\n    }\n  }\n\n  return null;\n}\n\n/**\n * For the provided toolClass, it will find the annotation that is near the point,\n * it will return the first annotation that is found.\n *\n * @param tool - AnnotationTool\n * @param enabledElement - The element that is currently active.\n * @param point - The point in the image where the user clicked.\n * @param proximity - The distance from the point that the tool must be\n * within to be considered \"near\" the point.\n * @returns The annotation object that is being returned is the annotation object that\n * is being used in the tool.\n */\nfunction findAnnotationNearPointByTool(\n  tool: AnnotationTool,\n  enabledElement: Types.IEnabledElement,\n  point: Types.Point2,\n  proximity: number\n): Annotation | null {\n  // Todo: this function does not return closest annotation. It just returns\n  // the first annotation that is found in the proximity. BUT, we are not using\n  // the function anywhere.\n  const { viewport } = enabledElement;\n\n  const annotations = getAnnotations(\n    (tool.constructor as typeof BaseTool).toolName,\n    viewport?.element\n  );\n  const currentId = viewport?.getCurrentImageId?.();\n  if (annotations?.length) {\n    const { element } = enabledElement.viewport;\n    for (const annotation of annotations) {\n      const referencedImageId = annotation.metadata?.referencedImageId;\n      if (\n        (currentId && referencedImageId && currentId !== referencedImageId) ||\n        !tool.isPointNearTool\n      ) {\n        continue;\n      }\n\n      if (\n        tool.isPointNearTool(element, annotation, point, proximity, '') ||\n        tool.getHandleNearImagePoint(element, annotation, point, proximity)\n      ) {\n        return annotation;\n      }\n    }\n  }\n  return null;\n}\n\nexport { getAnnotationNearPoint, getAnnotationNearPointOnEnabledElement };\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @since 0.1.0\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * isObject({})\n * // => true\n *\n * isObject([1, 2, 3])\n * // => true\n *\n * isObject(Function)\n * // => true\n *\n * isObject(null)\n * // => false\n */\nfunction isObject(value) {\n  const type = typeof value;\n\n  return value !== null && (type === 'object' || type === 'function');\n}\n\nexport default isObject;\n","import isObject from './isObject';\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn. The debounced function\n * comes with a `cancel` method to cancel delayed `func` invocations and a\n * `flush` method to immediately invoke them. Provide `options` to indicate\n * whether `func` should be invoked on the leading and/or trailing edge of the\n * `wait` timeout. The `func` is invoked with the last arguments provided to the\n * debounced function. Subsequent calls to the debounced function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available).\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', debounce(calculateLayout, 150))\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }))\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = debounce(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * jQuery(source).on('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.pending() ? \"Pending...\" : \"Ready\"\n */\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF =\n    !wait && wait !== 0 && typeof window.requestAnimationFrame === 'function';\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n  wait = Number(wait) || 0;\n  if (isObject(options)) {\n    leading = Boolean(options.leading);\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? Math.max(Number(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? Boolean(options.trailing) : trailing;\n  }\n\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n\n    return result;\n  }\n\n  function startTimer(pendingFunc, wait) {\n    if (useRAF) {\n      return window.requestAnimationFrame(pendingFunc);\n    }\n\n    return setTimeout(pendingFunc, wait);\n  }\n\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = startTimer(timerExpired, wait);\n\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (\n      lastCallTime === undefined ||\n      timeSinceLastCall >= wait ||\n      timeSinceLastCall < 0 ||\n      (maxing && timeSinceLastInvoke >= maxWait)\n    );\n  }\n\n  function timerExpired() {\n    const time = Date.now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(Date.now());\n  }\n\n  function pending() {\n    return timerId !== undefined;\n  }\n\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n\n    lastArgs = args;\n    lastThis = this; // eslint-disable-line consistent-this\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = startTimer(timerExpired, wait);\n\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = startTimer(timerExpired, wait);\n    }\n\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n\n  return debounced;\n}\n\nexport default debounce;\n","import debounce from './debounce';\nimport isObject from './isObject';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds (or once per browser frame). The throttled function\n * comes with a `cancel` method to cancel delayed `func` invocations and a\n * `flush` method to immediately invoke them. Provide `options` to indicate\n * whether `func` should be invoked on the leading and/or trailing edge of the\n * `wait` timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `throttle` and `debounce`.\n *\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0]\n *  The number of milliseconds to throttle invocations to; if omitted,\n *  `requestAnimationFrame` is used (if available).\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', throttle(updatePosition, 100))\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * const throttled = throttle(renewToken, 300000, { 'trailing': false })\n * jQuery(element).on('click', throttled)\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel)\n */\nfunction throttle(func, wait, options) {\n  let leading = true;\n  let trailing = true;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? Boolean(options.leading) : leading;\n    trailing = 'trailing' in options ? Boolean(options.trailing) : trailing;\n  }\n\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait,\n  });\n}\n\nexport default throttle;\n","/**\n * Clips a value to an upper and lower bound.\n * @export @public @method\n * @name clip\n *\n * @param  {number} val  The value to clip.\n * @param  {number} low  The lower bound.\n * @param  {number} high The upper bound.\n * @returns {number}      The clipped value.\n */\nexport function clip(val, low, high) {\n  return Math.min(Math.max(low, val), high);\n}\n\n/**\n * Clips a value within a box.\n * @export @public @method\n * @name clipToBox\n *\n * @param  {Object} point The point to clip\n * @param  {Object} box   The bounding box to clip to.\n * @returns {Object}       The clipped point.\n */\nexport function clipToBox(point, box) {\n  // Clip an {x, y} point to a box of size {width, height}\n  point.x = clip(point.x, 0, box.width);\n  point.y = clip(point.y, 0, box.height);\n}\n\nexport default clip;\n","import { utilities, Enums } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nconst { calibratedPixelSpacingMetadataProvider } = utilities;\n\n/**\n * It adds the provided spacing to the Cornerstone internal calibratedPixelSpacing\n * metadata provider, then it invalidates all the tools that have the imageId as\n * their reference imageIds. Finally, it triggers a re-render for invalidated annotations.\n * @param imageId - ImageId for the calibrated image\n * @param rowPixelSpacing - Spacing in row direction\n * @param calibrationOrScale - either the calibration object or a scale value\n */\nexport default function calibrateImageSpacing(\n  imageId: string,\n  renderingEngine: Types.IRenderingEngine,\n  calibrationOrScale: Types.IImageCalibration | number\n): void {\n  // Handle simple parameter version\n  if (typeof calibrationOrScale === 'number') {\n    calibrationOrScale = {\n      type: Enums.CalibrationTypes.USER,\n      scale: calibrationOrScale,\n    };\n  }\n  // 1. Add the calibratedPixelSpacing metadata to the metadata\n  calibratedPixelSpacingMetadataProvider.add(imageId, calibrationOrScale);\n\n  // 2. Update the actor for stackViewports\n  const viewports = renderingEngine.getStackViewports();\n\n  // 2.1 If imageId is already being used in a stackViewport -> update actor\n  viewports.forEach((viewport) => {\n    const imageIds = viewport.getImageIds();\n    if (imageIds.includes(imageId)) {\n      viewport.calibrateSpacing(imageId);\n    }\n  });\n\n  // 2.2 If imageId is cached but not being displayed in a viewport, stackViewport\n  // will handle using the calibratedPixelSpacing since it has been added\n  // to the provider\n}\n","import type { Types } from '@cornerstonejs/core';\nimport triggerAnnotationRender from './triggerAnnotationRender';\n\nexport function triggerAnnotationRenderForViewportIds(\n  renderingEngine: Types.IRenderingEngine,\n  viewportIdsToRender: string[]\n): void {\n  if (!viewportIdsToRender.length) {\n    return;\n  }\n\n  viewportIdsToRender.forEach((viewportId) => {\n    const { element } = renderingEngine.getViewport(viewportId);\n    triggerAnnotationRender(element);\n  });\n}\n\nexport default triggerAnnotationRenderForViewportIds;\n","import {\n  StackViewport,\n  Types,\n  VolumeViewport,\n  eventTarget,\n  EVENTS,\n  utilities as csUtils,\n  getEnabledElement,\n} from '@cornerstonejs/core';\nimport { ScrollOptions, EventTypes } from '../types';\n\n/**\n * It scrolls one slice in the Stack or Volume Viewport, it uses the options provided\n * to determine the slice to scroll to. For Stack Viewport, it scrolls in the 1 or -1\n * direction, for Volume Viewport, it uses the camera and focal point to determine the\n * slice to scroll to based on the spacings.\n * @param viewport - The viewport in which to scroll\n * @param options - Options to use for scrolling, including direction, invert, and volumeId\n * @returns\n */\nexport default function scroll(\n  viewport: Types.IStackViewport | Types.IVolumeViewport,\n  options: ScrollOptions\n): void {\n  // check if viewport is disabled then throw error\n  const enabledElement = getEnabledElement(viewport.element);\n\n  if (!enabledElement) {\n    throw new Error('Scroll::Viewport is not enabled (it might be disabled)');\n  }\n\n  if (\n    viewport instanceof StackViewport &&\n    viewport.getImageIds().length === 0\n  ) {\n    throw new Error('Scroll::Stack Viewport has no images');\n  }\n\n  const { type: viewportType } = viewport;\n  const { volumeId, delta } = options;\n\n  if (viewport instanceof StackViewport) {\n    viewport.scroll(delta, options.debounceLoading, options.loop);\n  } else if (viewport instanceof VolumeViewport) {\n    scrollVolume(viewport, volumeId, delta);\n  } else {\n    throw new Error(`Not implemented for Viewport Type: ${viewportType}`);\n  }\n}\n\nexport function scrollVolume(\n  viewport: VolumeViewport,\n  volumeId: string,\n  delta: number\n) {\n  const { numScrollSteps, currentStepIndex, sliceRangeInfo } =\n    csUtils.getVolumeViewportScrollInfo(viewport, volumeId);\n\n  if (!sliceRangeInfo) {\n    return;\n  }\n\n  const { sliceRange, spacingInNormalDirection, camera } = sliceRangeInfo;\n  const { focalPoint, viewPlaneNormal, position } = camera;\n\n  const { newFocalPoint, newPosition } = csUtils.snapFocalPointToSlice(\n    focalPoint,\n    position,\n    sliceRange,\n    viewPlaneNormal,\n    spacingInNormalDirection,\n    delta\n  );\n\n  viewport.setCamera({\n    focalPoint: newFocalPoint,\n    position: newPosition,\n  });\n  viewport.render();\n\n  const desiredStepIndex = currentStepIndex + delta;\n\n  if (\n    (desiredStepIndex > numScrollSteps || desiredStepIndex < 0) &&\n    viewport.getCurrentImageId() // Check that we are in the plane of acquistion\n  ) {\n    // One common use case of this trigger might be to load the next\n    // volume in a time series or the next segment of a partially loaded volume.\n\n    const VolumeScrollEventDetail = {\n      volumeId,\n      viewport,\n      delta,\n      desiredStepIndex,\n      currentStepIndex,\n      numScrollSteps,\n      currentImageId: viewport.getCurrentImageId(),\n    };\n\n    csUtils.triggerEvent(\n      eventTarget,\n      EVENTS.VOLUME_SCROLL_OUT_OF_BOUNDS,\n      VolumeScrollEventDetail as EventTypes.VolumeScrollOutOfBoundsEventDetail\n    );\n  }\n}\n","import {\n  getEnabledElement,\n  StackViewport,\n  VolumeViewport,\n  utilities as csUtils,\n  Types,\n} from '@cornerstonejs/core';\nimport JumpToSliceOptions from '../../types/JumpToSliceOptions';\nimport clip from '../clip';\nimport scroll from '../scroll';\n\n/**\n * It uses the imageIndex in the Options to scroll to the slice that is intended.\n * It works for both Stack and Volume viewports. In VolumeViewports, the imageIndex\n * should be given with respect to the index in the 3D image in the view direction\n * (i.e. the index of the slice in Axial, Sagittal, Coronal, or Oblique).\n *\n * @param element - the HTML Div element scrolling inside\n * @param options - the options used for jumping to a slice\n * @returns Promise that resolves to ImageIdIndex\n */\nasync function jumpToSlice(\n  element: HTMLDivElement,\n  options = {} as JumpToSliceOptions\n): Promise<void> {\n  const { imageIndex, debounceLoading, volumeId } = options;\n  const enabledElement = getEnabledElement(element);\n\n  if (!enabledElement) {\n    throw new Error('Element has been disabled');\n  }\n\n  const { viewport } = enabledElement;\n\n  const { imageIndex: currentImageIndex, numberOfSlices } = _getImageSliceData(\n    viewport,\n    debounceLoading\n  );\n\n  const imageIndexToJump = _getImageIndexToJump(numberOfSlices, imageIndex);\n  const delta = imageIndexToJump - currentImageIndex;\n\n  scroll(viewport, { delta, debounceLoading, volumeId });\n}\n\nfunction _getImageSliceData(\n  viewport: Types.IStackViewport | Types.IVolumeViewport,\n  debounceLoading?: boolean\n): Types.ImageSliceData {\n  if (viewport instanceof StackViewport) {\n    return {\n      numberOfSlices: viewport.getImageIds().length,\n      imageIndex: debounceLoading\n        ? viewport.getTargetImageIdIndex()\n        : viewport.getCurrentImageIdIndex(),\n    };\n  } else if (viewport instanceof VolumeViewport) {\n    return csUtils.getImageSliceDataForVolumeViewport(viewport);\n  } else {\n    throw new Error('Unsupported viewport type');\n  }\n}\n\nfunction _getImageIndexToJump(\n  numberOfSlices: number,\n  imageIndex: number\n): number {\n  const lastSliceIndex = numberOfSlices - 1;\n\n  return clip(imageIndex, 0, lastSliceIndex);\n}\n\nexport default jumpToSlice;\n","import { vec3 } from 'gl-matrix';\nimport type { Types } from '@cornerstonejs/core';\nimport type { vtkImageData } from '@kitware/vtk.js/Common/DataModel/ImageData';\nimport BoundsIJK from '../types/BoundsIJK';\n\nexport type PointInShape = {\n  value: number;\n  index: number;\n  pointIJK: Types.Point3;\n  pointLPS: Types.Point3;\n};\n\nexport type PointInShapeCallback = ({\n  value,\n  index,\n  pointIJK,\n  pointLPS,\n}: {\n  value: number;\n  index: number;\n  pointIJK: Types.Point3;\n  pointLPS: Types.Point3;\n}) => void;\n\nexport type ShapeFnCriteria = (\n  pointIJK: Types.Point3,\n  pointLPS: Types.Point3\n) => boolean;\n\n/**\n * For each point in the image (If boundsIJK is not provided, otherwise, for each\n * point in the provided bounding box), It runs the provided callback IF the point\n * passes the provided criteria to be inside the shape (which is defined by the\n * provided pointInShapeFn)\n *\n * @param imageData - The image data object.\n * @param dimensions - The dimensions of the image.\n * @param pointInShapeFn - A function that takes a point in LPS space and returns\n * true if the point is in the shape and false if it is not.\n * @param callback - A function that will be called for\n * every point in the shape.\n * @param boundsIJK - The bounds of the volume in IJK coordinates.\n */\nexport default function pointInShapeCallback(\n  imageData: vtkImageData | Types.CPUImageData,\n  pointInShapeFn: ShapeFnCriteria,\n  callback?: PointInShapeCallback,\n  boundsIJK?: BoundsIJK\n): Array<PointInShape> {\n  let iMin, iMax, jMin, jMax, kMin, kMax;\n\n  let scalarData;\n\n  // if getScalarData is a method on imageData\n  if ((imageData as Types.CPUImageData).getScalarData) {\n    scalarData = (imageData as Types.CPUImageData).getScalarData();\n  } else {\n    scalarData = (imageData as vtkImageData)\n      .getPointData()\n      .getScalars()\n      .getData();\n  }\n\n  const dimensions = imageData.getDimensions();\n\n  if (!boundsIJK) {\n    iMin = 0;\n    iMax = dimensions[0];\n    jMin = 0;\n    jMax = dimensions[1];\n    kMin = 0;\n    kMax = dimensions[2];\n  } else {\n    [[iMin, iMax], [jMin, jMax], [kMin, kMax]] = boundsIJK;\n  }\n\n  const start = vec3.fromValues(iMin, jMin, kMin);\n\n  const direction = imageData.getDirection();\n  const rowCosines = direction.slice(0, 3);\n  const columnCosines = direction.slice(3, 6);\n  const scanAxisNormal = direction.slice(6, 9);\n\n  const spacing = imageData.getSpacing();\n  const [rowSpacing, columnSpacing, scanAxisSpacing] = spacing;\n\n  // @ts-ignore will be fixed in vtk-master\n  const worldPosStart = imageData.indexToWorld(start);\n\n  const rowStep = vec3.fromValues(\n    rowCosines[0] * rowSpacing,\n    rowCosines[1] * rowSpacing,\n    rowCosines[2] * rowSpacing\n  );\n\n  const columnStep = vec3.fromValues(\n    columnCosines[0] * columnSpacing,\n    columnCosines[1] * columnSpacing,\n    columnCosines[2] * columnSpacing\n  );\n\n  const scanAxisStep = vec3.fromValues(\n    scanAxisNormal[0] * scanAxisSpacing,\n    scanAxisNormal[1] * scanAxisSpacing,\n    scanAxisNormal[2] * scanAxisSpacing\n  );\n\n  const yMultiple = dimensions[0];\n  const zMultiple = dimensions[0] * dimensions[1];\n\n  const pointsInShape: Array<PointInShape> = [];\n  for (let k = kMin; k <= kMax; k++) {\n    for (let j = jMin; j <= jMax; j++) {\n      for (let i = iMin; i <= iMax; i++) {\n        const pointIJK: Types.Point3 = [i, j, k];\n        const dI = i - iMin;\n        const dJ = j - jMin;\n        const dK = k - kMin;\n\n        const startWorld = worldPosStart;\n\n        const pointLPS: Types.Point3 = [\n          startWorld[0] +\n            dI * rowStep[0] +\n            dJ * columnStep[0] +\n            dK * scanAxisStep[0],\n          startWorld[1] +\n            dI * rowStep[1] +\n            dJ * columnStep[1] +\n            dK * scanAxisStep[1],\n          startWorld[2] +\n            dI * rowStep[2] +\n            dJ * columnStep[2] +\n            dK * scanAxisStep[2],\n        ];\n\n        if (pointInShapeFn(pointLPS, pointIJK)) {\n          const index = k * zMultiple + j * yMultiple + i;\n          const value = scalarData[index];\n\n          pointsInShape.push({ value, index, pointIJK, pointLPS });\n          if (callback !== null) {\n            callback({ value, index, pointIJK, pointLPS });\n          }\n        }\n      }\n    }\n  }\n  return pointsInShape;\n}\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * Uses the current bounds of the 2D rectangle and extends it in the view axis by numSlices\n * It compares min and max of each IJK to find the view axis (for axial, zMin === zMax) and\n * then calculates the extended range. It will assume the slice is relative to the\n * current slice and will add the given slices to the current max of the boundingBox.\n * @param boundsIJK - [[iMin, iMax], [jMin, jMax], [kMin, kMax]]\n * @param slices - number of slices to project before and after\n * @returns extended bounds\n */\nfunction extend2DBoundingBoxInViewAxis(\n  boundsIJK: [Types.Point2, Types.Point2, Types.Point2],\n  numSlicesToProject: number\n): [Types.Point2, Types.Point2, Types.Point2] {\n  // find which index in boundsIJK has the same first and last value\n  const sliceNormalIndex = boundsIJK.findIndex(([min, max]) => min === max);\n\n  if (sliceNormalIndex === -1) {\n    throw new Error('3D bounding boxes not supported in an oblique plane');\n  }\n\n  // get the index and subtract slices from the min and add to the max\n  boundsIJK[sliceNormalIndex][0] -= numSlicesToProject;\n  boundsIJK[sliceNormalIndex][1] += numSlicesToProject;\n  return boundsIJK;\n}\n\nexport default extend2DBoundingBoxInViewAxis;\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * With a given vertices (points) coordinates in IJK, it calculates the minimum and maximum\n * coordinate in each axis, and returns them. If dimensions are provided it also\n * clip the min, max to the provided width, height and depth\n *\n * @param points - shape corner points coordinates (IJK)\n * @param dimensions - dimensions of the image\n * @returns [[xMin,xMax],[yMin,yMax], [zMin,zMax]]\n */\nfunction getBoundingBoxAroundShape(\n  points: Types.Point3[],\n  dimensions?: Types.Point3\n): [Types.Point2, Types.Point2, Types.Point2] {\n  let xMin = Infinity;\n  let xMax = 0;\n  let yMin = Infinity;\n  let yMax = 0;\n  let zMin = Infinity;\n  let zMax = 0;\n\n  points.forEach((p) => {\n    xMin = Math.min(p[0], xMin);\n    xMax = Math.max(p[0], xMax);\n    yMin = Math.min(p[1], yMin);\n    yMax = Math.max(p[1], yMax);\n    zMin = Math.min(p[2], zMin);\n    zMax = Math.max(p[2], zMax);\n  });\n\n  xMin = Math.floor(xMin);\n  xMax = Math.floor(xMax);\n  yMin = Math.floor(yMin);\n  yMax = Math.floor(yMax);\n  zMin = Math.floor(zMin);\n  zMax = Math.floor(zMax);\n\n  if (dimensions) {\n    // clip the min, max to the provided width, height and depth\n    const [width, height, depth] = dimensions;\n    xMin = Math.max(0, xMin);\n    xMax = Math.min(width - 1, xMax);\n    yMin = Math.max(0, yMin);\n    yMax = Math.min(height - 1, yMax);\n    zMin = Math.max(0, zMin);\n    zMax = Math.min(depth - 1, zMax);\n  }\n\n  return [\n    [xMin, xMax],\n    [yMin, yMax],\n    [zMin, zMax],\n  ];\n}\n\nexport default getBoundingBoxAroundShape;\n","import { utilities as csUtils } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport type { vtkImageData } from '@kitware/vtk.js/Common/DataModel/ImageData';\nimport { vec3 } from 'gl-matrix';\nimport { pointInSphere } from './math/sphere';\nimport pointInShapeCallback, {\n  PointInShapeCallback,\n} from './pointInShapeCallback';\nimport { BoundsIJK } from '../types';\nimport { getBoundingBoxAroundShape } from './boundingBox';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * Given an imageData, and the great circle top and bottom points of a sphere,\n * this function will run the callback for each point of the imageData that is\n * within the sphere defined by the great circle points. If the viewport\n * is provided, region of interest will be an accurate approximation of the\n * sphere (using viewport camera), and the resulting performance will be\n * better.\n *\n * @privateRemarks great circle also known as orthodrome is the intersection of\n * the sphere and the plane that passes through the center of the sphere\n *\n * @param imageData - The volume imageData\n * @param circlePoints - bottom and top points of the great circle in world coordinates\n * @param callback - A callback function that will be called for each point in the shape.\n */\nexport default function pointInSurroundingSphereCallback(\n  imageData: vtkImageData,\n  circlePoints: [Types.Point3, Types.Point3],\n  callback: PointInShapeCallback,\n  viewport?: Types.IVolumeViewport\n): void {\n  // We can run the sphere equation to determine if a point is inside\n  // the sphere; however, since the imageData dimensions can be quite large, we\n  // can narrow down the search by estimating the bounds of the sphere in index\n  // space.\n  const { boundsIJK, centerWorld, radiusWorld } = _getBounds(\n    circlePoints,\n    imageData,\n    viewport\n  );\n\n  const sphereObj = {\n    center: centerWorld,\n    radius: radiusWorld,\n  };\n\n  pointInShapeCallback(\n    imageData,\n    (pointLPS) => pointInSphere(sphereObj, pointLPS),\n    callback,\n    boundsIJK\n  );\n}\n\nfunction _getBounds(\n  circlePoints: [Types.Point3, Types.Point3],\n  imageData: vtkImageData,\n  viewport\n): {\n  boundsIJK: BoundsIJK;\n  centerWorld: Types.Point3;\n  radiusWorld: number;\n} {\n  const [bottom, top] = circlePoints;\n\n  // Sphere center in world\n  const centerWorld = vec3.fromValues(\n    (bottom[0] + top[0]) / 2,\n    (bottom[1] + top[1]) / 2,\n    (bottom[2] + top[2]) / 2\n  );\n\n  // sphere radius in world\n  const radiusWorld = vec3.distance(bottom, top) / 2;\n\n  let boundsIJK;\n\n  if (!viewport) {\n    // If no viewport is provide (no camera), we can estimate the bounding box\n    // of the sphere in index space.\n    // This is done by calculating the maximum value for radius in the index\n    // space (since the radius is in world space, we need to convert it to index, and\n    // each dimensions can have a different scale factor). Therefore, by finding\n    // the minimum spacing value in the imageData, we can calculate the maximum\n    // radius in index space and use that to calculate the bounds of the sphere\n    // This will not be accurate, but it is a good first approximation.\n    // sphere center in index\n    const centerIJK = transformWorldToIndex(\n      imageData,\n      centerWorld as Types.Point3\n    );\n\n    const spacings = imageData.getSpacing();\n    const minSpacing = Math.min(...spacings);\n\n    const maxRadiusIJK = Math.ceil(radiusWorld / minSpacing);\n\n    boundsIJK = [\n      [centerIJK[0] - maxRadiusIJK, centerIJK[0] + maxRadiusIJK],\n      [centerIJK[1] - maxRadiusIJK, centerIJK[1] + maxRadiusIJK],\n      [centerIJK[2] - maxRadiusIJK, centerIJK[2] + maxRadiusIJK],\n    ];\n\n    return {\n      boundsIJK,\n      centerWorld: centerWorld as Types.Point3,\n      radiusWorld,\n    };\n  }\n\n  boundsIJK = _computeBoundsIJKWithCamera(\n    imageData,\n    viewport,\n    circlePoints,\n    centerWorld,\n    radiusWorld\n  );\n\n  return {\n    boundsIJK,\n    centerWorld: centerWorld as Types.Point3,\n    radiusWorld,\n  };\n}\n\nfunction _computeBoundsIJKWithCamera(\n  imageData,\n  viewport,\n  circlePoints,\n  centerWorld,\n  radiusWorld\n) {\n  const [bottom, top] = circlePoints;\n\n  const dimensions = imageData.getDimensions() as Types.Point3;\n  const camera = viewport.getCamera();\n\n  // Calculate viewRight from the camera, this will get used in order to\n  // calculate circles topLeft and bottomRight on different planes of intersection\n  // between sphere and viewPlane\n  const viewUp = vec3.fromValues(\n    camera.viewUp[0],\n    camera.viewUp[1],\n    camera.viewUp[2]\n  );\n  const viewPlaneNormal = vec3.fromValues(\n    camera.viewPlaneNormal[0],\n    camera.viewPlaneNormal[1],\n    camera.viewPlaneNormal[2]\n  );\n  const viewRight = vec3.create();\n\n  vec3.cross(viewRight, viewUp, viewPlaneNormal);\n\n  // we need to find the bounding box of the sphere in the image, e.g., the\n  // topLeftWorld and bottomRightWorld points of the bounding box.\n  // We go from the sphereCenter in the normal direction of amount radius, and\n  // we go left to find the topLeftWorld point of the bounding box. Next we go\n  // in the opposite direction and go right to find the bottomRightWorld point\n  // of the bounding box.\n  const topLeftWorld = vec3.create();\n  const bottomRightWorld = vec3.create();\n\n  vec3.scaleAndAdd(topLeftWorld, top, viewPlaneNormal, radiusWorld);\n  vec3.scaleAndAdd(bottomRightWorld, bottom, viewPlaneNormal, -radiusWorld);\n\n  // go in the direction of viewRight with the value of radius\n  vec3.scaleAndAdd(topLeftWorld, topLeftWorld, viewRight, -radiusWorld);\n  vec3.scaleAndAdd(bottomRightWorld, bottomRightWorld, viewRight, radiusWorld);\n\n  // convert the world coordinates to index coordinates\n\n  const sphereCornersIJK = [\n    <Types.Point3>transformWorldToIndex(imageData, <Types.Point3>topLeftWorld),\n    <Types.Point3>(\n      transformWorldToIndex(imageData, <Types.Point3>bottomRightWorld)\n    ),\n  ];\n\n  // get the bounding box of the sphere in the image\n  const boundsIJK = getBoundingBoxAroundShape(sphereCornersIJK, dimensions);\n\n  return boundsIJK;\n}\n","import type { Types } from '@cornerstonejs/core';\nimport { vec3 } from 'gl-matrix';\n\ntype Sphere = {\n  center: Types.Point3 | vec3;\n  radius: number;\n};\n\n/**\n * Checks if a point is inside a sphere. Note: this is similar to the\n * `pointInEllipse` function, but since we don't need checks for the\n * ellipse's rotation in different views, we can use a simpler equation\n * which would be faster (no if statements).\n *\n * @param sphere - Sphere object with center and radius\n * @param pointLPS - the point to check in world coordinates\n * @returns boolean\n */\nexport default function pointInSphere(\n  sphere: Sphere,\n  pointLPS: Types.Point3\n): boolean {\n  const { center, radius } = sphere;\n\n  return (\n    (pointLPS[0] - center[0]) ** 2 +\n      (pointLPS[1] - center[1]) ** 2 +\n      (pointLPS[2] - center[2]) ** 2 <=\n    radius ** 2\n  );\n}\n","/**\n * Truncates decimal points to that there is at least 1+precision significant\n * digits.\n *\n * For example, with the default precision 2 (3 significant digits)\n * * Values larger than 100 show no information after the decimal point\n * * Values between 10 and 99 show 1 decimal point\n * * Values between 1 and 9 show 2 decimal points\n *\n * @param value - to return a fixed measurement value from\n * @param precision - defining how many digits after 1..9 are desired\n */\nfunction roundNumber(value: string | number, precision = 2): string {\n  if (value === undefined || value === null || value === '') {\n    return 'NaN';\n  }\n  value = Number(value);\n  if (value < 0.0001) {\n    return `${value}`;\n  }\n  const fixedPrecision =\n    value >= 100\n      ? precision - 2\n      : value >= 10\n      ? precision - 1\n      : value >= 1\n      ? precision\n      : value >= 0.1\n      ? precision + 1\n      : value >= 0.01\n      ? precision + 2\n      : value >= 0.001\n      ? precision + 3\n      : precision + 4;\n  return value.toFixed(fixedPrecision);\n}\n\nexport default roundNumber;\n","import { Types } from '@cornerstonejs/core';\n\nfunction isWithinThreshold(\n  index: number,\n  imageVolume: Types.IImageVolume,\n  strategySpecificConfiguration: any\n) {\n  const { THRESHOLD_INSIDE_CIRCLE } = strategySpecificConfiguration;\n\n  const voxelValue = imageVolume.getScalarData()[index];\n  const { threshold } = THRESHOLD_INSIDE_CIRCLE;\n\n  return threshold[0] <= voxelValue && voxelValue <= threshold[1];\n}\n\nexport default isWithinThreshold;\n","import type { Types } from '@cornerstonejs/core';\nimport { utilities as csUtils } from '@cornerstonejs/core';\n\nimport { triggerSegmentationDataModified } from '../../../stateManagement/segmentation/triggerSegmentationEvents';\nimport { pointInSurroundingSphereCallback } from '../../../utilities';\nimport isWithinThreshold from './utils/isWithinThreshold';\n\ntype OperationData = {\n  points: [Types.Point3, Types.Point3, Types.Point3, Types.Point3];\n  volume: Types.IImageVolume;\n  imageVolume: Types.IImageVolume;\n  segmentIndex: number;\n  segmentationId: string;\n  segmentsLocked: number[];\n  viewPlaneNormal: Types.Point3;\n  viewUp: Types.Point3;\n  strategySpecificConfiguration: any;\n  constraintFn: () => boolean;\n};\n\nfunction fillSphere(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData,\n  _inside = true,\n  threshold = false\n): void {\n  const { viewport } = enabledElement;\n  const {\n    volume: segmentation,\n    segmentsLocked,\n    segmentIndex,\n    imageVolume,\n    strategySpecificConfiguration,\n    segmentationId,\n    points,\n  } = operationData;\n\n  const { imageData, dimensions } = segmentation;\n  const scalarData = segmentation.getScalarData();\n  const scalarIndex = [];\n\n  let callback;\n\n  if (threshold) {\n    callback = ({ value, index, pointIJK }) => {\n      if (segmentsLocked.includes(value)) {\n        return;\n      }\n\n      if (\n        isWithinThreshold(index, imageVolume, strategySpecificConfiguration)\n      ) {\n        scalarData[index] = segmentIndex;\n        scalarIndex.push(index);\n      }\n    };\n  } else {\n    callback = ({ index, value }) => {\n      if (segmentsLocked.includes(value)) {\n        return;\n      }\n      scalarData[index] = segmentIndex;\n      scalarIndex.push(index);\n    };\n  }\n\n  pointInSurroundingSphereCallback(\n    imageData,\n    [points[0], points[1]],\n    callback,\n    viewport as Types.IVolumeViewport\n  );\n\n  // Since the scalar indexes start from the top left corner of the cube, the first\n  // slice that needs to be rendered can be calculated from the first mask coordinate\n  // divided by the zMultiple, as well as the last slice for the last coordinate\n  const zMultiple = dimensions[0] * dimensions[1];\n  const minSlice = Math.floor(scalarIndex[0] / zMultiple);\n  const maxSlice = Math.floor(scalarIndex[scalarIndex.length - 1] / zMultiple);\n  const sliceArray = Array.from(\n    { length: maxSlice - minSlice + 1 },\n    (v, k) => k + minSlice\n  );\n\n  triggerSegmentationDataModified(segmentationId, sliceArray);\n}\n\n/**\n * Fill inside a sphere with the given segment index in the given operation data. The\n * operation data contains the sphere required points.\n * @param enabledElement - The element that is enabled and selected.\n * @param operationData - OperationData\n */\nexport function fillInsideSphere(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  fillSphere(enabledElement, operationData, true);\n}\n\n/**\n * Fill inside the circular region segment inside the segmentation defined by the operationData.\n * It fills the segmentation pixels inside the defined circle.\n * @param enabledElement - The element for which the segment is being filled.\n * @param operationData - EraseOperationData\n */\nexport function thresholdInsideSphere(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  const { volume, imageVolume } = operationData;\n\n  if (\n    !csUtils.isEqual(volume.dimensions, imageVolume.dimensions) ||\n    !csUtils.isEqual(volume.direction, imageVolume.direction)\n  ) {\n    throw new Error(\n      'Only source data the same dimensions/size/orientation as the segmentation currently supported.'\n    );\n  }\n\n  fillSphere(enabledElement, operationData, true, true);\n}\n\n/**\n * Fill outside a sphere with the given segment index in the given operation data. The\n * operation data contains the sphere required points.\n * @param enabledElement - The element that is enabled and selected.\n * @param operationData - OperationData\n */\nexport function fillOutsideSphere(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  fillSphere(enabledElement, operationData, false);\n}\n","import type { Types } from '@cornerstonejs/core';\n\nimport { fillInsideSphere } from './fillSphere';\n\ntype OperationData = {\n  points: [Types.Point3, Types.Point3, Types.Point3, Types.Point3];\n  imageVolume: Types.IImageVolume;\n  volume: Types.IImageVolume;\n  segmentIndex: number;\n  segmentationId: string;\n  segmentsLocked: number[];\n  viewPlaneNormal: Types.Point3;\n  viewUp: Types.Point3;\n  constraintFn: () => boolean;\n  strategySpecificConfiguration: any;\n};\n\nexport function eraseInsideSphere(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  // Take the arguments and set the segmentIndex to 0,\n  // Then use existing fillInsideCircle functionality.\n  const eraseOperationData = Object.assign({}, operationData, {\n    segmentIndex: 0,\n  });\n\n  fillInsideSphere(enabledElement, eraseOperationData);\n}\n","import type { Types } from '@cornerstonejs/core';\n\ntype Ellipse = {\n  center: Types.Point3;\n  xRadius: number;\n  yRadius: number;\n  zRadius: number;\n};\n\n/**\n * Given an ellipse and a point, return true if the point is inside the ellipse\n * @param ellipse - The ellipse object to check against.\n * @param pointLPS - The point in LPS space to test.\n * @returns A boolean value.\n */\nexport default function pointInEllipse(\n  ellipse: Ellipse,\n  pointLPS: Types.Point3\n): boolean {\n  const { center: circleCenterWorld, xRadius, yRadius, zRadius } = ellipse;\n  const [x, y, z] = pointLPS;\n  const [x0, y0, z0] = circleCenterWorld;\n\n  let inside = 0;\n  if (xRadius !== 0) {\n    inside += ((x - x0) * (x - x0)) / (xRadius * xRadius);\n  }\n\n  if (yRadius !== 0) {\n    inside += ((y - y0) * (y - y0)) / (yRadius * yRadius);\n  }\n\n  if (zRadius !== 0) {\n    inside += ((z - z0) * (z - z0)) / (zRadius * zRadius);\n  }\n\n  return inside <= 1;\n}\n","import type { Types } from '@cornerstonejs/core';\n\ntype canvasCoordinates = [\n  Types.Point2, // bottom\n  Types.Point2, // top\n  Types.Point2, // left\n  Types.Point2 // right\n];\n\n/**\n * It takes the canvas coordinates of the ellipse corners and returns the top left and bottom right\n * corners of it\n *\n * @param ellipseCanvasPoints - The coordinates of the ellipse in the canvas.\n * @returns An array of two points.\n */\nexport default function getCanvasEllipseCorners(\n  ellipseCanvasPoints: canvasCoordinates\n): Array<Types.Point2> {\n  const [bottom, top, left, right] = ellipseCanvasPoints;\n\n  const topLeft = <Types.Point2>[left[0], top[1]];\n  const bottomRight = <Types.Point2>[right[0], bottom[1]];\n\n  return [topLeft, bottomRight];\n}\n","import { vec3 } from 'gl-matrix';\nimport type { Types } from '@cornerstonejs/core';\nimport { utilities as csUtils } from '@cornerstonejs/core';\n\nimport {\n  getCanvasEllipseCorners,\n  pointInEllipse,\n} from '../../../utilities/math/ellipse';\nimport { getBoundingBoxAroundShape } from '../../../utilities/boundingBox';\nimport { triggerSegmentationDataModified } from '../../../stateManagement/segmentation/triggerSegmentationEvents';\nimport { pointInShapeCallback } from '../../../utilities';\nimport isWithinThreshold from './utils/isWithinThreshold';\n\nconst { transformWorldToIndex } = csUtils;\n\ntype OperationData = {\n  segmentationId: string;\n  imageVolume: Types.IImageVolume;\n  points: any; // Todo:fix\n  volume: Types.IImageVolume;\n  segmentIndex: number;\n  segmentsLocked: number[];\n  viewPlaneNormal: number[];\n  viewUp: number[];\n  strategySpecificConfiguration: any;\n  constraintFn: () => boolean;\n};\n\nfunction fillCircle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData,\n  threshold = false\n): void {\n  const {\n    volume: segmentationVolume,\n    imageVolume,\n    points,\n    segmentsLocked,\n    segmentIndex,\n    segmentationId,\n    strategySpecificConfiguration,\n  } = operationData;\n  const { imageData, dimensions } = segmentationVolume;\n  const scalarData = segmentationVolume.getScalarData();\n  const { viewport } = enabledElement;\n\n  // Average the points to get the center of the ellipse\n  const center = vec3.fromValues(0, 0, 0);\n  points.forEach((point) => {\n    vec3.add(center, center, point);\n  });\n  vec3.scale(center, center, 1 / points.length);\n\n  const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n  // 1. From the drawn tool: Get the ellipse (circle) topLeft and bottomRight\n  // corners in canvas coordinates\n  const [topLeftCanvas, bottomRightCanvas] =\n    getCanvasEllipseCorners(canvasCoordinates);\n\n  // 2. Find the extent of the ellipse (circle) in IJK index space of the image\n  const topLeftWorld = viewport.canvasToWorld(topLeftCanvas);\n  const bottomRightWorld = viewport.canvasToWorld(bottomRightCanvas);\n\n  const ellipsoidCornersIJK = [\n    <Types.Point3>transformWorldToIndex(imageData, topLeftWorld),\n    <Types.Point3>transformWorldToIndex(imageData, bottomRightWorld),\n  ];\n\n  const boundsIJK = getBoundingBoxAroundShape(ellipsoidCornersIJK, dimensions);\n\n  // using circle as a form of ellipse\n  const ellipseObj = {\n    center: center as Types.Point3,\n    xRadius: Math.abs(topLeftWorld[0] - bottomRightWorld[0]) / 2,\n    yRadius: Math.abs(topLeftWorld[1] - bottomRightWorld[1]) / 2,\n    zRadius: Math.abs(topLeftWorld[2] - bottomRightWorld[2]) / 2,\n  };\n\n  const modifiedSlicesToUse = new Set() as Set<number>;\n\n  let callback;\n\n  if (threshold) {\n    callback = ({ value, index, pointIJK }) => {\n      if (segmentsLocked.includes(value)) {\n        return;\n      }\n\n      if (\n        isWithinThreshold(index, imageVolume, strategySpecificConfiguration)\n      ) {\n        scalarData[index] = segmentIndex;\n        //Todo: I don't think this will always be index 2 in streamingImageVolume?\n        modifiedSlicesToUse.add(pointIJK[2]);\n      }\n    };\n  } else {\n    callback = ({ value, index, pointIJK }) => {\n      if (segmentsLocked.includes(value)) {\n        return;\n      }\n      scalarData[index] = segmentIndex;\n      //Todo: I don't think this will always be index 2 in streamingImageVolume?\n      modifiedSlicesToUse.add(pointIJK[2]);\n    };\n  }\n\n  pointInShapeCallback(\n    imageData,\n    (pointLPS, pointIJK) => pointInEllipse(ellipseObj, pointLPS),\n    callback,\n    boundsIJK\n  );\n\n  const arrayOfSlices: number[] = Array.from(modifiedSlicesToUse);\n\n  triggerSegmentationDataModified(segmentationId, arrayOfSlices);\n}\n\n/**\n * Fill inside the circular region segment inside the segmentation defined by the operationData.\n * It fills the segmentation pixels inside the defined circle.\n * @param enabledElement - The element for which the segment is being erased.\n * @param operationData - EraseOperationData\n */\nexport function fillInsideCircle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  fillCircle(enabledElement, operationData, false);\n}\n\n/**\n * Fill inside the circular region segment inside the segmentation defined by the operationData.\n * It fills the segmentation pixels inside the defined circle.\n * @param enabledElement - The element for which the segment is being erased.\n * @param operationData - EraseOperationData\n */\nexport function thresholdInsideCircle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  const { volume, imageVolume } = operationData;\n\n  if (\n    !csUtils.isEqual(volume.dimensions, imageVolume.dimensions) ||\n    !csUtils.isEqual(volume.direction, imageVolume.direction)\n  ) {\n    throw new Error(\n      'Only source data the same dimensions/size/orientation as the segmentation currently supported.'\n    );\n  }\n\n  fillCircle(enabledElement, operationData, true);\n}\n\n/**\n * Fill outside the circular region segment inside the segmentation defined by the operationData.\n * It fills the segmentation pixels outside the  defined circle.\n * @param enabledElement - The element for which the segment is being erased.\n * @param operationData - EraseOperationData\n */\nexport function fillOutsideCircle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  throw new Error('Not yet implemented');\n}\n","import type { Types } from '@cornerstonejs/core';\n\nimport { fillInsideCircle } from './fillCircle';\n\ntype OperationData = {\n  segmentationId: string;\n  imageVolume: Types.IImageVolume;\n  points: any; // Todo:fix\n  volume: Types.IImageVolume;\n  segmentIndex: number;\n  segmentsLocked: number[];\n  viewPlaneNormal: number[];\n  viewUp: number[];\n  strategySpecificConfiguration: any;\n  constraintFn: () => boolean;\n};\n\nexport function eraseInsideCircle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  // Take the arguments and set the segmentIndex to 0,\n  // Then use existing fillInsideCircle functionality.\n  const eraseOperationData = {\n    ...operationData,\n    segmentIndex: 0,\n  };\n\n  fillInsideCircle(enabledElement, eraseOperationData);\n}\n","const DEFINED_CURSORS = Symbol('DefinedCursors');\nconst STANDARD_CURSORS = new Set([\n  'alias',\n  'all-scroll',\n  'auto',\n  'cell',\n  'col-resize',\n  'context-menu',\n  'copy',\n  'crosshair',\n  'default',\n  'e-resize',\n  'ew-resize',\n  'grab',\n  'grabbing',\n  'help',\n  'move',\n  'ne-resize',\n  'nesw-resize',\n  'no-drop',\n  'none',\n  'not-allowed',\n  'n-resize',\n  'ns-resize',\n  'nw-resize',\n  'nwse-resize',\n  'pointer',\n  'progress',\n  'row-resize',\n  'se-resize',\n  's-resize',\n  'sw-resize',\n  'text',\n  'vertical-text',\n  'wait',\n  'w-resize',\n  'zoom-in',\n  'zoom-out',\n]);\n\nexport default class MouseCursor {\n  private name: string;\n  private fallback: MouseCursor | undefined;\n\n  constructor(name: string, fallback?: MouseCursor | undefined) {\n    this.name = name + '';\n    this.fallback = fallback;\n  }\n\n  getName(): string {\n    return this.name + '';\n  }\n\n  addFallbackStyleProperty(style: string): string {\n    const { fallback } = this;\n    if (fallback instanceof MouseCursor) {\n      return `${style}, ${fallback.getStyleProperty()}`;\n    }\n    return style + '';\n  }\n\n  getStyleProperty(): string {\n    return this.addFallbackStyleProperty(this.name) + '';\n  }\n\n  static getDefinedCursor(name: string): MouseCursor | undefined {\n    const definedCursors = getDefinedCursors(\n      // @ts-ignore\n      MouseCursor as Record<symbol, Map<string, MouseCursor>>,\n      DEFINED_CURSORS\n    );\n    let mouseCursor = definedCursors.get(name);\n    if (mouseCursor instanceof MouseCursor) {\n      return mouseCursor;\n    }\n    if (STANDARD_CURSORS.has(name)) {\n      mouseCursor = new MouseCursor(name);\n      definedCursors.set(name, mouseCursor);\n      return mouseCursor;\n    }\n  }\n\n  static setDefinedCursor(name: string, cursor: MouseCursor): boolean {\n    if (cursor instanceof MouseCursor) {\n      const definedCursors = getDefinedCursors(\n        // @ts-ignore\n        MouseCursor as Record<symbol, Map<string, MouseCursor>>,\n        DEFINED_CURSORS\n      );\n      definedCursors.set(name, cursor);\n      return true;\n    }\n    return false;\n  }\n}\n\n/*\n * Helpers\n */\n\nfunction getDefinedCursors(\n  context: Record<symbol, Map<string, MouseCursor>>,\n  symbol: symbol\n): Map<string, MouseCursor> {\n  let definedCursors = context[symbol];\n  if (!(definedCursors instanceof Map)) {\n    definedCursors = new Map();\n    Object.defineProperty(context, symbol, { value: definedCursors });\n  }\n  return definedCursors;\n}\n\nconst standardCursorNames = STANDARD_CURSORS.values();\nexport { standardCursorNames };\n","import { utilities } from '@cornerstonejs/core';\nimport MouseCursor from './MouseCursor';\n\nconst DEFAULT_NAME = 'image-cursor';\n\nexport default class ImageMouseCursor extends MouseCursor {\n  private url: string;\n  private x: number;\n  private y: number;\n\n  constructor(\n    url: string,\n    x?: number,\n    y?: number,\n    name?: string | undefined,\n    fallback?: MouseCursor | undefined\n  ) {\n    super(\n      name || ImageMouseCursor.getUniqueInstanceName(DEFAULT_NAME),\n      fallback\n    );\n    this.url = url;\n    this.x = Number(x) || 0;\n    this.y = Number(y) || 0;\n  }\n\n  getStyleProperty(): string {\n    const { url, x, y } = this;\n    let style = `url('${url}')`;\n    if (x >= 0 && y >= 0 && (x > 0 || y > 0)) {\n      style += ` ${x} ${y}`;\n    }\n    return this.addFallbackStyleProperty(style);\n  }\n\n  static getUniqueInstanceName(prefix: string): string {\n    return `${prefix}-${utilities.getRuntimeId(ImageMouseCursor)}`;\n  }\n}\n","import { SVGCursorDescriptor } from '../types';\n\n/*\n * Definitions\n */\n\nconst BASE: SVGCursorDescriptor = {\n  iconContent: '',\n  iconSize: 16,\n  viewBox: {\n    x: 16,\n    y: 16,\n  },\n  mousePoint: {\n    x: 8,\n    y: 8,\n  },\n  mousePointerGroupString: `\n    <path stroke=\"{{color}}\" d=\"M8 16L8 0\"></path>\n    <path stroke=\"{{color}}\" d=\"M16 8L0 8\"></path>\n  `,\n};\n\nconst SEGMENTATION_CURSOR_BOUNDARIES = {\n  x: 127,\n  y: 60,\n};\n\nconst MINUS_RECT = `\n<rect fill=\"{{color}}\" x=\"80.19\" y=\"25.03\" width=\"47.14\" height=\"15.85\"/>\n`;\n\nconst PLUS_RECT = `\n<rect fill=\"{{color}}\" x=\"80.19\" y=\"25.03\" width=\"47.14\" height=\"15.85\"/>\n<rect fill=\"{{color}}\" x=\"95.84\" y=\"9.38\" width=\"15.85\" height=\"47.14\"/>\n`;\n\nconst SCISSOR_ICON = `<path fill=\"{{color}}\" d=\"M82.89,10a12.09,12.09,0,0,0-16.8-2.5l-27.5,20.4-8.5-6.3a2.93,2.93,0,0,1-1.1-3,14.66,14.66,0,0,0,.1-6.6,14.08,14.08,0,1,0-6.5,15.2,2.87,2.87,0,0,1,3.2.2l8.2,6.1-8.2,6.1a2.87,2.87,0,0,1-3.2.2,14.16,14.16,0,1,0,6.7,14.4,14,14,0,0,0-.3-5.8,2.93,2.93,0,0,1,1.1-3l8.5-6.3,27.5,20.4A11.91,11.91,0,0,0,82.89,57l-31.7-23.5ZM15.29,21a5.9,5.9,0,1,1,5.9-5.9A5.91,5.91,0,0,1,15.29,21Zm0,36.8a5.9,5.9,0,1,1,5.9-5.9A5.91,5.91,0,0,1,15.29,57.77Zm28.3-21.5a2.8,2.8,0,1,1,2.8-2.8A2.8,2.8,0,0,1,43.59,36.27Z\" transform=\"translate(-1.17 -0.96)\"/>`;\nconst RECTANGLE_ICON = `<path fill=\"{{color}}\" d=\"M8.86,2.25V66.08H72.69V2.25H8.86ZM65.28,58.67h-49v-49h49v49Z\" transform=\"translate(-8.86 -2.25)\"/>`;\nconst CIRCLE_ICON = `<path fill=\"{{color}}\" d=\"M40.77,2.25A31.92,31.92,0,1,0,72.69,34.16,31.92,31.92,0,0,0,40.77,2.25Zm0,57.63A25.71,25.71,0,1,1,66.48,34.16,25.71,25.71,0,0,1,40.77,59.87Z\" transform=\"translate(-8.86 -2.25)\"/>`;\n\nconst CursorSVG: Record<string, SVGCursorDescriptor> = {\n  Angle: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50\n    50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23\n    10l50 50q10 10 10 23z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  ArrowAnnotate: extend(BASE, {\n    iconContent: `<g id=\"arrowAnnotate-group\" fill=\"none\" stroke-width=\"1\" stroke=\"{{color}}\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n    <path id=\"arrowAnnotate-arrow\" d=\"M23,7 l-15,15 M7,17 l0,6 6,0\" stroke-width=\"2\" />\n  </g>`,\n    viewBox: {\n      x: 24,\n      y: 24,\n    },\n  }),\n  Bidirectional: extend(BASE, {\n    iconContent: `<g fill=\"{{color}}\" stroke-width=\"3\" stroke=\"{{color}}\">\n    <path d=\"M27.63 3.21L3.12 28.81\"></path>\n    <path d=\"M27.63 15.75L15.27 4.43\"></path>\n    <path d=\"M16.5 4.28C16.5 4.96 15.95 5.51 15.27 5.51C14.59 5.51 14.03 4.96 14.03 4.28C14.03 3.59 14.59 3.04 15.27 3.04C15.95 3.04 16.5 3.59 16.5 4.28Z\" ></path>\n    <path d=\"M28.87 3.19C28.87 3.87 28.31 4.43 27.63 4.43C26.95 4.43 26.4 3.87 26.4 3.19C26.4 2.51 26.95 1.95 27.63 1.95C28.31 1.95 28.87 2.51 28.87 3.19Z\"></path>\n    <path d=\"M28.87 15.75C28.87 16.43 28.31 16.99 27.63 16.99C26.95 16.99 26.4 16.43 26.4 15.75C26.4 15.07 26.95 14.51 27.63 14.51C28.31 14.51 28.87 15.07 28.87 15.75Z\"></path>\n    <path d=\"M4.73 28.44C4.73 29.12 4.17 29.68 3.49 29.68C2.81 29.68 2.25 29.12 2.25 28.44C2.25 27.76 2.81 27.2 3.49 27.2C4.17 27.2 4.73 27.76 4.73 28.44Z\"></path>\n  </g>`,\n    viewBox: {\n      x: 48,\n      y: 48,\n    },\n  }),\n  CobbAngle: extend(BASE, {\n    iconContent: `<g stroke=\"{{color}}\" stroke-width=\"3\">\n    <path d=\"M28.59 2.34L3.82 12.32\"></path>\n    <path d=\"M28.59 29.66L3.82 19.68\"></path>\n    <path stroke-dasharray=\"2\" fill-opacity=\"0\" d=\"M12.37\n      23.06C12.67 22.36 12.85 21.93 12.92 21.76C14.6 17.8 14.68 13.35 13.15\n      9.33C13.11 9.24 13.02 9 12.88 8.63\">\n    </path>\n  </g>`,\n    viewBox: {\n      x: 32,\n      y: 32,\n    },\n  }),\n  CircleROI: extend(BASE, {\n    iconContent: `<circle stroke=\"{{color}}\" fill=\"none\" stroke-width=\"3\" cx=\"16\" cy=\"16\" r=\"14\" />`,\n    viewBox: {\n      x: 32,\n      y: 32,\n    },\n  }),\n  EllipticalROI: extend(BASE, {\n    iconContent: `<path stroke=\"{{color}}\" fill=\"none\" stroke-width=\"3\" d=\"M30.74 15.76C30.74 20.99 24.14 25.23 16\n    25.23C7.86 25.23 1.26 20.99 1.26 15.76C1.26 10.54 7.86 6.3 16 6.3C24.14\n    6.3 30.74 10.54 30.74 15.76Z\" />`,\n    viewBox: {\n      x: 32,\n      y: 32,\n    },\n  }),\n  FreehandROI: extend(BASE, {\n    iconContent: `<g fill=\"{{color}}\" stroke=\"{{color}}\" stroke-width=\"2\">\n    <ellipse ry=\"1\" rx=\"1\" id=\"svg_3\" cy=\"4.240343\" cx=\"14.306499\"/>\n    <line id=\"svg_4\" y2=\"3.58462\" x2=\"12.242186\" y1=\"3.997482\" x1=\"13.432202\"/>\n    <line id=\"svg_5\" y2=\"3.268901\" x2=\"10.857882\" y1=\"3.608906\" x1=\"12.387902\"/>\n    <line id=\"svg_6\" y2=\"3.147471\" x2=\"9.740724\" y1=\"3.293187\" x1=\"10.955026\"/>\n    <line id=\"svg_7\" y2=\"3.147471\" x2=\"8.089274\" y1=\"3.196043\" x1=\"9.983585\"/>\n    <line id=\"svg_8\" y2=\"3.268901\" x2=\"6.874972\" y1=\"3.123185\" x1=\"8.307848\"/>\n    <line id=\"svg_9\" y2=\"3.657478\" x2=\"5.587812\" y1=\"3.220329\" x1=\"7.020688\"/>\n    <line id=\"svg_10\" y2=\"4.046054\" x2=\"4.737801\" y1=\"3.560334\" x1=\"5.854959\"/>\n    <line id=\"svg_11\" y2=\"4.337487\" x2=\"4.300652\" y1=\"3.997482\" x1=\"4.834945\"/>\n    <line id=\"svg_12\" y2=\"4.726063\" x2=\"3.88779\" y1=\"4.191771\" x1=\"4.470655\"/>\n    <line id=\"svg_15\" y2=\"5.3575\" x2=\"3.377783\" y1=\"4.604633\" x1=\"3.960648\"/>\n    <line id=\"svg_16\" y2=\"6.183226\" x2=\"2.916348\" y1=\"5.138926\" x1=\"3.547785\"/>\n    <line id=\"svg_17\" y2=\"6.960379\" x2=\"2.770632\" y1=\"5.867507\" x1=\"3.037779\"/>\n    <line id=\"svg_18\" y2=\"7.713246\" x2=\"2.673488\" y1=\"6.741804\" x1=\"2.819204\"/>\n    <line id=\"svg_19\" y2=\"8.684687\" x2=\"2.697774\" y1=\"7.616102\" x1=\"2.673488\"/>\n    <line id=\"svg_20\" y2=\"9.753273\" x2=\"2.892062\" y1=\"8.611829\" x1=\"2.697774\"/>\n    <line id=\"svg_21\" y2=\"10.724714\" x2=\"3.134923\" y1=\"9.534698\" x1=\"2.84349\"/>\n    <line id=\"svg_23\" y2=\"11.647583\" x2=\"3.596357\" y1=\"10.578998\" x1=\"3.086351\"/>\n    <line id=\"svg_25\" y2=\"12.521881\" x2=\"4.276366\" y1=\"11.501867\" x1=\"3.499213\"/>\n    <line id=\"svg_26\" y2=\"13.930471\" x2=\"5.830673\" y1=\"12.376165\" x1=\"4.13065\"/>\n    <line id=\"svg_28\" y2=\"14.707624\" x2=\"7.263549\" y1=\"13.881899\" x1=\"5.733528\"/>\n    <line id=\"svg_29\" y2=\"15.339061\" x2=\"8.963571\" y1=\"14.61048\" x1=\"7.06926\"/>\n    <line id=\"svg_30\" y2=\"15.581921\" x2=\"10.882168\" y1=\"15.314775\" x1=\"8.817855\"/>\n    <line id=\"svg_31\" y2=\"15.460491\" x2=\"12.023612\" y1=\"15.581921\" x1=\"10.785024\"/>\n    <line id=\"svg_33\" y2=\"15.120487\" x2=\"13.092197\" y1=\"15.484777\" x1=\"11.877895\"/>\n    <line id=\"svg_34\" y2=\"14.586194\" x2=\"13.86935\" y1=\"15.217631\" x1=\"12.897909\"/>\n    <line id=\"svg_35\" y2=\"13.833327\" x2=\"14.597931\" y1=\"14.756196\" x1=\"13.699348\"/>\n    <line id=\"svg_37\" y2=\"12.716169\" x2=\"15.180796\" y1=\"13.881899\" x1=\"14.549359\"/>\n    <line id=\"svg_39\" y2=\"11.429009\" x2=\"15.520801\" y1=\"12.813313\" x1=\"15.15651\"/>\n    <ellipse ry=\"1\" rx=\"1\" id=\"svg_40\" cy=\"10.967574\" cx=\"15.520801\"/>\n  </g>`,\n    viewBox: {\n      x: 18,\n      y: 18,\n    },\n  }),\n  FreehandROISculptor: extend(BASE, {\n    iconContent: `<g id=\"icon-freehand-sculpt\" fill=\"none\" stroke-width=\"1.5\" stroke=\"{{color}}\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n    <line id=\"svg_1\" y2=\"2.559367\" x2=\"10.184807\" y1=\"4.467781\" x1=\"8.81711\"/>\n    <line id=\"svg_4\" y2=\"1.493836\" x2=\"11.727442\" y1=\"2.766112\" x1=\"10.089386\"/>\n    <line id=\"svg_7\" y2=\"1.080346\" x2=\"13.047428\" y1=\"1.748291\" x1=\"11.345759\"/>\n    <line id=\"svg_8\" y2=\"1.000829\" x2=\"14.351511\" y1=\"1.112153\" x1=\"12.77707\"/>\n    <line id=\"svg_9\" y2=\"1.350705\" x2=\"15.242104\" y1=\"0.905408\" x1=\"13.969828\"/>\n    <line id=\"svg_10\" y2=\"2.098167\" x2=\"15.862339\" y1=\"1.14396\" x1=\"14.955842\"/>\n    <line id=\"svg_11\" y2=\"3.195505\" x2=\"16.41896\" y1=\"1.939133\" x1=\"15.766918\"/>\n    <line id=\"svg_12\" y2=\"4.292843\" x2=\"16.530284\" y1=\"2.925147\" x1=\"16.387153\"/>\n    <line id=\"svg_16\" y2=\"5.644637\" x2=\"16.196311\" y1=\"3.831643\" x1=\"16.593898\"/>\n    <line id=\"svg_18\" y2=\"7.266789\" x2=\"15.623787\" y1=\"5.19934\" x1=\"16.275829\"/>\n    <line id=\"svg_19\" y2=\"10.813258\" x2=\"14.526449\" y1=\"6.726071\" x1=\"15.766918\"/>\n    <line id=\"svg_20\" y2=\"5.056209\" x2=\"8.085552\" y1=\"4.181519\" x1=\"8.976145\"/>\n    <line id=\"svg_23\" y2=\"5.326568\" x2=\"7.481221\" y1=\"4.78585\" x1=\"8.403621\"/>\n    <line id=\"svg_24\" y2=\"5.565119\" x2=\"6.749662\" y1=\"5.294761\" x1=\"7.624352\"/>\n    <line id=\"svg_25\" y2=\"5.994512\" x2=\"5.429675\" y1=\"5.533312\" x1=\"6.956407\"/>\n    <line id=\"svg_27\" y2=\"6.551133\" x2=\"4.284627\" y1=\"5.962706\" x1=\"5.572807\"/>\n    <line id=\"svg_28\" y2=\"7.584858\" x2=\"3.044158\" y1=\"6.392099\" x1=\"4.427758\"/>\n    <line id=\"svg_29\" y2=\"8.84123\" x2=\"2.185372\" y1=\"7.489437\" x1=\"3.219096\"/>\n    <line id=\"svg_31\" y2=\"10.606513\" x2=\"1.644654\" y1=\"8.602678\" x1=\"2.280792\"/>\n    <line id=\"svg_32\" y2=\"13.214679\" x2=\"1.48562\" y1=\"10.352058\" x1=\"1.724171\"/>\n    <line id=\"svg_33\" y2=\"14.375631\" x2=\"1.676461\" y1=\"12.992031\" x1=\"1.453813\"/>\n    <line id=\"svg_34\" y2=\"15.298031\" x2=\"2.264889\" y1=\"14.152983\" x1=\"1.517427\"/>\n    <line id=\"svg_35\" y2=\"16.172721\" x2=\"3.521261\" y1=\"14.948155\" x1=\"1.915013\"/>\n    <line id=\"svg_36\" y2=\"16.824762\" x2=\"5.207027\" y1=\"15.997783\" x1=\"3.28271\"/>\n    <line id=\"svg_38\" y2=\"17.063314\" x2=\"7.035924\" y1=\"16.745245\" x1=\"4.968475\"/>\n    <line id=\"svg_39\" y2=\"16.888376\" x2=\"9.278311\" y1=\"17.047411\" x1=\"6.733758\"/>\n    <line id=\"svg_40\" y2=\"16.284045\" x2=\"10.661911\" y1=\"16.983797\" x1=\"8.992048\"/>\n    <line id=\"svg_41\" y2=\"15.313934\" x2=\"11.647925\" y1=\"16.395369\" x1=\"10.455166\"/>\n    <line id=\"svg_44\" y2=\"13.898527\" x2=\"12.82478\" y1=\"15.425259\" x1=\"11.504794\"/>\n    <line id=\"svg_45\" y2=\"12.037824\" x2=\"14.144766\" y1=\"14.312017\" x1=\"12.522614\"/>\n    <line id=\"svg_47\" y2=\"10.59061\" x2=\"14.605966\" y1=\"12.228665\" x1=\"13.953925\"/>\n    <ellipse ry=\"1\" rx=\"1\" id=\"svg_48\" cy=\"3.982726\" cx=\"13.460918\"/>\n  </g>`,\n    viewBox: {\n      x: 18,\n      y: 18,\n    },\n  }),\n  Length: extend(BASE, {\n    iconContent: `<g id=\"length-group\" fill=\"none\" stroke-width=\"1\" stroke=\"{{color}}\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n    <path id=\"length-dashes\" d=\"m22.5,6 -16.5,16.5\" stroke-width=\"3\" stroke-dasharray=\"0.6666,5\" />\n  </g>`,\n    viewBox: {\n      x: 24,\n      y: 24,\n    },\n  }),\n  Probe: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75\n    75 181zm-256-544q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73\n    198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5\n    279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5\n    385.5-103 385.5 103 279.5 279.5 103 385.5z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  RectangleROI: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47\n    113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0\n    119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119\n    84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  TextMarker: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M789 559l-170 450q33 0 136.5 2t160.5 2q19 0\n    57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29\n    31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15\n    34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 5-.5\n    13.5t-.5 12.5q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0\n    12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11\n    2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0\n    22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58\n    0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  Crosshairs: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1325 1024h-109q-26 0-45-19t-19-45v-128q0-26\n    19-45t45-19h109q-32-108-112.5-188.5t-188.5-112.5v109q0 26-19 45t-45\n    19h-128q-26 0-45-19t-19-45v-109q-108 32-188.5 112.5t-112.5 188.5h109q26\n    0 45 19t19 45v128q0 26-19 45t-45 19h-109q32 108 112.5 188.5t188.5\n    112.5v-109q0-26 19-45t45-19h128q26 0 45 19t19 45v109q108-32\n    188.5-112.5t112.5-188.5zm339-192v128q0 26-19 45t-45 19h-143q-37 161-154.5\n    278.5t-278.5 154.5v143q0 26-19 45t-45 19h-128q-26\n    0-45-19t-19-45v-143q-161-37-278.5-154.5t-154.5-278.5h-143q-26\n    0-45-19t-19-45v-128q0-26 19-45t45-19h143q37-161\n    154.5-278.5t278.5-154.5v-143q0-26 19-45t45-19h128q26 0 45 19t19 45v143q161\n    37 278.5 154.5t154.5 278.5h143q26 0 45 19t19 45z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  Eraser: extend(BASE, {\n    iconContent: `<path transform=\"translate(0,1792) scale(1,-1)\" fill=\"{{color}}\" d=\"M960 1408l336-384h-768l-336 384h768zm1013-1077q15\n    34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38\n    0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38\n    0 69.5 20.5t47.5 54.5z\" />`,\n    viewBox: {\n      x: 2048,\n      y: 1792,\n    },\n  }),\n  Magnify: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395\n    312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5\n    0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17\n    0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208\n    32s176 78.7 176 176-78.7 176-176 176z\" />`,\n    viewBox: {\n      x: 512,\n      y: 512,\n    },\n  }),\n  Pan: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1411 541l-355 355 355 355 144-144q29-31 70-14 39 17\n    39 59v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l144-144-355-355-355\n    355 144 144q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59\n    39-17 69 14l144 144 355-355-355-355-144 144q-19 19-45 19-12\n    0-24-5-40-17-40-59v-448q0-26 19-45t45-19h448q42 0 59 40 17 39-14 69l-144\n    144 355 355 355-355-144-144q-31-30-14-69 17-40 59-40h448q26 0 45 19t19\n    45v448q0 42-39 59-13 5-25 5-26 0-45-19z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  Rotate: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39\n    14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5\n    163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0\n    225-52t179-147q7-10 23-12 15 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109\n    132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298\n    164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14\n    39 17 39 59z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  StackScroll: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M24 21v2c0 0.547-0.453 1-1 1h-22c-0.547\n    0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547 0 1 0.453 1 1zM24 13v2c0\n    0.547-0.453 1-1 1h-22c-0.547 0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547\n    0 1 0.453 1 1zM24 5v2c0 0.547-0.453 1-1 1h-22c-0.547\n    0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547 0 1 0.453 1 1z\" />`,\n    viewBox: {\n      x: 24,\n      y: 28,\n    },\n  }),\n  WindowLevelRegion: extend(BASE, {\n    iconContent: `<path fill=\"{{color}}\" d=\"M1664 416v960q0 119-84.5 203.5t-203.5 84.5h-960q-119\n    0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5\n    84.5t84.5 203.5z\" />`,\n    viewBox: {\n      x: 1792,\n      y: 1792,\n    },\n  }),\n  WindowLevel: extend(BASE, {\n    iconContent: `\n    <path fill=\"{{color}}\" d=\"M14.5,3.5 a1 1 0 0 1 -11,11 Z\" stroke=\"none\" opacity=\"0.8\" />\n    <circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"none\" stroke-width=\"2\" stroke=\"{{color}}\" />`,\n    viewBox: {\n      x: 18,\n      y: 18,\n    },\n  }),\n  Zoom: extend(BASE, {\n    iconContent: `\n  <path fill=\"{{color}}\" d=\"M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395\n    312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5\n    0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17\n    0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208\n    32s176 78.7 176 176-78.7 176-176 176z\" />\n  <path fill=\"{{color}}\" transform=\"scale(0.22,0.22) translate(1400,0)\" d=\"M1216\n    320q0 26-19 45t-45 19h-128v1024h128q26 0 45 19t19 45-19 45l-256 256q-19\n    19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-1024h-128q-26\n    0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45z\" />`,\n    viewBox: {\n      x: 640,\n      y: 512,\n    },\n  }),\n\n  /*\n   * Segmentation Cursors\n   */\n\n  SegmentationFreeHandEraseInside: extend(BASE, {\n    iconContent: `${SCISSOR_ICON} ${MINUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  SegmentationFreeHandFillInside: extend(BASE, {\n    iconContent: `${SCISSOR_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  SegmentationFreeHandEraseOutside: extend(BASE, {\n    iconContent: `${SCISSOR_ICON} ${MINUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  SegmentationFreeHandFillOutside: extend(BASE, {\n    iconContent: `${SCISSOR_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  SegmentationRectangleEraseInside: extend(BASE, {\n    iconContent: `${RECTANGLE_ICON} ${MINUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  // Default Rectangle Scissors\n  RectangleScissor: extend(BASE, {\n    iconContent: `${RECTANGLE_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'RectangleScissor.FILL_INSIDE': extend(BASE, {\n    iconContent: `${RECTANGLE_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'RectangleScissor.FILL_OUTSIDE': extend(BASE, {\n    iconContent: `${RECTANGLE_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'RectangleScissor.ERASE_OUTSIDE': extend(BASE, {\n    iconContent: `${RECTANGLE_ICON} ${MINUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'RectangleScissor.ERASE_INSIDE': extend(BASE, {\n    iconContent: `${RECTANGLE_ICON} ${MINUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  CircleScissor: extend(BASE, {\n    iconContent: `${CIRCLE_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'CircleScissor.FILL_INSIDE': extend(BASE, {\n    iconContent: `${CIRCLE_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'CircleScissor.ERASE_OUTSIDE': extend(BASE, {\n    iconContent: `${CIRCLE_ICON} ${MINUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n\n  'CircleScissor.FILL_OUTSIDE': extend(BASE, {\n    iconContent: `${CIRCLE_ICON} ${PLUS_RECT}`,\n    viewBox: SEGMENTATION_CURSOR_BOUNDARIES,\n  }),\n};\n\n/*\n * Utils\n */\n\nfunction extend(\n  base: SVGCursorDescriptor,\n  values: Record<string, unknown>\n): SVGCursorDescriptor {\n  return Object.assign(Object.create(base), values);\n}\n\n/**\n * Registers a cursor to the list, so that it will be used for the given `toolName`.\n * Overwrites the given cursor if it is already set.\n *\n * @param toolName - The name of the tool to assign a cursor to.\n * @param iconContent - The SVG icon content of the cursor.\n * @param viewBox - The viewBox of the cursor object.\n */\nfunction registerCursor(\n  toolName: string,\n  iconContent: string,\n  viewBox: { x: number; y: number }\n) {\n  CursorSVG[toolName] = extend(BASE, {\n    iconContent,\n    viewBox,\n  });\n}\n\nfunction getDefinedSVGCursorDescriptor(\n  name: string\n): SVGCursorDescriptor | undefined {\n  return CursorSVG[name];\n}\n\n/*\n * Exports\n */\nconst svgCursorNames = Object.keys(CursorSVG);\n\nexport {\n  getDefinedSVGCursorDescriptor,\n  registerCursor,\n  svgCursorNames,\n  CursorSVG,\n};\n","import { ToolModes, AnnotationStyleStates } from '../enums';\nimport MouseCursor from './MouseCursor';\nimport ImageMouseCursor from './ImageMouseCursor';\nimport { getDefinedSVGCursorDescriptor } from './SVGCursorDescriptor';\nimport { getStyleProperty } from '../stateManagement/annotation/config/helpers';\n\nimport type { StyleSpecifier } from '../types/AnnotationStyle';\nimport type { SVGCursorDescriptor } from '../types';\n\nconst PROPERTY = 'color';\nconst STATE = AnnotationStyleStates.Highlighted;\nconst MODE = ToolModes.Active;\n\nexport default class SVGMouseCursor extends ImageMouseCursor {\n  constructor(\n    url: string,\n    x?: number,\n    y?: number,\n    name?: string | undefined,\n    fallback?: MouseCursor | undefined\n  ) {\n    super(url, x, y, name, fallback);\n  }\n\n  /**\n   * Get a shared instance of the SVGMouseCursor class satisfying the given parameters.\n   *\n   * @param name - The name of the cursor (defined in SVGCursorDescriptor.ts);\n   * @param pointer - Should be true to use the version of the cursor containing\n   * a mouse pointer. Defaults to false (which does not add a pointer to the cursor);\n   * @param color - The color of the cursor. Defaults to tool.style.colorHighlightedActive;\n   * @returns a SVGMouseCursor instance or\n   * undefined if no SVG cursor descriptor was found with the given name;\n   */\n  static getDefinedCursor(\n    name: string,\n    pointer = false,\n    color?: string\n  ): MouseCursor {\n    if (!color) {\n      color = getStyleProperty(PROPERTY, {} as StyleSpecifier, STATE, MODE);\n    }\n    const urn = getCursorURN(name, pointer, color);\n    let cursor = super.getDefinedCursor(urn);\n    if (!cursor) {\n      const descriptor = getDefinedSVGCursorDescriptor(name);\n      if (descriptor) {\n        cursor = createSVGMouseCursor(\n          descriptor,\n          urn,\n          pointer,\n          color,\n          super.getDefinedCursor('default')\n        );\n        super.setDefinedCursor(urn, cursor);\n      }\n    }\n    return cursor;\n  }\n}\n\n/*\n * Helpers\n */\n\nfunction format(template: string, dictionary: Record<string, unknown>): string {\n  const dict = Object(dictionary);\n  const defined = Object.prototype.hasOwnProperty.bind(dict);\n  return (template + '').replace(/\\{\\{(\\w+)\\}\\}/g, (match, key) => {\n    return defined(key) ? dict[key] + '' : '';\n  });\n}\n\nfunction getCursorURN(name: string, pointer: boolean, color: string) {\n  const type = pointer ? 'pointer' : 'cursor';\n  return `${type}:${name}/${color}`;\n}\n\nfunction createSVGMouseCursor(\n  descriptor: SVGCursorDescriptor,\n  name: string,\n  pointer: boolean,\n  color: string,\n  fallback: MouseCursor\n): SVGMouseCursor {\n  const { x, y } = descriptor.mousePoint;\n  return new SVGMouseCursor(\n    createSVGIconUrl(descriptor, pointer, { color }),\n    x,\n    y,\n    name,\n    fallback\n  );\n}\n\nfunction createSVGIconUrl(\n  descriptor: SVGCursorDescriptor,\n  pointer: boolean,\n  options: Record<string, unknown>\n): string {\n  return URL.createObjectURL(createSVGIconBlob(descriptor, pointer, options));\n}\n\nfunction createSVGIconBlob(\n  descriptor: SVGCursorDescriptor,\n  pointer: boolean,\n  options: Record<string, unknown>\n): Blob {\n  const svgString = (pointer ? createSVGIconWithPointer : createSVGIcon)(\n    descriptor,\n    options\n  );\n  return new Blob([svgString], { type: 'image/svg+xml' });\n}\n\nfunction createSVGIcon(\n  descriptor: SVGCursorDescriptor,\n  options: Record<string, unknown>\n): string {\n  const { iconContent, iconSize, viewBox } = descriptor;\n  const svgString = `\n    <svg data-icon=\"cursor\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${iconSize}\" height=\"${iconSize}\" viewBox=\"0 0\n      ${viewBox.x} ${viewBox.y}\">\n      ${iconContent}\n    </svg>`;\n  return format(svgString, options);\n}\n\nfunction createSVGIconWithPointer(\n  descriptor: SVGCursorDescriptor,\n  options: Record<string, unknown>\n) {\n  const { iconContent, iconSize, viewBox, mousePointerGroupString } =\n    descriptor;\n  const scale = iconSize / Math.max(viewBox.x, viewBox.y, 1);\n  const svgSize = 16 + iconSize;\n  const svgString = `\n    <svg data-icon=\"cursor\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${svgSize}\" height=\"${svgSize}\" viewBox=\"0 0 ${svgSize} ${svgSize}\">\n      <g>${mousePointerGroupString}</g>\n      <g transform=\"translate(16, 16) scale(${scale})\">${iconContent}</g>\n    </svg>`;\n  return format(svgString, options);\n}\n","import { setElementCursor } from './elementCursor';\nimport MouseCursor from './MouseCursor';\nimport SVGMouseCursor from './SVGMouseCursor';\n\n/**\n * Set the cursor for an HTML element. cursorNames can be either\n * cornerstone3DTools cursors or standard cursors.\n *\n * @param element - The element to set the cursor on.\n * @param cursorName - The name of the cursor to set. This can be\n * any cursor name either Cornerstone-specific cursor names or the standard\n * CSS cursor names.\n */\nfunction setCursorForElement(\n  element: HTMLDivElement,\n  cursorName: string\n): void {\n  let cursor = SVGMouseCursor.getDefinedCursor(cursorName, true);\n  if (!cursor) {\n    cursor = MouseCursor.getDefinedCursor(cursorName);\n  }\n\n  if (!cursor) {\n    console.log(\n      `Cursor ${cursorName} is not defined either as SVG or as a standard cursor.`\n    );\n    cursor = MouseCursor.getDefinedCursor(cursorName);\n  }\n\n  setElementCursor(element, cursor);\n}\n\nexport default setCursorForElement;\n","import MouseCursor, { standardCursorNames } from './MouseCursor';\nimport ImageMouseCursor from './ImageMouseCursor';\nimport SVGMouseCursor from './SVGMouseCursor';\nimport * as elementCursor from './elementCursor';\nimport setCursorForElement from './setCursorForElement';\nimport {\n  registerCursor,\n  svgCursorNames,\n  CursorSVG,\n} from './SVGCursorDescriptor';\n\n// Todo: this should be enum\nconst CursorNames = [...svgCursorNames, ...standardCursorNames];\n\nexport {\n  MouseCursor,\n  ImageMouseCursor,\n  SVGMouseCursor,\n  elementCursor,\n  registerCursor,\n  CursorNames,\n  CursorSVG,\n  setCursorForElement,\n};\n","import { MouseCursor } from '.';\n\nconst ELEMENT_CURSORS_MAP = Symbol('ElementCursorsMap');\n\n/*\n * Public Methods\n */\n\nfunction initElementCursor(\n  element: HTMLDivElement,\n  cursor: MouseCursor | null\n): void {\n  _getElementCursors(element)[0] = cursor;\n  _setElementCursor(element, cursor);\n}\n\nfunction _setElementCursor(\n  element: HTMLDivElement,\n  cursor: MouseCursor | null\n): void {\n  const cursors = _getElementCursors(element);\n  cursors[1] = cursors[0];\n  cursors[0] = cursor;\n  element.style.cursor = (\n    cursor instanceof MouseCursor\n      ? cursor\n      : MouseCursor.getDefinedCursor('auto')\n  ).getStyleProperty();\n}\n\nfunction resetElementCursor(element: HTMLDivElement): void {\n  _setElementCursor(element, _getElementCursors(element)[1]);\n}\n\nfunction hideElementCursor(element: HTMLDivElement): void {\n  _setElementCursor(element, MouseCursor.getDefinedCursor('none'));\n}\n\n/*\n * Helpers\n */\n\nfunction _getElementCursors(\n  element: HTMLDivElement\n): [MouseCursor | null, MouseCursor | null] {\n  let map = _getElementCursors[ELEMENT_CURSORS_MAP];\n  if (!(map instanceof WeakMap)) {\n    map = new WeakMap();\n    Object.defineProperty(_getElementCursors, ELEMENT_CURSORS_MAP, {\n      value: map,\n    });\n  }\n  let cursors = map.get(element);\n  if (!cursors) {\n    cursors = [null, null];\n    map.set(element, cursors);\n  }\n  return cursors;\n}\n\n/*\n * Exports\n */\nexport {\n  initElementCursor,\n  resetElementCursor,\n  hideElementCursor,\n  _setElementCursor as setElementCursor,\n};\n","import { cache, getEnabledElement, StackViewport } from '@cornerstonejs/core';\nimport { vec3 } from 'gl-matrix';\n\nimport type { Types } from '@cornerstonejs/core';\nimport type {\n  PublicToolProps,\n  ToolProps,\n  EventTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { BaseTool } from '../base';\nimport {\n  fillInsideSphere,\n  thresholdInsideSphere,\n} from './strategies/fillSphere';\nimport { eraseInsideSphere } from './strategies/eraseSphere';\nimport {\n  thresholdInsideCircle,\n  fillInsideCircle,\n} from './strategies/fillCircle';\nimport { eraseInsideCircle } from './strategies/eraseCircle';\nimport { Events, ToolModes } from '../../enums';\nimport { drawCircle as drawCircleSvg } from '../../drawingSvg';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport triggerAnnotationRenderForViewportUIDs from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  config as segmentationConfig,\n  segmentLocking,\n  segmentIndex as segmentIndexController,\n  state as segmentationState,\n  activeSegmentation,\n} from '../../stateManagement/segmentation';\nimport { LabelmapSegmentationData } from '../../types/LabelmapTypes';\n\n/**\n * @public\n */\nclass BrushTool extends BaseTool {\n  static toolName;\n  private _editData: {\n    segmentation: Types.IImageVolume;\n    imageVolume: Types.IImageVolume; //\n    segmentsLocked: number[]; //\n  } | null;\n  private _hoverData?: {\n    brushCursor: any;\n    segmentationId: string;\n    segmentIndex: number;\n    segmentationRepresentationUID: string;\n    segmentColor: [number, number, number, number];\n    viewportIdsToRender: string[];\n    centerCanvas?: Array<number>;\n  };\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        strategies: {\n          FILL_INSIDE_CIRCLE: fillInsideCircle,\n          ERASE_INSIDE_CIRCLE: eraseInsideCircle,\n          FILL_INSIDE_SPHERE: fillInsideSphere,\n          ERASE_INSIDE_SPHERE: eraseInsideSphere,\n          THRESHOLD_INSIDE_CIRCLE: thresholdInsideCircle,\n          THRESHOLD_INSIDE_SPHERE: thresholdInsideSphere,\n        },\n        strategySpecificConfiguration: {\n          THRESHOLD_INSIDE_CIRCLE: {\n            threshold: [-150, -70], // E.g. CT Fat // Only used during threshold strategies.\n          },\n        },\n        defaultStrategy: 'FILL_INSIDE_CIRCLE',\n        activeStrategy: 'FILL_INSIDE_CIRCLE',\n        brushSize: 25,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  onSetToolPassive = () => {\n    this.disableCursor();\n  };\n\n  onSetToolEnabled = () => {\n    this.disableCursor();\n  };\n\n  onSetToolDisabled = () => {\n    this.disableCursor();\n  };\n\n  private disableCursor() {\n    this._hoverData = undefined;\n  }\n\n  preMouseDownCallback = (\n    evt: EventTypes.MouseDownActivateEventType\n  ): boolean => {\n    const eventData = evt.detail;\n    const { element } = eventData;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    if (viewport instanceof StackViewport) {\n      throw new Error('Not implemented yet');\n    }\n\n    const toolGroupId = this.toolGroupId;\n\n    const activeSegmentationRepresentation =\n      activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n    if (!activeSegmentationRepresentation) {\n      throw new Error(\n        'No active segmentation detected, create one before using the brush tool'\n      );\n    }\n\n    const { segmentationId, type } = activeSegmentationRepresentation;\n    const segmentsLocked = segmentLocking.getLockedSegments(segmentationId);\n\n    const { representationData } =\n      segmentationState.getSegmentation(segmentationId);\n\n    // Todo: are we going to support contour editing with this tool?\n    const { volumeId } = representationData[type] as LabelmapSegmentationData;\n    const segmentation = cache.getVolume(volumeId);\n\n    const actors = viewport.getActors();\n\n    // Note: For tools that need the source data. Assumed to use\n    // First volume actor for now.\n    const firstVolumeActorUID = actors[0].uid;\n    const imageVolume = cache.getVolume(firstVolumeActorUID);\n\n    const viewportIdsToRender = [viewport.id];\n\n    this._editData = {\n      segmentation,\n      imageVolume,\n      segmentsLocked,\n    };\n\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportUIDs(\n      renderingEngine,\n      viewportIdsToRender\n    );\n\n    return true;\n  };\n\n  mouseMoveCallback = (evt: EventTypes.InteractionEventType): void => {\n    if (this.mode === ToolModes.Active) {\n      this.updateCursor(evt);\n    }\n  };\n\n  private updateCursor(evt: EventTypes.InteractionEventType) {\n    const eventData = evt.detail;\n    const { element } = eventData;\n    const { currentPoints } = eventData;\n    const centerCanvas = currentPoints.canvas;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const toolGroupId = this.toolGroupId;\n\n    const activeSegmentationRepresentation =\n      activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n    if (!activeSegmentationRepresentation) {\n      console.warn(\n        'No active segmentation detected, create one before using the brush tool'\n      );\n      return;\n    }\n\n    const { segmentationRepresentationUID, segmentationId } =\n      activeSegmentationRepresentation;\n    const segmentIndex =\n      segmentIndexController.getActiveSegmentIndex(segmentationId);\n\n    const segmentColor = segmentationConfig.color.getColorForSegmentIndex(\n      toolGroupId,\n      segmentationRepresentationUID,\n      segmentIndex\n    );\n\n    const viewportIdsToRender = [viewport.id];\n\n    // Center of circle in canvas Coordinates\n\n    const brushCursor = {\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID: viewport.getFrameOfReferenceUID(),\n        referencedImageId: '',\n        toolName: this.getToolName(),\n        segmentColor,\n      },\n      data: {},\n    };\n\n    this._hoverData = {\n      brushCursor,\n      centerCanvas,\n      segmentIndex,\n      segmentationId,\n      segmentationRepresentationUID,\n      segmentColor,\n      viewportIdsToRender,\n    };\n\n    this._calculateCursor(element, centerCanvas);\n\n    triggerAnnotationRenderForViewportUIDs(\n      renderingEngine,\n      viewportIdsToRender\n    );\n  }\n\n  private _dragCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventData = evt.detail;\n    const { element } = eventData;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    const { imageVolume, segmentation, segmentsLocked } = this._editData;\n\n    this.updateCursor(evt);\n\n    const {\n      segmentIndex,\n      segmentationId,\n      segmentationRepresentationUID,\n      brushCursor,\n      viewportIdsToRender,\n    } = this._hoverData;\n\n    const { data } = brushCursor;\n    const { viewPlaneNormal, viewUp } = brushCursor.metadata;\n\n    triggerAnnotationRenderForViewportUIDs(\n      renderingEngine,\n      viewportIdsToRender\n    );\n\n    const operationData = {\n      points: data.handles.points,\n      volume: segmentation, // todo: just pass the segmentationId instead\n      imageVolume,\n      segmentIndex,\n      segmentsLocked,\n      viewPlaneNormal,\n      toolGroupId: this.toolGroupId,\n      segmentationId,\n      segmentationRepresentationUID,\n      viewUp,\n      strategySpecificConfiguration:\n        this.configuration.strategySpecificConfiguration,\n    };\n\n    this.applyActiveStrategy(enabledElement, operationData);\n  };\n\n  private _calculateCursor(element, centerCanvas) {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { canvasToWorld } = viewport;\n    const camera = viewport.getCamera();\n    const { brushSize } = this.configuration;\n\n    const viewUp = vec3.fromValues(\n      camera.viewUp[0],\n      camera.viewUp[1],\n      camera.viewUp[2]\n    );\n    const viewPlaneNormal = vec3.fromValues(\n      camera.viewPlaneNormal[0],\n      camera.viewPlaneNormal[1],\n      camera.viewPlaneNormal[2]\n    );\n    const viewRight = vec3.create();\n\n    vec3.cross(viewRight, viewUp, viewPlaneNormal);\n\n    // in the world coordinate system, the brushSize is the radius of the circle\n    // in mm\n    const centerCursorInWorld: Types.Point3 = canvasToWorld([\n      centerCanvas[0],\n      centerCanvas[1],\n    ]);\n\n    const bottomCursorInWorld = vec3.create();\n    const topCursorInWorld = vec3.create();\n    const leftCursorInWorld = vec3.create();\n    const rightCursorInWorld = vec3.create();\n\n    // Calculate the bottom and top points of the circle in world coordinates\n    for (let i = 0; i <= 2; i++) {\n      bottomCursorInWorld[i] = centerCursorInWorld[i] - viewUp[i] * brushSize;\n      topCursorInWorld[i] = centerCursorInWorld[i] + viewUp[i] * brushSize;\n      leftCursorInWorld[i] = centerCursorInWorld[i] - viewRight[i] * brushSize;\n      rightCursorInWorld[i] = centerCursorInWorld[i] + viewRight[i] * brushSize;\n    }\n\n    const { brushCursor } = this._hoverData;\n    const { data } = brushCursor;\n\n    if (data.handles === undefined) {\n      data.handles = {};\n    }\n\n    data.handles.points = [\n      bottomCursorInWorld,\n      topCursorInWorld,\n      leftCursorInWorld,\n      rightCursorInWorld,\n    ];\n\n    data.invalidated = false;\n  }\n\n  private _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventData = evt.detail;\n    const { element } = eventData;\n\n    const { imageVolume, segmentation, segmentsLocked } = this._editData;\n    const {\n      segmentIndex,\n      segmentationId,\n      segmentationRepresentationUID,\n      brushCursor,\n    } = this._hoverData;\n\n    const { data } = brushCursor;\n    const { viewPlaneNormal, viewUp } = brushCursor.metadata;\n\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    this._editData = null;\n    this.updateCursor(evt);\n\n    if (viewport instanceof StackViewport) {\n      throw new Error('Not implemented yet');\n    }\n\n    const operationData = {\n      points: data.handles.points,\n      volume: segmentation,\n      imageVolume,\n      segmentIndex,\n      segmentsLocked,\n      viewPlaneNormal,\n      toolGroupId: this.toolGroupId,\n      segmentationId,\n      segmentationRepresentationUID,\n      viewUp,\n      strategySpecificConfiguration:\n        this.configuration.strategySpecificConfiguration,\n    };\n\n    this.applyActiveStrategy(enabledElement, operationData);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event propagation.\n   */\n  private _activateDraw = (element: HTMLDivElement): void => {\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  private _deactivateDraw = (element: HTMLDivElement): void => {\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n  };\n\n  public invalidateBrushCursor() {\n    if (this._hoverData !== undefined) {\n      const { data } = this._hoverData.brushCursor;\n\n      data.invalidated = true;\n    }\n  }\n\n  renderAnnotation(\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): void {\n    if (!this._hoverData) {\n      return;\n    }\n\n    const { viewport } = enabledElement;\n\n    const viewportIdsToRender = this._hoverData.viewportIdsToRender;\n\n    if (!viewportIdsToRender.includes(viewport.id)) {\n      return;\n    }\n\n    const brushCursor = this._hoverData.brushCursor;\n\n    if (brushCursor.data.invalidated === true) {\n      const { centerCanvas } = this._hoverData;\n      const { element } = viewport;\n\n      // This can be set true when changing the brush size programmatically\n      // whilst the cursor is being rendered.\n      this._calculateCursor(element, centerCanvas);\n    }\n\n    const toolMetadata = brushCursor.metadata;\n    const annotationUID = toolMetadata.brushCursorUID;\n\n    const data = brushCursor.data;\n    const { points } = data.handles;\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n    const bottom = canvasCoordinates[0];\n    const top = canvasCoordinates[1];\n\n    const center = [\n      Math.floor((bottom[0] + top[0]) / 2),\n      Math.floor((bottom[1] + top[1]) / 2),\n    ];\n\n    const radius = Math.abs(bottom[1] - Math.floor((bottom[1] + top[1]) / 2));\n\n    const color = `rgb(${toolMetadata.segmentColor.slice(0, 3)})`;\n\n    // If rendering engine has been destroyed while rendering\n    if (!viewport.getRenderingEngine()) {\n      console.warn('Rendering Engine has been destroyed');\n      return;\n    }\n\n    const circleUID = '0';\n    drawCircleSvg(\n      svgDrawingHelper,\n      annotationUID,\n      circleUID,\n      center as Types.Point2,\n      radius,\n      {\n        color,\n      }\n    );\n  }\n}\n\nBrushTool.toolName = 'Brush';\nexport default BrushTool;\n","import { Types } from '@cornerstonejs/core';\nimport { utilities as csUtils } from '@cornerstonejs/core';\nimport { getToolGroup } from '../../store/ToolGroupManager';\nimport BrushTool from '../../tools/segmentation/BrushTool';\nimport getBoundingBoxAroundShape from '../boundingBox/getBoundingBoxAroundShape';\n\nexport type ThresholdInformation = {\n  volume: Types.IImageVolume;\n  lower: number;\n  upper: number;\n};\n\nexport default function getBrushToolInstances(\n  toolGroupId: string,\n  toolName?: string\n) {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    return;\n  }\n\n  const toolInstances = toolGroup._toolInstances;\n\n  if (!Object.keys(toolInstances).length) {\n    return;\n  }\n\n  if (toolName && toolInstances[toolName]) {\n    return [toolInstances[toolName]];\n  }\n\n  // For each tool that has BrushTool as base class, set the brush size.\n  const brushBasedToolInstances = Object.values(toolInstances).filter(\n    (toolInstance) => toolInstance instanceof BrushTool\n  ) as BrushTool[];\n\n  return brushBasedToolInstances;\n}\n\nconst equalsCheck = (a, b) => {\n  return JSON.stringify(a) === JSON.stringify(b);\n};\n\n/**\n * Given the center of a voxel in world coordinates, calculate the voxel\n * corners in world coords to calculate the voxel overlap in another volume\n */\nexport function getVoxelOverlap(\n  imageData,\n  dimensions,\n  voxelSpacing,\n  voxelCenter\n) {\n  const voxelCornersWorld = [];\n  for (let i = 0; i < 2; i++) {\n    for (let j = 0; j < 2; j++) {\n      for (let k = 0; k < 2; k++) {\n        const point = voxelCenter;\n        point[0] = point[0] + ((i * 2 - 1) * voxelSpacing[0]) / 2;\n        point[1] = point[1] + ((j * 2 - 1) * voxelSpacing[1]) / 2;\n        point[2] = point[2] + ((k * 2 - 1) * voxelSpacing[2]) / 2;\n        voxelCornersWorld.push(point);\n      }\n    }\n  }\n  const voxelCornersIJK = voxelCornersWorld.map(\n    (world) => csUtils.transformWorldToIndex(imageData, world) as Types.Point3\n  );\n  const overlapBounds = getBoundingBoxAroundShape(voxelCornersIJK, dimensions);\n\n  return overlapBounds;\n}\n\n/**\n * Prepare a list of volume information objects for callback functions\n */\nexport function processVolumes(\n  segmentationVolume: Types.IImageVolume,\n  thresholdVolumeInformation: ThresholdInformation[]\n) {\n  const { spacing: segmentationSpacing, imageData: segmentationImageData } =\n    segmentationVolume;\n  const scalarData = segmentationVolume.getScalarData();\n\n  // prepare a list of volume information objects for callback functions\n  const volumeInfoList = [];\n  let baseVolumeIdx = 0;\n  for (let i = 0; i < thresholdVolumeInformation.length; i++) {\n    const { imageData, spacing, dimensions } =\n      thresholdVolumeInformation[i].volume;\n\n    const volumeSize =\n      thresholdVolumeInformation[i].volume.getScalarData().length;\n    // discover the index of the volume the segmentation data is based on\n    if (\n      volumeSize === scalarData.length &&\n      equalsCheck(spacing, segmentationSpacing)\n    ) {\n      baseVolumeIdx = i;\n    }\n\n    // prepare information used in callback functions\n    const referenceValues = imageData.getPointData().getScalars().getData();\n    const lower = thresholdVolumeInformation[i].lower;\n    const upper = thresholdVolumeInformation[i].upper;\n\n    volumeInfoList.push({\n      imageData,\n      referenceValues,\n      lower,\n      upper,\n      spacing,\n      dimensions,\n      volumeSize,\n    });\n  }\n\n  return {\n    volumeInfoList,\n    baseVolumeIdx,\n  };\n}\n","import { Types } from '@cornerstonejs/core';\nimport { pointInShapeCallback } from '../../utilities';\nimport { triggerSegmentationDataModified } from '../../stateManagement/segmentation/triggerSegmentationEvents';\nimport { BoundsIJK } from '../../types';\nimport {\n  getVoxelOverlap,\n  processVolumes,\n  ThresholdInformation,\n} from './utilities';\n\nexport type ThresholdRangeOptions = {\n  overwrite: boolean;\n  boundsIJK: BoundsIJK;\n  overlapType?: number;\n};\n\n/**\n * It thresholds a segmentation volume based on a set of threshold values with\n * respect to a list of volumes and respective threshold ranges.\n * @param segmentationVolume - the segmentation volume to be modified\n * @param thresholdVolumeInformation - array of objects containing volume data\n * and a range (lower and upper values) to threshold\n * @param options - the options for thresholding\n * As there is a chance the volumes might have different dimensions and spacing,\n * could be the case of no 1 to 1 mapping. So we need to work with the idea of\n * voxel overlaps (1 to many mappings). We consider all intersections valid, to\n * avoid the complexity to calculate a minimum voxel intersection percentage.\n * This function, given a voxel center and spacing, calculates the overlap of\n * the voxel with another volume and range check the voxels in the overlap.\n * Three situations can occur: all voxels pass the range check, some voxels pass\n * or none voxels pass. The overlapType parameter indicates if the user requires\n * all voxels pass (overlapType = 1) or any voxel pass (overlapType = 0)\n *\n * @returns segmented volume\n */\nfunction thresholdVolumeByRange(\n  segmentationVolume: Types.IImageVolume,\n  thresholdVolumeInformation: ThresholdInformation[],\n  options: ThresholdRangeOptions\n): Types.IImageVolume {\n  const { imageData: segmentationImageData } = segmentationVolume;\n  const scalarData = segmentationVolume.getScalarData();\n\n  const { overwrite, boundsIJK } = options;\n  const overlapType = options?.overlapType || 0;\n\n  // set the segmentation to all zeros\n  if (overwrite) {\n    for (let i = 0; i < scalarData.length; i++) {\n      scalarData[i] = 0;\n    }\n  }\n\n  const { baseVolumeIdx, volumeInfoList } = processVolumes(\n    segmentationVolume,\n    thresholdVolumeInformation\n  );\n\n  // global variables used in callbackOverlap function\n  let overlaps, total, range;\n\n  const testOverlapRange = (volumeInfo, voxelSpacing, voxelCenter) => {\n    /**\n     * This callback function will test all overlaps between a voxel in base\n     * volume (the reference for segmentation volume creation) and voxels in other\n     * volumes.\n     */\n    const callbackOverlap = ({ value }) => {\n      total = total + 1;\n      if (value >= range.lower && value <= range.upper) {\n        overlaps = overlaps + 1;\n      }\n    };\n\n    const { imageData, dimensions, lower, upper } = volumeInfo;\n\n    const overlapBounds = getVoxelOverlap(\n      imageData,\n      dimensions,\n      voxelSpacing,\n      voxelCenter\n    );\n\n    // reset global variables and setting the range check\n    total = 0;\n    overlaps = 0;\n    range = { lower, upper };\n\n    let overlapTest = false;\n\n    // check all voxel overlaps\n    pointInShapeCallback(imageData, () => true, callbackOverlap, overlapBounds);\n\n    if (overlapType === 0) {\n      overlapTest = overlaps > 0; // any voxel overlap is accepted\n    } else if (overlapType == 1) {\n      overlapTest = overlaps === total; // require all voxel overlaps\n    }\n    return overlapTest;\n  };\n\n  // range checks a voxel in a volume with same dimension as the segmentation\n  const testRange = (volumeInfo, pointIJK) => {\n    const { imageData, referenceValues, lower, upper } = volumeInfo;\n    const offset = imageData.computeOffsetIndex(pointIJK);\n\n    const value = referenceValues[offset];\n    if (value <= lower || value >= upper) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  /**\n   * This callback function will test all overlaps between a voxel in base\n   * volume (the reference for segmentation volume creation) and voxels in other\n   * volumes.\n   */\n  const callback = ({ index, pointIJK, pointLPS }) => {\n    let insert = volumeInfoList.length > 0;\n    for (let i = 0; i < volumeInfoList.length; i++) {\n      // if volume has the same size as segmentation volume, just range check\n      if (volumeInfoList[i].volumeSize === scalarData.length) {\n        insert = testRange(volumeInfoList[i], pointIJK);\n      } else {\n        // if not, need to calculate overlaps\n        insert = testOverlapRange(\n          volumeInfoList[i],\n          volumeInfoList[baseVolumeIdx].spacing,\n          pointLPS\n        );\n      }\n      if (!insert) {\n        break;\n      }\n    }\n\n    // Todo: make the segmentIndex a parameter\n    if (insert) {\n      scalarData[index] = 1;\n    }\n  };\n\n  pointInShapeCallback(segmentationImageData, () => true, callback, boundsIJK);\n\n  triggerSegmentationDataModified(segmentationVolume.volumeId);\n\n  return segmentationVolume;\n}\n\nexport default thresholdVolumeByRange;\n","import { BaseTool } from './base';\nimport { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { EventTypes, PublicToolProps, ToolProps } from '../types';\n\n/**\n * Tool that pans the camera in the plane defined by the viewPlaneNormal and the viewUp.\n */\nclass PanTool extends BaseTool {\n  static toolName;\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  touchDragCallback(evt: EventTypes.InteractionEventType) {\n    this._dragCallback(evt);\n  }\n\n  mouseDragCallback(evt: EventTypes.InteractionEventType) {\n    this._dragCallback(evt);\n  }\n\n  _dragCallback(evt: EventTypes.InteractionEventType) {\n    const { element, deltaPoints } = evt.detail;\n    const enabledElement = getEnabledElement(element);\n\n    const deltaPointsWorld = deltaPoints.world;\n    const camera = enabledElement.viewport.getCamera();\n    const { focalPoint, position } = camera;\n\n    const updatedPosition = <Types.Point3>[\n      position[0] - deltaPointsWorld[0],\n      position[1] - deltaPointsWorld[1],\n      position[2] - deltaPointsWorld[2],\n    ];\n\n    const updatedFocalPoint = <Types.Point3>[\n      focalPoint[0] - deltaPointsWorld[0],\n      focalPoint[1] - deltaPointsWorld[1],\n      focalPoint[2] - deltaPointsWorld[2],\n    ];\n\n    enabledElement.viewport.setCamera({\n      focalPoint: updatedFocalPoint,\n      position: updatedPosition,\n    });\n    enabledElement.viewport.render();\n  }\n}\n\nPanTool.toolName = 'Pan';\nexport default PanTool;\n","import vtkMath from '@kitware/vtk.js/Common/Core/Math';\n\nimport { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { mat4, vec3 } from 'gl-matrix';\nimport { EventTypes, PublicToolProps, ToolProps } from '../types';\nimport { BaseTool } from './base';\n\n/**\n * Tool that rotates the camera in the plane defined by the viewPlaneNormal and the viewUp.\n */\nclass TrackballRotateTool extends BaseTool {\n  static toolName;\n  touchDragCallback: (evt: EventTypes.InteractionEventType) => void;\n  mouseDragCallback: (evt: EventTypes.InteractionEventType) => void;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        rotateIncrementDegrees: 2,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this.touchDragCallback = this._dragCallback.bind(this);\n    this.mouseDragCallback = this._dragCallback.bind(this);\n  }\n\n  rotateCamera = (viewport, centerWorld, axis, angle) => {\n    const vtkCamera = viewport.getVtkActiveCamera();\n    const viewUp = vtkCamera.getViewUp();\n    const focalPoint = vtkCamera.getFocalPoint();\n    const position = vtkCamera.getPosition();\n\n    const newPosition: Types.Point3 = [0, 0, 0];\n    const newFocalPoint: Types.Point3 = [0, 0, 0];\n    const newViewUp: Types.Point3 = [0, 0, 0];\n\n    const transform = mat4.identity(new Float32Array(16));\n    mat4.translate(transform, transform, centerWorld);\n    mat4.rotate(transform, transform, angle, axis);\n    mat4.translate(transform, transform, [\n      -centerWorld[0],\n      -centerWorld[1],\n      -centerWorld[2],\n    ]);\n    vec3.transformMat4(newPosition, position, transform);\n    vec3.transformMat4(newFocalPoint, focalPoint, transform);\n\n    mat4.identity(transform);\n    mat4.rotate(transform, transform, angle, axis);\n    vec3.transformMat4(newViewUp, viewUp, transform);\n\n    viewport.setCamera({\n      position: newPosition,\n      viewUp: newViewUp,\n      focalPoint: newFocalPoint,\n    });\n  };\n\n  // pseudocode inspired from\n  // https://github.com/kitware/vtk-js/blob/HEAD/Sources/Interaction/Manipulators/MouseCameraUnicamRotateManipulator/index.js\n  _dragCallback(evt: EventTypes.InteractionEventType): void {\n    const { element, currentPoints, lastPoints } = evt.detail;\n    const currentPointsCanvas = currentPoints.canvas;\n    const lastPointsCanvas = lastPoints.canvas;\n    const { rotateIncrementDegrees } = this.configuration;\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const camera = viewport.getCamera();\n    const width = element.clientWidth;\n    const height = element.clientHeight;\n\n    const normalizedPosition = [\n      currentPointsCanvas[0] / width,\n      currentPointsCanvas[1] / height,\n    ];\n\n    const normalizedPreviousPosition = [\n      lastPointsCanvas[0] / width,\n      lastPointsCanvas[1] / height,\n    ];\n\n    const center: Types.Point2 = [width * 0.5, height * 0.5];\n    // NOTE: centerWorld corresponds to the focal point in cornerstone3D\n    const centerWorld = viewport.canvasToWorld(center);\n    const normalizedCenter = [0.5, 0.5];\n\n    const radsq = (1.0 + Math.abs(normalizedCenter[0])) ** 2.0;\n    const op = [normalizedPreviousPosition[0], 0, 0];\n    const oe = [normalizedPosition[0], 0, 0];\n\n    const opsq = op[0] ** 2;\n    const oesq = oe[0] ** 2;\n\n    const lop = opsq > radsq ? 0 : Math.sqrt(radsq - opsq);\n    const loe = oesq > radsq ? 0 : Math.sqrt(radsq - oesq);\n\n    const nop: Types.Point3 = [op[0], 0, lop];\n    vtkMath.normalize(nop);\n    const noe: Types.Point3 = [oe[0], 0, loe];\n    vtkMath.normalize(noe);\n\n    const dot = vtkMath.dot(nop, noe);\n    if (Math.abs(dot) > 0.0001) {\n      const angleX =\n        -2 *\n        Math.acos(vtkMath.clampValue(dot, -1.0, 1.0)) *\n        Math.sign(normalizedPosition[0] - normalizedPreviousPosition[0]) *\n        rotateIncrementDegrees;\n\n      const upVec = camera.viewUp;\n      const atV = camera.viewPlaneNormal;\n      const rightV: Types.Point3 = [0, 0, 0];\n      const forwardV: Types.Point3 = [0, 0, 0];\n\n      vtkMath.cross(upVec, atV, rightV);\n      vtkMath.normalize(rightV);\n\n      vtkMath.cross(atV, rightV, forwardV);\n      vtkMath.normalize(forwardV);\n      vtkMath.normalize(upVec);\n\n      this.rotateCamera(viewport, centerWorld, forwardV, angleX);\n\n      const angleY =\n        (normalizedPreviousPosition[1] - normalizedPosition[1]) *\n        rotateIncrementDegrees;\n\n      this.rotateCamera(viewport, centerWorld, rightV, angleY);\n\n      viewport.render();\n    }\n  }\n}\n\nTrackballRotateTool.toolName = 'TrackballRotate';\nexport default TrackballRotateTool;\n","import { BaseTool } from './base';\nimport {\n  getEnabledElement,\n  VolumeViewport,\n  StackViewport,\n  utilities,\n  cache,\n  Types,\n} from '@cornerstonejs/core';\nimport { EventTypes } from '../types';\n\n// Todo: should move to configuration\nconst DEFAULT_MULTIPLIER = 4;\nconst DEFAULT_IMAGE_DYNAMIC_RANGE = 1024;\nconst PT = 'PT';\n\n/**\n * WindowLevel tool manipulates the windowLevel applied to a viewport. It\n * provides a way to set the windowCenter and windowWidth of a viewport\n * by dragging mouse over the image.\n *\n */\nclass WindowLevelTool extends BaseTool {\n  static toolName;\n  constructor(\n    toolProps = {},\n    defaultToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  touchDragCallback(evt: EventTypes.InteractionEventType) {\n    this.mouseDragCallback(evt);\n  }\n\n  mouseDragCallback(evt: EventTypes.InteractionEventType) {\n    const { element, deltaPoints } = evt.detail;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n\n    let volumeId,\n      lower,\n      upper,\n      modality,\n      newRange,\n      viewportsContainingVolumeUID;\n    let isPreScaled = false;\n\n    if (viewport instanceof VolumeViewport) {\n      const targetId = this.getTargetId(viewport as Types.IVolumeViewport);\n      volumeId = targetId.split('volumeId:')[1];\n      viewportsContainingVolumeUID = utilities.getViewportsWithVolumeId(\n        volumeId,\n        renderingEngine.id\n      );\n      const properties = viewport.getProperties();\n      ({ lower, upper } = properties.voiRange);\n      const volume = cache.getVolume(volumeId);\n      modality = volume.metadata.Modality;\n      isPreScaled = volume.scaling && Object.keys(volume.scaling).length > 0;\n    } else if (viewport instanceof StackViewport) {\n      const properties = viewport.getProperties();\n      modality = viewport.modality;\n      ({ lower, upper } = properties.voiRange);\n      const { preScale } = viewport.getImageData();\n      isPreScaled =\n        preScale.scaled && preScale.scalingParameters?.suvbw !== undefined;\n    } else {\n      throw new Error('Viewport is not a valid type');\n    }\n\n    // If modality is PT, treat it special to not include the canvas delta in\n    // the x direction. For other modalities, use the canvas delta in both\n    // directions, and if the viewport is a volumeViewport, the multiplier\n    // is calculate using the volume min and max.\n    if (modality === PT) {\n      newRange = this.getPTScaledNewRange({\n        deltaPointsCanvas: deltaPoints.canvas,\n        lower,\n        upper,\n        clientHeight: element.clientHeight,\n        isPreScaled,\n        viewport,\n        volumeId,\n      });\n    } else {\n      newRange = this.getNewRange({\n        viewport,\n        deltaPointsCanvas: deltaPoints.canvas,\n        volumeId,\n        lower,\n        upper,\n      });\n    }\n\n    if (viewport instanceof StackViewport) {\n      viewport.setProperties({\n        voiRange: newRange,\n      });\n\n      viewport.render();\n      return;\n    }\n\n    if (viewport instanceof VolumeViewport) {\n      viewport.setProperties({\n        voiRange: newRange,\n      });\n\n      viewportsContainingVolumeUID.forEach((vp) => {\n        vp.render();\n      });\n      return;\n    }\n  }\n\n  getPTScaledNewRange({\n    deltaPointsCanvas,\n    lower,\n    upper,\n    clientHeight,\n    viewport,\n    volumeId,\n    isPreScaled,\n  }) {\n    let multiplier = DEFAULT_MULTIPLIER;\n\n    if (isPreScaled) {\n      multiplier = 5 / clientHeight;\n    } else {\n      multiplier =\n        this._getMultiplierFromDynamicRange(viewport, volumeId) ||\n        DEFAULT_MULTIPLIER;\n    }\n\n    const deltaY = deltaPointsCanvas[1];\n    const wcDelta = deltaY * multiplier;\n\n    upper -= wcDelta;\n    upper = isPreScaled ? Math.max(upper, 0.1) : upper;\n\n    return { lower, upper };\n  }\n\n  getNewRange({ viewport, deltaPointsCanvas, volumeId, lower, upper }) {\n    const multiplier =\n      this._getMultiplierFromDynamicRange(viewport, volumeId) ||\n      DEFAULT_MULTIPLIER;\n\n    const wwDelta = deltaPointsCanvas[0] * multiplier;\n    const wcDelta = deltaPointsCanvas[1] * multiplier;\n\n    let { windowWidth, windowCenter } = utilities.windowLevel.toWindowLevel(\n      lower,\n      upper\n    );\n\n    windowWidth += wwDelta;\n    windowCenter += wcDelta;\n\n    windowWidth = Math.max(windowWidth, 1);\n\n    // Convert back to range\n    return utilities.windowLevel.toLowHighRange(windowWidth, windowCenter);\n  }\n\n  _getMultiplierFromDynamicRange(viewport, volumeId) {\n    let imageDynamicRange;\n\n    if (volumeId) {\n      const imageVolume = cache.getVolume(volumeId);\n      const { dimensions } = imageVolume;\n      const scalarData = imageVolume.getScalarData();\n      const calculatedDynamicRange = this._getImageDynamicRangeFromMiddleSlice(\n        scalarData,\n        dimensions\n      );\n      const BitsStored = imageVolume?.metadata?.BitsStored;\n      const metadataDynamicRange = BitsStored ? 2 ** BitsStored : Infinity;\n      // Burned in Pixels often use pixel values above the BitsStored.\n      // This results in a multiplier which is way higher than what you would\n      // want in practice. Thus we take the min between the metadata dynamic\n      // range and actual middel slice dynamic range.\n      imageDynamicRange = Math.min(\n        calculatedDynamicRange,\n        metadataDynamicRange\n      );\n    } else {\n      imageDynamicRange = this._getImageDynamicRangeFromViewport(viewport);\n    }\n\n    const ratio = imageDynamicRange / DEFAULT_IMAGE_DYNAMIC_RANGE;\n\n    let multiplier = DEFAULT_MULTIPLIER;\n\n    if (ratio > 1) {\n      multiplier = Math.round(ratio);\n    }\n    return multiplier;\n  }\n\n  _getImageDynamicRangeFromViewport(viewport) {\n    const { imageData } = viewport.getImageData();\n    const dimensions = imageData.getDimensions();\n\n    let scalarData;\n    // if getScalarData is a method on imageData\n    if (imageData.getScalarData) {\n      scalarData = imageData.getScalarData();\n    } else {\n      scalarData = imageData.getPointData().getScalars();\n    }\n\n    if (dimensions[2] !== 1) {\n      return this._getImageDynamicRangeFromMiddleSlice(scalarData, dimensions);\n    }\n\n    let range;\n    if (scalarData.getRange) {\n      range = scalarData.getRange();\n    } else {\n      const { min, max } = this._getMinMax(scalarData, scalarData.length);\n      range = [min, max];\n    }\n\n    return range[1] - range[0];\n  }\n\n  _getImageDynamicRangeFromMiddleSlice = (scalarData, dimensions) => {\n    const middleSliceIndex = Math.floor(dimensions[2] / 2);\n\n    const frameLength = dimensions[0] * dimensions[1];\n    let bytesPerVoxel;\n    let TypedArrayConstructor;\n\n    if (scalarData instanceof Float32Array) {\n      bytesPerVoxel = 4;\n      TypedArrayConstructor = Float32Array;\n    } else if (scalarData instanceof Uint8Array) {\n      bytesPerVoxel = 1;\n      TypedArrayConstructor = Uint8Array;\n    } else if (scalarData instanceof Uint16Array) {\n      bytesPerVoxel = 2;\n      TypedArrayConstructor = Uint16Array;\n    } else if (scalarData instanceof Int16Array) {\n      bytesPerVoxel = 2;\n      TypedArrayConstructor = Int16Array;\n    }\n\n    const buffer = scalarData.buffer;\n    const byteOffset = middleSliceIndex * frameLength * bytesPerVoxel;\n    const frame = new TypedArrayConstructor(buffer, byteOffset, frameLength);\n\n    const { max, min } = this._getMinMax(frame, frameLength);\n\n    return max - min;\n  };\n\n  private _getMinMax(frame: Uint8Array | Float32Array, frameLength: number) {\n    let min = Infinity;\n    let max = -Infinity;\n\n    for (let i = 0; i < frameLength; i++) {\n      const voxel = frame[i];\n\n      if (voxel < min) {\n        min = voxel;\n      }\n\n      if (voxel > max) {\n        max = voxel;\n      }\n    }\n    return { max, min };\n  }\n}\n\nWindowLevelTool.toolName = 'WindowLevel';\nexport default WindowLevelTool;\n","import {\n  getEnabledElementByIds,\n  VolumeViewport,\n  StackViewport,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport { BaseTool } from './base';\nimport { scroll } from '../utilities';\nimport { PublicToolProps, ToolProps, EventTypes } from '../types';\n\n/**\n * The StackScrollTool is a tool that allows the user to scroll through a\n * stack of images by pressing the mouse click and dragging\n */\nclass StackScrollTool extends BaseTool {\n  static toolName;\n  deltaY: number;\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        invert: false,\n        debounceIfNotLoaded: true,\n        loop: false,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n    this.deltaY = 1;\n  }\n\n  mouseDragCallback(evt: EventTypes.InteractionEventType) {\n    this._dragCallback(evt);\n  }\n  touchDragCallback(evt: EventTypes.InteractionEventType) {\n    this._dragCallback(evt);\n  }\n\n  _dragCallback(evt: EventTypes.InteractionEventType) {\n    const { deltaPoints, viewportId, renderingEngineId } = evt.detail;\n    const { viewport } = getEnabledElementByIds(viewportId, renderingEngineId);\n\n    const targetId = this.getTargetId(viewport);\n    const { debounceIfNotLoaded, invert, loop } = this.configuration;\n\n    const deltaPointY = deltaPoints.canvas[1];\n\n    let volumeId;\n    if (viewport instanceof VolumeViewport) {\n      volumeId = targetId.split('volumeId:')[1];\n    }\n\n    const pixelsPerImage = this._getPixelPerImage(viewport);\n    const deltaY = deltaPointY + this.deltaY;\n\n    if (!pixelsPerImage) {\n      return;\n    }\n\n    if (Math.abs(deltaY) >= pixelsPerImage) {\n      const imageIdIndexOffset = Math.round(deltaY / pixelsPerImage);\n\n      scroll(viewport, {\n        delta: invert ? -imageIdIndexOffset : imageIdIndexOffset,\n        volumeId,\n        debounceLoading: debounceIfNotLoaded,\n        loop: loop,\n      });\n\n      this.deltaY = deltaY % pixelsPerImage;\n    } else {\n      this.deltaY = deltaY;\n    }\n  }\n\n  _getPixelPerImage(viewport) {\n    const { element } = viewport;\n    const numberOfSlices = this._getNumberOfSlices(viewport);\n\n    // The Math.max here makes it easier to mouseDrag-scroll small or really large image stacks\n    return Math.max(2, element.offsetHeight / Math.max(numberOfSlices, 8));\n  }\n\n  _getNumberOfSlices(viewport) {\n    if (viewport instanceof VolumeViewport) {\n      const { numberOfSlices } =\n        csUtils.getImageSliceDataForVolumeViewport(viewport);\n      return numberOfSlices;\n    } else if (viewport instanceof StackViewport) {\n      return viewport.getImageIds().length;\n    }\n  }\n}\n\nStackScrollTool.toolName = 'StackScroll';\nexport default StackScrollTool;\n","import type { Types } from '@cornerstonejs/core';\nimport { vec3 } from 'gl-matrix';\n\ntype Line = [Types.Point3, Types.Point3];\n\n/**\n * It returns the angle between two lines in degrees.\n * The angle measured is that between the vectors\n * line1[1]->line1[0] AND line2[0]->line2[1].\n * @param line1 - Line = [p1, p2]\n * @param line2 - Line = [p3, p4]\n * @returns The angle between two lines in degrees.\n */\nexport default function angleBetweenLines(line1: Line, line2: Line): number {\n  const [p1, p2] = line1;\n  const [p3, p4] = line2;\n\n  const v1 = vec3.sub(vec3.create(), p2, p1);\n  const v2 = vec3.sub(vec3.create(), p3, p4);\n\n  const dot = vec3.dot(v1, v2);\n\n  const v1Length = vec3.length(v1);\n  const v2Length = vec3.length(v2);\n\n  const cos = dot / (v1Length * v2Length);\n\n  const radian = Math.acos(cos);\n\n  return (radian * 180) / Math.PI;\n}\n","import {\n  BaseVolumeViewport,\n  getEnabledElement,\n  Types,\n} from '@cornerstonejs/core';\nimport { mat4, vec3 } from 'gl-matrix';\nimport { BaseTool } from './base';\nimport angleBetweenLines from '../utilities/math/angle/angleBetweenLines';\nimport { PublicToolProps, ToolProps, EventTypes } from '../types';\n\n/**\n * The PlanarRotateTool is a tool that allows the user to rotate\n * the image by pressing the mouse click and dragging\n */\nclass PlanarRotateTool extends BaseTool {\n  static toolName;\n  touchDragCallback: (evt: EventTypes.MouseDragEventType) => void;\n  mouseDragCallback: (evt: EventTypes.MouseDragEventType) => void;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this.touchDragCallback = this._dragCallback.bind(this);\n    this.mouseDragCallback = this._dragCallback.bind(this);\n  }\n\n  _dragCallback(evt: EventTypes.MouseDragEventType) {\n    const { element, currentPoints, startPoints } = evt.detail;\n    const currentPointWorld = currentPoints.world;\n    const startPointWorld = startPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const camera = viewport.getCamera();\n    const width = element.clientWidth;\n    const height = element.clientHeight;\n\n    const centerCanvas: Types.Point2 = [width * 0.5, height * 0.5];\n    const centerWorld = viewport.canvasToWorld(centerCanvas);\n\n    let angle = angleBetweenLines(\n      [startPointWorld, centerWorld],\n      [centerWorld, currentPointWorld]\n    );\n\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const v1 = vec3.sub(vec3.create(), centerWorld, startPointWorld);\n    const v2 = vec3.sub(vec3.create(), centerWorld, currentPointWorld);\n    const cross = vec3.cross(vec3.create(), v1, v2);\n    if (vec3.dot(viewPlaneNormal, cross) > 0) {\n      angle = -angle;\n    }\n\n    if (Number.isNaN(angle)) {\n      return;\n    }\n\n    if (viewport instanceof BaseVolumeViewport) {\n      const rotAngle = (angle * Math.PI) / 180;\n      const rotMat = mat4.identity(new Float32Array(16));\n      mat4.rotate(rotMat, rotMat, rotAngle, viewPlaneNormal);\n      const rotatedViewUp = vec3.transformMat4(vec3.create(), viewUp, rotMat);\n      viewport.setCamera({ viewUp: rotatedViewUp as Types.Point3 });\n    } else {\n      const { rotation } = (viewport as Types.IStackViewport).getProperties();\n      viewport.setProperties({ rotation: rotation + angle });\n    }\n\n    viewport.render();\n  }\n}\n\nPlanarRotateTool.toolName = 'PlanarRotate';\nexport default PlanarRotateTool;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport { BaseTool } from './base';\nimport { MouseWheelEventType } from '../types/EventTypes';\nimport scroll from '../utilities/scroll';\n\n/**\n * The StackScrollMouseWheelTool is a tool that allows the user to scroll through a\n * stack of images using the mouse wheel\n */\nclass StackScrollMouseWheelTool extends BaseTool {\n  static toolName;\n\n  _configuration: any;\n\n  constructor(\n    toolProps = {},\n    defaultToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        invert: false,\n        debounceIfNotLoaded: true,\n        loop: false,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  mouseWheelCallback(evt: MouseWheelEventType): void {\n    const { wheel, element } = evt.detail;\n    const { direction } = wheel;\n    const { invert } = this.configuration;\n    const { viewport } = getEnabledElement(element);\n    const delta = direction * (invert ? -1 : 1);\n\n    const targetId = this.getTargetId(viewport);\n    const volumeId = targetId.split('volumeId:')[1];\n\n    scroll(viewport, {\n      delta,\n      debounceLoading: this.configuration.debounceIfNotLoaded,\n      loop: this.configuration.loop,\n      volumeId,\n    });\n  }\n}\n\nStackScrollMouseWheelTool.toolName = 'StackScrollMouseWheel';\nexport default StackScrollMouseWheelTool;\n","import { vec3 } from 'gl-matrix';\nimport vtkMath from '@kitware/vtk.js/Common/Core/Math';\nimport { getEnabledElement, Types } from '@cornerstonejs/core';\nimport { BaseTool } from './base';\nimport { EventTypes, PublicToolProps, ToolProps } from '../types';\n\n/**\n * ZoomTool tool manipulates the camera zoom applied to a viewport. It\n * provides a way to set the zoom of a viewport by dragging mouse over the image.\n *\n */\nclass ZoomTool extends BaseTool {\n  static toolName;\n  touchDragCallback: (evt: EventTypes.InteractionEventType) => void;\n  mouseDragCallback: (evt: EventTypes.InteractionEventType) => void;\n  initialMousePosWorld: Types.Point3;\n  dirVec: Types.Point3;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        // whether zoom to the center of the image OR zoom to the mouse position\n        zoomToCenter: false,\n        minZoomScale: 0.1,\n        maxZoomScale: 30,\n        pinchToZoom: true,\n        pan: true,\n        invert: false,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n    this.initialMousePosWorld = [0, 0, 0];\n    this.dirVec = [0, 0, 0];\n    if (this.configuration.pinchToZoom) {\n      this.touchDragCallback = this._pinchCallback.bind(this);\n    } else {\n      this.touchDragCallback = this._dragCallback.bind(this);\n    }\n    this.mouseDragCallback = this._dragCallback.bind(this);\n  }\n\n  preMouseDownCallback = (evt: EventTypes.InteractionEventType): boolean => {\n    const eventData = evt.detail;\n    const { element, currentPoints } = eventData;\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n\n    const camera = enabledElement.viewport.getCamera();\n    const { focalPoint } = camera;\n\n    this.initialMousePosWorld = worldPos;\n\n    // The direction vector from the clicked location to the focal point\n    // which would act as the vector to translate the image (if zoomToCenter is false)\n    let dirVec = vec3.fromValues(\n      focalPoint[0] - worldPos[0],\n      focalPoint[1] - worldPos[1],\n      focalPoint[2] - worldPos[2]\n    );\n\n    dirVec = vec3.normalize(vec3.create(), dirVec);\n\n    this.dirVec = dirVec as Types.Point3;\n\n    // we should not return true here, returning true in the preMouseDownCallback\n    // means that the event is handled by the tool and no other methods\n    // can claim the event, which will result in a bug where having Zoom on primary\n    // and clicking on an annotation will not manipulate the annotation, but will\n    // instead zoom the image (which is not what we want), so we return false here\n    return false;\n  };\n\n  preTouchStartCallback = (evt: EventTypes.InteractionEventType): boolean => {\n    if (!this.configuration.pinchToZoom) {\n      return this.preMouseDownCallback(evt);\n    }\n  };\n\n  _pinchCallback(evt: EventTypes.InteractionEventType) {\n    const pointsList = (evt as EventTypes.TouchStartEventType).detail\n      .currentPointsList;\n\n    if (pointsList.length > 1) {\n      const { element, currentPoints } = evt.detail;\n      const enabledElement = getEnabledElement(element);\n      const { viewport } = enabledElement;\n      const camera = viewport.getCamera();\n      const worldPos = currentPoints.world;\n      const { focalPoint } = camera;\n      this.initialMousePosWorld = worldPos;\n      // The direction vector from the clicked location to the focal point\n      // which would act as the vector to translate the image (if zoomToCenter is false)\n      let dirVec = vec3.fromValues(\n        focalPoint[0] - worldPos[0],\n        focalPoint[1] - worldPos[1],\n        focalPoint[2] - worldPos[2]\n      );\n      dirVec = vec3.normalize(vec3.create(), dirVec);\n\n      this.dirVec = dirVec as Types.Point3;\n      if (camera.parallelProjection) {\n        this._dragParallelProjection(evt, viewport, camera, true);\n      } else {\n        this._dragPerspectiveProjection(evt, viewport, camera, true);\n      }\n      viewport.render();\n    }\n\n    if (this.configuration.pan) {\n      this._panCallback(evt);\n    }\n  }\n\n  // Takes ICornerstoneEvent, Mouse or Touch\n  _dragCallback(evt: EventTypes.InteractionEventType) {\n    const { element } = evt.detail;\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const camera = viewport.getCamera();\n\n    if (camera.parallelProjection) {\n      this._dragParallelProjection(evt, viewport, camera);\n    } else {\n      this._dragPerspectiveProjection(evt, viewport, camera);\n    }\n\n    viewport.render();\n  }\n\n  _dragParallelProjection = (\n    evt: EventTypes.InteractionEventType,\n    viewport: Types.IStackViewport | Types.IVolumeViewport,\n    camera: Types.ICamera,\n    pinch = false\n  ): void => {\n    const { element, deltaPoints } = evt.detail;\n    const deltaY = pinch\n      ? (evt as EventTypes.TouchDragEventType).detail.deltaDistance.canvas\n      : deltaPoints.canvas[1];\n\n    const size = [element.clientWidth, element.clientHeight];\n    const { parallelScale, focalPoint, position } = camera;\n\n    const zoomScale = 1.5 / size[1];\n    const k = deltaY * zoomScale * (this.configuration.invert ? -1 : 1);\n\n    let parallelScaleToSet = (1.0 - k) * parallelScale;\n\n    let focalPointToSet = focalPoint;\n    let positionToSet = position;\n\n    // if we're not zooming to the center, we need to adjust the focal point\n    // and position to set the focal point and position to the value that\n    // would simulate the zoom to the mouse position\n    if (!this.configuration.zoomToCenter) {\n      // Distance of the initial mouse position (world) to the focal point\n      // which is always the center of the canvas.\n      const distanceToCanvasCenter = vec3.distance(\n        focalPoint,\n        this.initialMousePosWorld\n      );\n      // const initialYDistanceBetweenInitialAndFocalPoint;\n\n      // we need to move in the direction of the vector between the focal point\n      // and the initial mouse position by some amount until ultimately we\n      // reach the mouse position at the focal point\n      const zoomScale = 5 / size[1];\n      const k = deltaY * zoomScale * (this.configuration.invert ? -1 : 1);\n      parallelScaleToSet = (1.0 - k) * parallelScale;\n\n      positionToSet = vec3.scaleAndAdd(\n        vec3.create(),\n        position,\n        this.dirVec,\n        -distanceToCanvasCenter * k\n      ) as Types.Point3;\n\n      focalPointToSet = vec3.scaleAndAdd(\n        vec3.create(),\n        focalPoint,\n        this.dirVec,\n        -distanceToCanvasCenter * k\n      ) as Types.Point3;\n    }\n\n    // If it is a regular GPU accelerated viewport, then parallel scale\n    // has a physical meaning and we can use that to determine the threshold\n    // Added spacing preset in case there is no imageData on viewport\n    const imageData = viewport.getImageData();\n    let spacing = [1, 1, 1];\n    if (imageData) {\n      spacing = imageData.spacing;\n    }\n\n    const { minZoomScale, maxZoomScale } = this.configuration;\n\n    const t = element.clientHeight * spacing[1] * 0.5;\n    const scale = t / parallelScaleToSet;\n\n    let cappedParallelScale = parallelScaleToSet;\n    let thresholdExceeded = false;\n\n    if (imageData) {\n      if (scale < minZoomScale) {\n        cappedParallelScale = t / minZoomScale;\n        thresholdExceeded = true;\n      } else if (scale >= maxZoomScale) {\n        cappedParallelScale = t / maxZoomScale;\n        thresholdExceeded = true;\n      }\n    }\n\n    viewport.setCamera({\n      parallelScale: cappedParallelScale,\n      focalPoint: thresholdExceeded ? focalPoint : focalPointToSet,\n      position: thresholdExceeded ? position : positionToSet,\n    });\n  };\n\n  _dragPerspectiveProjection = (\n    evt: EventTypes.InteractionEventType,\n    viewport: Types.IStackViewport | Types.IVolumeViewport,\n    camera: Types.ICamera,\n    pinch = false\n  ): void => {\n    const { element, deltaPoints } = evt.detail;\n    const deltaY = pinch\n      ? (evt as EventTypes.TouchDragEventType).detail.deltaDistance.canvas\n      : deltaPoints.canvas[1];\n\n    const size = [element.clientWidth, element.clientHeight];\n    const { position, focalPoint, viewPlaneNormal } = camera;\n\n    const distance = vtkMath.distance2BetweenPoints(position, focalPoint);\n    const zoomScale = Math.sqrt(distance) / size[1];\n\n    const directionOfProjection = [\n      -viewPlaneNormal[0],\n      -viewPlaneNormal[1],\n      -viewPlaneNormal[2],\n    ];\n\n    const k = this.configuration.invert\n      ? deltaY / zoomScale\n      : deltaY * zoomScale;\n\n    let tmp = k * directionOfProjection[0];\n    position[0] += tmp;\n    focalPoint[0] += tmp;\n\n    tmp = k * directionOfProjection[1];\n    position[1] += tmp;\n    focalPoint[1] += tmp;\n\n    tmp = k * directionOfProjection[2];\n    position[2] += tmp;\n    focalPoint[2] += tmp;\n\n    viewport.setCamera({ position, focalPoint });\n  };\n\n  _panCallback(evt: EventTypes.InteractionEventType) {\n    const { element, deltaPoints } = evt.detail;\n    const enabledElement = getEnabledElement(element);\n\n    const deltaPointsWorld = deltaPoints.world;\n    const camera = enabledElement.viewport.getCamera();\n    const { focalPoint, position } = camera;\n\n    const updatedPosition = <Types.Point3>[\n      position[0] - deltaPointsWorld[0],\n      position[1] - deltaPointsWorld[1],\n      position[2] - deltaPointsWorld[2],\n    ];\n\n    const updatedFocalPoint = <Types.Point3>[\n      focalPoint[0] - deltaPointsWorld[0],\n      focalPoint[1] - deltaPointsWorld[1],\n      focalPoint[2] - deltaPointsWorld[2],\n    ];\n\n    enabledElement.viewport.setCamera({\n      focalPoint: updatedFocalPoint,\n      position: updatedPosition,\n    });\n    enabledElement.viewport.render();\n  }\n}\n\nZoomTool.toolName = 'Zoom';\nexport default ZoomTool;\n","import { BaseTool } from './base';\nimport { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { mat4, vec3 } from 'gl-matrix';\nimport { PublicToolProps, ToolProps } from '../types';\nimport { MouseWheelEventType } from '../types/EventTypes';\n\nconst DIRECTIONS = {\n  X: [1, 0, 0],\n  Y: [0, 1, 0],\n  Z: [0, 0, 1],\n  CUSTOM: [],\n};\n\n/**\n * Tool that rotates the camera on mouse wheel.\n * It rotates the camera around the focal point, and around a defined axis. Default\n * axis is set to be Z axis, but it can be configured to any custom normalized axis.\n *\n */\nclass VolumeRotateMouseWheelTool extends BaseTool {\n  static toolName;\n  _configuration: any;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        direction: DIRECTIONS.Z,\n        rotateIncrementDegrees: 0.5,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  mouseWheelCallback(evt: MouseWheelEventType) {\n    // https://github.com/kitware/vtk-js/blob/HEAD/Sources/Interaction/Manipulators/MouseCameraUnicamRotateManipulator/index.js#L73\n    const { element, wheel } = evt.detail;\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { direction, rotateIncrementDegrees } = this.configuration;\n\n    const camera = viewport.getCamera();\n    const { viewUp, position, focalPoint } = camera;\n\n    const { direction: deltaY } = wheel;\n\n    const [cx, cy, cz] = focalPoint;\n    const [ax, ay, az] = direction;\n\n    const angle = deltaY * rotateIncrementDegrees;\n\n    // position[3] = 1.0\n    // focalPoint[3] = 1.0\n    // viewUp[3] = 0.0\n\n    const newPosition: Types.Point3 = [0, 0, 0];\n    const newFocalPoint: Types.Point3 = [0, 0, 0];\n    const newViewUp: Types.Point3 = [0, 0, 0];\n\n    const transform = mat4.identity(new Float32Array(16));\n    mat4.translate(transform, transform, [cx, cy, cz]);\n    mat4.rotate(transform, transform, angle, [ax, ay, az]);\n    mat4.translate(transform, transform, [-cx, -cy, -cz]);\n    vec3.transformMat4(newPosition, position, transform);\n    vec3.transformMat4(newFocalPoint, focalPoint, transform);\n\n    mat4.identity(transform);\n    mat4.rotate(transform, transform, angle, [ax, ay, az]);\n    vec3.transformMat4(<Types.Point3>newViewUp, viewUp, transform);\n\n    viewport.setCamera({\n      position: newPosition,\n      viewUp: newViewUp,\n      focalPoint: newFocalPoint,\n    });\n\n    viewport.render();\n  }\n}\n\nVolumeRotateMouseWheelTool.toolName = 'VolumeRotateMouseWheel';\nexport default VolumeRotateMouseWheelTool;\n","import { vec3 } from 'gl-matrix';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Given two world positions and an orthogonal view to an `imageVolume` defined\n * by a `viewPlaneNormal` and a `viewUp`, get the width and height in world coordinates\n * of the rectangle defined by the two points. The implementation works both with orthogonal\n * non-orthogonal rectangles.\n *\n * @param viewPlaneNormal - The normal of the view.\n * @param viewUp - The up direction of the view.\n * @param imageVolume - The imageVolume to use to measure.\n * @param topLeftWorld - The first world position.\n * @param bottomRightWorld - The second world position.\n *\n * @returns The `worldWidth` and `worldHeight`.\n */\nexport default function getWorldWidthAndHeightFromCorners(\n  viewPlaneNormal: Types.Point3,\n  viewUp: Types.Point3,\n  topLeftWorld: Types.Point3,\n  bottomRightWorld: Types.Point3\n): { worldWidth: number; worldHeight: number } {\n  const viewRight = vec3.create();\n\n  vec3.cross(viewRight, <vec3>viewUp, <vec3>viewPlaneNormal);\n\n  const pos1 = vec3.fromValues(...topLeftWorld);\n  const pos2 = vec3.fromValues(...bottomRightWorld);\n\n  const diagonal = vec3.create();\n  vec3.subtract(diagonal, pos1, pos2);\n\n  const diagonalLength = vec3.length(diagonal);\n\n  // When the two points are very close to each other return width as 0\n  // to avoid NaN the cosTheta formula calculation\n  if (diagonalLength < 0.0001) {\n    return { worldWidth: 0, worldHeight: 0 };\n  }\n\n  const cosTheta =\n    vec3.dot(diagonal, viewRight) / (diagonalLength * vec3.length(viewRight));\n\n  const sinTheta = Math.sqrt(1 - cosTheta * cosTheta);\n\n  const worldWidth = sinTheta * diagonalLength;\n  const worldHeight = cosTheta * diagonalLength;\n\n  return { worldWidth, worldHeight };\n}\n","import vtkMath from '@kitware/vtk.js/Common/Core/Math';\nimport { utilities as csUtils } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n/**\n * Returns a point based on some criteria (e.g., minimum or maximum intensity) in\n * the line of sight (on the line between the passed worldPosition and camera position).\n * It iterated over the points with a step size on the line.\n *\n * @param viewport - Volume viewport\n * @param worldPos - World coordinates of the clicked location\n * @param targetVolumeId - target Volume ID in the viewport\n * @param criteriaFunction - A function that returns the point if it passes a certain\n * written logic, for instance, it can be a maxValue function that keeps the\n * records of all intensity values, and only return the point if its intensity\n * is greater than the maximum intensity of the points passed before.\n * @param stepsSize - Percentage of the spacing in the normal direction, default value\n * is 0.25 which means steps = 1/4 of the spacing in the normal direction.\n * @returns the World pos of the point that passes the criteriaFunction\n */\nexport default function getPointInLineOfSightWithCriteria(\n  viewport: Types.IVolumeViewport,\n  worldPos: Types.Point3,\n  targetVolumeId: string,\n  criteriaFunction: (intensity: number, point: Types.Point3) => Types.Point3,\n  stepSize = 0.25\n): Types.Point3 {\n  // 1. Getting the camera from the event details\n  const camera = viewport.getCamera();\n  const { position: cameraPosition } = camera;\n\n  // 2. Calculating the spacing in the normal direction, this will get\n  // used as the step size for iterating over the points in the line of sight\n  const { spacingInNormalDirection } =\n    csUtils.getTargetVolumeAndSpacingInNormalDir(\n      viewport,\n      camera,\n      targetVolumeId\n    );\n  // 2.1 Making sure, we are not missing any point\n  const step = spacingInNormalDirection * stepSize;\n\n  // 3. Getting the bounds of the viewports. Search for brightest point is\n  // limited to the visible bound\n  // Todo: this might be a problem since bounds will change to spatial bounds.\n  const bounds = viewport.getBounds();\n  const xMin = bounds[0];\n  const xMax = bounds[1];\n\n  // 5. Calculating the line, we use a parametric line definition\n  const vector = <Types.Point3>[0, 0, 0];\n\n  // 5.1 Point coordinate on the line\n  let point = <Types.Point3>[0, 0, 0];\n\n  // 5.2 Calculating the line direction, and storing in vector\n  vtkMath.subtract(worldPos, cameraPosition, vector);\n\n  let pickedPoint;\n\n  // 6. Iterating over the line from the lower bound to the upper bound, with the\n  // specified step size\n  for (let pointT = xMin; pointT <= xMax; pointT = pointT + step) {\n    // 6.1 Calculating the point x location\n    point = [pointT, 0, 0];\n    // 6.2 Calculating the point y,z location based on the line equation\n    const t = (pointT - cameraPosition[0]) / vector[0];\n    point[1] = t * vector[1] + cameraPosition[1];\n    point[2] = t * vector[2] + cameraPosition[2];\n\n    // 6.3 Checking if the points is inside the bounds\n    if (_inBounds(point, bounds)) {\n      // 6.4 Getting the intensity of the point\n      const intensity = viewport.getIntensityFromWorld(point);\n      // 6.5 Passing the intensity to the maximum value functions which decides\n      // whether the current point is of interest based on some criteria\n      const pointToPick = criteriaFunction(intensity, point);\n      if (pointToPick) {\n        pickedPoint = pointToPick;\n      }\n    }\n  }\n\n  return pickedPoint;\n}\n\n/**\n * Returns whether the point in the world is inside the bounds of the viewport\n * @param point - coordinates in the world\n * @returns boolean\n */\nconst _inBounds = function (\n  point: Types.Point3,\n  bounds: Array<number>\n): boolean {\n  const [xMin, xMax, yMin, yMax, zMin, zMax] = bounds;\n  return (\n    point[0] > xMin &&\n    point[0] < xMax &&\n    point[1] > yMin &&\n    point[1] < yMax &&\n    point[2] > zMin &&\n    point[2] < zMax\n  );\n};\n","import filterAnnotationsWithinSlice from './filterAnnotationsWithinSlice';\nimport getWorldWidthAndHeightFromCorners from './getWorldWidthAndHeightFromCorners';\nimport filterAnnotationsForDisplay from './filterAnnotationsForDisplay';\nimport getPointInLineOfSightWithCriteria from './getPointInLineOfSightWithCriteria';\n\nexport default {\n  filterAnnotationsWithinSlice,\n  getWorldWidthAndHeightFromCorners,\n  filterAnnotationsForDisplay,\n  getPointInLineOfSightWithCriteria,\n};\n\nexport {\n  filterAnnotationsWithinSlice,\n  getWorldWidthAndHeightFromCorners,\n  filterAnnotationsForDisplay,\n  getPointInLineOfSightWithCriteria,\n};\n","import { VolumeViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { vec3 } from 'gl-matrix';\n\n// Todo: merge this utility functionality with Crosshair _jump\n/**\n * Uses the viewport's current camera to jump to a specific world coordinate\n * @param enabledElement - enabled element\n * @param jumpWorld - location in the world to jump to\n * @returns True if successful\n */\nexport default function jumpToWorld(\n  viewport: Types.IVolumeViewport,\n  jumpWorld: Types.Point3\n): true | undefined {\n  // if not instance of volumeViewport, return\n  if (!(viewport instanceof VolumeViewport)) {\n    return;\n  }\n\n  const { focalPoint } = viewport.getCamera();\n\n  const delta: Types.Point3 = [0, 0, 0];\n  vec3.sub(delta, jumpWorld, focalPoint);\n\n  _applyShift(viewport, delta);\n\n  return true;\n}\n\nfunction _applyShift(viewport, delta) {\n  const camera = viewport.getCamera();\n  const normal = camera.viewPlaneNormal;\n\n  const dotProd = vec3.dot(delta, normal);\n  const projectedDelta = vec3.fromValues(normal[0], normal[1], normal[2]);\n\n  vec3.scale(projectedDelta, projectedDelta, dotProd);\n\n  if (\n    Math.abs(projectedDelta[0]) > 1e-3 ||\n    Math.abs(projectedDelta[1]) > 1e-3 ||\n    Math.abs(projectedDelta[2]) > 1e-3\n  ) {\n    const newFocalPoint: Types.Point3 = [0, 0, 0];\n    const newPosition: Types.Point3 = [0, 0, 0];\n\n    vec3.add(newFocalPoint, camera.focalPoint, projectedDelta);\n    vec3.add(newPosition, camera.position, projectedDelta);\n\n    viewport.setCamera({\n      focalPoint: newFocalPoint,\n      position: newPosition,\n    });\n    viewport.render();\n  }\n}\n","import { BaseTool } from './base';\nimport { getEnabledElement, VolumeViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { getPointInLineOfSightWithCriteria } from '../utilities/planar';\nimport jumpToWorld from '../utilities/viewport/jumpToWorld';\nimport { PublicToolProps, ToolProps } from '../types';\nimport { getToolGroupForViewport } from '../store/ToolGroupManager';\n\n/**\n * On a Maximum Intensity Projection (MIP) viewport, MIPJumpToClickTool allows the\n * user to click on a point in the MIP and the targetViewportIdS (provided in the\n * tool configuration) will be scrolled (jumped) to the location of the point with\n * the highest intensity value in the MIP.\n */\nclass MIPJumpToClickTool extends BaseTool {\n  static toolName;\n\n  _bounds: any;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        targetViewportIds: [],\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Handles the click event, and move the camera's focal point the brightest\n   * point that is in the line of sight of camera. This function 1) search for the\n   * brightest point in the line of sight, 2) move the camera to that point,\n   * this triggers a cameraModified event which then 4) moves all other synced\n   * viewports and their crosshairs.\n   *\n   * @param evt - click event\n   */\n  mouseClickCallback(evt): void {\n    const { element, currentPoints } = evt.detail;\n\n    // 1. Getting the enabled element\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    // 2. Getting the target volume that is clicked on\n    const targetId = this.getTargetId(viewport as Types.IVolumeViewport);\n\n    if (!targetId.startsWith('volumeId')) {\n      throw new Error(\n        `MIPJumpToClickTool: targetId is not a volumeId, you should only use MIPJumpToClickTool with a volumeId as the targetId`\n      );\n    }\n\n    const volumeId = targetId.split('volumeId:')[1];\n\n    // 3. Criteria function to search for the point (maximum intensity)\n    let maxIntensity = -Infinity;\n    const maxFn = (intensity, point) => {\n      if (intensity > maxIntensity) {\n        maxIntensity = intensity;\n        return point;\n      }\n    };\n\n    // 4. Search for the brightest point location in the line of sight\n    const brightestPoint = getPointInLineOfSightWithCriteria(\n      viewport as Types.IVolumeViewport,\n      currentPoints.world,\n      volumeId,\n      maxFn\n    );\n\n    if (!brightestPoint || !brightestPoint.length) {\n      return;\n    }\n\n    const { targetViewportIds, toolGroupId } = this.configuration;\n    // TODO - consider making this a utility\n    const viewports = renderingEngine.getViewports().filter((vp) => {\n      if (targetViewportIds?.indexOf(vp.id) >= 0) {\n        return true;\n      }\n      const foundToolGroup = getToolGroupForViewport(vp.id, renderingEngine.id);\n      if (toolGroupId && toolGroupId === foundToolGroup?.id) {\n        return true;\n      }\n      return false;\n    });\n\n    // 6. Update all the targetedViewports to jump\n    viewports.forEach((viewport) => {\n      // Todo: current limitation is that we cannot jump in viewports\n      // that don't belong to the renderingEngine of the source clicked viewport\n      if (viewport instanceof VolumeViewport) {\n        jumpToWorld(viewport, brightestPoint);\n      } else {\n        console.warn(\n          'Cannot jump to specified world coordinates for a viewport that is not a VolumeViewport'\n        );\n      }\n    });\n  }\n}\n\nMIPJumpToClickTool.toolName = 'MIPJumpToClickTool';\nexport default MIPJumpToClickTool;\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * Given an array of viewports, returns a list of viewports that are viewing a\n * world space with the given `FrameOfReferenceUID`.\n *\n * @param viewports - An array of viewports.\n * @param FrameOfReferenceUID - The UID defining a particular world space/Frame Of Reference.\n *\n * @returns A filtered array of viewports.\n */\nexport default function filterViewportsWithFrameOfReferenceUID(\n  viewports: Array<Types.IStackViewport | Types.IVolumeViewport>,\n  FrameOfReferenceUID: string\n): Array<Types.IStackViewport | Types.IVolumeViewport> {\n  const numViewports = viewports.length;\n  const viewportsWithFrameOfReferenceUID = [];\n\n  for (let vp = 0; vp < numViewports; vp++) {\n    const viewport = viewports[vp];\n\n    if (viewport.getFrameOfReferenceUID() === FrameOfReferenceUID) {\n      viewportsWithFrameOfReferenceUID.push(viewport);\n    }\n  }\n\n  return viewportsWithFrameOfReferenceUID;\n}\n","import type { Types } from '@cornerstonejs/core';\nimport type { IToolGroup } from '../../types';\nimport { ToolGroupManager } from '../../store';\nimport { ToolModes } from '../../enums';\n\nconst { Active, Passive, Enabled } = ToolModes;\n\n/**\n * Given an array of viewports, returns a list of viewports that have the the specified tool enabled.\n *\n * @param viewports - An array of viewports.\n * @param toolName - The name of the tool to filter on.\n *\n * @returns A filtered array of viewports.\n */\nexport default function filterViewportsWithToolEnabled(\n  viewports: Array<Types.IStackViewport | Types.IVolumeViewport>,\n  toolName: string\n): Array<Types.IStackViewport | Types.IVolumeViewport> {\n  const numViewports = viewports.length;\n\n  const viewportsWithToolEnabled = [];\n\n  for (let vp = 0; vp < numViewports; vp++) {\n    const viewport = viewports[vp];\n\n    const toolGroup = ToolGroupManager.getToolGroupForViewport(\n      viewport.id,\n      viewport.renderingEngineId\n    );\n\n    if (!toolGroup) {\n      continue;\n    }\n\n    const hasTool = _toolGroupHasActiveEnabledOrPassiveTool(\n      toolGroup,\n      toolName\n    );\n\n    if (hasTool) {\n      viewportsWithToolEnabled.push(viewport);\n    }\n  }\n\n  return viewportsWithToolEnabled;\n}\n\n/**\n * Given a toolGroup, return true if it contains the tool with the given `toolName` and it is\n * active, passive or enabled.\n *\n * @param toolGroup - The `toolGroup` to check.\n * @param toolName - The name of the tool.\n *\n * @returns True if the tool is enabled, passive or active in the `toolGroup`.\n */\nfunction _toolGroupHasActiveEnabledOrPassiveTool(\n  toolGroup: IToolGroup,\n  toolName: string\n) {\n  const { toolOptions } = toolGroup;\n  const tool = toolOptions[toolName];\n\n  if (!tool) {\n    return false;\n  }\n\n  const toolMode = tool.mode;\n\n  return toolMode === Active || toolMode === Passive || toolMode === Enabled;\n}\n","import { vec3 } from 'gl-matrix';\n\n/**\n * It filters the viewports that are looking in the same view as the camera\n * It basically checks if the viewPlaneNormal is parallel to the camera viewPlaneNormal\n * @param viewports - Array of viewports to filter\n * @param camera - Camera to compare against\n * @returns - Array of viewports with the same view\n */\nexport function filterViewportsWithParallelNormals(\n  viewports,\n  camera,\n  EPS = 0.999\n) {\n  return viewports.filter((viewport) => {\n    const vpCamera = viewport.getCamera();\n\n    const isParallel =\n      Math.abs(vec3.dot(vpCamera.viewPlaneNormal, camera.viewPlaneNormal)) >\n      EPS;\n\n    return isParallel;\n  });\n}\n\nexport default filterViewportsWithParallelNormals;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport filterViewportsWithFrameOfReferenceUID from './filterViewportsWithFrameOfReferenceUID';\nimport filterViewportsWithToolEnabled from './filterViewportsWithToolEnabled';\nimport filterViewportsWithParallelNormals from './filterViewportsWithParallelNormals';\n\n/**\n * Given a cornerstone3D enabled `element`, and a `toolName`, find all viewportIds\n * looking at the same Frame Of Reference that have the tool with the given `toolName`\n * active, passive or enabled.\n *\n * @param element - The target cornerstone3D enabled element.\n * @param toolName - The string toolName.\n * @param requireParallelNormals - If true, only return viewports that have parallel normals.\n *\n * @returns An array of viewportIds.\n */\nexport default function getViewportIdsWithToolToRender(\n  element: HTMLDivElement,\n  toolName: string,\n  requireParallelNormals = true\n): string[] {\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngine, FrameOfReferenceUID } = enabledElement;\n\n  let viewports = renderingEngine.getViewports();\n\n  viewports = filterViewportsWithFrameOfReferenceUID(\n    viewports,\n    FrameOfReferenceUID\n  );\n  viewports = filterViewportsWithToolEnabled(viewports, toolName);\n\n  const viewport = renderingEngine.getViewport(enabledElement.viewportId);\n\n  if (requireParallelNormals) {\n    viewports = filterViewportsWithParallelNormals(\n      viewports,\n      viewport.getCamera()\n    );\n  }\n\n  const viewportIds = viewports.map((vp) => vp.id);\n\n  return viewportIds;\n}\n","// Pulled from source: https://github.com/w8r/liang-barsky\n// MIT Licensed.\n\n/**\n * Fast, destructive implementation of Liang-Barsky line clipping algorithm.\n * It clips a 2D segment by a rectangle.\n * @author Alexander Milevski <info@w8r.name>\n * @license MIT\n */\n\nconst EPSILON = 1e-6;\nconst INSIDE = 1;\nconst OUTSIDE = 0;\n\nfunction clipT(num, denom, c) {\n  const [tE, tL] = c;\n  if (Math.abs(denom) < EPSILON) {\n    return num < 0;\n  }\n  const t = num / denom;\n\n  if (denom > 0) {\n    if (t > tL) {\n      return 0;\n    }\n    if (t > tE) {\n      c[0] = t;\n    }\n  } else {\n    if (t < tE) {\n      return 0;\n    }\n    if (t < tL) {\n      c[1] = t;\n    }\n  }\n  return 1;\n}\n\n/**\n * @param  {Point} a\n * @param  {Point} b\n * @param  {BoundingBox} box [xmin, ymin, xmax, ymax]\n * @param  {Point?} [da]\n * @param  {Point?} [db]\n * @return {number}\n */\nexport default function clip(a, b, box, da?, db?) {\n  const [x1, y1] = a;\n  const [x2, y2] = b;\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n\n  if (da === undefined || db === undefined) {\n    da = a;\n    db = b;\n  } else {\n    da[0] = a[0];\n    da[1] = a[1];\n    db[0] = b[0];\n    db[1] = b[1];\n  }\n\n  if (\n    Math.abs(dx) < EPSILON &&\n    Math.abs(dy) < EPSILON &&\n    x1 >= box[0] &&\n    x1 <= box[2] &&\n    y1 >= box[1] &&\n    y1 <= box[3]\n  ) {\n    return INSIDE;\n  }\n\n  const c = [0, 1];\n  if (\n    clipT(box[0] - x1, dx, c) &&\n    clipT(x1 - box[2], -dx, c) &&\n    clipT(box[1] - y1, dy, c) &&\n    clipT(y1 - box[3], -dy, c)\n  ) {\n    const [tE, tL] = c;\n    if (tL < 1) {\n      db[0] = x1 + tL * dx;\n      db[1] = y1 + tL * dy;\n    }\n    if (tE > 0) {\n      da[0] += tE * dx;\n      da[1] += tE * dy;\n    }\n    return INSIDE;\n  }\n  return OUTSIDE;\n}\n","import { Types } from '@cornerstonejs/core';\n\nfunction dist2(p1: Types.Point2, p2: Types.Point2): number {\n  return (p1[0] - p2[0]) * (p1[0] - p2[0]) + (p1[1] - p2[1]) * (p1[1] - p2[1]);\n}\n\n/**\n * Calculates the distance-squared of a point to a line\n *\n * @param lineStart - x,y coordinates of the start of the line\n * @param lineEnd - x,y coordinates of the end of the line\n * @param point - x,y of the point\n * @returns distance-squared\n */\nexport default function distanceToPointSquared(\n  lineStart: Types.Point2,\n  lineEnd: Types.Point2,\n  point: Types.Point2\n): number {\n  const d2 = dist2(lineStart, lineEnd);\n\n  if (d2 === 0) {\n    return dist2(point, lineStart);\n  }\n\n  const t =\n    ((point[0] - lineStart[0]) * (lineEnd[0] - lineStart[0]) +\n      (point[1] - lineStart[1]) * (lineEnd[1] - lineStart[1])) /\n    d2;\n\n  if (t < 0) {\n    return dist2(point, lineStart);\n  }\n  if (t > 1) {\n    return dist2(point, lineEnd);\n  }\n\n  const pt: Types.Point2 = [\n    lineStart[0] + t * (lineEnd[0] - lineStart[0]),\n    lineStart[1] + t * (lineEnd[1] - lineStart[1]),\n  ];\n\n  return dist2(point, pt);\n}\n","import distanceToPointSquared from './distanceToPointSquared';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Calculates the distance of a point to a line\n *\n * @param lineStart - x,y coordinates of the start of the line\n * @param lineEnd - x,y coordinates of the end of the line\n * @param point - x,y of the point\n * @returns distance\n */\nexport default function distanceToPoint(\n  lineStart: Types.Point2,\n  lineEnd: Types.Point2,\n  point: Types.Point2\n): number {\n  if (lineStart.length !== 2 || lineEnd.length !== 2 || point.length !== 2) {\n    throw Error(\n      'lineStart, lineEnd, and point should have 2 elements of [x, y]'\n    );\n  }\n\n  return Math.sqrt(distanceToPointSquared(lineStart, lineEnd, point));\n}\n","import type { Types } from '@cornerstonejs/core';\n\n// Returns sign of number\nfunction sign(x: any) {\n  return typeof x === 'number'\n    ? x\n      ? x < 0\n        ? -1\n        : 1\n      : x === x\n      ? 0\n      : NaN\n    : NaN;\n}\n\n/**\n * Calculates the intersection point between two lines in the 2D plane\n *\n * @param line1Start - x,y coordinates of the start of the first line\n * @param line1End - x,y coordinates of the end of the first line\n * @param line2Start - x,y coordinates of the start of the second line\n * @param line2End - x,y coordinates of the end of the second line\n * @returns [x,y] - point x,y of the point\n */\n\nexport default function intersectLine(\n  line1Start: Types.Point2,\n  line1End: Types.Point2,\n  line2Start: Types.Point2,\n  line2End: Types.Point2\n): number[] {\n  const [x1, y1] = line1Start;\n  const [x2, y2] = line1End;\n  const [x3, y3] = line2Start;\n  const [x4, y4] = line2End;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2 is \"a1 x  +  b1 y  +  c1  =  0\"\n  const a1 = y2 - y1;\n  const b1 = x1 - x2;\n  const c1 = x2 * y1 - x1 * y2;\n\n  // Compute r3 and r4\n  const r3 = a1 * x3 + b1 * y3 + c1;\n  const r4 = a1 * x4 + b1 * y4 + c1;\n\n  /* Check signs of r3 and r4.  If both point 3 and point 4 lie on\n   * same side of line 1, the line segments do not intersect.\n   */\n\n  if (r3 !== 0 && r4 !== 0 && sign(r3) === sign(r4)) {\n    return;\n  }\n\n  // Compute a2, b2, c2\n  const a2 = y4 - y3;\n  const b2 = x3 - x4;\n  const c2 = x4 * y3 - x3 * y4;\n\n  // Compute r1 and r2\n  const r1 = a2 * x1 + b2 * y1 + c2;\n  const r2 = a2 * x2 + b2 * y2 + c2;\n\n  /* Check signs of r1 and r2.  If both point 1 and point 2 lie\n   * on same side of second line segment, the line segments do\n   * not intersect.\n   */\n\n  if (r1 !== 0 && r2 !== 0 && sign(r1) === sign(r2)) {\n    return;\n  }\n\n  /* Line segments intersect: compute intersection point.\n   */\n\n  const denom = a1 * b2 - a2 * b1;\n  let num;\n\n  /* The denom/2 is to get rounding instead of truncating.  It\n   * is added or subtracted to the numerator, depending upon the\n   * sign of the numerator.\n   */\n\n  num = b1 * c2 - b2 * c1;\n  const x = num / denom;\n\n  num = a2 * c1 - a1 * c2;\n  const y = num / denom;\n\n  const intersectionPoint = [x, y];\n\n  return intersectionPoint;\n}\n","import { vec2, vec3 } from 'gl-matrix';\nimport vtkMath from '@kitware/vtk.js/Common/Core/Math';\nimport vtkMatrixBuilder from '@kitware/vtk.js/Common/Core/MatrixBuilder';\n\nimport { AnnotationTool } from './base';\n\nimport {\n  getEnabledElementByIds,\n  getEnabledElement,\n  utilities as csUtils,\n  Enums,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  getToolGroup,\n  getToolGroupForViewport,\n} from '../store/ToolGroupManager';\n\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../stateManagement/annotation/annotationState';\n\nimport {\n  drawCircle as drawCircleSvg,\n  drawHandles as drawHandlesSvg,\n  drawLine as drawLineSvg,\n} from '../drawingSvg';\nimport { state } from '../store';\nimport { Events } from '../enums';\nimport { getViewportIdsWithToolToRender } from '../utilities/viewportFilters';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../cursors/elementCursor';\nimport liangBarksyClip from '../utilities/math/vec2/liangBarksyClip';\n\nimport * as lineSegment from '../utilities/math/line';\nimport {\n  Annotation,\n  Annotations,\n  EventTypes,\n  ToolHandle,\n  PublicToolProps,\n  ToolProps,\n  InteractionTypes,\n  SVGDrawingHelper,\n} from '../types';\nimport { isAnnotationLocked } from '../stateManagement/annotation/annotationLocking';\nimport triggerAnnotationRenderForViewportIds from '../utilities/triggerAnnotationRenderForViewportIds';\nimport { CONSTANTS } from '@cornerstonejs/core';\n\nconst { RENDERING_DEFAULTS } = CONSTANTS;\n\n// TODO: nested config is weird\ninterface ToolConfiguration {\n  configuration?: {\n    getReferenceLineColor?: (viewportId: string) => string;\n    getReferenceLineControllable?: (viewportId: string) => boolean;\n    getReferenceLineDraggableRotatable?: (viewportId: string) => boolean;\n    getReferenceLineSlabThicknessControlsOn?: (viewportId: string) => boolean;\n    referenceLinesCenterGapRadius?: number;\n    shadow?: boolean;\n    autopan?: {\n      enabled: boolean;\n      panSize: number;\n    };\n    mobile?: {\n      enabled: boolean;\n      opacity: number;\n      handleRadius: number;\n    };\n  };\n}\n\ninterface CrosshairsAnnotation extends Annotation {\n  data: {\n    handles: {\n      rotationPoints: any[]; // rotation handles, used for rotation interactions\n      slabThicknessPoints: any[]; // slab thickness handles, used for setting the slab thickness\n      activeOperation: number | null; // 0 translation, 1 rotation handles, 2 slab thickness handles\n      toolCenter: Types.Point3;\n    };\n    activeViewportIds: string[]; // a list of the viewport ids connected to the reference lines being translated\n    viewportId: string;\n  };\n}\n\nfunction defaultReferenceLineColor() {\n  return 'rgb(0, 200, 0)';\n}\n\nfunction defaultReferenceLineControllable() {\n  return true;\n}\n\nfunction defaultReferenceLineDraggableRotatable() {\n  return true;\n}\n\nfunction defaultReferenceLineSlabThicknessControlsOn() {\n  return true;\n}\n\nconst OPERATION = {\n  DRAG: 1,\n  ROTATE: 2,\n  SLAB: 3,\n};\n\nconst EPSILON = 1e-3;\n\n/**\n * CrosshairsTool is a tool that provides reference lines between different viewports\n * of a toolGroup. Using crosshairs, you can jump to a specific location in one\n * viewport and the rest of the viewports in the toolGroup will be aligned to that location.\n * Crosshairs have grababble handles that can be used to rotate and translate the\n * reference lines. They can also be used to set the slab thickness of the viewports\n * by modifying the slab thickness handles.\n *\n */\nclass CrosshairsTool extends AnnotationTool {\n  static toolName;\n\n  toolCenter: Types.Point3 = [0, 0, 0]; // NOTE: it is assumed that all the active/linked viewports share the same crosshair center.\n  // This because the rotation operation rotates also all the other active/intersecting reference lines of the same angle\n  _getReferenceLineColor?: (viewportId: string) => string;\n  _getReferenceLineControllable?: (viewportId: string) => boolean;\n  _getReferenceLineDraggableRotatable?: (viewportId: string) => boolean;\n  _getReferenceLineSlabThicknessControlsOn?: (viewportId: string) => boolean;\n  editData: {\n    annotation: any;\n  } | null;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse'],\n      configuration: {\n        shadow: true,\n        // renders a colored circle on top right of the viewports whose color\n        // matches the color of the reference line\n        viewportIndicators: true,\n        // Auto pan is a configuration which will update pan\n        // other viewports in the toolGroup if the center of the crosshairs\n        // is outside of the viewport. This might be useful for the case\n        // when the user is scrolling through an image (usually in the zoomed view)\n        // and the crosshairs will eventually get outside of the viewport for\n        // the other viewports.\n        autoPan: {\n          enabled: false,\n          panSize: 10,\n        },\n        // radius of the area around the intersection of the planes, in which\n        // the reference lines will not be rendered. This is only used when\n        // having 3 viewports in the toolGroup.\n        referenceLinesCenterGapRadius: 20,\n        // actorUIDs for slabThickness application, if not defined, the slab thickness\n        // will be applied to all actors of the viewport\n        filterActorUIDsToSetSlabThickness: [],\n        // blend mode for slabThickness modifications\n        slabThicknessBlendMode: Enums.BlendModes.MAXIMUM_INTENSITY_BLEND,\n        mobile: {\n          enabled: false,\n          opacity: 0.8,\n          handleRadius: 9,\n        },\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._getReferenceLineColor =\n      toolProps.configuration?.getReferenceLineColor ||\n      defaultReferenceLineColor;\n    this._getReferenceLineControllable =\n      toolProps.configuration?.getReferenceLineControllable ||\n      defaultReferenceLineControllable;\n    this._getReferenceLineDraggableRotatable =\n      toolProps.configuration?.getReferenceLineDraggableRotatable ||\n      defaultReferenceLineDraggableRotatable;\n    this._getReferenceLineSlabThicknessControlsOn =\n      toolProps.configuration?.getReferenceLineSlabThicknessControlsOn ||\n      defaultReferenceLineSlabThicknessControlsOn;\n  }\n\n  /**\n   * Gets the camera from the viewport, and adds crosshairs annotation for the viewport\n   * to the annotationManager. If any annotation is found in the annotationManager, it\n   * overwrites it.\n   * @param viewportInfo - The viewportInfo for the viewport to add the crosshairs\n   * @returns viewPlaneNormal and center of viewport canvas in world space\n   */\n  initializeViewport = ({\n    renderingEngineId,\n    viewportId,\n  }: Types.IViewportId): {\n    normal: Types.Point3;\n    point: Types.Point3;\n  } => {\n    const enabledElement = getEnabledElementByIds(\n      viewportId,\n      renderingEngineId\n    );\n    const { FrameOfReferenceUID, viewport } = enabledElement;\n    const { element } = viewport;\n    const { position, focalPoint, viewPlaneNormal } = viewport.getCamera();\n\n    // Check if there is already annotation for this viewport\n    let annotations = this._getAnnotations(enabledElement);\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (annotations.length) {\n      // If found, it will override it by removing the annotation and adding it later\n      removeAnnotation(annotations[0].annotationUID);\n    }\n\n    const annotation = {\n      highlighted: false,\n      metadata: {\n        cameraPosition: <Types.Point3>[...position],\n        cameraFocalPoint: <Types.Point3>[...focalPoint],\n        FrameOfReferenceUID,\n        toolName: this.getToolName(),\n      },\n      data: {\n        handles: {\n          rotationPoints: [], // rotation handles, used for rotation interactions\n          slabThicknessPoints: [], // slab thickness handles, used for setting the slab thickness\n          toolCenter: this.toolCenter,\n        },\n        activeOperation: null, // 0 translation, 1 rotation handles, 2 slab thickness handles\n        activeViewportIds: [], // a list of the viewport ids connected to the reference lines being translated\n        viewportId,\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    return {\n      normal: viewPlaneNormal,\n      point: viewport.canvasToWorld([\n        viewport.canvas.clientWidth / 2,\n        viewport.canvas.clientHeight / 2,\n      ]),\n    };\n  };\n\n  _getViewportsInfo = () => {\n    const viewports = getToolGroup(this.toolGroupId).viewportsInfo;\n\n    return viewports;\n  };\n\n  onSetToolActive() {\n    const viewportsInfo = this._getViewportsInfo();\n\n    // Upon new setVolumes on viewports we need to update the crosshairs\n    // reference points in the new space, so we subscribe to the event\n    // and update the reference points accordingly.\n    this._unsubscribeToViewportNewVolumeSet(viewportsInfo);\n    this._subscribeToViewportNewVolumeSet(viewportsInfo);\n\n    this.computeToolCenter(viewportsInfo);\n  }\n\n  onSetToolPassive() {\n    const viewportsInfo = this._getViewportsInfo();\n\n    this.computeToolCenter(viewportsInfo);\n  }\n\n  onSetToolEnabled() {\n    const viewportsInfo = this._getViewportsInfo();\n\n    this.computeToolCenter(viewportsInfo);\n  }\n\n  onSetToolDisabled() {\n    const viewportsInfo = this._getViewportsInfo();\n\n    this._unsubscribeToViewportNewVolumeSet(viewportsInfo);\n\n    // Crosshairs annotations in the state\n    // has no value when the tool is disabled\n    // since viewports can change (zoom, pan, scroll)\n    // between disabled and enabled/active states.\n    // so we just remove the annotations from the state\n    viewportsInfo.forEach(({ renderingEngineId, viewportId }) => {\n      const enabledElement = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n\n      if (!enabledElement) {\n        return;\n      }\n\n      const annotations = this._getAnnotations(enabledElement);\n\n      if (annotations?.length) {\n        annotations.forEach((annotation) => {\n          removeAnnotation(annotation.annotationUID);\n        });\n      }\n    });\n  }\n\n  /**\n   * When activated, it initializes the crosshairs. It begins by computing\n   * the intersection of viewports associated with the crosshairs instance.\n   * When all three views are accessible, the intersection (e.g., crosshairs tool centre)\n   * will be an exact point in space; however, with two viewports, because the\n   * intersection of two planes is a line, it assumes the last view is between the centre\n   * of the two rendering viewports.\n   * @param viewportsInfo Array of viewportInputs which each item containing {viewportId, renderingEngineId}\n   */\n  computeToolCenter = (viewportsInfo): void => {\n    if (!viewportsInfo.length || viewportsInfo.length === 1) {\n      throw new Error(\n        'For crosshairs to operate, at least two viewports must be given.'\n      );\n    }\n\n    // Todo: handle two same view viewport, or more than 3 viewports\n    const [firstViewport, secondViewport, thirdViewport] = viewportsInfo;\n\n    // Initialize first viewport\n    const { normal: normal1, point: point1 } =\n      this.initializeViewport(firstViewport);\n\n    // Initialize second viewport\n    const { normal: normal2, point: point2 } =\n      this.initializeViewport(secondViewport);\n\n    let normal3 = <Types.Point3>[0, 0, 0];\n    let point3 = vec3.create();\n\n    // If there are three viewports\n    if (thirdViewport) {\n      ({ normal: normal3, point: point3 } =\n        this.initializeViewport(thirdViewport));\n    } else {\n      // If there are only two views (viewport) associated with the crosshairs:\n      // In this situation, we don't have a third information to find the\n      // exact intersection, and we \"assume\" the third view is looking at\n      // a location in between the first and second view centers\n      vec3.add(point3, point1, point2);\n      vec3.scale(point3, point3, 0.5);\n      vec3.cross(normal3, normal1, normal2);\n    }\n\n    // Planes of each viewport\n    const firstPlane = csUtils.planar.planeEquation(normal1, point1);\n    const secondPlane = csUtils.planar.planeEquation(normal2, point2);\n    const thirdPlane = csUtils.planar.planeEquation(normal3, point3);\n\n    // Calculating the intersection of 3 planes\n    // prettier-ignore\n    this.toolCenter = csUtils.planar.threePlaneIntersection(firstPlane, secondPlane, thirdPlane)\n\n    // assuming all viewports are in the same rendering engine\n    const { renderingEngine } = getEnabledElementByIds(\n      viewportsInfo[0].viewportId,\n      viewportsInfo[0].renderingEngineId\n    );\n\n    triggerAnnotationRenderForViewportIds(\n      renderingEngine,\n      viewportsInfo.map(({ viewportId }) => viewportId)\n    );\n  };\n\n  /**\n   * addNewAnnotation acts as jump for the crosshairs tool. It is called when\n   * the user clicks on the image. It does not store the annotation in the stateManager though.\n   *\n   * @param evt - The mouse event\n   * @param interactionType - The type of interaction (e.g., mouse, touch, etc.)\n   * @returns Crosshairs annotation\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): CrosshairsAnnotation => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { currentPoints } = eventDetail;\n    const jumpWorld = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    this._jump(enabledElement, jumpWorld);\n\n    const annotations = this._getAnnotations(enabledElement);\n    const filteredAnnotations = this.filterInteractableAnnotationsForElement(\n      viewport.element,\n      annotations\n    );\n\n    // viewport Annotation\n    const { data } = filteredAnnotations[0];\n\n    const { rotationPoints } = data.handles;\n    const viewportIdArray = [];\n    // put all the draggable reference lines in the viewportIdArray\n    for (let i = 0; i < rotationPoints.length - 1; ++i) {\n      const otherViewport = rotationPoints[i][1];\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      const viewportDraggableRotatable =\n        this._getReferenceLineDraggableRotatable(otherViewport.id);\n      if (!viewportControllable || !viewportDraggableRotatable) {\n        continue;\n      }\n      viewportIdArray.push(otherViewport.id);\n      // rotation handles are two per viewport\n      i++;\n    }\n\n    data.activeViewportIds = [...viewportIdArray];\n    // set translation operation\n    data.handles.activeOperation = OPERATION.DRAG;\n\n    evt.preventDefault();\n\n    hideElementCursor(element);\n\n    this._activateModify(element);\n    return filteredAnnotations[0];\n  };\n\n  cancel = () => {\n    console.log('Not implemented yet');\n  };\n\n  /**\n   * It checks if the mouse click is near crosshairs handles, if yes\n   * it returns the handle location. If the mouse click is not near any\n   * of the handles, it does not return anything.\n   *\n   * @param element - The element that the tool is attached to.\n   * @param annotation - The annotation object associated with the annotation\n   * @param canvasCoords - The coordinates of the mouse click on canvas\n   * @param proximity - The distance from the mouse cursor to the point\n   * that is considered \"near\".\n   * @returns The handle that is closest to the cursor, or null if the cursor\n   * is not near any of the handles.\n   */\n  getHandleNearImagePoint(\n    element: HTMLDivElement,\n    annotation: Annotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): ToolHandle | undefined {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    let point = this._getRotationHandleNearImagePoint(\n      viewport,\n      annotation,\n      canvasCoords,\n      proximity\n    );\n\n    if (point !== null) {\n      return point;\n    }\n\n    point = this._getSlabThicknessHandleNearImagePoint(\n      viewport,\n      annotation,\n      canvasCoords,\n      proximity\n    );\n\n    if (point !== null) {\n      return point;\n    }\n  }\n\n  handleSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: Annotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    annotation.highlighted = true;\n\n    // NOTE: handle index or coordinates are not used when dragging.\n    // This because the handle points are actually generated in the renderTool and they are a derivative\n    // from the camera variables of the viewports and of the slab thickness variable.\n    // Remember that the translation and rotation operations operate on the camera\n    // variables and not really on the handles. Similar for the slab thickness.\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n  };\n\n  /**\n   * It returns if the canvas point is near the provided crosshairs annotation in the\n   * provided element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: CrosshairsAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    if (this._pointNearTool(element, annotation, canvasCoords, 6)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: Annotation,\n    interactionType: InteractionTypes\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    annotation.highlighted = true;\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n  };\n\n  onCameraModified = (evt) => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n    const viewport = enabledElement.viewport as Types.IVolumeViewport;\n\n    const annotations = this._getAnnotations(enabledElement);\n    const filteredToolAnnotations =\n      this.filterInteractableAnnotationsForElement(element, annotations);\n\n    // viewport that the camera modified is originating from\n    const viewportAnnotation =\n      filteredToolAnnotations[0] as CrosshairsAnnotation;\n\n    if (!viewportAnnotation) {\n      return;\n    }\n\n    // -- Update the camera of other linked viewports containing the same volumeId that\n    //    have the same camera in case of translation\n    // -- Update the crosshair center in world coordinates in annotation.\n    // This is necessary because other tools can modify the position of the slices,\n    // e.g. stackScroll tool at wheel scroll. So we update the coordinates of the center always here.\n    // NOTE: rotation and slab thickness handles are created/updated in renderTool.\n    const currentCamera = viewport.getCamera();\n    const oldCameraPosition = viewportAnnotation.metadata.cameraPosition;\n    const deltaCameraPosition: Types.Point3 = [0, 0, 0];\n    vtkMath.subtract(\n      currentCamera.position,\n      oldCameraPosition,\n      deltaCameraPosition\n    );\n\n    const oldCameraFocalPoint = viewportAnnotation.metadata.cameraFocalPoint;\n    const deltaCameraFocalPoint: Types.Point3 = [0, 0, 0];\n    vtkMath.subtract(\n      currentCamera.focalPoint,\n      oldCameraFocalPoint,\n      deltaCameraFocalPoint\n    );\n\n    // updated cached \"previous\" camera position and focal point\n    viewportAnnotation.metadata.cameraPosition = [...currentCamera.position];\n    viewportAnnotation.metadata.cameraFocalPoint = [\n      ...currentCamera.focalPoint,\n    ];\n\n    const viewportControllable = this._getReferenceLineControllable(\n      viewport.id\n    );\n    const viewportDraggableRotatable = this._getReferenceLineDraggableRotatable(\n      viewport.id\n    );\n    if (\n      !csUtils.isEqual(currentCamera.position, oldCameraPosition, 1e-3) &&\n      viewportControllable &&\n      viewportDraggableRotatable\n    ) {\n      // Is camera Modified a TRANSLATION or ROTATION?\n      let isRotation = false;\n\n      // This is guaranteed to be the same diff for both position and focal point\n      // if the camera is modified by pan, zoom, or scroll BUT for rotation of\n      // crosshairs handles it will be different.\n      const cameraModifiedSameForPosAndFocalPoint = csUtils.isEqual(\n        deltaCameraPosition,\n        deltaCameraFocalPoint,\n        1e-3\n      );\n\n      // NOTE: it is a translation if the the focal point and camera position shifts are the same\n      if (!cameraModifiedSameForPosAndFocalPoint) {\n        isRotation = true;\n      }\n\n      const cameraModifiedInPlane =\n        Math.abs(\n          vtkMath.dot(deltaCameraPosition, currentCamera.viewPlaneNormal)\n        ) < 1e-2;\n\n      // TRANSLATION\n      // NOTE1: if the camera modified is a result of a pan or zoom don't update the crosshair center\n      // NOTE2: rotation handles are updates in renderTool\n      if (!isRotation && !cameraModifiedInPlane) {\n        this.toolCenter[0] += deltaCameraPosition[0];\n        this.toolCenter[1] += deltaCameraPosition[1];\n        this.toolCenter[2] += deltaCameraPosition[2];\n      }\n    }\n\n    // AutoPan modification\n    if (this.configuration.autoPan?.enabled) {\n      const toolGroup = getToolGroupForViewport(\n        viewport.id,\n        renderingEngine.id\n      );\n\n      const otherViewportIds = toolGroup\n        .getViewportIds()\n        .filter((id) => id !== viewport.id);\n\n      otherViewportIds.forEach((viewportId) => {\n        this._autoPanViewportIfNecessary(viewportId, renderingEngine);\n      });\n    }\n\n    const requireSameOrientation = false;\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName(),\n      requireSameOrientation\n    );\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  mouseMoveCallback = (\n    evt: EventTypes.MouseMoveEventType,\n    filteredToolAnnotations: Annotations\n  ): boolean => {\n    const { element, currentPoints } = evt.detail;\n    const canvasCoords = currentPoints.canvas;\n    let imageNeedsUpdate = false;\n\n    for (let i = 0; i < filteredToolAnnotations.length; i++) {\n      const annotation = filteredToolAnnotations[i] as CrosshairsAnnotation;\n\n      if (isAnnotationLocked(annotation)) {\n        continue;\n      }\n\n      const { data, highlighted } = annotation;\n      if (!data.handles) {\n        continue;\n      }\n\n      const previousActiveOperation = data.handles.activeOperation;\n      const previousActiveViewportIds =\n        data.activeViewportIds && data.activeViewportIds.length > 0\n          ? [...data.activeViewportIds]\n          : [];\n\n      // This init are necessary, because when we move the mouse they are not cleaned by _endCallback\n      data.activeViewportIds = [];\n      data.handles.activeOperation = null;\n\n      const handleNearImagePoint = this.getHandleNearImagePoint(\n        element,\n        annotation,\n        canvasCoords,\n        6\n      );\n\n      let near = false;\n      if (handleNearImagePoint) {\n        near = true;\n      } else {\n        near = this._pointNearTool(element, annotation, canvasCoords, 6);\n      }\n\n      const nearToolAndNotMarkedActive = near && !highlighted;\n      const notNearToolAndMarkedActive = !near && highlighted;\n      if (nearToolAndNotMarkedActive || notNearToolAndMarkedActive) {\n        annotation.highlighted = !highlighted;\n        imageNeedsUpdate = true;\n      } else if (\n        data.handles.activeOperation !== previousActiveOperation ||\n        !this._areViewportIdArraysEqual(\n          data.activeViewportIds,\n          previousActiveViewportIds\n        )\n      ) {\n        imageNeedsUpdate = true;\n      }\n    }\n\n    return imageNeedsUpdate;\n  };\n\n  filterInteractableAnnotationsForElement = (element, annotations) => {\n    if (!annotations || !annotations.length) {\n      return [];\n    }\n\n    const enabledElement = getEnabledElement(element);\n    const { viewportId } = enabledElement;\n\n    const viewportUIDSpecificCrosshairs = annotations.filter(\n      (annotation) => annotation.data.viewportId === viewportId\n    );\n\n    return viewportUIDSpecificCrosshairs;\n  };\n\n  /**\n   * renders the crosshairs lines and handles in the requestAnimationFrame callback\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport, renderingEngine } = enabledElement;\n    const { element } = viewport;\n    const annotations = this._getAnnotations(enabledElement);\n    const camera = viewport.getCamera();\n    const filteredToolAnnotations =\n      this.filterInteractableAnnotationsForElement(element, annotations);\n\n    // viewport Annotation\n    const viewportAnnotation = filteredToolAnnotations[0];\n    if (!annotations?.length || !viewportAnnotation?.data) {\n      // No annotations yet, and didn't just create it as we likely don't have a FrameOfReference/any data loaded yet.\n      return renderStatus;\n    }\n\n    const annotationUID = viewportAnnotation.annotationUID;\n\n    // Get cameras/canvases for each of these.\n    // -- Get two world positions for this canvas in this line (e.g. the diagonal)\n    // -- Convert these world positions to this canvas.\n    // -- Extend/confine this line to fit in this canvas.\n    // -- Render this line.\n    const { clientWidth, clientHeight } = viewport.canvas;\n    const canvasDiagonalLength = Math.sqrt(\n      clientWidth * clientWidth + clientHeight * clientHeight\n    );\n    const canvasMinDimensionLength = Math.min(clientWidth, clientHeight);\n\n    const data = viewportAnnotation.data;\n    const crosshairCenterCanvas = viewport.worldToCanvas(this.toolCenter);\n\n    const otherViewportAnnotations =\n      this._filterAnnotationsByUniqueViewportOrientations(\n        enabledElement,\n        annotations\n      );\n\n    const referenceLines = [];\n\n    // get canvas information for points and lines (canvas box, canvas horizontal distances)\n    const canvasBox = [0, 0, clientWidth, clientHeight];\n\n    otherViewportAnnotations.forEach((annotation) => {\n      const { data } = annotation;\n\n      data.handles.toolCenter = this.toolCenter;\n\n      const otherViewport = renderingEngine.getViewport(\n        data.viewportId\n      ) as Types.IVolumeViewport;\n\n      const otherCamera = otherViewport.getCamera();\n\n      const otherViewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      const otherViewportDraggableRotatable =\n        this._getReferenceLineDraggableRotatable(otherViewport.id);\n      const otherViewportSlabThicknessControlsOn =\n        this._getReferenceLineSlabThicknessControlsOn(otherViewport.id);\n\n      // get coordinates for the reference line\n      const { clientWidth, clientHeight } = otherViewport.canvas;\n      const otherCanvasDiagonalLength = Math.sqrt(\n        clientWidth * clientWidth + clientHeight * clientHeight\n      );\n      const otherCanvasCenter: Types.Point2 = [\n        clientWidth * 0.5,\n        clientHeight * 0.5,\n      ];\n      const otherViewportCenterWorld =\n        otherViewport.canvasToWorld(otherCanvasCenter);\n\n      const direction: Types.Point3 = [0, 0, 0];\n      vtkMath.cross(\n        camera.viewPlaneNormal,\n        otherCamera.viewPlaneNormal,\n        direction\n      );\n      vtkMath.normalize(direction);\n      vtkMath.multiplyScalar(\n        <Types.Point3>direction,\n        otherCanvasDiagonalLength\n      );\n\n      const pointWorld0: Types.Point3 = [0, 0, 0];\n      vtkMath.add(otherViewportCenterWorld, direction, pointWorld0);\n\n      const pointWorld1: Types.Point3 = [0, 0, 0];\n      vtkMath.subtract(otherViewportCenterWorld, direction, pointWorld1);\n\n      const pointCanvas0 = viewport.worldToCanvas(pointWorld0);\n\n      const otherViewportCenterCanvas = viewport.worldToCanvas(\n        otherViewportCenterWorld\n      );\n\n      const canvasUnitVectorFromCenter = vec2.create();\n      vec2.subtract(\n        canvasUnitVectorFromCenter,\n        pointCanvas0,\n        otherViewportCenterCanvas\n      );\n      vec2.normalize(canvasUnitVectorFromCenter, canvasUnitVectorFromCenter);\n\n      // Graphic:\n      // Mid -> SlabThickness handle\n      // Short -> Rotation handle\n      //                           Long\n      //                            |\n      //                            |\n      //                            |\n      //                           Mid\n      //                            |\n      //                            |\n      //                            |\n      //                          Short\n      //                            |\n      //                            |\n      //                            |\n      // Long --- Mid--- Short--- Center --- Short --- Mid --- Long\n      //                            |\n      //                            |\n      //                            |\n      //                          Short\n      //                            |\n      //                            |\n      //                            |\n      //                           Mid\n      //                            |\n      //                            |\n      //                            |\n      //                           Long\n      const canvasVectorFromCenterLong = vec2.create();\n\n      vec2.scale(\n        canvasVectorFromCenterLong,\n        canvasUnitVectorFromCenter,\n        canvasDiagonalLength * 100\n      );\n      const canvasVectorFromCenterMid = vec2.create();\n      vec2.scale(\n        canvasVectorFromCenterMid,\n        canvasUnitVectorFromCenter,\n        // to maximize the visibility of the controls, they need to be\n        // placed at most at half the length of the shortest side of the canvas.\n        // Chosen 0.4 to have some margin to the edge.\n        canvasMinDimensionLength * 0.4\n      );\n      const canvasVectorFromCenterShort = vec2.create();\n      vec2.scale(\n        canvasVectorFromCenterShort,\n        canvasUnitVectorFromCenter,\n        // Chosen 0.2 because is half of 0.4.\n        canvasMinDimensionLength * 0.2\n      );\n      const canvasVectorFromCenterStart = vec2.create();\n      const centerGap = this.configuration.referenceLinesCenterGapRadius;\n      vec2.scale(\n        canvasVectorFromCenterStart,\n        canvasUnitVectorFromCenter,\n        // Don't put a gap if the the third view is missing\n        otherViewportAnnotations.length === 2 ? centerGap : 0\n      );\n\n      // Computing Reference start and end (4 lines per viewport in case of 3 view MPR)\n      const refLinePointOne = vec2.create();\n      const refLinePointTwo = vec2.create();\n      const refLinePointThree = vec2.create();\n      const refLinePointFour = vec2.create();\n\n      let refLinesCenter = vec2.clone(crosshairCenterCanvas);\n      if (!otherViewportDraggableRotatable || !otherViewportControllable) {\n        refLinesCenter = vec2.clone(otherViewportCenterCanvas);\n      }\n\n      vec2.add(refLinePointOne, refLinesCenter, canvasVectorFromCenterStart);\n      vec2.add(refLinePointTwo, refLinesCenter, canvasVectorFromCenterLong);\n      vec2.subtract(\n        refLinePointThree,\n        refLinesCenter,\n        canvasVectorFromCenterStart\n      );\n      vec2.subtract(\n        refLinePointFour,\n        refLinesCenter,\n        canvasVectorFromCenterLong\n      );\n\n      // Clipping lines to be only included in a box (canvas), we don't want\n      // the lines goes beyond canvas\n      liangBarksyClip(refLinePointOne, refLinePointTwo, canvasBox);\n      liangBarksyClip(refLinePointThree, refLinePointFour, canvasBox);\n\n      // Computing rotation handle positions\n      const rotHandleOne = vec2.create();\n      vec2.subtract(\n        rotHandleOne,\n        crosshairCenterCanvas,\n        canvasVectorFromCenterMid\n      );\n\n      const rotHandleTwo = vec2.create();\n      vec2.add(rotHandleTwo, crosshairCenterCanvas, canvasVectorFromCenterMid);\n\n      // Computing SlabThickness (st below) position\n\n      // SlabThickness center in canvas\n      let stHandlesCenterCanvas = vec2.clone(crosshairCenterCanvas);\n      if (\n        !otherViewportDraggableRotatable &&\n        otherViewportSlabThicknessControlsOn\n      ) {\n        stHandlesCenterCanvas = vec2.clone(otherViewportCenterCanvas);\n      }\n\n      // SlabThickness center in world\n      let stHandlesCenterWorld: Types.Point3 = [...this.toolCenter];\n      if (\n        !otherViewportDraggableRotatable &&\n        otherViewportSlabThicknessControlsOn\n      ) {\n        stHandlesCenterWorld = [...otherViewportCenterWorld];\n      }\n\n      const worldUnitVectorFromCenter: Types.Point3 = [0, 0, 0];\n      vtkMath.subtract(pointWorld0, pointWorld1, worldUnitVectorFromCenter);\n      vtkMath.normalize(worldUnitVectorFromCenter);\n\n      const { viewPlaneNormal } = camera;\n      // @ts-ignore // Todo: fix after vtk pr merged\n      const { matrix } = vtkMatrixBuilder\n        .buildFromDegree()\n        // @ts-ignore fix after vtk pr merged\n        .rotate(90, viewPlaneNormal);\n\n      const worldUnitOrthoVectorFromCenter: Types.Point3 = [0, 0, 0];\n      vec3.transformMat4(\n        worldUnitOrthoVectorFromCenter,\n        worldUnitVectorFromCenter,\n        matrix\n      );\n\n      const slabThicknessValue = otherViewport.getSlabThickness();\n      const worldOrthoVectorFromCenter: Types.Point3 = [\n        ...worldUnitOrthoVectorFromCenter,\n      ];\n      vtkMath.multiplyScalar(worldOrthoVectorFromCenter, slabThicknessValue);\n\n      const worldVerticalRefPoint: Types.Point3 = [0, 0, 0];\n      vtkMath.add(\n        stHandlesCenterWorld,\n        worldOrthoVectorFromCenter,\n        worldVerticalRefPoint\n      );\n\n      // convert vertical world distances in canvas coordinates\n      const canvasVerticalRefPoint = viewport.worldToCanvas(\n        worldVerticalRefPoint\n      );\n\n      // points for slab thickness lines\n      const canvasOrthoVectorFromCenter = vec2.create();\n      vec2.subtract(\n        canvasOrthoVectorFromCenter,\n        stHandlesCenterCanvas,\n        canvasVerticalRefPoint\n      );\n\n      const stLinePointOne = vec2.create();\n      vec2.subtract(\n        stLinePointOne,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterLong\n      );\n      vec2.add(stLinePointOne, stLinePointOne, canvasOrthoVectorFromCenter);\n\n      const stLinePointTwo = vec2.create();\n      vec2.add(\n        stLinePointTwo,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterLong\n      );\n      vec2.add(stLinePointTwo, stLinePointTwo, canvasOrthoVectorFromCenter);\n\n      liangBarksyClip(stLinePointOne, stLinePointTwo, canvasBox);\n\n      const stLinePointThree = vec2.create();\n      vec2.add(\n        stLinePointThree,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterLong\n      );\n      vec2.subtract(\n        stLinePointThree,\n        stLinePointThree,\n        canvasOrthoVectorFromCenter\n      );\n\n      const stLinePointFour = vec2.create();\n      vec2.subtract(\n        stLinePointFour,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterLong\n      );\n      vec2.subtract(\n        stLinePointFour,\n        stLinePointFour,\n        canvasOrthoVectorFromCenter\n      );\n\n      liangBarksyClip(stLinePointThree, stLinePointFour, canvasBox);\n\n      // points for slab thickness handles\n      const stHandleOne = vec2.create();\n      const stHandleTwo = vec2.create();\n      const stHandleThree = vec2.create();\n      const stHandleFour = vec2.create();\n\n      vec2.subtract(\n        stHandleOne,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterShort\n      );\n      vec2.add(stHandleOne, stHandleOne, canvasOrthoVectorFromCenter);\n      vec2.add(stHandleTwo, stHandlesCenterCanvas, canvasVectorFromCenterShort);\n      vec2.add(stHandleTwo, stHandleTwo, canvasOrthoVectorFromCenter);\n      vec2.subtract(\n        stHandleThree,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterShort\n      );\n      vec2.subtract(stHandleThree, stHandleThree, canvasOrthoVectorFromCenter);\n      vec2.add(\n        stHandleFour,\n        stHandlesCenterCanvas,\n        canvasVectorFromCenterShort\n      );\n      vec2.subtract(stHandleFour, stHandleFour, canvasOrthoVectorFromCenter);\n\n      referenceLines.push([\n        otherViewport,\n        refLinePointOne,\n        refLinePointTwo,\n        refLinePointThree,\n        refLinePointFour,\n        stLinePointOne,\n        stLinePointTwo,\n        stLinePointThree,\n        stLinePointFour,\n        rotHandleOne,\n        rotHandleTwo,\n        stHandleOne,\n        stHandleTwo,\n        stHandleThree,\n        stHandleFour,\n      ]);\n    });\n\n    const newRtpoints = [];\n    const newStpoints = [];\n    const viewportColor = this._getReferenceLineColor(viewport.id);\n    const color =\n      viewportColor !== undefined ? viewportColor : 'rgb(200, 200, 200)';\n\n    referenceLines.forEach((line, lineIndex) => {\n      // get color for the reference line\n      const otherViewport = line[0];\n      const viewportColor = this._getReferenceLineColor(otherViewport.id);\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      const viewportDraggableRotatable =\n        this._getReferenceLineDraggableRotatable(otherViewport.id) ||\n        this.configuration.mobile?.enabled;\n      const viewportSlabThicknessControlsOn =\n        this._getReferenceLineSlabThicknessControlsOn(otherViewport.id) ||\n        this.configuration.mobile?.enabled;\n      const selectedViewportId = data.activeViewportIds.find(\n        (id) => id === otherViewport.id\n      );\n\n      let color =\n        viewportColor !== undefined ? viewportColor : 'rgb(200, 200, 200)';\n\n      let lineWidth = 1;\n\n      const lineActive =\n        data.handles.activeOperation !== null &&\n        data.handles.activeOperation === OPERATION.DRAG &&\n        selectedViewportId;\n\n      if (lineActive) {\n        lineWidth = 2.5;\n      }\n\n      let lineUID = `${lineIndex}`;\n      if (viewportControllable && viewportDraggableRotatable) {\n        lineUID = `${lineIndex}One`;\n        drawLineSvg(\n          svgDrawingHelper,\n          annotationUID,\n          lineUID,\n          line[1],\n          line[2],\n          {\n            color,\n            lineWidth,\n          }\n        );\n\n        lineUID = `${lineIndex}Two`;\n        drawLineSvg(\n          svgDrawingHelper,\n          annotationUID,\n          lineUID,\n          line[3],\n          line[4],\n          {\n            color,\n            lineWidth,\n          }\n        );\n      } else {\n        drawLineSvg(\n          svgDrawingHelper,\n          annotationUID,\n          lineUID,\n          line[2],\n          line[4],\n          {\n            color,\n            lineWidth,\n          }\n        );\n      }\n\n      if (viewportControllable) {\n        color =\n          viewportColor !== undefined ? viewportColor : 'rgb(200, 200, 200)';\n\n        const rotHandlesActive =\n          data.handles.activeOperation === OPERATION.ROTATE;\n        const rotationHandles = [line[9], line[10]];\n\n        const rotHandleWorldOne = [\n          viewport.canvasToWorld(line[9]),\n          otherViewport,\n          line[1],\n          line[2],\n        ];\n        const rotHandleWorldTwo = [\n          viewport.canvasToWorld(line[10]),\n          otherViewport,\n          line[3],\n          line[4],\n        ];\n        newRtpoints.push(rotHandleWorldOne, rotHandleWorldTwo);\n\n        const slabThicknessHandlesActive =\n          data.handles.activeOperation === OPERATION.SLAB;\n        const slabThicknessHandles = [line[11], line[12], line[13], line[14]];\n\n        const slabThicknessHandleWorldOne = [\n          viewport.canvasToWorld(line[11]),\n          otherViewport,\n          line[5],\n          line[6],\n        ];\n        const slabThicknessHandleWorldTwo = [\n          viewport.canvasToWorld(line[12]),\n          otherViewport,\n          line[5],\n          line[6],\n        ];\n        const slabThicknessHandleWorldThree = [\n          viewport.canvasToWorld(line[13]),\n          otherViewport,\n          line[7],\n          line[8],\n        ];\n        const slabThicknessHandleWorldFour = [\n          viewport.canvasToWorld(line[14]),\n          otherViewport,\n          line[7],\n          line[8],\n        ];\n        newStpoints.push(\n          slabThicknessHandleWorldOne,\n          slabThicknessHandleWorldTwo,\n          slabThicknessHandleWorldThree,\n          slabThicknessHandleWorldFour\n        );\n\n        if (\n          (lineActive || this.configuration.mobile?.enabled) &&\n          !rotHandlesActive &&\n          !slabThicknessHandlesActive &&\n          viewportDraggableRotatable &&\n          viewportSlabThicknessControlsOn\n        ) {\n          // draw all handles inactive (rotation and slab thickness)\n          let handleUID = `${lineIndex}One`;\n          drawHandlesSvg(\n            svgDrawingHelper,\n            annotationUID,\n            handleUID,\n            rotationHandles,\n            {\n              color,\n              handleRadius: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.handleRadius\n                : 3,\n              opacity: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.opacity\n                : 1,\n              type: 'circle',\n            }\n          );\n          handleUID = `${lineIndex}Two`;\n          drawHandlesSvg(\n            svgDrawingHelper,\n            annotationUID,\n            handleUID,\n            slabThicknessHandles,\n            {\n              color,\n              handleRadius: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.handleRadius\n                : 3,\n              opacity: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.opacity\n                : 1,\n              type: 'rect',\n            }\n          );\n        } else if (\n          lineActive &&\n          !rotHandlesActive &&\n          !slabThicknessHandlesActive &&\n          viewportDraggableRotatable\n        ) {\n          const handleUID = `${lineIndex}`;\n          // draw rotation handles inactive\n          drawHandlesSvg(\n            svgDrawingHelper,\n            annotationUID,\n            handleUID,\n            rotationHandles,\n            {\n              color,\n              handleRadius: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.handleRadius\n                : 3,\n              opacity: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.opacity\n                : 1,\n              type: 'circle',\n            }\n          );\n        } else if (\n          selectedViewportId &&\n          !rotHandlesActive &&\n          !slabThicknessHandlesActive &&\n          viewportSlabThicknessControlsOn\n        ) {\n          const handleUID = `${lineIndex}`;\n          // draw slab thickness handles inactive\n          drawHandlesSvg(\n            svgDrawingHelper,\n            annotationUID,\n            handleUID,\n            slabThicknessHandles,\n            {\n              color,\n              handleRadius: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.handleRadius\n                : 3,\n              opacity: this.configuration.mobile?.enabled\n                ? this.configuration.mobile?.opacity\n                : 1,\n              type: 'rect',\n            }\n          );\n        } else if (rotHandlesActive && viewportDraggableRotatable) {\n          const handleUID = `${lineIndex}`;\n          // draw all rotation handles as active\n          drawHandlesSvg(\n            svgDrawingHelper,\n            annotationUID,\n            handleUID,\n            rotationHandles,\n            {\n              color,\n              handleRadius: 2,\n              fill: color,\n              type: 'circle',\n            }\n          );\n        } else if (\n          slabThicknessHandlesActive &&\n          selectedViewportId &&\n          viewportSlabThicknessControlsOn\n        ) {\n          // draw only the slab thickness handles for the active viewport as active\n          drawHandlesSvg(\n            svgDrawingHelper,\n            annotationUID,\n            lineUID,\n            slabThicknessHandles,\n            {\n              color,\n              handleRadius: 2,\n              fill: color,\n              type: 'rect',\n            }\n          );\n        }\n        const slabThicknessValue = otherViewport.getSlabThickness();\n        if (slabThicknessValue > 0.5 && viewportSlabThicknessControlsOn) {\n          // draw slab thickness reference lines\n          lineUID = `${lineIndex}STOne`;\n          drawLineSvg(\n            svgDrawingHelper,\n            annotationUID,\n            lineUID,\n            line[5],\n            line[6],\n            {\n              color,\n              width: 1,\n              lineDash: [2, 3],\n            }\n          );\n\n          lineUID = `${lineIndex}STTwo`;\n          drawLineSvg(\n            svgDrawingHelper,\n            annotationUID,\n            lineUID,\n            line[7],\n            line[8],\n            {\n              color,\n              width: line,\n              lineDash: [2, 3],\n            }\n          );\n        }\n      }\n    });\n\n    renderStatus = true;\n\n    // Save new handles points in annotation\n    data.handles.rotationPoints = newRtpoints;\n    data.handles.slabThicknessPoints = newStpoints;\n\n    if (this.configuration.viewportIndicators) {\n      // render a circle to pin point the viewport color\n      // TODO: This should not be part of the tool, and definitely not part of the renderAnnotation loop\n      const referenceColorCoordinates = [\n        clientWidth * 0.95,\n        clientHeight * 0.05,\n      ] as Types.Point2;\n      const circleRadius = canvasDiagonalLength * 0.01;\n\n      const circleUID = '0';\n      drawCircleSvg(\n        svgDrawingHelper,\n        annotationUID,\n        circleUID,\n        referenceColorCoordinates,\n        circleRadius,\n        { color, fill: color }\n      );\n    }\n\n    return renderStatus;\n  };\n\n  _getAnnotations = (enabledElement: Types.IEnabledElement) => {\n    const { viewport } = enabledElement;\n    return getAnnotations(this.getToolName(), viewport.element);\n  };\n\n  _onNewVolume = (e: any) => {\n    const viewportsInfo = this._getViewportsInfo();\n    this.computeToolCenter(viewportsInfo);\n  };\n\n  _unsubscribeToViewportNewVolumeSet(viewportsInfo) {\n    viewportsInfo.forEach(({ viewportId, renderingEngineId }) => {\n      const { viewport } = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n      const { element } = viewport;\n\n      element.removeEventListener(\n        Enums.Events.VOLUME_VIEWPORT_NEW_VOLUME,\n        this._onNewVolume\n      );\n    });\n  }\n\n  _subscribeToViewportNewVolumeSet(viewports) {\n    viewports.forEach(({ viewportId, renderingEngineId }) => {\n      const { viewport } = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n      const { element } = viewport;\n\n      element.addEventListener(\n        Enums.Events.VOLUME_VIEWPORT_NEW_VOLUME,\n        this._onNewVolume\n      );\n    });\n  }\n\n  _autoPanViewportIfNecessary(\n    viewportId: string,\n    renderingEngine: Types.IRenderingEngine\n  ): void {\n    // 1. Check if the toolCenter is outside the viewport\n    // 2. If it is outside, pan the viewport to fit in the toolCenter\n\n    const viewport = renderingEngine.getViewport(viewportId);\n    const { clientWidth, clientHeight } = viewport.canvas;\n\n    const toolCenterCanvas = viewport.worldToCanvas(this.toolCenter);\n\n    // pan the viewport to fit the toolCenter in the direction\n    // that is out of bounds\n    const pan = this.configuration.autoPan.panSize;\n\n    const visiblePointCanvas = <Types.Point2>[\n      toolCenterCanvas[0],\n      toolCenterCanvas[1],\n    ];\n\n    if (toolCenterCanvas[0] < 0) {\n      visiblePointCanvas[0] = pan;\n    } else if (toolCenterCanvas[0] > clientWidth) {\n      visiblePointCanvas[0] = clientWidth - pan;\n    }\n\n    if (toolCenterCanvas[1] < 0) {\n      visiblePointCanvas[1] = pan;\n    } else if (toolCenterCanvas[1] > clientHeight) {\n      visiblePointCanvas[1] = clientHeight - pan;\n    }\n\n    if (\n      visiblePointCanvas[0] === toolCenterCanvas[0] &&\n      visiblePointCanvas[1] === toolCenterCanvas[1]\n    ) {\n      return;\n    }\n\n    const visiblePointWorld = viewport.canvasToWorld(visiblePointCanvas);\n\n    const deltaPointsWorld = [\n      visiblePointWorld[0] - this.toolCenter[0],\n      visiblePointWorld[1] - this.toolCenter[1],\n      visiblePointWorld[2] - this.toolCenter[2],\n    ];\n\n    const camera = viewport.getCamera();\n    const { focalPoint, position } = camera;\n\n    const updatedPosition = <Types.Point3>[\n      position[0] - deltaPointsWorld[0],\n      position[1] - deltaPointsWorld[1],\n      position[2] - deltaPointsWorld[2],\n    ];\n\n    const updatedFocalPoint = <Types.Point3>[\n      focalPoint[0] - deltaPointsWorld[0],\n      focalPoint[1] - deltaPointsWorld[1],\n      focalPoint[2] - deltaPointsWorld[2],\n    ];\n\n    viewport.setCamera({\n      focalPoint: updatedFocalPoint,\n      position: updatedPosition,\n    });\n\n    viewport.render();\n  }\n\n  _areViewportIdArraysEqual = (viewportIdArrayOne, viewportIdArrayTwo) => {\n    if (viewportIdArrayOne.length !== viewportIdArrayTwo.length) {\n      return false;\n    }\n\n    viewportIdArrayOne.forEach((id) => {\n      let itemFound = false;\n      for (let i = 0; i < viewportIdArrayTwo.length; ++i) {\n        if (id === viewportIdArrayTwo[i]) {\n          itemFound = true;\n          break;\n        }\n      }\n      if (itemFound === false) {\n        return false;\n      }\n    });\n\n    return true;\n  };\n\n  // It filters the viewports with crosshairs and only return viewports\n  // that have different camera.\n  _getAnnotationsForViewportsWithDifferentCameras = (\n    enabledElement,\n    annotations\n  ) => {\n    const { viewportId, renderingEngine, viewport } = enabledElement;\n\n    const otherViewportAnnotations = annotations.filter(\n      (annotation) => annotation.data.viewportId !== viewportId\n    );\n\n    if (!otherViewportAnnotations || !otherViewportAnnotations.length) {\n      return [];\n    }\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, position } = camera;\n\n    const viewportsWithDifferentCameras = otherViewportAnnotations.filter(\n      (annotation) => {\n        const { viewportId } = annotation.data;\n        const targetViewport = renderingEngine.getViewport(viewportId);\n        const cameraOfTarget = targetViewport.getCamera();\n\n        return !(\n          csUtils.isEqual(\n            cameraOfTarget.viewPlaneNormal,\n            viewPlaneNormal,\n            1e-2\n          ) && csUtils.isEqual(cameraOfTarget.position, position, 1)\n        );\n      }\n    );\n\n    return viewportsWithDifferentCameras;\n  };\n\n  _filterViewportWithSameOrientation = (\n    enabledElement,\n    referenceAnnotation,\n    annotations\n  ) => {\n    const { renderingEngine } = enabledElement;\n    const { data } = referenceAnnotation;\n    const viewport = renderingEngine.getViewport(data.viewportId);\n\n    const linkedViewportAnnotations = annotations.filter((annotation) => {\n      const { data } = annotation;\n      const otherViewport = renderingEngine.getViewport(data.viewportId);\n      const otherViewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n\n      return otherViewportControllable === true;\n    });\n\n    if (!linkedViewportAnnotations || !linkedViewportAnnotations.length) {\n      return [];\n    }\n\n    const camera = viewport.getCamera();\n    const viewPlaneNormal = camera.viewPlaneNormal;\n    vtkMath.normalize(viewPlaneNormal);\n\n    const otherViewportsAnnotationsWithSameCameraDirection =\n      linkedViewportAnnotations.filter((annotation) => {\n        const { viewportId } = annotation.data;\n        const otherViewport = renderingEngine.getViewport(viewportId);\n        const otherCamera = otherViewport.getCamera();\n        const otherViewPlaneNormal = otherCamera.viewPlaneNormal;\n        vtkMath.normalize(otherViewPlaneNormal);\n\n        return (\n          csUtils.isEqual(viewPlaneNormal, otherViewPlaneNormal, 1e-2) &&\n          csUtils.isEqual(camera.viewUp, otherCamera.viewUp, 1e-2)\n        );\n      });\n\n    return otherViewportsAnnotationsWithSameCameraDirection;\n  };\n\n  _filterAnnotationsByUniqueViewportOrientations = (\n    enabledElement,\n    annotations\n  ) => {\n    const { renderingEngine, viewport } = enabledElement;\n    const camera = viewport.getCamera();\n    const viewPlaneNormal = camera.viewPlaneNormal;\n    vtkMath.normalize(viewPlaneNormal);\n\n    const otherLinkedViewportAnnotationsFromSameScene = annotations.filter(\n      (annotation) => {\n        const { data } = annotation;\n        const otherViewport = renderingEngine.getViewport(data.viewportId);\n        const otherViewportControllable = this._getReferenceLineControllable(\n          otherViewport.id\n        );\n\n        return (\n          viewport !== otherViewport &&\n          // scene === otherScene &&\n          otherViewportControllable === true\n        );\n      }\n    );\n\n    const otherViewportsAnnotationsWithUniqueCameras = [];\n    // Iterate first on other viewport from the same scene linked\n    for (\n      let i = 0;\n      i < otherLinkedViewportAnnotationsFromSameScene.length;\n      ++i\n    ) {\n      const annotation = otherLinkedViewportAnnotationsFromSameScene[i];\n      const { viewportId } = annotation.data;\n      const otherViewport = renderingEngine.getViewport(viewportId);\n      const otherCamera = otherViewport.getCamera();\n      const otherViewPlaneNormal = otherCamera.viewPlaneNormal;\n      vtkMath.normalize(otherViewPlaneNormal);\n\n      if (\n        csUtils.isEqual(viewPlaneNormal, otherViewPlaneNormal, 1e-2) ||\n        csUtils.isOpposite(viewPlaneNormal, otherViewPlaneNormal, 1e-2)\n      ) {\n        continue;\n      }\n\n      let cameraFound = false;\n      for (\n        let jj = 0;\n        jj < otherViewportsAnnotationsWithUniqueCameras.length;\n        ++jj\n      ) {\n        const annotation = otherViewportsAnnotationsWithUniqueCameras[jj];\n        const { viewportId } = annotation.data;\n        const stockedViewport = renderingEngine.getViewport(viewportId);\n        const cameraOfStocked = stockedViewport.getCamera();\n\n        if (\n          csUtils.isEqual(\n            cameraOfStocked.viewPlaneNormal,\n            otherCamera.viewPlaneNormal,\n            1e-2\n          ) &&\n          csUtils.isEqual(cameraOfStocked.position, otherCamera.position, 1)\n        ) {\n          cameraFound = true;\n        }\n      }\n\n      if (!cameraFound) {\n        otherViewportsAnnotationsWithUniqueCameras.push(annotation);\n      }\n    }\n\n    const otherNonLinkedViewportAnnotationsFromSameScene = annotations.filter(\n      (annotation) => {\n        const { data } = annotation;\n        const otherViewport = renderingEngine.getViewport(data.viewportId);\n        const otherViewportControllable = this._getReferenceLineControllable(\n          otherViewport.id\n        );\n\n        return (\n          viewport !== otherViewport &&\n          // scene === otherScene &&\n          otherViewportControllable !== true\n        );\n      }\n    );\n\n    // Iterate second on other viewport from the same scene non linked\n    for (\n      let i = 0;\n      i < otherNonLinkedViewportAnnotationsFromSameScene.length;\n      ++i\n    ) {\n      const annotation = otherNonLinkedViewportAnnotationsFromSameScene[i];\n      const { viewportId } = annotation.data;\n      const otherViewport = renderingEngine.getViewport(viewportId);\n\n      const otherCamera = otherViewport.getCamera();\n      const otherViewPlaneNormal = otherCamera.viewPlaneNormal;\n      vtkMath.normalize(otherViewPlaneNormal);\n\n      if (\n        csUtils.isEqual(viewPlaneNormal, otherViewPlaneNormal, 1e-2) ||\n        csUtils.isOpposite(viewPlaneNormal, otherViewPlaneNormal, 1e-2)\n      ) {\n        continue;\n      }\n\n      let cameraFound = false;\n      for (\n        let jj = 0;\n        jj < otherViewportsAnnotationsWithUniqueCameras.length;\n        ++jj\n      ) {\n        const annotation = otherViewportsAnnotationsWithUniqueCameras[jj];\n        const { viewportId } = annotation.data;\n        const stockedViewport = renderingEngine.getViewport(viewportId);\n        const cameraOfStocked = stockedViewport.getCamera();\n\n        if (\n          csUtils.isEqual(\n            cameraOfStocked.viewPlaneNormal,\n            otherCamera.viewPlaneNormal,\n            1e-2\n          ) &&\n          csUtils.isEqual(cameraOfStocked.position, otherCamera.position, 1)\n        ) {\n          cameraFound = true;\n        }\n      }\n\n      if (!cameraFound) {\n        otherViewportsAnnotationsWithUniqueCameras.push(annotation);\n      }\n    }\n\n    // Iterate on all the viewport\n    const otherViewportAnnotations =\n      this._getAnnotationsForViewportsWithDifferentCameras(\n        enabledElement,\n        annotations\n      );\n\n    for (let i = 0; i < otherViewportAnnotations.length; ++i) {\n      const annotation = otherViewportAnnotations[i];\n      if (\n        otherViewportsAnnotationsWithUniqueCameras.some(\n          (element) => element === annotation\n        )\n      ) {\n        continue;\n      }\n\n      const { viewportId } = annotation.data;\n      const otherViewport = renderingEngine.getViewport(viewportId);\n      const otherCamera = otherViewport.getCamera();\n      const otherViewPlaneNormal = otherCamera.viewPlaneNormal;\n      vtkMath.normalize(otherViewPlaneNormal);\n\n      if (\n        csUtils.isEqual(viewPlaneNormal, otherViewPlaneNormal, 1e-2) ||\n        csUtils.isOpposite(viewPlaneNormal, otherViewPlaneNormal, 1e-2)\n      ) {\n        continue;\n      }\n\n      let cameraFound = false;\n      for (\n        let jj = 0;\n        jj < otherViewportsAnnotationsWithUniqueCameras.length;\n        ++jj\n      ) {\n        const annotation = otherViewportsAnnotationsWithUniqueCameras[jj];\n        const { viewportId } = annotation.data;\n        const stockedViewport = renderingEngine.getViewport(viewportId);\n        const cameraOfStocked = stockedViewport.getCamera();\n\n        if (\n          csUtils.isEqual(\n            cameraOfStocked.viewPlaneNormal,\n            otherCamera.viewPlaneNormal,\n            1e-2\n          ) &&\n          csUtils.isEqual(cameraOfStocked.position, otherCamera.position, 1)\n        ) {\n          cameraFound = true;\n        }\n      }\n\n      if (!cameraFound) {\n        otherViewportsAnnotationsWithUniqueCameras.push(annotation);\n      }\n    }\n\n    return otherViewportsAnnotationsWithUniqueCameras;\n  };\n\n  _checkIfViewportsRenderingSameScene = (viewport, otherViewport) => {\n    const actors = viewport.getActors();\n    const otherViewportActors = otherViewport.getActors();\n\n    let sameScene = true;\n\n    actors.forEach((actor) => {\n      if (\n        actors.length !== otherViewportActors.length ||\n        otherViewportActors.find(({ uid }) => uid === actor.uid) === undefined\n      ) {\n        sameScene = false;\n      }\n    });\n\n    return sameScene;\n  };\n\n  _jump = (enabledElement, jumpWorld) => {\n    state.isInteractingWithTool = true;\n    const { viewport, renderingEngine } = enabledElement;\n\n    const annotations = this._getAnnotations(enabledElement);\n\n    const delta: Types.Point3 = [0, 0, 0];\n    vtkMath.subtract(jumpWorld, this.toolCenter, delta);\n\n    // TRANSLATION\n    // get the annotation of the other viewport which are parallel to the delta shift and are of the same scene\n    const otherViewportAnnotations =\n      this._getAnnotationsForViewportsWithDifferentCameras(\n        enabledElement,\n        annotations\n      );\n\n    const viewportsAnnotationsToUpdate = otherViewportAnnotations.filter(\n      (annotation) => {\n        const { data } = annotation;\n        const otherViewport = renderingEngine.getViewport(data.viewportId);\n\n        const sameScene = this._checkIfViewportsRenderingSameScene(\n          viewport,\n          otherViewport\n        );\n\n        return (\n          this._getReferenceLineControllable(otherViewport.id) &&\n          this._getReferenceLineDraggableRotatable(otherViewport.id) &&\n          sameScene\n        );\n      }\n    );\n\n    if (viewportsAnnotationsToUpdate.length === 0) {\n      state.isInteractingWithTool = false;\n      return false;\n    }\n\n    this._applyDeltaShiftToSelectedViewportCameras(\n      renderingEngine,\n      viewportsAnnotationsToUpdate,\n      delta\n    );\n\n    state.isInteractingWithTool = false;\n\n    return true;\n  };\n\n  _activateModify = (element) => {\n    // mobile sometimes has lingering interaction even when touchEnd triggers\n    // this check allows for multiple handles to be active which doesn't affect\n    // tool usage.\n    state.isInteractingWithTool = !this.configuration.mobile?.enabled;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _deactivateModify = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    this.editData.annotation.data.handles.activeOperation = null;\n    this.editData.annotation.data.activeViewportIds = [];\n\n    this._deactivateModify(element);\n\n    resetElementCursor(element);\n\n    this.editData = null;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    const requireSameOrientation = false;\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName(),\n      requireSameOrientation\n    );\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const delta = eventDetail.deltaPoints.world;\n\n    if (\n      Math.abs(delta[0]) < 1e-3 &&\n      Math.abs(delta[1]) < 1e-3 &&\n      Math.abs(delta[2]) < 1e-3\n    ) {\n      return;\n    }\n\n    const { element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n    const annotations = this._getAnnotations(\n      enabledElement\n    ) as CrosshairsAnnotation[];\n    const filteredToolAnnotations =\n      this.filterInteractableAnnotationsForElement(element, annotations);\n\n    // viewport Annotation\n    const viewportAnnotation = filteredToolAnnotations[0];\n    if (!viewportAnnotation) {\n      return;\n    }\n\n    const { handles } = viewportAnnotation.data;\n    const { currentPoints } = evt.detail;\n    const canvasCoords = currentPoints.canvas;\n\n    if (handles.activeOperation === OPERATION.DRAG) {\n      // TRANSLATION\n      // get the annotation of the other viewport which are parallel to the delta shift and are of the same scene\n      const otherViewportAnnotations =\n        this._getAnnotationsForViewportsWithDifferentCameras(\n          enabledElement,\n          annotations\n        );\n\n      const viewportsAnnotationsToUpdate = otherViewportAnnotations.filter(\n        (annotation) => {\n          const { data } = annotation;\n          const otherViewport = renderingEngine.getViewport(data.viewportId);\n          const otherViewportControllable = this._getReferenceLineControllable(\n            otherViewport.id\n          );\n          const otherViewportDraggableRotatable =\n            this._getReferenceLineDraggableRotatable(otherViewport.id);\n\n          return (\n            otherViewportControllable === true &&\n            otherViewportDraggableRotatable === true &&\n            viewportAnnotation.data.activeViewportIds.find(\n              (id) => id === otherViewport.id\n            )\n          );\n        }\n      );\n\n      this._applyDeltaShiftToSelectedViewportCameras(\n        renderingEngine,\n        viewportsAnnotationsToUpdate,\n        delta\n      );\n    } else if (handles.activeOperation === OPERATION.ROTATE) {\n      // ROTATION\n      const otherViewportAnnotations =\n        this._getAnnotationsForViewportsWithDifferentCameras(\n          enabledElement,\n          annotations\n        );\n\n      const viewportsAnnotationsToUpdate = otherViewportAnnotations.filter(\n        (annotation) => {\n          const { data } = annotation;\n          const otherViewport = renderingEngine.getViewport(data.viewportId);\n          const otherViewportControllable = this._getReferenceLineControllable(\n            otherViewport.id\n          );\n          const otherViewportDraggableRotatable =\n            this._getReferenceLineDraggableRotatable(otherViewport.id);\n\n          return (\n            otherViewportControllable === true &&\n            otherViewportDraggableRotatable === true\n          );\n        }\n      );\n\n      const dir1 = vec2.create();\n      const dir2 = vec2.create();\n\n      const center: Types.Point3 = [\n        this.toolCenter[0],\n        this.toolCenter[1],\n        this.toolCenter[2],\n      ];\n\n      const centerCanvas = viewport.worldToCanvas(center);\n\n      const finalPointCanvas = eventDetail.currentPoints.canvas;\n      const originalPointCanvas = vec2.create();\n      vec2.sub(\n        originalPointCanvas,\n        finalPointCanvas,\n        eventDetail.deltaPoints.canvas\n      );\n      vec2.sub(dir1, originalPointCanvas, <vec2>centerCanvas);\n      vec2.sub(dir2, finalPointCanvas, <vec2>centerCanvas);\n\n      let angle = vec2.angle(dir1, dir2);\n\n      if (\n        this._isClockWise(centerCanvas, originalPointCanvas, finalPointCanvas)\n      ) {\n        angle *= -1;\n      }\n\n      // Rounding the angle to allow rotated handles to be undone\n      // If we don't round and rotate handles clockwise by 0.0131233 radians,\n      // there's no assurance that the counter-clockwise rotation occurs at\n      // precisely -0.0131233, resulting in the drawn annotations being lost.\n      angle = Math.round(angle * 100) / 100;\n\n      const rotationAxis = viewport.getCamera().viewPlaneNormal;\n      // @ts-ignore : vtkjs incorrect typing\n      const { matrix } = vtkMatrixBuilder\n        .buildFromRadian()\n        .translate(center[0], center[1], center[2])\n        // @ts-ignore\n        .rotate(angle, rotationAxis) //todo: why we are passing\n        .translate(-center[0], -center[1], -center[2]);\n\n      const otherViewportsIds = [];\n      // update camera for the other viewports.\n      // NOTE: The lines then are rendered by the onCameraModified\n      viewportsAnnotationsToUpdate.forEach((annotation) => {\n        const { data } = annotation;\n        data.handles.toolCenter = center;\n\n        const otherViewport = renderingEngine.getViewport(data.viewportId);\n        const camera = otherViewport.getCamera();\n        const { viewUp, position, focalPoint } = camera;\n\n        viewUp[0] += position[0];\n        viewUp[1] += position[1];\n        viewUp[2] += position[2];\n\n        vec3.transformMat4(focalPoint, focalPoint, matrix);\n        vec3.transformMat4(position, position, matrix);\n        vec3.transformMat4(viewUp, viewUp, matrix);\n\n        viewUp[0] -= position[0];\n        viewUp[1] -= position[1];\n        viewUp[2] -= position[2];\n\n        otherViewport.setCamera({\n          position,\n          viewUp,\n          focalPoint,\n        });\n        otherViewportsIds.push(otherViewport.id);\n      });\n      renderingEngine.renderViewports(otherViewportsIds);\n    } else if (handles.activeOperation === OPERATION.SLAB) {\n      // SLAB THICKNESS\n      // this should be just the active one under the mouse,\n      const otherViewportAnnotations =\n        this._getAnnotationsForViewportsWithDifferentCameras(\n          enabledElement,\n          annotations\n        );\n\n      const referenceAnnotations = otherViewportAnnotations.filter(\n        (annotation) => {\n          const { data } = annotation;\n          const otherViewport = renderingEngine.getViewport(data.viewportId);\n          const otherViewportControllable = this._getReferenceLineControllable(\n            otherViewport.id\n          );\n          const otherViewportSlabThicknessControlsOn =\n            this._getReferenceLineSlabThicknessControlsOn(otherViewport.id);\n\n          return (\n            otherViewportControllable === true &&\n            otherViewportSlabThicknessControlsOn === true &&\n            viewportAnnotation.data.activeViewportIds.find(\n              (id) => id === otherViewport.id\n            )\n          );\n        }\n      );\n\n      if (referenceAnnotations.length === 0) {\n        return;\n      }\n      const viewportsAnnotationsToUpdate =\n        this._filterViewportWithSameOrientation(\n          enabledElement,\n          referenceAnnotations[0],\n          annotations\n        );\n\n      const viewportsIds = [];\n      viewportsIds.push(viewport.id);\n      viewportsAnnotationsToUpdate.forEach(\n        (annotation: CrosshairsAnnotation) => {\n          const { data } = annotation;\n\n          const otherViewport = renderingEngine.getViewport(\n            data.viewportId\n          ) as Types.IVolumeViewport;\n          const camera = otherViewport.getCamera();\n          const normal = camera.viewPlaneNormal;\n\n          const dotProd = vtkMath.dot(delta, normal);\n          const projectedDelta: Types.Point3 = [...normal];\n          vtkMath.multiplyScalar(projectedDelta, dotProd);\n\n          if (\n            Math.abs(projectedDelta[0]) > 1e-3 ||\n            Math.abs(projectedDelta[1]) > 1e-3 ||\n            Math.abs(projectedDelta[2]) > 1e-3\n          ) {\n            const mod = Math.sqrt(\n              projectedDelta[0] * projectedDelta[0] +\n                projectedDelta[1] * projectedDelta[1] +\n                projectedDelta[2] * projectedDelta[2]\n            );\n\n            const currentPoint = eventDetail.lastPoints.world;\n            const direction: Types.Point3 = [0, 0, 0];\n\n            const currentCenter: Types.Point3 = [\n              this.toolCenter[0],\n              this.toolCenter[1],\n              this.toolCenter[2],\n            ];\n\n            // use this.toolCenter only if viewportDraggableRotatable\n            const viewportDraggableRotatable =\n              this._getReferenceLineDraggableRotatable(otherViewport.id);\n            if (!viewportDraggableRotatable) {\n              const { rotationPoints } = this.editData.annotation.data.handles;\n              // Todo: what is a point uid?\n              const otherViewportRotationPoints = rotationPoints.filter(\n                (point) => point[1].uid === otherViewport.id\n              );\n              if (otherViewportRotationPoints.length === 2) {\n                const point1 = viewport.canvasToWorld(\n                  otherViewportRotationPoints[0][3]\n                );\n                const point2 = viewport.canvasToWorld(\n                  otherViewportRotationPoints[1][3]\n                );\n                vtkMath.add(point1, point2, currentCenter);\n                vtkMath.multiplyScalar(<Types.Point3>currentCenter, 0.5);\n              }\n            }\n\n            vtkMath.subtract(currentPoint, currentCenter, direction);\n            const dotProdDirection = vtkMath.dot(direction, normal);\n            const projectedDirection: Types.Point3 = [...normal];\n            vtkMath.multiplyScalar(projectedDirection, dotProdDirection);\n            const normalizedProjectedDirection: Types.Point3 = [\n              projectedDirection[0],\n              projectedDirection[1],\n              projectedDirection[2],\n            ];\n            vec3.normalize(\n              normalizedProjectedDirection,\n              normalizedProjectedDirection\n            );\n            const normalizedProjectedDelta: Types.Point3 = [\n              projectedDelta[0],\n              projectedDelta[1],\n              projectedDelta[2],\n            ];\n            vec3.normalize(normalizedProjectedDelta, normalizedProjectedDelta);\n\n            let slabThicknessValue = otherViewport.getSlabThickness();\n            if (\n              csUtils.isOpposite(\n                normalizedProjectedDirection,\n                normalizedProjectedDelta,\n                1e-3\n              )\n            ) {\n              slabThicknessValue -= mod;\n            } else {\n              slabThicknessValue += mod;\n            }\n\n            slabThicknessValue = Math.abs(slabThicknessValue);\n            slabThicknessValue = Math.max(\n              RENDERING_DEFAULTS.MINIMUM_SLAB_THICKNESS,\n              slabThicknessValue\n            );\n\n            const near = this._pointNearReferenceLine(\n              viewportAnnotation,\n              canvasCoords,\n              6,\n              otherViewport\n            );\n\n            if (near) {\n              slabThicknessValue = RENDERING_DEFAULTS.MINIMUM_SLAB_THICKNESS;\n            }\n\n            // We want to set the slabThickness for the viewport's actors but\n            // since the crosshairs tool instance has configuration regarding which\n            // actorUIDs (in case of volume -> actorUID = volumeIds) to set the\n            // slabThickness for, we need to delegate the slabThickness setting\n            // to the crosshairs tool instance of the toolGroup since configurations\n            // exist on the toolInstance and each toolGroup has its own crosshairs\n            // tool instance (Otherwise, we would need to set this filterActorUIDsToSetSlabThickness at\n            // the viewport level which makes tool and viewport state convoluted).\n            const toolGroup = getToolGroupForViewport(\n              otherViewport.id,\n              renderingEngine.id\n            );\n            const crosshairsInstance = toolGroup.getToolInstance(\n              this.getToolName()\n            );\n            crosshairsInstance.setSlabThickness(\n              otherViewport,\n              slabThicknessValue\n            );\n\n            viewportsIds.push(otherViewport.id);\n          }\n        }\n      );\n      renderingEngine.renderViewports(viewportsIds);\n    }\n  };\n\n  setSlabThickness(viewport, slabThickness) {\n    let actorUIDs;\n    const { filterActorUIDsToSetSlabThickness } = this.configuration;\n    if (\n      filterActorUIDsToSetSlabThickness &&\n      filterActorUIDsToSetSlabThickness.length > 0\n    ) {\n      actorUIDs = filterActorUIDsToSetSlabThickness;\n    }\n\n    let blendModeToUse = this.configuration.slabThicknessBlendMode;\n    if (slabThickness === RENDERING_DEFAULTS.MINIMUM_SLAB_THICKNESS) {\n      blendModeToUse = Enums.BlendModes.COMPOSITE;\n    }\n\n    const immediate = false;\n    viewport.setBlendMode(blendModeToUse, actorUIDs, immediate);\n    viewport.setSlabThickness(slabThickness, actorUIDs);\n  }\n\n  _isClockWise(a, b, c) {\n    // return true if the rotation is clockwise\n    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]) > 0;\n  }\n\n  _applyDeltaShiftToSelectedViewportCameras(\n    renderingEngine,\n    viewportsAnnotationsToUpdate,\n    delta\n  ) {\n    // update camera for the other viewports.\n    // NOTE1: The lines then are rendered by the onCameraModified\n    // NOTE2: crosshair center are automatically updated in the onCameraModified event\n    viewportsAnnotationsToUpdate.forEach((annotation) => {\n      this._applyDeltaShiftToViewportCamera(renderingEngine, annotation, delta);\n    });\n  }\n\n  _applyDeltaShiftToViewportCamera(\n    renderingEngine: Types.IRenderingEngine,\n    annotation,\n    delta\n  ) {\n    // update camera for the other viewports.\n    // NOTE1: The lines then are rendered by the onCameraModified\n    // NOTE2: crosshair center are automatically updated in the onCameraModified event\n    const { data } = annotation;\n\n    const viewport = renderingEngine.getViewport(data.viewportId);\n    const camera = viewport.getCamera();\n    const normal = camera.viewPlaneNormal;\n\n    // Project delta over camera normal\n    // (we don't need to pan, we need only to scroll the camera as in the wheel stack scroll tool)\n    const dotProd = vtkMath.dot(delta, normal);\n    const projectedDelta: Types.Point3 = [...normal];\n    vtkMath.multiplyScalar(projectedDelta, dotProd);\n\n    if (\n      Math.abs(projectedDelta[0]) > 1e-3 ||\n      Math.abs(projectedDelta[1]) > 1e-3 ||\n      Math.abs(projectedDelta[2]) > 1e-3\n    ) {\n      const newFocalPoint: Types.Point3 = [0, 0, 0];\n      const newPosition: Types.Point3 = [0, 0, 0];\n\n      vtkMath.add(camera.focalPoint, projectedDelta, newFocalPoint);\n      vtkMath.add(camera.position, projectedDelta, newPosition);\n\n      viewport.setCamera({\n        focalPoint: newFocalPoint,\n        position: newPosition,\n      });\n      viewport.render();\n    }\n  }\n\n  _pointNearReferenceLine = (\n    annotation,\n    canvasCoords,\n    proximity,\n    lineViewport\n  ) => {\n    const { data } = annotation;\n    const { rotationPoints } = data.handles;\n\n    for (let i = 0; i < rotationPoints.length - 1; ++i) {\n      const otherViewport = rotationPoints[i][1];\n      if (otherViewport.id !== lineViewport.id) {\n        continue;\n      }\n\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      if (!viewportControllable) {\n        continue;\n      }\n\n      const lineSegment1 = {\n        start: {\n          x: rotationPoints[i][2][0],\n          y: rotationPoints[i][2][1],\n        },\n        end: {\n          x: rotationPoints[i][3][0],\n          y: rotationPoints[i][3][1],\n        },\n      };\n\n      const distanceToPoint1 = lineSegment.distanceToPoint(\n        [lineSegment1.start.x, lineSegment1.start.y],\n        [lineSegment1.end.x, lineSegment1.end.y],\n        [canvasCoords[0], canvasCoords[1]]\n      );\n\n      const lineSegment2 = {\n        start: {\n          x: rotationPoints[i + 1][2][0],\n          y: rotationPoints[i + 1][2][1],\n        },\n        end: {\n          x: rotationPoints[i + 1][3][0],\n          y: rotationPoints[i + 1][3][1],\n        },\n      };\n\n      const distanceToPoint2 = lineSegment.distanceToPoint(\n        [lineSegment2.start.x, lineSegment2.start.y],\n        [lineSegment2.end.x, lineSegment2.end.y],\n        [canvasCoords[0], canvasCoords[1]]\n      );\n\n      if (distanceToPoint1 <= proximity || distanceToPoint2 <= proximity) {\n        return true;\n      }\n\n      // rotation handles are two for viewport\n      i++;\n    }\n\n    return false;\n  };\n\n  _getRotationHandleNearImagePoint(\n    viewport,\n    annotation,\n    canvasCoords,\n    proximity\n  ) {\n    const { data } = annotation;\n    const { rotationPoints } = data.handles;\n\n    for (let i = 0; i < rotationPoints.length; i++) {\n      const point = rotationPoints[i][0];\n      const otherViewport = rotationPoints[i][1];\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      if (!viewportControllable) {\n        continue;\n      }\n\n      const viewportDraggableRotatable =\n        this._getReferenceLineDraggableRotatable(otherViewport.id);\n      if (!viewportDraggableRotatable) {\n        continue;\n      }\n\n      const annotationCanvasCoordinate = viewport.worldToCanvas(point);\n      if (vec2.distance(canvasCoords, annotationCanvasCoordinate) < proximity) {\n        data.handles.activeOperation = OPERATION.ROTATE;\n\n        this.editData = {\n          annotation,\n        };\n\n        return point;\n      }\n    }\n\n    return null;\n  }\n\n  _getSlabThicknessHandleNearImagePoint(\n    viewport,\n    annotation,\n    canvasCoords,\n    proximity\n  ) {\n    const { data } = annotation;\n    const { slabThicknessPoints } = data.handles;\n\n    for (let i = 0; i < slabThicknessPoints.length; i++) {\n      const point = slabThicknessPoints[i][0];\n      const otherViewport = slabThicknessPoints[i][1];\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      if (!viewportControllable) {\n        continue;\n      }\n\n      const viewportSlabThicknessControlsOn =\n        this._getReferenceLineSlabThicknessControlsOn(otherViewport.id);\n      if (!viewportSlabThicknessControlsOn) {\n        continue;\n      }\n\n      const annotationCanvasCoordinate = viewport.worldToCanvas(point);\n      if (vec2.distance(canvasCoords, annotationCanvasCoordinate) < proximity) {\n        data.handles.activeOperation = OPERATION.SLAB;\n\n        data.activeViewportIds = [otherViewport.id];\n\n        this.editData = {\n          annotation,\n        };\n\n        return point;\n      }\n    }\n\n    return null;\n  }\n\n  _pointNearTool(element, annotation, canvasCoords, proximity) {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { clientWidth, clientHeight } = viewport.canvas;\n    const canvasDiagonalLength = Math.sqrt(\n      clientWidth * clientWidth + clientHeight * clientHeight\n    );\n    const { data } = annotation;\n\n    const { rotationPoints } = data.handles;\n    const { slabThicknessPoints } = data.handles;\n    const viewportIdArray = [];\n\n    for (let i = 0; i < rotationPoints.length - 1; ++i) {\n      const otherViewport = rotationPoints[i][1];\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      const viewportDraggableRotatable =\n        this._getReferenceLineDraggableRotatable(otherViewport.id);\n\n      if (!viewportControllable || !viewportDraggableRotatable) {\n        continue;\n      }\n\n      const lineSegment1 = {\n        start: {\n          x: rotationPoints[i][2][0],\n          y: rotationPoints[i][2][1],\n        },\n        end: {\n          x: rotationPoints[i][3][0],\n          y: rotationPoints[i][3][1],\n        },\n      };\n\n      const distanceToPoint1 = lineSegment.distanceToPoint(\n        [lineSegment1.start.x, lineSegment1.start.y],\n        [lineSegment1.end.x, lineSegment1.end.y],\n        [canvasCoords[0], canvasCoords[1]]\n      );\n\n      const lineSegment2 = {\n        start: {\n          x: rotationPoints[i + 1][2][0],\n          y: rotationPoints[i + 1][2][1],\n        },\n        end: {\n          x: rotationPoints[i + 1][3][0],\n          y: rotationPoints[i + 1][3][1],\n        },\n      };\n\n      const distanceToPoint2 = lineSegment.distanceToPoint(\n        [lineSegment2.start.x, lineSegment2.start.y],\n        [lineSegment2.end.x, lineSegment2.end.y],\n        [canvasCoords[0], canvasCoords[1]]\n      );\n\n      if (distanceToPoint1 <= proximity || distanceToPoint2 <= proximity) {\n        viewportIdArray.push(otherViewport.id);\n        data.handles.activeOperation = OPERATION.DRAG;\n      }\n\n      // rotation handles are two for viewport\n      i++;\n    }\n\n    for (let i = 0; i < slabThicknessPoints.length - 1; ++i) {\n      const otherViewport = slabThicknessPoints[i][1];\n      if (viewportIdArray.find((id) => id === otherViewport.id)) {\n        continue;\n      }\n\n      const viewportControllable = this._getReferenceLineControllable(\n        otherViewport.id\n      );\n      const viewportSlabThicknessControlsOn =\n        this._getReferenceLineSlabThicknessControlsOn(otherViewport.id);\n\n      if (!viewportControllable || !viewportSlabThicknessControlsOn) {\n        continue;\n      }\n\n      const stPointLineCanvas1 = slabThicknessPoints[i][2];\n      const stPointLineCanvas2 = slabThicknessPoints[i][3];\n\n      const centerCanvas = vec2.create();\n      vec2.add(centerCanvas, stPointLineCanvas1, stPointLineCanvas2);\n      vec2.scale(centerCanvas, centerCanvas, 0.5);\n\n      const canvasUnitVectorFromCenter = vec2.create();\n      vec2.subtract(\n        canvasUnitVectorFromCenter,\n        stPointLineCanvas1,\n        centerCanvas\n      );\n      vec2.normalize(canvasUnitVectorFromCenter, canvasUnitVectorFromCenter);\n\n      const canvasVectorFromCenterStart = vec2.create();\n      vec2.scale(\n        canvasVectorFromCenterStart,\n        canvasUnitVectorFromCenter,\n        canvasDiagonalLength * 0.05\n      );\n\n      const stPointLineCanvas1Start = vec2.create();\n      const stPointLineCanvas2Start = vec2.create();\n      vec2.add(\n        stPointLineCanvas1Start,\n        centerCanvas,\n        canvasVectorFromCenterStart\n      );\n      vec2.subtract(\n        stPointLineCanvas2Start,\n        centerCanvas,\n        canvasVectorFromCenterStart\n      );\n\n      const lineSegment1 = {\n        start: {\n          x: stPointLineCanvas1Start[0],\n          y: stPointLineCanvas1Start[1],\n        },\n        end: {\n          x: stPointLineCanvas1[0],\n          y: stPointLineCanvas1[1],\n        },\n      };\n\n      const distanceToPoint1 = lineSegment.distanceToPoint(\n        [lineSegment1.start.x, lineSegment1.start.y],\n        [lineSegment1.end.x, lineSegment1.end.y],\n        [canvasCoords[0], canvasCoords[1]]\n      );\n\n      const lineSegment2 = {\n        start: {\n          x: stPointLineCanvas2Start[0],\n          y: stPointLineCanvas2Start[1],\n        },\n        end: {\n          x: stPointLineCanvas2[0],\n          y: stPointLineCanvas2[1],\n        },\n      };\n\n      const distanceToPoint2 = lineSegment.distanceToPoint(\n        [lineSegment2.start.x, lineSegment2.start.y],\n        [lineSegment2.end.x, lineSegment2.end.y],\n        [canvasCoords[0], canvasCoords[1]]\n      );\n\n      if (distanceToPoint1 <= proximity || distanceToPoint2 <= proximity) {\n        viewportIdArray.push(otherViewport.id); // we still need this to draw inactive slab thickness handles\n        data.handles.activeOperation = null; // no operation\n      }\n\n      // slab thickness handles are in couples\n      i++;\n    }\n\n    data.activeViewportIds = [...viewportIdArray];\n\n    this.editData = {\n      annotation,\n    };\n\n    return data.handles.activeOperation === OPERATION.DRAG ? true : false;\n  }\n}\n\nCrosshairsTool.toolName = 'Crosshairs';\nexport default CrosshairsTool;\n","import { BaseTool } from './base';\nimport { Events } from '../enums';\n\nimport { getEnabledElement, StackViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { EventTypes, PublicToolProps, ToolProps } from '../types';\nimport { getViewportIdsWithToolToRender } from '../utilities/viewportFilters';\nimport triggerAnnotationRenderForViewportIds from '../utilities/triggerAnnotationRenderForViewportIds';\nimport { state } from '../store';\nimport { Enums } from '@cornerstonejs/core';\n\nimport {\n  hideElementCursor,\n  resetElementCursor,\n} from '../cursors/elementCursor';\nimport { IPoints } from '../types';\n\nconst MAGNIFY_VIEWPORT_ID = 'magnify-viewport';\n\nclass MagnifyTool extends BaseTool {\n  static toolName;\n  _bounds: any;\n  editData: {\n    referencedImageId: string;\n    viewportIdsToRender: string[];\n    enabledElement: Types.IEnabledElement;\n    renderingEngine: Types.IRenderingEngine;\n    currentPoints: IPoints;\n  } | null;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        magnifySize: 10, // parallel scale , higher more zoom\n        magnifyWidth: 250, //px\n        magnifyHeight: 250, //px\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  _getReferencedImageId(\n    viewport: Types.IStackViewport | Types.IVolumeViewport\n  ): string {\n    const targetId = this.getTargetId(viewport);\n\n    let referencedImageId;\n\n    if (viewport instanceof StackViewport) {\n      referencedImageId = targetId.split('imageId:')[1];\n    }\n\n    return referencedImageId;\n  }\n\n  preMouseDownCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { element, currentPoints } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    if (!(viewport instanceof StackViewport)) {\n      throw new Error('MagnifyTool only works on StackViewports');\n    }\n\n    const referencedImageId = this._getReferencedImageId(viewport);\n\n    if (!referencedImageId) {\n      throw new Error(\n        'MagnifyTool: No referenced image id found, reconstructed planes not supported yet'\n      );\n    }\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      referencedImageId,\n      viewportIdsToRender,\n      enabledElement,\n      renderingEngine,\n      currentPoints,\n    };\n\n    this._createMagnificationViewport();\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return true;\n  };\n\n  preTouchStartCallback = (evt: EventTypes.InteractionEventType) => {\n    this.preMouseDownCallback(evt);\n  };\n\n  _createMagnificationViewport = () => {\n    const {\n      enabledElement,\n      referencedImageId,\n      viewportIdsToRender,\n      renderingEngine,\n      currentPoints,\n    } = this.editData;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n    const { voiRange } = viewport.getProperties();\n\n    const { canvas: canvasPos, world: worldPos } = currentPoints;\n\n    let magnifyToolElement: HTMLDivElement;\n\n    magnifyToolElement = element.querySelector('.magnifyTool');\n    if (magnifyToolElement === null) {\n      const magnifyElement = document.createElement('div');\n\n      magnifyElement.classList.add('magnifyTool');\n\n      magnifyElement.style.display = 'block';\n      magnifyElement.style.width = `${this.configuration.magnifyWidth}px`;\n      magnifyElement.style.height = `${this.configuration.magnifyHeight}px`;\n      magnifyElement.style.position = 'absolute';\n\n      magnifyToolElement = magnifyElement;\n\n      const viewportElement = element.querySelector('.viewport-element');\n      viewportElement.appendChild(magnifyElement);\n\n      const viewportInput = {\n        viewportId: MAGNIFY_VIEWPORT_ID,\n        type: Enums.ViewportType.STACK,\n        element: magnifyToolElement as HTMLDivElement,\n      };\n\n      renderingEngine.enableElement(viewportInput);\n    }\n\n    // Todo: use CSS transform instead of setting top and left for better performance\n    magnifyToolElement.style.top = `${\n      canvasPos[1] - this.configuration.magnifyHeight / 2\n    }px`;\n    magnifyToolElement.style.left = `${\n      canvasPos[0] - this.configuration.magnifyWidth / 2\n    }px`;\n\n    const magnifyViewport = renderingEngine.getViewport(\n      MAGNIFY_VIEWPORT_ID\n    ) as Types.IStackViewport;\n\n    magnifyViewport.setStack([referencedImageId]).then(() => {\n      // match the original viewport voi range\n      magnifyViewport.setProperties({ voiRange });\n\n      // Use the original viewport for the base for parallelScale\n      const { parallelScale } = viewport.getCamera();\n\n      const { focalPoint, position, viewPlaneNormal } =\n        magnifyViewport.getCamera();\n\n      const distance = Math.sqrt(\n        Math.pow(focalPoint[0] - position[0], 2) +\n          Math.pow(focalPoint[1] - position[1], 2) +\n          Math.pow(focalPoint[2] - position[2], 2)\n      );\n\n      const updatedFocalPoint = <Types.Point3>[\n        worldPos[0],\n        worldPos[1],\n        worldPos[2],\n      ];\n\n      const updatedPosition = <Types.Point3>[\n        updatedFocalPoint[0] + distance * viewPlaneNormal[0],\n        updatedFocalPoint[1] + distance * viewPlaneNormal[1],\n        updatedFocalPoint[2] + distance * viewPlaneNormal[2],\n      ];\n\n      magnifyViewport.setCamera({\n        parallelScale: parallelScale * (1 / this.configuration.magnifySize),\n        focalPoint: updatedFocalPoint,\n        position: updatedPosition,\n      });\n      magnifyViewport.render();\n    });\n\n    magnifyToolElement.style.display = 'block';\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n\n    const { deltaPoints, element, currentPoints } = eventDetail;\n    const deltaPointsWorld = deltaPoints.world;\n    const canvasPos = currentPoints.canvas;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    const magnifyViewport = renderingEngine.getViewport(MAGNIFY_VIEWPORT_ID);\n\n    const magnifyElement = element.querySelector(\n      '.magnifyTool'\n    ) as HTMLDivElement;\n\n    if (!magnifyElement) {\n      return;\n    }\n\n    magnifyElement.style.top = `${\n      canvasPos[1] - this.configuration.magnifyHeight / 2\n    }px`;\n    magnifyElement.style.left = `${\n      canvasPos[0] - this.configuration.magnifyWidth / 2\n    }px`;\n\n    const { focalPoint, position } = magnifyViewport.getCamera();\n\n    const updatedPosition = <Types.Point3>[\n      position[0] + deltaPointsWorld[0],\n      position[1] + deltaPointsWorld[1],\n      position[2] + deltaPointsWorld[2],\n    ];\n\n    const updatedFocalPoint = <Types.Point3>[\n      focalPoint[0] + deltaPointsWorld[0],\n      focalPoint[1] + deltaPointsWorld[1],\n      focalPoint[2] + deltaPointsWorld[2],\n    ];\n\n    magnifyViewport.setCamera({\n      focalPoint: updatedFocalPoint,\n      position: updatedPosition,\n    });\n\n    magnifyViewport.render();\n  };\n\n  _dragEndCallback = (evt: EventTypes.InteractionEventType) => {\n    const { element } = evt.detail;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    renderingEngine.disableElement(MAGNIFY_VIEWPORT_ID);\n\n    const viewportElement = element.querySelector('.viewport-element');\n\n    const magnifyToolElement = viewportElement.querySelector(\n      '.magnifyTool'\n    ) as HTMLDivElement;\n\n    viewportElement.removeChild(magnifyToolElement);\n\n    this._deactivateDraw(element);\n    resetElementCursor(element);\n  };\n\n  _activateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._dragEndCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._dragEndCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._dragEndCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  _deactivateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._dragEndCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._dragEndCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._dragEndCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n}\n\nMagnifyTool.toolName = 'Magnify';\nexport default MagnifyTool;\n","import { vec3 } from 'gl-matrix';\nimport {\n  getRenderingEngines,\n  CONSTANTS,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { addAnnotation } from '../stateManagement/annotation/annotationState';\n\nimport { drawLine as drawLineSvg } from '../drawingSvg';\nimport { filterViewportsWithToolEnabled } from '../utilities/viewportFilters';\nimport triggerAnnotationRenderForViewportIds from '../utilities/triggerAnnotationRenderForViewportIds';\nimport { PublicToolProps, ToolProps, SVGDrawingHelper } from '../types';\nimport { ReferenceLineAnnotation } from '../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../types/AnnotationStyle';\nimport AnnotationDisplayTool from './base/AnnotationDisplayTool';\n\nconst { EPSILON } = CONSTANTS;\n\n/**\n * @public\n */\n\nclass ReferenceLines extends AnnotationDisplayTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    renderingEngine: any;\n    sourceViewport: any;\n    annotation: ReferenceLineAnnotation;\n  } | null = {} as any;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        sourceViewportId: '',\n        showFullDimension: false,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    // this._throttledCalculateCachedStats = throttle(\n    //   this._calculateCachedStats,\n    //   100,\n    //   { trailing: true }\n    // );\n  }\n\n  _init = (): void => {\n    const renderingEngines = getRenderingEngines();\n    const renderingEngine = renderingEngines[0];\n\n    // Todo: handle this case where it is too soon to get the rendering engine\n    if (!renderingEngine) {\n      return;\n    }\n\n    let viewports = renderingEngine.getViewports();\n    viewports = filterViewportsWithToolEnabled(viewports, this.getToolName());\n\n    const sourceViewport = renderingEngine.getViewport(\n      this.configuration.sourceViewportId\n    ) as Types.IVolumeViewport;\n\n    if (!sourceViewport || !sourceViewport.getImageData()) {\n      return;\n    }\n\n    const { element } = sourceViewport;\n    const { viewUp, viewPlaneNormal } = sourceViewport.getCamera();\n\n    const sourceViewportCanvasCornersInWorld =\n      csUtils.getViewportImageCornersInWorld(sourceViewport);\n\n    let annotation = this.editData.annotation;\n    const FrameOfReferenceUID = sourceViewport.getFrameOfReferenceUID();\n\n    if (!annotation) {\n      const newAnnotation: ReferenceLineAnnotation = {\n        highlighted: true,\n        invalidated: true,\n        metadata: {\n          toolName: this.getToolName(),\n          viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n          viewUp: <Types.Point3>[...viewUp],\n          FrameOfReferenceUID,\n          referencedImageId: null,\n        },\n        data: {\n          handles: {\n            points: sourceViewportCanvasCornersInWorld,\n          },\n        },\n      };\n\n      addAnnotation(newAnnotation, element);\n      annotation = newAnnotation;\n    } else {\n      this.editData.annotation.data.handles.points =\n        sourceViewportCanvasCornersInWorld;\n    }\n\n    this.editData = {\n      sourceViewport,\n      renderingEngine,\n      annotation,\n    };\n\n    triggerAnnotationRenderForViewportIds(\n      renderingEngine,\n      viewports\n        .filter((viewport) => viewport.id !== sourceViewport.id)\n        .map((viewport) => viewport.id)\n    );\n  };\n\n  onSetToolEnabled = (): void => {\n    this._init();\n  };\n\n  onCameraModified = (evt: Types.EventTypes.CameraModifiedEvent): void => {\n    // If the camera is modified, we need to update the reference lines\n    // we really don't care which viewport triggered the\n    // camera modification, since we want to update all of them\n    // with respect to the targetViewport\n    this._init();\n  };\n\n  /**\n   * it is used to draw the length annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    const { viewport: targetViewport } = enabledElement;\n    const { annotation, sourceViewport } = this.editData;\n\n    let renderStatus = false;\n\n    if (!sourceViewport) {\n      return renderStatus;\n    }\n\n    if (sourceViewport.id === targetViewport.id) {\n      // If the source viewport is the same as the current viewport, we don't need to render\n      return renderStatus;\n    }\n\n    if (!annotation || !annotation?.data?.handles?.points) {\n      return renderStatus;\n    }\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    // top left world, top right world, bottom right world, bottom left world\n    const topLeft = annotation.data.handles.points[0];\n    const topRight = annotation.data.handles.points[1];\n    const bottomLeft = annotation.data.handles.points[2];\n    const bottomRight = annotation.data.handles.points[3];\n\n    const { focalPoint, viewPlaneNormal, viewUp } = targetViewport.getCamera();\n    const { viewPlaneNormal: sourceViewPlaneNormal } =\n      sourceViewport.getCamera();\n\n    if (this.isParallel(viewPlaneNormal, sourceViewPlaneNormal)) {\n      // If the source and target viewports are parallel, we don't need to render\n      return renderStatus;\n    }\n\n    const targetViewportPlane = csUtils.planar.planeEquation(\n      viewPlaneNormal,\n      focalPoint\n    );\n\n    // check if the topLeft and bottomLeft line is parallel to the viewUp\n    const pointSet1 = [topLeft, bottomLeft, topRight, bottomRight];\n    const pointSet2 = [topLeft, topRight, bottomLeft, bottomRight];\n\n    let pointSetToUse = pointSet1;\n\n    let topBottomVec = vec3.subtract(vec3.create(), pointSet1[0], pointSet1[1]);\n    topBottomVec = vec3.normalize(vec3.create(), topBottomVec) as Types.Point3;\n\n    let topRightVec = vec3.subtract(vec3.create(), pointSet1[2], pointSet1[0]);\n    topRightVec = vec3.normalize(vec3.create(), topRightVec);\n\n    const newNormal = vec3.cross(\n      vec3.create(),\n      topBottomVec,\n      topRightVec\n    ) as Types.Point3;\n\n    if (this.isParallel(newNormal, viewPlaneNormal)) {\n      return renderStatus;\n    }\n\n    // check if it is perpendicular to the viewPlaneNormal which means\n    // the line does not intersect the viewPlaneNormal\n    if (this.isPerpendicular(topBottomVec, viewPlaneNormal)) {\n      // 'use pointSet2';\n      pointSetToUse = pointSet2;\n    }\n\n    const lineStartWorld = csUtils.planar.linePlaneIntersection(\n      pointSetToUse[0],\n      pointSetToUse[1],\n      targetViewportPlane\n    );\n\n    const lineEndWorld = csUtils.planar.linePlaneIntersection(\n      pointSetToUse[2],\n      pointSetToUse[3],\n      targetViewportPlane\n    );\n    const { annotationUID } = annotation;\n\n    styleSpecifier.annotationUID = annotationUID;\n    const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n    const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n    const color = this.getStyle('color', styleSpecifier, annotation);\n    const shadow = this.getStyle('shadow', styleSpecifier, annotation);\n\n    let canvasCoordinates = [lineStartWorld, lineEndWorld].map((world) =>\n      targetViewport.worldToCanvas(world)\n    );\n\n    if (this.configuration.showFullDimension) {\n      canvasCoordinates = this.handleFullDimension(\n        targetViewport,\n        lineStartWorld,\n        viewPlaneNormal,\n        viewUp,\n        lineEndWorld,\n        canvasCoordinates\n      );\n    }\n\n    const dataId = `${annotationUID}-line`;\n    const lineUID = '1';\n    drawLineSvg(\n      svgDrawingHelper,\n      annotationUID,\n      lineUID,\n      canvasCoordinates[0],\n      canvasCoordinates[1],\n      {\n        color,\n        width: lineWidth,\n        lineDash,\n        shadow,\n      },\n      dataId\n    );\n\n    renderStatus = true;\n\n    return renderStatus;\n  };\n\n  isPerpendicular = (vec1: Types.Point3, vec2: Types.Point3): boolean => {\n    const dot = vec3.dot(vec1, vec2);\n    return Math.abs(dot) < EPSILON;\n  };\n\n  private handleFullDimension(\n    targetViewport: Types.IStackViewport | Types.IVolumeViewport,\n    lineStartWorld: Types.Point3,\n    viewPlaneNormal: Types.Point3,\n    viewUp: Types.Point3,\n    lineEndWorld: Types.Point3,\n    canvasCoordinates: Types.Point2[]\n  ) {\n    const renderingEngine = targetViewport.getRenderingEngine();\n    const targetId = this.getTargetId(targetViewport);\n    const targetImage = this.getTargetIdImage(targetId, renderingEngine);\n\n    const referencedImageId = this.getReferencedImageId(\n      targetViewport,\n      lineStartWorld,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    if (referencedImageId && targetImage) {\n      try {\n        const { imageData, dimensions } = targetImage;\n\n        // Calculate bound image coordinates\n        const [\n          topLeftImageCoord,\n          topRightImageCoord,\n          bottomRightImageCoord,\n          bottomLeftImageCoord,\n        ] = [\n          imageData.indexToWorld([0, 0, 0]) as Types.Point3,\n          imageData.indexToWorld([dimensions[0] - 1, 0, 0]) as Types.Point3,\n          imageData.indexToWorld([\n            dimensions[0] - 1,\n            dimensions[1] - 1,\n            0,\n          ]) as Types.Point3,\n          imageData.indexToWorld([0, dimensions[1] - 1, 0]) as Types.Point3,\n        ].map((world) => csUtils.worldToImageCoords(referencedImageId, world));\n\n        // Calculate line start and end image coordinates\n        const [lineStartImageCoord, lineEndImageCoord] = [\n          lineStartWorld,\n          lineEndWorld,\n        ].map((world) => csUtils.worldToImageCoords(referencedImageId, world));\n\n        // Calculate intersection points between line and image bounds\n        canvasCoordinates = [\n          [topLeftImageCoord, topRightImageCoord],\n          [topRightImageCoord, bottomRightImageCoord],\n          [bottomLeftImageCoord, bottomRightImageCoord],\n          [topLeftImageCoord, bottomLeftImageCoord],\n        ]\n          .map(([start, end]) =>\n            this.intersectInfiniteLines(\n              start,\n              end,\n              lineStartImageCoord,\n              lineEndImageCoord\n            )\n          )\n          .filter((point) => point && this.isInBound(point, dimensions))\n          .map((point) => {\n            const world = csUtils.imageToWorldCoords(\n              referencedImageId,\n              point as Types.Point2\n            );\n            return targetViewport.worldToCanvas(world);\n          });\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    return canvasCoordinates;\n  }\n\n  // get the intersection point between two infinite lines, not line segments\n  intersectInfiniteLines(\n    line1Start: Types.Point2,\n    line1End: Types.Point2,\n    line2Start: Types.Point2,\n    line2End: Types.Point2\n  ) {\n    const [x1, y1] = line1Start;\n    const [x2, y2] = line1End;\n    const [x3, y3] = line2Start;\n    const [x4, y4] = line2End;\n\n    // Compute a1, b1, c1, where line joining points 1 and 2 is \"a1 x  +  b1 y  +  c1  =  0\"\n    const a1 = y2 - y1;\n    const b1 = x1 - x2;\n    const c1 = x2 * y1 - x1 * y2;\n\n    // Compute a2, b2, c2\n    const a2 = y4 - y3;\n    const b2 = x3 - x4;\n    const c2 = x4 * y3 - x3 * y4;\n\n    if (Math.abs(a1 * b2 - a2 * b1) < EPSILON) {\n      return;\n    }\n\n    const x = (b1 * c2 - b2 * c1) / (a1 * b2 - a2 * b1);\n    const y = (a2 * c1 - a1 * c2) / (a1 * b2 - a2 * b1);\n\n    return [x, y];\n  }\n\n  isParallel(vec1: Types.Point3, vec2: Types.Point3): boolean {\n    return Math.abs(vec3.dot(vec1, vec2)) > 1 - EPSILON;\n  }\n\n  isInBound(point: number[], dimensions: Types.Point3): boolean {\n    return (\n      point[0] >= 0 &&\n      point[0] <= dimensions[0] &&\n      point[1] >= 0 &&\n      point[1] <= dimensions[1]\n    );\n  }\n}\n\nReferenceLines.toolName = 'ReferenceLines';\nexport default ReferenceLines;\n","import { vec3 } from 'gl-matrix';\nimport {\n  metaData,\n  CONSTANTS,\n  getRenderingEngine,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  addAnnotation,\n  getAnnotations,\n} from '../stateManagement/annotation/annotationState';\n\nimport { getToolGroup } from '../store/ToolGroupManager';\n\nimport { drawLine as drawLineSvg } from '../drawingSvg';\nimport triggerAnnotationRenderForViewportIds from '../utilities/triggerAnnotationRenderForViewportIds';\n\nimport {\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n  Annotation,\n} from '../types';\nimport { StyleSpecifier } from '../types/AnnotationStyle';\nimport AnnotationDisplayTool from './base/AnnotationDisplayTool';\n\nconst { EPSILON } = CONSTANTS;\n\nexport interface OverlayGridAnnotation extends Annotation {\n  data: {\n    viewportData: Map<string, object>;\n    pointSets: Array<object>;\n  };\n}\n\n/**\n * @public\n */\nclass OverlayGridTool extends AnnotationDisplayTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        sourceImageIds: [],\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  onSetToolEnabled = (): void => {\n    this._init();\n  };\n\n  onSetToolActive = (): void => {\n    this._init();\n  };\n\n  _init = (): void => {\n    const sourceImageIds = this.configuration.sourceImageIds;\n    if (!sourceImageIds?.length) {\n      console.warn(\n        'OverlayGridTool: No sourceImageIds provided in configuration'\n      );\n      return;\n    }\n\n    const imagePlaneModule = metaData.get(\n      'imagePlaneModule',\n      sourceImageIds[0]\n    );\n\n    if (!imagePlaneModule) {\n      console.warn(\n        'OverlayGridTool: No imagePlaneModule found for sourceImageIds'\n      );\n      return;\n    }\n\n    const { frameOfReferenceUID } = imagePlaneModule;\n\n    const viewportsInfo = getToolGroup(this.toolGroupId).viewportsInfo;\n\n    if (!viewportsInfo?.length) {\n      console.warn('OverlayGridTool: No viewports found');\n      return;\n    }\n\n    const annotations = getAnnotations(this.getToolName(), frameOfReferenceUID);\n\n    if (!annotations?.length) {\n      const pointSets = sourceImageIds.map((id) => {\n        // check if pointSets for the imageId was calculated. If not calculate and store\n        return this.calculateImageIdPointSets(id);\n      });\n\n      const newAnnotation: OverlayGridAnnotation = {\n        highlighted: true,\n        invalidated: true,\n        metadata: {\n          toolName: this.getToolName(),\n          FrameOfReferenceUID: frameOfReferenceUID,\n          referencedImageId: null,\n        },\n        data: {\n          viewportData: new Map(),\n          pointSets,\n        },\n      };\n\n      addAnnotation(newAnnotation, frameOfReferenceUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(\n      getRenderingEngine(viewportsInfo[0].renderingEngineId),\n      viewportsInfo.map(({ viewportId }) => viewportId)\n    );\n  };\n\n  /**\n   * Calculates the point sets based on the image corners relative to an imageId\n   * @param imageId - The imageId to calculate the point sets for\n   * @returns\n   */\n  calculateImageIdPointSets = (imageId: string) => {\n    const {\n      imagePositionPatient,\n      rows,\n      columns,\n      rowCosines,\n      columnCosines,\n      rowPixelSpacing,\n      columnPixelSpacing,\n    } = metaData.get('imagePlaneModule', imageId);\n\n    // top left world, top right world, bottom right world, bottom left world\n    const topLeft = <Types.Point3>[...imagePositionPatient];\n    const topRight = <Types.Point3>[...imagePositionPatient];\n    const bottomLeft = <Types.Point3>[...imagePositionPatient];\n    const bottomRight = <Types.Point3>[...imagePositionPatient];\n\n    vec3.scaleAndAdd(\n      topRight,\n      imagePositionPatient,\n      columnCosines,\n      columns * columnPixelSpacing\n    );\n    vec3.scaleAndAdd(\n      bottomLeft,\n      imagePositionPatient,\n      rowCosines,\n      rows * rowPixelSpacing\n    );\n\n    vec3.scaleAndAdd(\n      bottomRight,\n      bottomLeft,\n      columnCosines,\n      columns * columnPixelSpacing\n    );\n\n    // check if the topLeft and bottomLeft line is parallel to the viewUp\n    const pointSet1 = [topLeft, bottomLeft, topRight, bottomRight];\n    const pointSet2 = [topLeft, topRight, bottomLeft, bottomRight];\n\n    return { pointSet1, pointSet2 };\n  };\n\n  /**\n   * it is used to draw the length annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    const sourceImageIds = this.configuration.sourceImageIds;\n\n    let renderStatus = false;\n    if (!sourceImageIds?.length) {\n      return renderStatus;\n    }\n\n    const { viewport: targetViewport, FrameOfReferenceUID } = enabledElement;\n    const targetImageIds = targetViewport.getImageIds();\n    if (targetImageIds.length < 2) {\n      return renderStatus;\n    }\n\n    const annotations = getAnnotations(this.getToolName(), FrameOfReferenceUID);\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n    const annotation = annotations[0];\n    const { annotationUID } = annotation;\n\n    const { focalPoint, viewPlaneNormal } = targetViewport.getCamera();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n    const imageIdNormal = <Types.Point3>(\n      this.getImageIdNormal(sourceImageIds[0])\n    );\n\n    if (this.isParallel(viewPlaneNormal, imageIdNormal)) {\n      // If the source and target viewports are parallel, we don't need to render\n      return renderStatus;\n    }\n\n    const targetViewportPlane = csUtils.planar.planeEquation(\n      viewPlaneNormal,\n      focalPoint\n    );\n\n    const pointSets = annotation.data.pointSets;\n    const viewportData = annotation.data.viewportData;\n    for (let i = 0; i < sourceImageIds.length; i++) {\n      // check if pointSets for the imageId was calculated. If not calculate and store\n      const { pointSet1, pointSet2 } = pointSets[i];\n\n      const targetData =\n        viewportData.get(targetViewport.id) ||\n        this.initializeViewportData(viewportData, targetViewport.id);\n\n      // check if pointSetToUse was calculated. If not calculate and store\n      if (!targetData.pointSetsToUse[i]) {\n        let pointSetToUse = pointSet1;\n\n        let topBottomVec = vec3.subtract(\n          vec3.create(),\n          pointSet1[0],\n          pointSet1[1]\n        );\n        topBottomVec = vec3.normalize(\n          vec3.create(),\n          topBottomVec\n        ) as Types.Point3;\n\n        // check if it is perpendicular to the viewPlaneNormal which means\n        // the line does not intersect the viewPlaneNormal\n        if (this.isPerpendicular(topBottomVec, viewPlaneNormal)) {\n          // 'use pointSet2';\n          pointSetToUse = pointSet2;\n        }\n\n        targetData.pointSetsToUse[i] = pointSetToUse;\n\n        targetData.lineStartsWorld[i] = csUtils.planar.linePlaneIntersection(\n          pointSetToUse[0],\n          pointSetToUse[1],\n          targetViewportPlane\n        );\n\n        targetData.lineEndsWorld[i] = csUtils.planar.linePlaneIntersection(\n          pointSetToUse[2],\n          pointSetToUse[3],\n          targetViewportPlane\n        );\n      }\n\n      const lineStartWorld = targetData.lineStartsWorld[i];\n      const lineEndWorld = targetData.lineEndsWorld[i];\n\n      styleSpecifier.annotationUID = annotationUID;\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n      const shadow = this.getStyle('shadow', styleSpecifier, annotation);\n\n      const canvasCoordinates = [lineStartWorld, lineEndWorld].map((world) =>\n        targetViewport.worldToCanvas(world)\n      );\n\n      const dataId = `${annotationUID}-line`;\n      const lineUID = `${i}`;\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[0],\n        canvasCoordinates[1],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n          shadow,\n        },\n        dataId\n      );\n    }\n\n    renderStatus = true;\n\n    return renderStatus;\n  };\n\n  private initializeViewportData = (viewportData, id) => {\n    viewportData.set(id, {\n      pointSetsToUse: [],\n      lineStartsWorld: [],\n      lineEndsWorld: [],\n    });\n\n    return viewportData.get(id);\n  };\n\n  private isPerpendicular = (\n    vec1: Types.Point3,\n    vec2: Types.Point3\n  ): boolean => {\n    const dot = vec3.dot(vec1, vec2);\n    return Math.abs(dot) < EPSILON;\n  };\n\n  private isParallel(vec1: Types.Point3, vec2: Types.Point3): boolean {\n    return Math.abs(vec3.dot(vec1, vec2)) > 1 - EPSILON;\n  }\n\n  private getImageIdNormal(imageId: string): vec3 {\n    const { imageOrientationPatient } = metaData.get(\n      'imagePlaneModule',\n      imageId\n    );\n    const rowCosineVec = vec3.fromValues(\n      imageOrientationPatient[0],\n      imageOrientationPatient[1],\n      imageOrientationPatient[2]\n    );\n    const colCosineVec = vec3.fromValues(\n      imageOrientationPatient[3],\n      imageOrientationPatient[4],\n      imageOrientationPatient[5]\n    );\n    return vec3.cross(vec3.create(), rowCosineVec, colCosineVec);\n  }\n}\n\nOverlayGridTool.toolName = 'OverlayGrid';\nexport default OverlayGridTool;\n","import { Enums } from '@cornerstonejs/core';\n\nconst { CalibrationTypes } = Enums;\nconst PIXEL_UNITS = 'px';\n\n/**\n * Extracts the length units and the type of calibration for those units\n * into the response.  The length units will typically be either mm or px\n * while the calibration type can be any of a number of different calibraiton types.\n *\n * Volumetric images have no calibration type, so are just the raw mm.\n *\n * TODO: Handle region calibration\n *\n * @param handles - used to detect if the spacing information is different\n *   between various points (eg angled ERMF or US Region).\n *   Currently unused, but needed for correct US Region handling\n * @param image - to extract the calibration from\n *        image.calibration - calibration value to extract units form\n * @returns String containing the units and type of calibration\n */\nconst getCalibratedLengthUnits = (handles, image): string => {\n  const { calibration, hasPixelSpacing } = image;\n  // Anachronistic - moving to using calibration consistently, but not completed yet\n  const units = hasPixelSpacing ? 'mm' : PIXEL_UNITS;\n  if (!calibration || !calibration.type) {\n    return units;\n  }\n  if (calibration.type === CalibrationTypes.UNCALIBRATED) {\n    return PIXEL_UNITS;\n  }\n  // TODO - handle US regions properly\n  if (calibration.SequenceOfUltrasoundRegions) {\n    return 'US Region';\n  }\n  return `${units} ${calibration.type}`;\n};\n\nconst SQUARE = '\\xb2';\n/**\n *  Extracts the area units, including the squared sign plus calibration type.\n */\nconst getCalibratedAreaUnits = (handles, image): string => {\n  const { calibration, hasPixelSpacing } = image;\n  const units = (hasPixelSpacing ? 'mm' : PIXEL_UNITS) + SQUARE;\n  if (!calibration || !calibration.type) {\n    return units;\n  }\n  if (calibration.SequenceOfUltrasoundRegions) {\n    return 'US Region';\n  }\n  return `${units} ${calibration.type}`;\n};\n\n/**\n * Gets the scale divisor for converting from internal spacing to\n * image spacing for calibrated images.\n */\nconst getCalibratedScale = (image) => image.calibration?.scale || 1;\n\n/** Gets the aspect ratio of the screen display relative to the image\n * display in order to square up measurement values.\n * That is, suppose the spacing on the image is 1, 0.5 (x,y spacing)\n * This is displayed at 1, 1 spacing on screen, then the\n * aspect value will be 1/0.5 = 2\n */\nconst getCalibratedAspect = (image) => image.calibration?.aspect || 1;\n\nexport default getCalibratedLengthUnits;\n\nexport {\n  getCalibratedAreaUnits,\n  getCalibratedLengthUnits,\n  getCalibratedScale,\n  getCalibratedAspect,\n};\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * Determine the coordinates that will place the textbox to the right of the\n * annotation.\n *\n * @param annotationCanvasPoints - The canvas points of the annotation's handles.\n * @returns - The coordinates for default placement of the textbox.\n */\nexport default function getTextBoxCoordsCanvas(\n  annotationCanvasPoints: Array<Types.Point2>\n): Types.Point2 {\n  const corners = _determineCorners(annotationCanvasPoints);\n  const centerY = (corners.top[1] + corners.bottom[1]) / 2;\n  const textBoxCanvas = <Types.Point2>[corners.right[0], centerY];\n\n  return textBoxCanvas;\n}\n\n/**\n * Determine the handles that have the min/max x and y values.\n *\n * @param canvasPoints - The canvas points of the annotation's handles.\n * @returns - The top, left, bottom, and right handles.\n */\nfunction _determineCorners(canvasPoints: Array<Types.Point2>) {\n  const handlesLeftToRight = [canvasPoints[0], canvasPoints[1]].sort(_compareX);\n  const handlesTopToBottom = [canvasPoints[0], canvasPoints[1]].sort(_compareY);\n  const right = handlesLeftToRight[handlesLeftToRight.length - 1];\n  const top = handlesTopToBottom[0];\n  const bottom = handlesTopToBottom[handlesTopToBottom.length - 1];\n\n  return {\n    top,\n    bottom,\n    right,\n  };\n\n  function _compareX(a, b) {\n    return a[0] < b[0] ? -1 : 1;\n  }\n  function _compareY(a, b) {\n    return a[1] < b[1] ? -1 : 1;\n  }\n}\n","import { vec2, vec3 } from 'gl-matrix';\nimport {\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  getCalibratedLengthUnits,\n  getCalibratedScale,\n} from '../../utilities/getCalibratedUnits';\nimport roundNumber from '../../utilities/roundNumber';\nimport { AnnotationTool } from '../base';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport {\n  drawLine as drawLineSvg,\n  drawHandles as drawHandlesSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { Events } from '../../enums';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport * as lineSegment from '../../utilities/math/line';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  InteractionTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { BidirectionalAnnotation } from '../../types/ToolSpecificAnnotationTypes';\n\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n  MouseDragEventType,\n  MouseMoveEventType,\n} from '../../types/EventTypes';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * BidirectionalTool let you draw annotations that measures the length and\n * width at the same time in `mm` unit. It is consisted of two perpendicular lines and\n * a text box. You can use the BidirectionalTool in all planes even in oblique\n * reconstructed planes. Note: annotation tools in cornerstone3DTools exists in the exact location\n * in the physical 3d space, as a result, by default, all annotations that are\n * drawing in the same frameOfReference will get shared between viewports that\n * are in the same frameOfReference.\n *\n * The resulting annotation's data (statistics) and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * ```js\n * cornerstoneTools.addTool(BidirectionalTool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(BidirectionalTool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(BidirectionalTool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n * ```\n *\n * Read more in the Docs section of the website.\n */\n\nclass BidirectionalTool extends AnnotationTool {\n  static toolName;\n\n  touchDragCallback: any;\n  mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n  preventHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a Bidirectional Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation(\n    evt: EventTypes.InteractionEventType\n  ): BidirectionalAnnotation {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation: BidirectionalAnnotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        handles: {\n          points: [\n            // long\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            // short\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n          ],\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n          activeHandleIndex: null,\n        },\n        label: '',\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 1,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  }\n\n  /**\n   * It returns if the canvas point is near the provided annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: BidirectionalAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    // Check long axis\n    let canvasPoint1 = viewport.worldToCanvas(points[0]);\n    let canvasPoint2 = viewport.worldToCanvas(points[1]);\n\n    let line = {\n      start: {\n        x: canvasPoint1[0],\n        y: canvasPoint1[1],\n      },\n      end: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n    };\n\n    let distanceToPoint = lineSegment.distanceToPoint(\n      [line.start.x, line.start.y],\n      [line.end.x, line.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint <= proximity) {\n      return true;\n    }\n\n    // Check short axis\n    canvasPoint1 = viewport.worldToCanvas(points[2]);\n    canvasPoint2 = viewport.worldToCanvas(points[3]);\n\n    line = {\n      start: {\n        x: canvasPoint1[0],\n        y: canvasPoint1[1],\n      },\n      end: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n    };\n\n    distanceToPoint = lineSegment.distanceToPoint(\n      [line.start.x, line.start.y],\n      [line.end.x, line.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint <= proximity) {\n      return true;\n    }\n\n    return false;\n  };\n\n  /**\n   * Handles the toolSelected callback for bidirectional tool\n   * @param evt - EventTypes.MouseDownEventType\n   * @param annotation - Bidirectional annotation\n   * @param interactionType - interaction type (mouse, touch)\n   */\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: BidirectionalAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    this._activateModify(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n  };\n\n  /**\n   * Executes the callback for when mouse has selected a handle (anchor point) of\n   * the bidirectional tool or when the text box has been selected.\n   *\n   * @param evt - EventTypes.MouseDownEventType\n   * @param annotation - Bidirectional annotation\n   * @param handle - Handle index or selected textBox information\n   * @param interactionType - interaction type (mouse, touch)\n   */\n  handleSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: BidirectionalAnnotation,\n    handle: ToolHandle\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const data = annotation.data;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      handleIndex = data.handles.points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    hideElementCursor(element);\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  /**\n   * Handles the mouse up action for the bidirectional tool. It can be at the end\n   * of the annotation drawing (MouseUpEventType) or when the user clicks and release\n   * the mouse button instantly which let to the annotation to draw without holding\n   * the mouse button (MouseClickEventType).\n   *\n   * @param evt - mouse up or mouse click event types\n   */\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    if (this.editData.handleIndex !== undefined) {\n      const { points } = data.handles;\n      const firstLineSegmentLength = vec3.distance(points[0], points[1]);\n      const secondLineSegmentLength = vec3.distance(points[2], points[3]);\n\n      if (secondLineSegmentLength > firstLineSegmentLength) {\n        // Switch points so [0,1] is the long axis and [2,3] is the short axis.\n\n        const longAxis = [[...points[2]], [...points[3]]];\n\n        const shortAxisPoint0 = [...points[0]];\n        const shortAxisPoint1 = [...points[1]];\n\n        // shortAxis[0->1] should be perpendicular (counter-clockwise) to longAxis[0->1]\n        const longAxisVector = vec2.create();\n\n        vec2.set(\n          longAxisVector,\n          longAxis[1][0] - longAxis[0][0],\n          longAxis[1][1] - longAxis[1][0]\n        );\n\n        const counterClockWisePerpendicularToLongAxis = vec2.create();\n\n        vec2.set(\n          counterClockWisePerpendicularToLongAxis,\n          -longAxisVector[1],\n          longAxisVector[0]\n        );\n\n        const currentShortAxisVector = vec2.create();\n\n        vec2.set(\n          currentShortAxisVector,\n          shortAxisPoint1[0] - shortAxisPoint0[0],\n          shortAxisPoint1[1] - shortAxisPoint0[0]\n        );\n\n        let shortAxis;\n\n        if (\n          vec2.dot(\n            currentShortAxisVector,\n            counterClockWisePerpendicularToLongAxis\n          ) > 0\n        ) {\n          shortAxis = [shortAxisPoint0, shortAxisPoint1];\n        } else {\n          shortAxis = [shortAxisPoint1, shortAxisPoint0];\n        }\n\n        data.handles.points = [\n          longAxis[0],\n          longAxis[1],\n          shortAxis[0],\n          shortAxis[1],\n        ];\n      }\n    }\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n\n    this.editData = null;\n    this.isDrawing = false;\n  };\n\n  /**\n   * @param evt - mouse move event type or mouse drag\n   */\n  _dragDrawCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n    const { worldToCanvas } = viewport;\n    const { annotation, viewportIdsToRender, handleIndex } = this.editData;\n    const { data } = annotation;\n\n    const worldPos = currentPoints.world;\n\n    // Update first move handle\n    data.handles.points[handleIndex] = [...worldPos];\n\n    const canvasCoordPoints = data.handles.points.map(worldToCanvas);\n\n    const canvasCoords = {\n      longLineSegment: {\n        start: {\n          x: canvasCoordPoints[0][0],\n          y: canvasCoordPoints[0][1],\n        },\n        end: {\n          x: canvasCoordPoints[1][0],\n          y: canvasCoordPoints[1][1],\n        },\n      },\n      shortLineSegment: {\n        start: {\n          x: canvasCoordPoints[2][0],\n          y: canvasCoordPoints[2][1],\n        },\n        end: {\n          x: canvasCoordPoints[3][0],\n          y: canvasCoordPoints[3][1],\n        },\n      },\n    };\n\n    // ~~ calculate worldPos of our short axis handles\n    // short axis is perpendicular to long axis, and we set its length to be 2/3 of long axis\n    // (meaning each)\n    const dist = vec2.distance(canvasCoordPoints[0], canvasCoordPoints[1]);\n\n    const shortAxisDistFromCenter = dist / 3;\n    // Calculate long line's incline\n    const dx =\n      canvasCoords.longLineSegment.start.x - canvasCoords.longLineSegment.end.x;\n    const dy =\n      canvasCoords.longLineSegment.start.y - canvasCoords.longLineSegment.end.y;\n    const length = Math.sqrt(dx * dx + dy * dy);\n    const vectorX = dx / length;\n    const vectorY = dy / length;\n    // middle point between long line segment's points\n    const xMid =\n      (canvasCoords.longLineSegment.start.x +\n        canvasCoords.longLineSegment.end.x) /\n      2;\n    const yMid =\n      (canvasCoords.longLineSegment.start.y +\n        canvasCoords.longLineSegment.end.y) /\n      2;\n    // short points 1/3 distance from center of long points\n    const startX = xMid + shortAxisDistFromCenter * vectorY;\n    const startY = yMid - shortAxisDistFromCenter * vectorX;\n    const endX = xMid - shortAxisDistFromCenter * vectorY;\n    const endY = yMid + shortAxisDistFromCenter * vectorX;\n\n    // Update perpendicular line segment's points\n    data.handles.points[2] = viewport.canvasToWorld([startX, startY]);\n    data.handles.points[3] = viewport.canvasToWorld([endX, endY]);\n\n    annotation.invalidated = true;\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    this.editData.hasMoved = true;\n  };\n\n  /**\n   * Mouse drag to edit annotation callback\n   * @param evt - mouse drag event\n   */\n  _dragModifyCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n    if (movingTextBox) {\n      const { deltaPoints } = eventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Moving tool\n      const { deltaPoints } = eventDetail;\n      const worldPosDelta = deltaPoints.world;\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      this._dragModifyHandle(evt);\n      annotation.invalidated = true;\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  /**\n   * Mouse dragging a handle callback\n   * @param evt - mouse drag event\n   */\n  _dragModifyHandle = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { annotation, handleIndex: movingHandleIndex } = this.editData;\n    const { data } = annotation;\n\n    // Moving handle\n    const worldPos = currentPoints.world;\n    const canvasCoordHandlesCurrent = [\n      viewport.worldToCanvas(data.handles.points[0]),\n      viewport.worldToCanvas(data.handles.points[1]),\n      viewport.worldToCanvas(data.handles.points[2]),\n      viewport.worldToCanvas(data.handles.points[3]),\n    ];\n\n    const firstLineSegment = {\n      start: {\n        x: canvasCoordHandlesCurrent[0][0],\n        y: canvasCoordHandlesCurrent[0][1],\n      },\n      end: {\n        x: canvasCoordHandlesCurrent[1][0],\n        y: canvasCoordHandlesCurrent[1][1],\n      },\n    };\n    const secondLineSegment = {\n      start: {\n        x: canvasCoordHandlesCurrent[2][0],\n        y: canvasCoordHandlesCurrent[2][1],\n      },\n      end: {\n        x: canvasCoordHandlesCurrent[3][0],\n        y: canvasCoordHandlesCurrent[3][1],\n      },\n    };\n\n    // Handle we've selected's proposed point\n    const proposedPoint = <Types.Point3>[...worldPos];\n    const proposedCanvasCoord = viewport.worldToCanvas(proposedPoint);\n\n    if (movingHandleIndex === 0 || movingHandleIndex === 1) {\n      const fixedHandleIndex = movingHandleIndex === 0 ? 1 : 0;\n\n      const fixedHandleCanvasCoord =\n        canvasCoordHandlesCurrent[fixedHandleIndex];\n\n      const fixedHandleToProposedCoordVec = vec2.set(\n        vec2.create(),\n        proposedCanvasCoord[0] - fixedHandleCanvasCoord[0],\n        proposedCanvasCoord[1] - fixedHandleCanvasCoord[1]\n      );\n\n      const fixedHandleToOldCoordVec = vec2.set(\n        vec2.create(),\n        canvasCoordHandlesCurrent[movingHandleIndex][0] -\n          fixedHandleCanvasCoord[0],\n        canvasCoordHandlesCurrent[movingHandleIndex][1] -\n          fixedHandleCanvasCoord[1]\n      );\n\n      // normalize vector\n      vec2.normalize(\n        fixedHandleToProposedCoordVec,\n        fixedHandleToProposedCoordVec\n      );\n      vec2.normalize(fixedHandleToOldCoordVec, fixedHandleToOldCoordVec);\n\n      // Check whether this\n      const proposedFirstLineSegment = {\n        start: {\n          x: fixedHandleCanvasCoord[0],\n          y: fixedHandleCanvasCoord[1],\n        },\n        end: {\n          x: proposedCanvasCoord[0],\n          y: proposedCanvasCoord[1],\n        },\n      };\n\n      // Note: this is the case when we are modifying the long axis line segment\n      // and we make it shorter and shorter until its second half size becomes zero\n      // which basically means that any more modification would make the long axis\n      // second half disappear. In this case, we just bail out and do not update\n      // since we don't want to disrupt the bidirectional shape.\n      if (\n        this._movingLongAxisWouldPutItThroughShortAxis(\n          proposedFirstLineSegment,\n          secondLineSegment\n        )\n      ) {\n        return;\n      }\n\n      const centerOfRotation = fixedHandleCanvasCoord;\n\n      const angle = this._getSignedAngle(\n        fixedHandleToOldCoordVec,\n        fixedHandleToProposedCoordVec\n      );\n\n      // rotate handles around the center of rotation, first translate to origin,\n      // then rotate, then translate back\n      let firstPointX = canvasCoordHandlesCurrent[2][0];\n      let firstPointY = canvasCoordHandlesCurrent[2][1];\n\n      let secondPointX = canvasCoordHandlesCurrent[3][0];\n      let secondPointY = canvasCoordHandlesCurrent[3][1];\n\n      // translate to origin\n      firstPointX -= centerOfRotation[0];\n      firstPointY -= centerOfRotation[1];\n\n      secondPointX -= centerOfRotation[0];\n      secondPointY -= centerOfRotation[1];\n\n      // rotate\n      const rotatedFirstPoint =\n        firstPointX * Math.cos(angle) - firstPointY * Math.sin(angle);\n      const rotatedFirstPointY =\n        firstPointX * Math.sin(angle) + firstPointY * Math.cos(angle);\n\n      const rotatedSecondPoint =\n        secondPointX * Math.cos(angle) - secondPointY * Math.sin(angle);\n      const rotatedSecondPointY =\n        secondPointX * Math.sin(angle) + secondPointY * Math.cos(angle);\n\n      // translate back\n      firstPointX = rotatedFirstPoint + centerOfRotation[0];\n      firstPointY = rotatedFirstPointY + centerOfRotation[1];\n\n      secondPointX = rotatedSecondPoint + centerOfRotation[0];\n      secondPointY = rotatedSecondPointY + centerOfRotation[1];\n\n      // update handles\n      const newFirstPoint = viewport.canvasToWorld([firstPointX, firstPointY]);\n      const newSecondPoint = viewport.canvasToWorld([\n        secondPointX,\n        secondPointY,\n      ]);\n\n      // the fixed handle is the one that is not being moved so we\n      // don't need to update it\n      data.handles.points[movingHandleIndex] = proposedPoint;\n      data.handles.points[2] = newFirstPoint;\n      data.handles.points[3] = newSecondPoint;\n    } else {\n      // Translation manipulator\n      const translateHandleIndex = movingHandleIndex === 2 ? 3 : 2;\n\n      const canvasCoordsCurrent = {\n        longLineSegment: {\n          start: firstLineSegment.start,\n          end: firstLineSegment.end,\n        },\n        shortLineSegment: {\n          start: secondLineSegment.start,\n          end: secondLineSegment.end,\n        },\n      };\n\n      const longLineSegmentVec = vec2.subtract(\n        vec2.create(),\n        [\n          canvasCoordsCurrent.longLineSegment.end.x,\n          canvasCoordsCurrent.longLineSegment.end.y,\n        ],\n        [\n          canvasCoordsCurrent.longLineSegment.start.x,\n          canvasCoordsCurrent.longLineSegment.start.y,\n        ]\n      );\n\n      const longLineSegmentVecNormalized = vec2.normalize(\n        vec2.create(),\n        longLineSegmentVec\n      );\n\n      const proposedToCurrentVec = vec2.subtract(\n        vec2.create(),\n        [proposedCanvasCoord[0], proposedCanvasCoord[1]],\n        [\n          canvasCoordHandlesCurrent[movingHandleIndex][0],\n          canvasCoordHandlesCurrent[movingHandleIndex][1],\n        ]\n      );\n\n      const movementLength = vec2.length(proposedToCurrentVec);\n\n      const angle = this._getSignedAngle(\n        longLineSegmentVecNormalized,\n        proposedToCurrentVec\n      );\n\n      const movementAlongLineSegmentLength = Math.cos(angle) * movementLength;\n\n      const newTranslatedPoint = vec2.scaleAndAdd(\n        vec2.create(),\n        [\n          canvasCoordHandlesCurrent[translateHandleIndex][0],\n          canvasCoordHandlesCurrent[translateHandleIndex][1],\n        ],\n        longLineSegmentVecNormalized,\n        movementAlongLineSegmentLength\n      );\n\n      // don't update if it passes through the other line segment\n      if (\n        this._movingLongAxisWouldPutItThroughShortAxis(\n          {\n            start: {\n              x: proposedCanvasCoord[0],\n              y: proposedCanvasCoord[1],\n            },\n            end: {\n              x: newTranslatedPoint[0],\n              y: newTranslatedPoint[1],\n            },\n          },\n          {\n            start: {\n              x: canvasCoordsCurrent.longLineSegment.start.x,\n              y: canvasCoordsCurrent.longLineSegment.start.y,\n            },\n            end: {\n              x: canvasCoordsCurrent.longLineSegment.end.x,\n              y: canvasCoordsCurrent.longLineSegment.end.y,\n            },\n          }\n        )\n      ) {\n        return;\n      }\n\n      const intersectionPoint = lineSegment.intersectLine(\n        [proposedCanvasCoord[0], proposedCanvasCoord[1]],\n        [newTranslatedPoint[0], newTranslatedPoint[1]],\n        [firstLineSegment.start.x, firstLineSegment.start.y],\n        [firstLineSegment.end.x, firstLineSegment.end.y]\n      );\n\n      // don't update if it doesn't intersect\n      if (!intersectionPoint) {\n        return;\n      }\n\n      data.handles.points[translateHandleIndex] = viewport.canvasToWorld(\n        newTranslatedPoint as Types.Point2\n      );\n      data.handles.points[movingHandleIndex] = proposedPoint;\n    }\n  };\n\n  /**\n   * Cancels an ongoing drawing of a bidirectional annotation\n   * @param element - HTML Element\n   */\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateDraw = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragDrawCallback);\n    element.addEventListener(Events.MOUSE_MOVE, this._dragDrawCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragDrawCallback as EventListener\n    );\n  };\n\n  _deactivateDraw = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragDrawCallback);\n    element.removeEventListener(Events.MOUSE_MOVE, this._dragDrawCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragDrawCallback as EventListener\n    );\n  };\n\n  _activateModify = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragModifyCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragModifyCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n  };\n\n  _deactivateModify = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragModifyCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragModifyCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n  };\n\n  /**\n   * it is used to draw the bidirectional annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = true;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as BidirectionalAnnotation;\n      const { annotationUID, data } = annotation;\n      const { points, activeHandleIndex } = data.handles;\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n      const shadow = this.getStyle('shadow', styleSpecifier, annotation);\n\n      // If cachedStats does not exist, or the unit is missing (as part of import/hydration etc.),\n      // force to recalculate the stats from the points\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].unit == null\n      ) {\n        data.cachedStats[targetId] = {\n          length: null,\n          width: null,\n          unit: null,\n        };\n\n        this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          renderingEngine,\n          enabledElement\n        );\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          activeHandleCanvasCoords,\n          {\n            color,\n          }\n        );\n      }\n\n      const dataId1 = `${annotationUID}-line-1`;\n      const dataId2 = `${annotationUID}-line-2`;\n\n      const lineUID = '0';\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[0],\n        canvasCoordinates[1],\n        {\n          color,\n          lineDash,\n          lineWidth,\n          shadow,\n        },\n        dataId1\n      );\n\n      const secondLineUID = '1';\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        secondLineUID,\n        canvasCoordinates[2],\n        canvasCoordinates[3],\n        {\n          color,\n          lineDash,\n          lineWidth,\n          shadow,\n        },\n        dataId2\n      );\n\n      renderStatus = true;\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n      if (!textLines || textLines.length === 0) {\n        continue;\n      }\n\n      let canvasTextBoxCoords;\n\n      if (!data.handles.textBox.hasMoved) {\n        canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCoordinates);\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _movingLongAxisWouldPutItThroughShortAxis = (\n    firstLineSegment,\n    secondLineSegment\n  ) => {\n    const vectorInSecondLineDirection = vec2.create();\n\n    vec2.set(\n      vectorInSecondLineDirection,\n      secondLineSegment.end.x - secondLineSegment.start.x,\n      secondLineSegment.end.y - secondLineSegment.start.y\n    );\n\n    vec2.normalize(vectorInSecondLineDirection, vectorInSecondLineDirection);\n\n    const extendedSecondLineSegment = {\n      start: {\n        x: secondLineSegment.start.x - vectorInSecondLineDirection[0] * 10,\n        y: secondLineSegment.start.y - vectorInSecondLineDirection[1] * 10,\n      },\n      end: {\n        x: secondLineSegment.end.x + vectorInSecondLineDirection[0] * 10,\n        y: secondLineSegment.end.y + vectorInSecondLineDirection[1] * 10,\n      },\n    };\n\n    // Add some buffer in the secondLineSegment when finding the proposedIntersectionPoint\n    // Of points to stop us getting stack when rotating quickly.\n\n    const proposedIntersectionPoint = lineSegment.intersectLine(\n      [extendedSecondLineSegment.start.x, extendedSecondLineSegment.start.y],\n      [extendedSecondLineSegment.end.x, extendedSecondLineSegment.end.y],\n      [firstLineSegment.start.x, firstLineSegment.start.y],\n      [firstLineSegment.end.x, firstLineSegment.end.y]\n    );\n\n    const wouldPutThroughShortAxis = !proposedIntersectionPoint;\n\n    return wouldPutThroughShortAxis;\n  };\n\n  _calculateLength(pos1, pos2) {\n    const dx = pos1[0] - pos2[0];\n    const dy = pos1[1] - pos2[1];\n    const dz = pos1[2] - pos2[2];\n\n    return Math.sqrt(dx * dx + dy * dy + dz * dz);\n  }\n\n  _calculateCachedStats = (annotation, renderingEngine, enabledElement) => {\n    const { data } = annotation;\n    const { viewportId, renderingEngineId } = enabledElement;\n\n    const worldPos1 = data.handles.points[0];\n    const worldPos2 = data.handles.points[1];\n    const worldPos3 = data.handles.points[2];\n    const worldPos4 = data.handles.points[3];\n\n    const { cachedStats } = data;\n    const targetIds = Object.keys(cachedStats);\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { imageData, dimensions } = image;\n      const scale = getCalibratedScale(image);\n      const dist1 = this._calculateLength(worldPos1, worldPos2) / scale;\n      const dist2 = this._calculateLength(worldPos3, worldPos4) / scale;\n      const length = dist1 > dist2 ? dist1 : dist2;\n      const width = dist1 > dist2 ? dist2 : dist1;\n\n      const index1 = transformWorldToIndex(imageData, worldPos1);\n      const index2 = transformWorldToIndex(imageData, worldPos2);\n      const index3 = transformWorldToIndex(imageData, worldPos3);\n      const index4 = transformWorldToIndex(imageData, worldPos4);\n\n      this._isInsideVolume(index1, index2, index3, index4, dimensions)\n        ? (this.isHandleOutsideImage = false)\n        : (this.isHandleOutsideImage = true);\n\n      cachedStats[targetId] = {\n        length,\n        width,\n        unit: getCalibratedLengthUnits(null, image),\n      };\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  };\n\n  _isInsideVolume = (index1, index2, index3, index4, dimensions): boolean => {\n    return (\n      csUtils.indexWithinDimensions(index1, dimensions) &&\n      csUtils.indexWithinDimensions(index2, dimensions) &&\n      csUtils.indexWithinDimensions(index3, dimensions) &&\n      csUtils.indexWithinDimensions(index4, dimensions)\n    );\n  };\n\n  _getSignedAngle = (vector1, vector2) => {\n    return Math.atan2(\n      vector1[0] * vector2[1] - vector1[1] * vector2[0],\n      vector1[0] * vector2[0] + vector1[1] * vector2[1]\n    );\n  };\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const { cachedStats } = data;\n  const { length, width, unit } = cachedStats[targetId];\n\n  if (length === undefined) {\n    return;\n  }\n\n  // spaceBetweenSlices & pixelSpacing &\n  // magnitude in each direction? Otherwise, this is \"px\"?\n  const textLines = [\n    `L: ${roundNumber(length)} ${unit}`,\n    `W: ${roundNumber(width)} ${unit}`,\n  ];\n\n  return textLines;\n}\n\nBidirectionalTool.toolName = 'Bidirectional';\nexport default BidirectionalTool;\n","import { Events } from '../../enums';\nimport {\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  getCalibratedLengthUnits,\n  getCalibratedScale,\n} from '../../utilities/getCalibratedUnits';\nimport roundNumber from '../../utilities/roundNumber';\nimport { AnnotationTool } from '../base';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport * as lineSegment from '../../utilities/math/line';\n\nimport {\n  drawHandles as drawHandlesSvg,\n  drawLine as drawLineSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\n\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n} from '../../types';\nimport { LengthAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * LengthTool let you draw annotations that measures the length of two drawing\n * points on a slice. You can use the LengthTool in all imaging planes even in oblique\n * reconstructed planes. Note: annotation tools in cornerstone3DTools exists in the exact location\n * in the physical 3d space, as a result, by default, all annotations that are\n * drawing in the same frameOfReference will get shared between viewports that\n * are in the same frameOfReference.\n *\n * The resulting annotation's data (statistics) and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * ```js\n * cornerstoneTools.addTool(LengthTool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(LengthTool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(LengthTool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n * ```\n *\n * Read more in the Docs section of the website.\n\n */\n\nclass LengthTool extends AnnotationTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a Length Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): LengthAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    hideElementCursor(element);\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        handles: {\n          points: [<Types.Point3>[...worldPos], <Types.Point3>[...worldPos]],\n          activeHandleIndex: null,\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n        },\n        label: '',\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 1,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided length annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: LengthAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { data } = annotation;\n    const [point1, point2] = data.handles.points;\n    const canvasPoint1 = viewport.worldToCanvas(point1);\n    const canvasPoint2 = viewport.worldToCanvas(point2);\n\n    const line = {\n      start: {\n        x: canvasPoint1[0],\n        y: canvasPoint1[1],\n      },\n      end: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n    };\n\n    const distanceToPoint = lineSegment.distanceToPoint(\n      [line.start.x, line.start.y],\n      [line.end.x, line.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint <= proximity) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: LengthAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback(\n    evt: EventTypes.InteractionEventType,\n    annotation: LengthAnnotation,\n    handle: ToolHandle\n  ): void {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      handleIndex = data.handles.points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  }\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      // when user starts the drawing by click, and moving the mouse, instead\n      // of click and drag\n      return;\n    }\n\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n\n    this.editData = null;\n    this.isDrawing = false;\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      // Drag mode - moving text box\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Drag mode - moving handle\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      // Move mode - after double click, and mouse move to draw\n      const { currentPoints } = eventDetail;\n      const worldPos = currentPoints.world;\n\n      data.handles.points[handleIndex] = [...worldPos];\n      annotation.invalidated = true;\n    }\n\n    this.editData.hasMoved = true;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n  };\n\n  _deactivateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n  };\n\n  _activateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_MOVE,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n  };\n\n  _deactivateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_MOVE,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n  };\n\n  /**\n   * it is used to draw the length annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    // Todo: We don't need this anymore, filtering happens in triggerAnnotationRender\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    // Draw SVG\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as LengthAnnotation;\n      const { annotationUID, data } = annotation;\n      const { points, activeHandleIndex } = data.handles;\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      // Todo: move these into annotationTool class\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n      const shadow = this.getStyle('shadow', styleSpecifier, annotation);\n\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      let activeHandleCanvasCoords;\n\n      // If cachedStats does not exist, or the unit is missing (as part of import/hydration etc.),\n      // force to recalculate the stats from the points\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].unit == null\n      ) {\n        data.cachedStats[targetId] = {\n          length: null,\n          unit: null,\n        };\n\n        this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          renderingEngine,\n          enabledElement\n        );\n      }\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          canvasCoordinates,\n          {\n            color,\n            lineDash,\n            lineWidth,\n          }\n        );\n      }\n\n      const dataId = `${annotationUID}-line`;\n      const lineUID = '1';\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[0],\n        canvasCoordinates[1],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n          shadow,\n        },\n        dataId\n      );\n\n      renderStatus = true;\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n\n      // Need to update to sync with annotation while unlinked/not moved\n      if (!data.handles.textBox.hasMoved) {\n        const canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCoordinates);\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _calculateLength(pos1, pos2) {\n    const dx = pos1[0] - pos2[0];\n    const dy = pos1[1] - pos2[1];\n    const dz = pos1[2] - pos2[2];\n\n    return Math.sqrt(dx * dx + dy * dy + dz * dz);\n  }\n\n  _calculateCachedStats(annotation, renderingEngine, enabledElement) {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId } = enabledElement;\n\n    const worldPos1 = data.handles.points[0];\n    const worldPos2 = data.handles.points[1];\n    const { cachedStats } = data;\n    const targetIds = Object.keys(cachedStats);\n\n    // TODO clean up, this doesn't need a length per volume, it has no stats derived from volumes.\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { imageData, dimensions } = image;\n      const scale = getCalibratedScale(image);\n\n      const length = this._calculateLength(worldPos1, worldPos2) / scale;\n\n      const index1 = transformWorldToIndex(imageData, worldPos1);\n      const index2 = transformWorldToIndex(imageData, worldPos2);\n\n      this._isInsideVolume(index1, index2, dimensions)\n        ? (this.isHandleOutsideImage = false)\n        : (this.isHandleOutsideImage = true);\n\n      // TODO -> Do we instead want to clip to the bounds of the volume and only include that portion?\n      // Seems like a lot of work for an unrealistic case. At the moment bail out of stat calculation if either\n      // corner is off the canvas.\n\n      // todo: add insideVolume calculation, for removing tool if outside\n      cachedStats[targetId] = {\n        length,\n        unit: getCalibratedLengthUnits(null, image),\n      };\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  }\n\n  _isInsideVolume(index1, index2, dimensions) {\n    return (\n      csUtils.indexWithinDimensions(index1, dimensions) &&\n      csUtils.indexWithinDimensions(index2, dimensions)\n    );\n  }\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { length, unit } = cachedVolumeStats;\n\n  // Can be null on load\n  if (length === undefined || length === null || isNaN(length)) {\n    return;\n  }\n\n  const textLines = [`${roundNumber(length)} ${unit}`];\n\n  return textLines;\n}\n\nLengthTool.toolName = 'Length';\nexport default LengthTool;\n","import { metaData } from '@cornerstonejs/core';\n\ntype ModalityUnitOptions = {\n  isPreScaled: boolean;\n  isSuvScaled: boolean;\n};\n\nfunction getModalityUnit(\n  modality: string,\n  imageId: string,\n  options: ModalityUnitOptions\n): string {\n  if (modality === 'CT') {\n    return 'HU';\n  } else if (modality === 'PT') {\n    return _handlePTModality(imageId, options);\n  } else {\n    return '';\n  }\n}\n\nfunction _handlePTModality(imageId: string, options: ModalityUnitOptions) {\n  if (!options.isPreScaled) {\n    return 'raw';\n  }\n\n  if (options.isSuvScaled) {\n    return 'SUV';\n  }\n\n  const generalSeriesModule = metaData.get('generalSeriesModule', imageId);\n\n  // it might be possible that the referenceImageId is not the one\n  // that is being displayed. So we need to get the modality from imageId again\n  if (generalSeriesModule?.modality === 'PT') {\n    const petSeriesModule = metaData.get('petSeriesModule', imageId);\n    return petSeriesModule?.units || 'unitless';\n  }\n}\n\nexport { getModalityUnit, ModalityUnitOptions };\n","import {\n  cache,\n  StackViewport,\n  Types,\n  BaseVolumeViewport,\n} from '@cornerstonejs/core';\n\nfunction isViewportPreScaled(\n  viewport: Types.IStackViewport | Types.IVolumeViewport,\n  targetId: string\n): boolean {\n  if (viewport instanceof BaseVolumeViewport) {\n    const volumeId = targetId.split('volumeId:')[1];\n    const volume = cache.getVolume(volumeId);\n    return !!volume?.scaling && Object.keys(volume.scaling).length > 0;\n  } else if (viewport instanceof StackViewport) {\n    const { preScale } = viewport.getImageData() || {};\n    return !!preScale?.scaled;\n  } else {\n    throw new Error('Viewport is not a valid type');\n  }\n}\n\nexport { isViewportPreScaled };\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport { vec2 } from 'gl-matrix';\n\nimport {\n  getEnabledElement,\n  VolumeViewport,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n  utilities,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { AnnotationTool } from '../base';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport {\n  drawHandles as drawHandlesSvg,\n  drawTextBox as drawTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { Events } from '../../enums';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\n\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\n\nimport {\n  EventTypes,\n  ToolHandle,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n} from '../../types';\nimport { ProbeAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\nimport {\n  ModalityUnitOptions,\n  getModalityUnit,\n} from '../../utilities/getModalityUnit';\nimport { isViewportPreScaled } from '../../utilities/viewport/isViewportPreScaled';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * ProbeTool let you get the underlying voxel value by putting a probe in that\n * location. It will give index of the location and value of the voxel.\n * You can use ProbeTool in all perpendicular views (axial, sagittal, coronal).\n * Note: annotation tools in cornerstone3DTools exists in the exact location\n * in the physical 3d space, as a result, by default, all annotations that are\n * drawing in the same frameOfReference will get shared between viewports that\n * are in the same frameOfReference. Probe tool's text box are dynamically\n * generated based on the viewport's underlying Modality. For instance, if\n * the viewport is displaying CT, the text box will shown the statistics in Hounsfield units,\n * and if the viewport is displaying PET, the text box will show the statistics in\n * SUV units.\n *\n * The resulting annotation's data (statistics) and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * To use the ProbeTool, you first need to add it to cornerstoneTools, then create\n * a toolGroup and add the ProbeTool to it. Finally, setToolActive on the toolGroup\n *\n * ```js\n * cornerstoneTools.addTool(ProbeTool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(ProbeTool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(ProbeTool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n * ```\n *\n * Read more in the Docs section of the website.\n *\n */\n\nclass ProbeTool extends AnnotationTool {\n  static toolName;\n\n  touchDragCallback: any;\n  mouseDragCallback: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    newAnnotation?: boolean;\n  } | null;\n  eventDispatchDetail: {\n    viewportId: string;\n    renderingEngineId: string;\n  };\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  // Not necessary for this tool but needs to be defined since it's an abstract\n  // method from the parent class.\n  isPointNearTool(): boolean {\n    return false;\n  }\n\n  toolSelectedCallback() {}\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a Probe Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): ProbeAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      invalidated: true,\n      highlighted: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        label: '',\n        handles: { points: [<Types.Point3>[...worldPos]] },\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      newAnnotation: true,\n      viewportIdsToRender,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It checks if the mouse click is near ProveTool, it overwrites the baseAnnotationTool\n   * getHandleNearImagePoint method.\n   *\n   * @param element - The element that the tool is attached to.\n   * @param annotation - The annotation object associated with the annotation\n   * @param canvasCoords - The coordinates of the mouse click on canvas\n   * @param proximity - The distance from the mouse cursor to the point\n   * that is considered \"near\".\n   * @returns The handle that is closest to the cursor, or null if the cursor\n   * is not near any of the handles.\n   */\n  getHandleNearImagePoint(\n    element: HTMLDivElement,\n    annotation: ProbeAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): ToolHandle | undefined {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const { data } = annotation;\n    const point = data.handles.points[0];\n    const annotationCanvasCoordinate = viewport.worldToCanvas(point);\n\n    const near =\n      vec2.distance(canvasCoords, annotationCanvasCoordinate) < proximity;\n\n    if (near === true) {\n      return point;\n    }\n  }\n\n  handleSelectedCallback(\n    evt: EventTypes.InteractionEventType,\n    annotation: ProbeAnnotation\n  ): void {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    // Find viewports to render on drag.\n\n    this.editData = {\n      //handle, // This would be useful for other tools with more than one handle\n      annotation,\n      viewportIdsToRender,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  }\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    const { viewportId } = enabledElement;\n    this.eventDispatchDetail = {\n      viewportId,\n      renderingEngineId: renderingEngine.id,\n    };\n\n    this._deactivateModify(element);\n\n    resetElementCursor(element);\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n  };\n\n  _dragCallback = (evt) => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const { annotation, viewportIdsToRender } = this.editData;\n    const { data } = annotation;\n\n    data.handles.points[0] = [...worldPos];\n    annotation.invalidated = true;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _deactivateModify = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * it is used to draw the probe annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as ProbeAnnotation;\n      const annotationUID = annotation.annotationUID;\n      const data = annotation.data;\n      const point = data.handles.points[0];\n      const canvasCoordinates = viewport.worldToCanvas(point);\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].value == null\n      ) {\n        data.cachedStats[targetId] = {\n          Modality: null,\n          index: null,\n          value: null,\n        };\n\n        this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n      } else if (annotation.invalidated) {\n        this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n\n        // If the invalidated data is as a result of volumeViewport manipulation\n        // of the tools, we need to invalidate the related stackViewports data if\n        // they are not at the referencedImageId, so that\n        // when scrolling to the related slice in which the tool were manipulated\n        // we re-render the correct tool position. This is due to stackViewport\n        // which doesn't have the full volume at each time, and we are only working\n        // on one slice at a time.\n        if (viewport instanceof VolumeViewport) {\n          const { referencedImageId } = annotation.metadata;\n\n          // invalidate all the relevant stackViewports if they are not\n          // at the referencedImageId\n          for (const targetId in data.cachedStats) {\n            if (targetId.startsWith('imageId')) {\n              const viewports = renderingEngine.getStackViewports();\n\n              const invalidatedStack = viewports.find((vp) => {\n                // The stack viewport that contains the imageId but is not\n                // showing it currently\n                const referencedImageURI =\n                  csUtils.imageIdToURI(referencedImageId);\n                const hasImageURI = vp.hasImageURI(referencedImageURI);\n                const currentImageURI = csUtils.imageIdToURI(\n                  vp.getCurrentImageId()\n                );\n                return hasImageURI && currentImageURI !== referencedImageURI;\n              });\n\n              if (invalidatedStack) {\n                delete data.cachedStats[targetId];\n              }\n            }\n          }\n        }\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      const handleGroupUID = '0';\n\n      drawHandlesSvg(\n        svgDrawingHelper,\n        annotationUID,\n        handleGroupUID,\n        [canvasCoordinates],\n        { color }\n      );\n\n      renderStatus = true;\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n      if (textLines) {\n        const textCanvasCoordinates = [\n          canvasCoordinates[0] + 6,\n          canvasCoordinates[1] - 6,\n        ];\n\n        const textUID = '0';\n        drawTextBoxSvg(\n          svgDrawingHelper,\n          annotationUID,\n          textUID,\n          textLines,\n          [textCanvasCoordinates[0], textCanvasCoordinates[1]],\n          options\n        );\n      }\n    }\n\n    return renderStatus;\n  };\n\n  _calculateCachedStats(annotation, renderingEngine, enabledElement) {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId, viewport } = enabledElement;\n\n    const worldPos = data.handles.points[0];\n    const { cachedStats } = data;\n\n    const targetIds = Object.keys(cachedStats);\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n\n      const modalityUnitOptions = {\n        isPreScaled: isViewportPreScaled(viewport, targetId),\n        isSuvScaled: this.isSuvScaled(\n          viewport,\n          targetId,\n          annotation.metadata.referencedImageId\n        ),\n      };\n\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { dimensions, imageData, metadata } = image;\n      const scalarData =\n        'getScalarData' in image ? image.getScalarData() : image.scalarData;\n\n      const modality = metadata.Modality;\n      const index = transformWorldToIndex(imageData, worldPos);\n\n      index[0] = Math.round(index[0]);\n      index[1] = Math.round(index[1]);\n      index[2] = Math.round(index[2]);\n\n      if (csUtils.indexWithinDimensions(index, dimensions)) {\n        this.isHandleOutsideImage = false;\n        const yMultiple = dimensions[0];\n        const zMultiple = dimensions[0] * dimensions[1];\n\n        const value =\n          scalarData[index[2] * zMultiple + index[1] * yMultiple + index[0]];\n\n        // Index[2] for stackViewport is always 0, but for visualization\n        // we reset it to be imageId index\n        if (targetId.startsWith('imageId:')) {\n          const imageId = targetId.split('imageId:')[1];\n          const imageURI = csUtils.imageIdToURI(imageId);\n          const viewports = utilities.getViewportsWithImageURI(\n            imageURI,\n            renderingEngineId\n          );\n\n          const viewport = viewports[0];\n\n          index[2] = viewport.getCurrentImageIdIndex();\n        }\n\n        const modalityUnit = getModalityUnit(\n          modality,\n          annotation.metadata.referencedImageId,\n          modalityUnitOptions\n        );\n\n        cachedStats[targetId] = {\n          index,\n          value,\n          Modality: modality,\n          modalityUnit,\n        };\n      } else {\n        this.isHandleOutsideImage = true;\n        cachedStats[targetId] = {\n          index,\n          Modality: modality,\n        };\n      }\n\n      annotation.invalidated = false;\n\n      // Dispatching annotation modified\n      const eventType = Events.ANNOTATION_MODIFIED;\n\n      const eventDetail: AnnotationModifiedEventDetail = {\n        annotation,\n        viewportId,\n        renderingEngineId,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n\n    return cachedStats;\n  }\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { index, value, modalityUnit } = cachedVolumeStats;\n\n  if (value === undefined) {\n    return;\n  }\n\n  const textLines = [];\n\n  textLines.push(`(${index[0]}, ${index[1]}, ${index[2]})`);\n\n  textLines.push(`${value.toFixed(2)} ${modalityUnit}`);\n\n  return textLines;\n}\n\nProbeTool.toolName = 'Probe';\nexport default ProbeTool;\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  drawHandles as drawHandlesSvg,\n  drawTextBox as drawTextBoxSvg,\n} from '../../drawingSvg';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { hideElementCursor } from '../../cursors/elementCursor';\nimport {\n  EventTypes,\n  PublicToolProps,\n  SVGDrawingHelper,\n  ToolProps,\n} from '../../types';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport ProbeTool from './ProbeTool';\nimport { ProbeAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\nimport { isViewportPreScaled } from '../../utilities/viewport/isViewportPreScaled';\n\nclass DragProbeTool extends ProbeTool {\n  static toolName;\n\n  touchDragCallback: any;\n  mouseDragCallback: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    newAnnotation?: boolean;\n  } | null;\n  eventDispatchDetail: {\n    viewportId: string;\n    renderingEngineId: string;\n  };\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  postMouseDownCallback = (\n    evt: EventTypes.InteractionEventType\n  ): ProbeAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const annotation: ProbeAnnotation = {\n      invalidated: true,\n      highlighted: true,\n      isVisible: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID: viewport.getFrameOfReferenceUID(),\n        referencedImageId,\n      },\n      data: {\n        label: '',\n        handles: { points: [<Types.Point3>[...worldPos]] },\n        cachedStats: {},\n      },\n    };\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      newAnnotation: true,\n      viewportIdsToRender,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  postTouchStartCallback = (\n    evt: EventTypes.InteractionEventType\n  ): ProbeAnnotation => {\n    return this.postMouseDownCallback(evt);\n  };\n\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n\n    if (!this.editData) {\n      return renderStatus;\n    }\n\n    const annotations = this.filterInteractableAnnotationsForElement(\n      viewport.element,\n      [this.editData.annotation]\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    const annotation = this.editData.annotation;\n    const annotationUID = annotation.annotationUID;\n    const data = annotation.data;\n    const point = data.handles.points[0];\n    const canvasCoordinates = viewport.worldToCanvas(point);\n\n    styleSpecifier.annotationUID = annotationUID;\n\n    const color = this.getStyle('color', styleSpecifier, annotation);\n\n    const modalityUnitOptions = {\n      isPreScaled: isViewportPreScaled(viewport, targetId),\n\n      isSuvScaled: this.isSuvScaled(\n        viewport,\n        targetId,\n        annotation.metadata.referencedImageId\n      ),\n    };\n\n    if (\n      !data.cachedStats[targetId] ||\n      data.cachedStats[targetId].value == null\n    ) {\n      data.cachedStats[targetId] = {\n        Modality: null,\n        index: null,\n        value: null,\n      };\n\n      this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n    } else if (annotation.invalidated) {\n      this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n    }\n\n    // If rendering engine has been destroyed while rendering\n    if (!viewport.getRenderingEngine()) {\n      console.warn('Rendering Engine has been destroyed');\n      return renderStatus;\n    }\n\n    const handleGroupUID = '0';\n\n    drawHandlesSvg(\n      svgDrawingHelper,\n      annotationUID,\n      handleGroupUID,\n      [canvasCoordinates],\n      { color }\n    );\n\n    renderStatus = true;\n\n    const textLines = this.configuration.getTextLines(data, targetId);\n    if (textLines) {\n      const textCanvasCoordinates = [\n        canvasCoordinates[0] + 6,\n        canvasCoordinates[1] - 6,\n      ];\n\n      const textUID = '0';\n      drawTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textUID,\n        textLines,\n        [textCanvasCoordinates[0], textCanvasCoordinates[1]],\n        this.getLinkedTextBoxStyle(styleSpecifier, annotation)\n      );\n    }\n\n    return renderStatus;\n  };\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { index, value, modalityUnit } = cachedVolumeStats;\n\n  if (value === undefined) {\n    return;\n  }\n\n  const textLines = [];\n\n  textLines.push(`(${index[0]}, ${index[1]}, ${index[2]})`);\n\n  textLines.push(`${value.toFixed(2)} ${modalityUnit}`);\n\n  return textLines;\n}\n\nDragProbeTool.toolName = 'DragProbe';\nexport default DragProbeTool;\n","import type { Types } from '@cornerstonejs/core';\nimport * as lineSegment from '../line';\n\ntype rectLineSegments = {\n  top: Types.Point2[];\n  right: Types.Point2[];\n  bottom: Types.Point2[];\n  left: Types.Point2[];\n};\n\n/**\n * Given a rectangle left, top, width and height, return an object containing the\n * line segments that make up the rectangle's four sides\n * @param left - The x-coordinate of the left edge of the rectangle.\n * @param top - The y-coordinate of the top edge of the rectangle.\n * @param width - The width of the rectangle.\n * @param height - The height of the rectangle.\n * @returns An object with four keys, each of which contains an array of two\n * points.\n */\nfunction rectToLineSegments(\n  left: number,\n  top: number,\n  width: number,\n  height: number\n): rectLineSegments {\n  const topLineStart: Types.Point2 = [left, top];\n  const topLineEnd: Types.Point2 = [left + width, top];\n\n  const rightLineStart: Types.Point2 = [left + width, top];\n  const rightLineEnd: Types.Point2 = [left + width, top + height];\n\n  const bottomLineStart: Types.Point2 = [left + width, top + height];\n  const bottomLineEnd: Types.Point2 = [left, top + height];\n\n  const leftLineStart: Types.Point2 = [left, top + height];\n  const leftLineEnd: Types.Point2 = [left, top];\n\n  const lineSegments = {\n    top: [topLineStart, topLineEnd],\n    right: [rightLineStart, rightLineEnd],\n    bottom: [bottomLineStart, bottomLineEnd],\n    left: [leftLineStart, leftLineEnd],\n  };\n\n  return lineSegments;\n}\n\n/**\n * Calculates distance of the point to the rectangle. It calculates the minimum\n * distance between the point and each line segment of the rectangle.\n *\n * @param rect - coordinates of the rectangle [left, top, width, height]\n * @param point - [x,y] coordinates of a point\n * @returns\n */\nexport default function distanceToPoint(\n  rect: number[],\n  point: Types.Point2\n): number {\n  if (rect.length !== 4 || point.length !== 2) {\n    throw Error(\n      'rectangle:[left, top, width, height] or point: [x,y] not defined correctly'\n    );\n  }\n\n  const [left, top, width, height] = rect;\n\n  let minDistance = 655535;\n  const lineSegments = rectToLineSegments(left, top, width, height);\n\n  Object.keys(lineSegments).forEach((segment) => {\n    const [lineStart, lineEnd] = lineSegments[segment];\n    const distance = lineSegment.distanceToPoint(lineStart, lineEnd, point);\n\n    if (distance < minDistance) {\n      minDistance = distance;\n    }\n  });\n\n  return minDistance;\n}\n","import { Statistics } from '../../../types';\n\nabstract class Calculator {\n  static run: ({ value }) => void;\n  static getStatistics: () => Statistics[];\n}\n\nexport default Calculator;\n","import { Statistics } from '../../../types';\nimport Calculator from './Calculator';\n\nexport default class BasicStatsCalculator extends Calculator {\n  private static max = -Infinity;\n  private static currentMax = 0;\n  private static sum = 0;\n  private static sumSquares = 0;\n  private static squaredDiffSum = 0;\n  private static count = 0;\n\n  /**\n   * This callback is used when we verify if the point is in the annotion drawn so we can get every point\n   * in the shape to calculate the statistics\n   * @param value of the point in the shape of the annotation\n   */\n  static statsCallback = ({ value: newValue }): void => {\n    if (newValue > this.max) {\n      this.max = newValue;\n      this.currentMax = newValue;\n    }\n\n    this.count += 1;\n\n    this.sum += newValue;\n    this.sumSquares += newValue ** 2;\n    this.squaredDiffSum += Math.pow(newValue - this.sum / this.count, 2);\n  };\n\n  /**\n   * Basic function that calculates statictics for a given array of points.\n   * @param points\n   * @returns An object that contains :\n   * max : The maximum value of the array\n   * mean : mean of the array\n   * stdDev : standard deviation of the array\n   * stdDevWithSumSquare : standard deviation of the array using sum\n   */\n\n  static getStatistics = (): Statistics[] => {\n    const mean = this.sum / this.count;\n    const stdDev = Math.sqrt(this.squaredDiffSum / this.count);\n    const stdDevWithSumSquare = Math.sqrt(\n      this.sumSquares / this.count - mean ** 2\n    );\n\n    this.max = -Infinity;\n    this.sum = 0;\n    this.sumSquares = 0;\n    this.squaredDiffSum = 0;\n    this.count = 0;\n\n    return [\n      { name: 'max', value: this.currentMax, unit: null },\n      { name: 'mean', value: mean, unit: null },\n      { name: 'stdDev', value: stdDev, unit: null },\n      { name: 'stdDevWithSumSquare', value: stdDevWithSumSquare, unit: null },\n    ];\n  };\n}\n","import { AnnotationTool } from '../base';\n\nimport {\n  getEnabledElement,\n  VolumeViewport,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  getCalibratedAreaUnits,\n  getCalibratedScale,\n} from '../../utilities/getCalibratedUnits';\nimport roundNumber from '../../utilities/roundNumber';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport {\n  drawHandles as drawHandlesSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n  drawRect as drawRectSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { Events } from '../../enums';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport * as rectangle from '../../utilities/math/rectangle';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport getWorldWidthAndHeightFromCorners from '../../utilities/planar/getWorldWidthAndHeightFromCorners';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\n\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  ToolProps,\n  PublicToolProps,\n  SVGDrawingHelper,\n} from '../../types';\nimport { RectangleROIAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\nimport { getModalityUnit } from '../../utilities/getModalityUnit';\nimport { isViewportPreScaled } from '../../utilities/viewport/isViewportPreScaled';\nimport { pointInShapeCallback } from '../../utilities/';\nimport { BasicStatsCalculator } from '../../utilities/math/basic';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * RectangleROIAnnotation let you draw annotations that measures the statistics\n * such as area, max, mean and stdDev of a Rectangular region of interest.\n * You can use RectangleROIAnnotation in all perpendicular views (axial, sagittal, coronal).\n * Note: annotation tools in cornerstone3DTools exists in the exact location\n * in the physical 3d space, as a result, by default, all annotations that are\n * drawing in the same frameOfReference will get shared between viewports that\n * are in the same frameOfReference. RectangleROI tool's text box lines are dynamically\n * generated based on the viewport's underlying Modality. For instance, if\n * the viewport is displaying CT, the text box will shown the statistics in Hounsfield units,\n * and if the viewport is displaying PET, the text box will show the statistics in\n * SUV units.\n *\n * The resulting annotation's data (statistics) and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * ```js\n * cornerstoneTools.addTool(RectangleROITool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(RectangleROITool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(RectangleROITool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n * ```\n *\n * Read more in the Docs section of the website.\n */\n\nclass RectangleROITool extends AnnotationTool {\n  static toolName;\n\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n        statsCalculator: BasicStatsCalculator,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a RectangleROI Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): RectangleROIAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      invalidated: true,\n      highlighted: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        label: '',\n        handles: {\n          points: [\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n          ],\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n          activeHandleIndex: null,\n        },\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 3,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: RectangleROIAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    const canvasPoint1 = viewport.worldToCanvas(points[0]);\n    const canvasPoint2 = viewport.worldToCanvas(points[3]);\n\n    const rect = this._getRectangleImageCoordinates([\n      canvasPoint1,\n      canvasPoint2,\n    ]);\n\n    const point = [canvasCoords[0], canvasCoords[1]];\n    const { left, top, width, height } = rect;\n\n    const distanceToPoint = rectangle.distanceToPoint(\n      [left, top, width, height],\n      point as Types.Point2\n    );\n\n    if (distanceToPoint <= proximity) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: RectangleROIAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: RectangleROIAnnotation,\n    handle: ToolHandle\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      handleIndex = data.handles.points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      // Drag mode - Move the text boxes world position\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Drag mode - Moving tool, so move all points by the world points delta\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { points } = data.handles;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      // Moving handle.\n      const { currentPoints } = eventDetail;\n      const enabledElement = getEnabledElement(element);\n      const { worldToCanvas, canvasToWorld } = enabledElement.viewport;\n      const worldPos = currentPoints.world;\n\n      const { points } = data.handles;\n\n      // Move this handle.\n      points[handleIndex] = [...worldPos];\n\n      let bottomLeftCanvas;\n      let bottomRightCanvas;\n      let topLeftCanvas;\n      let topRightCanvas;\n\n      let bottomLeftWorld;\n      let bottomRightWorld;\n      let topLeftWorld;\n      let topRightWorld;\n\n      switch (handleIndex) {\n        case 0:\n        case 3:\n          // Moving bottomLeft or topRight\n\n          bottomLeftCanvas = worldToCanvas(points[0]);\n          topRightCanvas = worldToCanvas(points[3]);\n\n          bottomRightCanvas = [topRightCanvas[0], bottomLeftCanvas[1]];\n          topLeftCanvas = [bottomLeftCanvas[0], topRightCanvas[1]];\n\n          bottomRightWorld = canvasToWorld(bottomRightCanvas);\n          topLeftWorld = canvasToWorld(topLeftCanvas);\n\n          points[1] = bottomRightWorld;\n          points[2] = topLeftWorld;\n\n          break;\n        case 1:\n        case 2:\n          // Moving bottomRight or topLeft\n          bottomRightCanvas = worldToCanvas(points[1]);\n          topLeftCanvas = worldToCanvas(points[2]);\n\n          bottomLeftCanvas = <Types.Point2>[\n            topLeftCanvas[0],\n            bottomRightCanvas[1],\n          ];\n          topRightCanvas = <Types.Point2>[\n            bottomRightCanvas[0],\n            topLeftCanvas[1],\n          ];\n\n          bottomLeftWorld = canvasToWorld(bottomLeftCanvas);\n          topRightWorld = canvasToWorld(topRightCanvas);\n\n          points[0] = bottomLeftWorld;\n          points[3] = topRightWorld;\n\n          break;\n      }\n      annotation.invalidated = true;\n    }\n\n    this.editData.hasMoved = true;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  _activateDraw = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_MOVE, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  _deactivateDraw = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_MOVE, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  _activateModify = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * Remove event handlers for the modify event loop, and enable default event propagation.\n   */\n  _deactivateModify = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * it is used to draw the rectangleROI annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as RectangleROIAnnotation;\n      const { annotationUID, data } = annotation;\n      const { points, activeHandleIndex } = data.handles;\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      const { viewPlaneNormal, viewUp } = viewport.getCamera();\n\n      // If cachedStats does not exist, or the unit is missing (as part of import/hydration etc.),\n      // force to recalculate the stats from the points\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].areaUnit == null\n      ) {\n        data.cachedStats[targetId] = {\n          Modality: null,\n          area: null,\n          max: null,\n          mean: null,\n          stdDev: null,\n          areaUnit: null,\n        };\n\n        this._calculateCachedStats(\n          annotation,\n          viewPlaneNormal,\n          viewUp,\n          renderingEngine,\n          enabledElement\n        );\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          viewPlaneNormal,\n          viewUp,\n          renderingEngine,\n          enabledElement\n        );\n\n        // If the invalidated data is as a result of volumeViewport manipulation\n        // of the tools, we need to invalidate the related stackViewports data if\n        // they are not at the referencedImageId, so that\n        // when scrolling to the related slice in which the tool were manipulated\n        // we re-render the correct tool position. This is due to stackViewport\n        // which doesn't have the full volume at each time, and we are only working\n        // on one slice at a time.\n        if (viewport instanceof VolumeViewport) {\n          const { referencedImageId } = annotation.metadata;\n\n          // invalidate all the relevant stackViewports if they are not\n          // at the referencedImageId\n          for (const targetId in data.cachedStats) {\n            if (targetId.startsWith('imageId')) {\n              const viewports = renderingEngine.getStackViewports();\n\n              const invalidatedStack = viewports.find((vp) => {\n                // The stack viewport that contains the imageId but is not\n                // showing it currently\n                const referencedImageURI =\n                  csUtils.imageIdToURI(referencedImageId);\n                const hasImageURI = vp.hasImageURI(referencedImageURI);\n                const currentImageURI = csUtils.imageIdToURI(\n                  vp.getCurrentImageId()\n                );\n                return hasImageURI && currentImageURI !== referencedImageURI;\n              });\n\n              if (invalidatedStack) {\n                delete data.cachedStats[targetId];\n              }\n            }\n          }\n        }\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          activeHandleCanvasCoords,\n          {\n            color,\n          }\n        );\n      }\n\n      const dataId = `${annotationUID}-rect`;\n      const rectangleUID = '0';\n      drawRectSvg(\n        svgDrawingHelper,\n        annotationUID,\n        rectangleUID,\n        canvasCoordinates[0],\n        canvasCoordinates[3],\n        {\n          color,\n          lineDash,\n          lineWidth,\n        },\n        dataId\n      );\n\n      renderStatus = true;\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n      if (!textLines || textLines.length === 0) {\n        continue;\n      }\n\n      if (!data.handles.textBox.hasMoved) {\n        const canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCoordinates);\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _getRectangleImageCoordinates = (\n    points: Array<Types.Point2>\n  ): {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n  } => {\n    const [point0, point1] = points;\n\n    return {\n      left: Math.min(point0[0], point1[0]),\n      top: Math.min(point0[1], point1[1]),\n      width: Math.abs(point0[0] - point1[0]),\n      height: Math.abs(point0[1] - point1[1]),\n    };\n  };\n\n  /**\n   * _calculateCachedStats - For each volume in the frame of reference that a\n   * tool instance in particular viewport defines as its target volume, find the\n   * volume coordinates (i,j,k) being probed by the two corners. One of i,j or k\n   * will be constant across the two points. In the other two directions iterate\n   * over the voxels and calculate the first and second-order statistics.\n   *\n   * @param data - The annotation tool-specific data.\n   * @param viewPlaneNormal - The normal vector of the camera.\n   * @param viewUp - The viewUp vector of the camera.\n   */\n  _calculateCachedStats = (\n    annotation,\n    viewPlaneNormal,\n    viewUp,\n    renderingEngine,\n    enabledElement\n  ) => {\n    const { data } = annotation;\n    const { viewportId, renderingEngineId, viewport } = enabledElement;\n\n    const worldPos1 = data.handles.points[0];\n    const worldPos2 = data.handles.points[3];\n    const { cachedStats } = data;\n\n    const targetIds = Object.keys(cachedStats);\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { dimensions, imageData, metadata } = image;\n      const scalarData =\n        'getScalarData' in image ? image.getScalarData() : image.scalarData;\n\n      const worldPos1Index = transformWorldToIndex(imageData, worldPos1);\n\n      worldPos1Index[0] = Math.floor(worldPos1Index[0]);\n      worldPos1Index[1] = Math.floor(worldPos1Index[1]);\n      worldPos1Index[2] = Math.floor(worldPos1Index[2]);\n\n      const worldPos2Index = transformWorldToIndex(imageData, worldPos2);\n\n      worldPos2Index[0] = Math.floor(worldPos2Index[0]);\n      worldPos2Index[1] = Math.floor(worldPos2Index[1]);\n      worldPos2Index[2] = Math.floor(worldPos2Index[2]);\n\n      // Check if one of the indexes are inside the volume, this then gives us\n      // Some area to do stats over.\n\n      if (this._isInsideVolume(worldPos1Index, worldPos2Index, dimensions)) {\n        this.isHandleOutsideImage = false;\n\n        // Calculate index bounds to iterate over\n\n        const iMin = Math.min(worldPos1Index[0], worldPos2Index[0]);\n        const iMax = Math.max(worldPos1Index[0], worldPos2Index[0]);\n\n        const jMin = Math.min(worldPos1Index[1], worldPos2Index[1]);\n        const jMax = Math.max(worldPos1Index[1], worldPos2Index[1]);\n\n        const kMin = Math.min(worldPos1Index[2], worldPos2Index[2]);\n        const kMax = Math.max(worldPos1Index[2], worldPos2Index[2]);\n\n        const boundsIJK = [\n          [iMin, iMax],\n          [jMin, jMax],\n          [kMin, kMax],\n        ] as [Types.Point2, Types.Point2, Types.Point2];\n\n        const { worldWidth, worldHeight } = getWorldWidthAndHeightFromCorners(\n          viewPlaneNormal,\n          viewUp,\n          worldPos1,\n          worldPos2\n        );\n        const scale = getCalibratedScale(image);\n\n        const area = Math.abs(worldWidth * worldHeight) / (scale * scale);\n\n        const modalityUnitOptions = {\n          isPreScaled: isViewportPreScaled(viewport, targetId),\n\n          isSuvScaled: this.isSuvScaled(\n            viewport,\n            targetId,\n            annotation.metadata.referencedImageId\n          ),\n        };\n\n        const modalityUnit = getModalityUnit(\n          metadata.Modality,\n          annotation.metadata.referencedImageId,\n          modalityUnitOptions\n        );\n\n        const pointsInShape = pointInShapeCallback(\n          imageData,\n          () => true,\n          this.configuration.statsCalculator.statsCallback,\n          boundsIJK\n        );\n\n        const stats = this.configuration.statsCalculator.getStatistics();\n\n        cachedStats[targetId] = {\n          Modality: metadata.Modality,\n          area,\n          mean: stats[1]?.value,\n          stdDev: stats[2]?.value,\n          max: stats[0]?.value,\n          statsArray: stats,\n          pointsInShape: pointsInShape,\n          areaUnit: getCalibratedAreaUnits(null, image),\n          modalityUnit,\n        };\n      } else {\n        this.isHandleOutsideImage = true;\n        cachedStats[targetId] = {\n          Modality: metadata.Modality,\n        };\n      }\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  };\n\n  _isInsideVolume = (index1, index2, dimensions) => {\n    return (\n      csUtils.indexWithinDimensions(index1, dimensions) &&\n      csUtils.indexWithinDimensions(index2, dimensions)\n    );\n  };\n}\n\n/**\n * _getTextLines - Returns the Area, mean and std deviation of the area of the\n * target volume enclosed by the rectangle.\n *\n * @param data - The annotation tool-specific data.\n * @param targetId - The volumeId of the volume to display the stats for.\n */\nfunction defaultGetTextLines(data, targetId: string): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { area, mean, max, stdDev, areaUnit, modalityUnit } = cachedVolumeStats;\n\n  if (mean === undefined) {\n    return;\n  }\n\n  const textLines: string[] = [];\n\n  textLines.push(`Area: ${roundNumber(area)} ${areaUnit}`);\n  textLines.push(`Mean: ${roundNumber(mean)} ${modalityUnit}`);\n  textLines.push(`Max: ${roundNumber(max)} ${modalityUnit}`);\n  textLines.push(`Std Dev: ${roundNumber(stdDev)} ${modalityUnit}`);\n\n  return textLines;\n}\n\nRectangleROITool.toolName = 'RectangleROI';\nexport default RectangleROITool;\n","import { vec3 } from 'gl-matrix';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Given two world positions and an orthogonal view to an `imageVolume` defined by\n * a `viewPlaneNormal` and a `viewUp`, get the width and height in world coordinates of the rectangle\n * defined by the two points. The implementation works both with orthogonal\n * non-orthogonal rectangles.\n *\n * @param viewPlaneNormal - The normal of the view.\n * @param viewUp - The up direction of the view.\n * @param imageVolume - The imageVolume to use to measure.\n * @param worldPos1 - The first world position.\n * @param worldPos2 - The second world position.\n *\n * @returns The `worldWidth` and `worldHeight`.\n */\nexport default function getWorldWidthAndHeightFromTwoPoints(\n  viewPlaneNormal: Types.Point3,\n  viewUp: Types.Point3,\n  worldPos1: Types.Point3,\n  worldPos2: Types.Point3\n): { worldWidth: number; worldHeight: number } {\n  const viewRight = vec3.create();\n\n  vec3.cross(viewRight, <vec3>viewUp, <vec3>viewPlaneNormal);\n\n  const pos1 = vec3.fromValues(...worldPos1);\n  const pos2 = vec3.fromValues(...worldPos2);\n\n  const diagonal = vec3.create();\n  vec3.subtract(diagonal, pos1, pos2);\n\n  const diagonalLength = vec3.length(diagonal);\n\n  // When the two points are very close to each other return width as 0\n  // to avoid NaN the cosTheta formula calculation\n  if (diagonalLength < 0.0001) {\n    return { worldWidth: 0, worldHeight: 0 };\n  }\n\n  const cosTheta =\n    vec3.dot(diagonal, viewRight) / (diagonalLength * vec3.length(viewRight));\n\n  const sinTheta = Math.sqrt(1 - cosTheta * cosTheta);\n\n  const worldWidth = sinTheta * diagonalLength;\n  const worldHeight = cosTheta * diagonalLength;\n\n  return { worldWidth, worldHeight };\n}\n","import { AnnotationTool } from '../base';\n\nimport {\n  getEnabledElement,\n  VolumeViewport,\n  eventTarget,\n  triggerEvent,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  getCalibratedAreaUnits,\n  getCalibratedScale,\n} from '../../utilities/getCalibratedUnits';\nimport roundNumber from '../../utilities/roundNumber';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport {\n  drawCircle as drawCircleSvg,\n  drawEllipse as drawEllipseSvg,\n  drawHandles as drawHandlesSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { Events } from '../../enums';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport getWorldWidthAndHeightFromTwoPoints from '../../utilities/planar/getWorldWidthAndHeightFromTwoPoints';\nimport {\n  pointInEllipse,\n  getCanvasEllipseCorners,\n} from '../../utilities/math/ellipse';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n} from '../../types';\nimport { EllipticalROIAnnotation } from '../../types/ToolSpecificAnnotationTypes';\n\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport { pointInShapeCallback } from '../../utilities/';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\nimport {\n  ModalityUnitOptions,\n  getModalityUnit,\n} from '../../utilities/getModalityUnit';\nimport { isViewportPreScaled } from '../../utilities/viewport/isViewportPreScaled';\nimport { BasicStatsCalculator } from '../../utilities/math/basic';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * EllipticalROITool let you draw annotations that measures the statistics\n * such as area, max, mean and stdDev of an elliptical region of interest.\n * You can use EllipticalROITool in all perpendicular views (axial, sagittal, coronal).\n * Note: annotation tools in cornerstone3DTools exists in the exact location\n * in the physical 3d space, as a result, by default, all annotations that are\n * drawing in the same frameOfReference will get shared between viewports that\n * are in the same frameOfReference. Elliptical tool's text box lines are dynamically\n * generated based on the viewport's underlying Modality. For instance, if\n * the viewport is displaying CT, the text box will shown the statistics in Hounsfield units,\n * and if the viewport is displaying PET, the text box will show the statistics in\n * SUV units.\n *\n * The resulting annotation's data (statistics) and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * Changing tool configuration (see below) you can make the tool to draw the center\n * point circle with a given radius.\n *\n * ```js\n * cornerstoneTools.addTool(EllipticalROITool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(EllipticalROITool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(EllipticalROITool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n *\n * // draw a circle at the center point with 4px radius.\n * toolGroup.setToolConfiguration(EllipticalROITool.toolName, {\n *   centerPointRadius: 4,\n * });\n * ```\n *\n * Read more in the Docs section of the website.\n */\n\nclass EllipticalROITool extends AnnotationTool {\n  static toolName;\n\n  touchDragCallback: any;\n  mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: Array<string>;\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    centerCanvas?: Array<number>;\n    canvasWidth?: number;\n    canvasHeight?: number;\n    originalHandleCanvas?: Array<number>;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage = false;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        // Radius of the circle to draw  at the center point of the ellipse.\n        // Set this zero(0) in order not to draw the circle.\n        centerPointRadius: 0,\n        getTextLines: defaultGetTextLines,\n        statsCalculator: BasicStatsCalculator,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a EllipticalROI Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): EllipticalROIAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const canvasPos = currentPoints.canvas;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        label: '',\n        handles: {\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n          points: [\n            [...worldPos],\n            [...worldPos],\n            [...worldPos],\n            [...worldPos],\n          ] as [Types.Point3, Types.Point3, Types.Point3, Types.Point3],\n          activeHandleIndex: null,\n        },\n        cachedStats: {},\n        initialRotation: viewport.getRotation(),\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      centerCanvas: canvasPos,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: EllipticalROIAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    // For some reason Typescript doesn't understand this, so we need to be\n    // more specific about the type\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p)) as [\n      Types.Point2,\n      Types.Point2,\n      Types.Point2,\n      Types.Point2\n    ];\n    const canvasCorners = getCanvasEllipseCorners(canvasCoordinates);\n\n    const [canvasPoint1, canvasPoint2] = canvasCorners;\n\n    const minorEllipse = {\n      left: Math.min(canvasPoint1[0], canvasPoint2[0]) + proximity / 2,\n      top: Math.min(canvasPoint1[1], canvasPoint2[1]) + proximity / 2,\n      width: Math.abs(canvasPoint1[0] - canvasPoint2[0]) - proximity,\n      height: Math.abs(canvasPoint1[1] - canvasPoint2[1]) - proximity,\n    };\n\n    const majorEllipse = {\n      left: Math.min(canvasPoint1[0], canvasPoint2[0]) - proximity / 2,\n      top: Math.min(canvasPoint1[1], canvasPoint2[1]) - proximity / 2,\n      width: Math.abs(canvasPoint1[0] - canvasPoint2[0]) + proximity,\n      height: Math.abs(canvasPoint1[1] - canvasPoint2[1]) + proximity,\n    };\n\n    const pointInMinorEllipse = this._pointInEllipseCanvas(\n      minorEllipse,\n      canvasCoords\n    );\n    const pointInMajorEllipse = this._pointInEllipseCanvas(\n      majorEllipse,\n      canvasCoords\n    );\n\n    if (pointInMajorEllipse && !pointInMinorEllipse) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: EllipticalROIAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    hideElementCursor(element);\n\n    this._activateModify(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: EllipticalROIAnnotation,\n    handle: ToolHandle\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    let centerCanvas;\n    let canvasWidth;\n    let canvasHeight;\n    let originalHandleCanvas;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      const { points } = data.handles;\n      const enabledElement = getEnabledElement(element);\n      const { worldToCanvas } = enabledElement.viewport;\n\n      handleIndex = points.findIndex((p) => p === handle);\n\n      const pointsCanvas = points.map(worldToCanvas);\n\n      originalHandleCanvas = pointsCanvas[handleIndex];\n\n      canvasWidth = Math.abs(pointsCanvas[2][0] - pointsCanvas[3][0]);\n      canvasHeight = Math.abs(pointsCanvas[0][1] - pointsCanvas[1][1]);\n\n      centerCanvas = [\n        (pointsCanvas[2][0] + pointsCanvas[3][0]) / 2,\n        (pointsCanvas[0][1] + pointsCanvas[1][1]) / 2,\n      ];\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      canvasWidth,\n      canvasHeight,\n      centerCanvas,\n      originalHandleCanvas,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n\n    // Elliptical ROI tool should reset its highlight to false on mouse up (as opposed\n    // to other tools that keep it highlighted until the user moves. The reason\n    // is that we use top-left and bottom-right handles to define the ellipse,\n    // and they are by definition not in the ellipse on mouse up.\n    annotation.highlighted = false;\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n  };\n\n  _dragDrawCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { currentPoints } = eventDetail;\n    const currentCanvasPoints = currentPoints.canvas;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n    const { canvasToWorld } = viewport;\n\n    //////\n    const { annotation, viewportIdsToRender, centerCanvas } = this.editData;\n    const { data } = annotation;\n\n    const dX = Math.abs(currentCanvasPoints[0] - centerCanvas[0]);\n    const dY = Math.abs(currentCanvasPoints[1] - centerCanvas[1]);\n\n    // Todo: why bottom is -dY, it should be +dY\n    const bottomCanvas = <Types.Point2>[centerCanvas[0], centerCanvas[1] - dY];\n    const topCanvas = <Types.Point2>[centerCanvas[0], centerCanvas[1] + dY];\n    const leftCanvas = <Types.Point2>[centerCanvas[0] - dX, centerCanvas[1]];\n    const rightCanvas = <Types.Point2>[centerCanvas[0] + dX, centerCanvas[1]];\n\n    data.handles.points = [\n      canvasToWorld(bottomCanvas),\n      canvasToWorld(topCanvas),\n      canvasToWorld(leftCanvas),\n      canvasToWorld(rightCanvas),\n    ];\n\n    annotation.invalidated = true;\n\n    this.editData.hasMoved = true;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _dragModifyCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      const { deltaPoints } = eventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Moving tool\n      const { deltaPoints } = eventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      this._dragHandle(evt);\n      annotation.invalidated = true;\n    }\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _dragHandle = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { canvasToWorld } = enabledElement.viewport;\n\n    const {\n      annotation,\n      canvasWidth,\n      canvasHeight,\n      handleIndex,\n      centerCanvas,\n      originalHandleCanvas,\n    } = this.editData;\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    // Move current point in that direction.\n    // Move other points in opposite direction.\n\n    const { currentPoints } = eventDetail;\n    const currentCanvasPoints = currentPoints.canvas;\n\n    if (handleIndex === 0 || handleIndex === 1) {\n      // Dragging top or bottom point\n      const dYCanvas = Math.abs(currentCanvasPoints[1] - centerCanvas[1]);\n      const canvasBottom = <Types.Point2>[\n        centerCanvas[0],\n        centerCanvas[1] - dYCanvas,\n      ];\n      const canvasTop = <Types.Point2>[\n        centerCanvas[0],\n        centerCanvas[1] + dYCanvas,\n      ];\n\n      points[0] = canvasToWorld(canvasBottom);\n      points[1] = canvasToWorld(canvasTop);\n\n      const dXCanvas = currentCanvasPoints[0] - originalHandleCanvas[0];\n      const newHalfCanvasWidth = canvasWidth / 2 + dXCanvas;\n      const canvasLeft = <Types.Point2>[\n        centerCanvas[0] - newHalfCanvasWidth,\n        centerCanvas[1],\n      ];\n      const canvasRight = <Types.Point2>[\n        centerCanvas[0] + newHalfCanvasWidth,\n        centerCanvas[1],\n      ];\n\n      points[2] = canvasToWorld(canvasLeft);\n      points[3] = canvasToWorld(canvasRight);\n    } else {\n      // Dragging left or right point\n      const dXCanvas = Math.abs(currentCanvasPoints[0] - centerCanvas[0]);\n      const canvasLeft = <Types.Point2>[\n        centerCanvas[0] - dXCanvas,\n        centerCanvas[1],\n      ];\n      const canvasRight = <Types.Point2>[\n        centerCanvas[0] + dXCanvas,\n        centerCanvas[1],\n      ];\n\n      points[2] = canvasToWorld(canvasLeft);\n      points[3] = canvasToWorld(canvasRight);\n\n      const dYCanvas = currentCanvasPoints[1] - originalHandleCanvas[1];\n      const newHalfCanvasHeight = canvasHeight / 2 + dYCanvas;\n      const canvasBottom = <Types.Point2>[\n        centerCanvas[0],\n        centerCanvas[1] - newHalfCanvasHeight,\n      ];\n      const canvasTop = <Types.Point2>[\n        centerCanvas[0],\n        centerCanvas[1] + newHalfCanvasHeight,\n      ];\n\n      points[0] = canvasToWorld(canvasBottom);\n      points[1] = canvasToWorld(canvasTop);\n    }\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragModifyCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragModifyCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _deactivateModify = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragModifyCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragModifyCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _activateDraw = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragDrawCallback);\n    element.addEventListener(Events.MOUSE_MOVE, this._dragDrawCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragDrawCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _deactivateDraw = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragDrawCallback);\n    element.removeEventListener(Events.MOUSE_MOVE, this._dragDrawCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragDrawCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * it is used to draw the ellipticalROI annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as EllipticalROIAnnotation;\n      const { annotationUID, data } = annotation;\n      const { handles } = data;\n      const { points, activeHandleIndex } = handles;\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      const canvasCoordinates = points.map((p) =>\n        viewport.worldToCanvas(p)\n      ) as [Types.Point2, Types.Point2, Types.Point2, Types.Point2];\n\n      const rotation = Math.abs(\n        viewport.getRotation() - (data.initialRotation || 0)\n      );\n      let canvasCorners;\n\n      if (rotation == 90 || rotation == 270) {\n        canvasCorners = <Array<Types.Point2>>getCanvasEllipseCorners([\n          canvasCoordinates[2], // bottom\n          canvasCoordinates[3], // top\n          canvasCoordinates[0], // left\n          canvasCoordinates[1], // right\n        ]);\n      } else {\n        canvasCorners = <Array<Types.Point2>>(\n          getCanvasEllipseCorners(canvasCoordinates) // bottom, top, left, right, keep as is\n        );\n      }\n\n      const { centerPointRadius } = this.configuration;\n\n      // If cachedStats does not exist, or the unit is missing (as part of import/hydration etc.),\n      // force to recalculate the stats from the points\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].areaUnit == null\n      ) {\n        data.cachedStats[targetId] = {\n          Modality: null,\n          area: null,\n          max: null,\n          mean: null,\n          stdDev: null,\n          areaUnit: null,\n        };\n\n        this._calculateCachedStats(\n          annotation,\n          viewport,\n          renderingEngine,\n          enabledElement\n        );\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          viewport,\n          renderingEngine,\n          enabledElement\n        );\n        // If the invalidated data is as a result of volumeViewport manipulation\n        // of the tools, we need to invalidate the related viewports data, so that\n        // when scrolling to the related slice in which the tool were manipulated\n        // we re-render the correct tool position. This is due to stackViewport\n        // which doesn't have the full volume at each time, and we are only working\n        // on one slice at a time.\n        if (viewport instanceof VolumeViewport) {\n          const { referencedImageId } = annotation.metadata;\n\n          // invalidate all the relevant stackViewports if they are not\n          // at the referencedImageId\n          for (const targetId in data.cachedStats) {\n            if (targetId.startsWith('imageId')) {\n              const viewports = renderingEngine.getStackViewports();\n\n              const invalidatedStack = viewports.find((vp) => {\n                // The stack viewport that contains the imageId but is not\n                // showing it currently\n                const referencedImageURI =\n                  csUtils.imageIdToURI(referencedImageId);\n                const hasImageURI = vp.hasImageURI(referencedImageURI);\n                const currentImageURI = csUtils.imageIdToURI(\n                  vp.getCurrentImageId()\n                );\n                return hasImageURI && currentImageURI !== referencedImageURI;\n              });\n\n              if (invalidatedStack) {\n                delete data.cachedStats[targetId];\n              }\n            }\n          }\n        }\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          activeHandleCanvasCoords,\n          {\n            color,\n          }\n        );\n      }\n\n      const dataId = `${annotationUID}-ellipse`;\n      const ellipseUID = '0';\n      drawEllipseSvg(\n        svgDrawingHelper,\n        annotationUID,\n        ellipseUID,\n        canvasCorners[0],\n        canvasCorners[1],\n        {\n          color,\n          lineDash,\n          lineWidth,\n        },\n        dataId\n      );\n\n      // draw center point, if \"centerPointRadius\" configuration is valid.\n      if (centerPointRadius > 0) {\n        const minRadius = Math.min(\n          Math.abs(canvasCorners[0][0] - canvasCorners[1][0]) / 2, // horizontal radius\n          Math.abs(canvasCorners[0][1] - canvasCorners[1][1]) / 2 // vertical radius\n        );\n        if (minRadius > 3 * centerPointRadius) {\n          const centerPoint = this._getCanvasEllipseCenter(canvasCoordinates);\n          drawCircleSvg(\n            svgDrawingHelper,\n            annotationUID,\n            `${ellipseUID}-center`,\n            centerPoint,\n            centerPointRadius,\n            {\n              color,\n              lineDash,\n              lineWidth,\n            }\n          );\n        }\n      }\n\n      renderStatus = true;\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n      if (!textLines || textLines.length === 0) {\n        continue;\n      }\n\n      // Poor man's cached?\n      let canvasTextBoxCoords;\n\n      if (!data.handles.textBox.hasMoved) {\n        canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCorners);\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _calculateCachedStats = (\n    annotation,\n    viewport,\n    renderingEngine,\n    enabledElement\n  ) => {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId } = enabledElement;\n\n    const { points } = data.handles;\n\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n    const { viewPlaneNormal, viewUp } = viewport.getCamera();\n\n    const [topLeftCanvas, bottomRightCanvas] = <Array<Types.Point2>>(\n      getCanvasEllipseCorners(canvasCoordinates)\n    );\n\n    const topLeftWorld = viewport.canvasToWorld(topLeftCanvas);\n    const bottomRightWorld = viewport.canvasToWorld(bottomRightCanvas);\n    const { cachedStats } = data;\n\n    const targetIds = Object.keys(cachedStats);\n    const worldPos1 = topLeftWorld;\n    const worldPos2 = bottomRightWorld;\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { dimensions, imageData, metadata, hasPixelSpacing } = image;\n\n      const worldPos1Index = transformWorldToIndex(imageData, worldPos1);\n\n      worldPos1Index[0] = Math.floor(worldPos1Index[0]);\n      worldPos1Index[1] = Math.floor(worldPos1Index[1]);\n      worldPos1Index[2] = Math.floor(worldPos1Index[2]);\n\n      const worldPos2Index = transformWorldToIndex(imageData, worldPos2);\n\n      worldPos2Index[0] = Math.floor(worldPos2Index[0]);\n      worldPos2Index[1] = Math.floor(worldPos2Index[1]);\n      worldPos2Index[2] = Math.floor(worldPos2Index[2]);\n\n      // Check if one of the indexes are inside the volume, this then gives us\n      // Some area to do stats over.\n\n      if (this._isInsideVolume(worldPos1Index, worldPos2Index, dimensions)) {\n        const iMin = Math.min(worldPos1Index[0], worldPos2Index[0]);\n        const iMax = Math.max(worldPos1Index[0], worldPos2Index[0]);\n\n        const jMin = Math.min(worldPos1Index[1], worldPos2Index[1]);\n        const jMax = Math.max(worldPos1Index[1], worldPos2Index[1]);\n\n        const kMin = Math.min(worldPos1Index[2], worldPos2Index[2]);\n        const kMax = Math.max(worldPos1Index[2], worldPos2Index[2]);\n\n        const boundsIJK = [\n          [iMin, iMax],\n          [jMin, jMax],\n          [kMin, kMax],\n        ] as [Types.Point2, Types.Point2, Types.Point2];\n\n        const center = [\n          (topLeftWorld[0] + bottomRightWorld[0]) / 2,\n          (topLeftWorld[1] + bottomRightWorld[1]) / 2,\n          (topLeftWorld[2] + bottomRightWorld[2]) / 2,\n        ] as Types.Point3;\n\n        const ellipseObj = {\n          center,\n          xRadius: Math.abs(topLeftWorld[0] - bottomRightWorld[0]) / 2,\n          yRadius: Math.abs(topLeftWorld[1] - bottomRightWorld[1]) / 2,\n          zRadius: Math.abs(topLeftWorld[2] - bottomRightWorld[2]) / 2,\n        };\n\n        const { worldWidth, worldHeight } = getWorldWidthAndHeightFromTwoPoints(\n          viewPlaneNormal,\n          viewUp,\n          worldPos1,\n          worldPos2\n        );\n        const isEmptyArea = worldWidth === 0 && worldHeight === 0;\n        const scale = getCalibratedScale(image);\n        const area =\n          Math.abs(Math.PI * (worldWidth / 2) * (worldHeight / 2)) /\n          scale /\n          scale;\n\n        const modalityUnitOptions = {\n          isPreScaled: isViewportPreScaled(viewport, targetId),\n\n          isSuvScaled: this.isSuvScaled(\n            viewport,\n            targetId,\n            annotation.metadata.referencedImageId\n          ),\n        };\n\n        const modalityUnit = getModalityUnit(\n          metadata.Modality,\n          annotation.metadata.referencedImageId,\n          modalityUnitOptions\n        );\n\n        const pointsInShape = pointInShapeCallback(\n          imageData,\n          (pointLPS, pointIJK) => pointInEllipse(ellipseObj, pointLPS),\n          this.configuration.statsCalculator.statsCallback,\n          boundsIJK\n        );\n\n        const stats = this.configuration.statsCalculator.getStatistics();\n\n        cachedStats[targetId] = {\n          Modality: metadata.Modality,\n          area,\n          mean: stats[1]?.value,\n          max: stats[0]?.value,\n          stdDev: stats[2]?.value,\n          statsArray: stats,\n          pointsInShape: pointsInShape,\n          isEmptyArea,\n          areaUnit: getCalibratedAreaUnits(null, image),\n          modalityUnit,\n        };\n      } else {\n        this.isHandleOutsideImage = true;\n\n        cachedStats[targetId] = {\n          Modality: metadata.Modality,\n        };\n      }\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  };\n\n  _isInsideVolume = (index1, index2, dimensions) => {\n    return (\n      csUtils.indexWithinDimensions(index1, dimensions) &&\n      csUtils.indexWithinDimensions(index2, dimensions)\n    );\n  };\n\n  /**\n   * This is a temporary function to use the old ellipse's canvas-based\n   * calculation for isPointNearTool, we should move the the world-based\n   * calculation to the tool's isPointNearTool function.\n   *\n   * @param ellipse - The ellipse object\n   * @param location - The location to check\n   * @returns True if the point is inside the ellipse\n   */\n  _pointInEllipseCanvas(ellipse, location: Types.Point2): boolean {\n    const xRadius = ellipse.width / 2;\n    const yRadius = ellipse.height / 2;\n\n    if (xRadius <= 0.0 || yRadius <= 0.0) {\n      return false;\n    }\n\n    const center = [ellipse.left + xRadius, ellipse.top + yRadius];\n    const normalized = [location[0] - center[0], location[1] - center[1]];\n\n    const inEllipse =\n      (normalized[0] * normalized[0]) / (xRadius * xRadius) +\n        (normalized[1] * normalized[1]) / (yRadius * yRadius) <=\n      1.0;\n\n    return inEllipse;\n  }\n\n  /**\n   * It takes the canvas coordinates of the ellipse corners and returns the center point of it\n   *\n   * @param ellipseCanvasPoints - The coordinates of the ellipse in the canvas.\n   * @returns center point.\n   */\n  _getCanvasEllipseCenter(ellipseCanvasPoints: Types.Point2[]): Types.Point2 {\n    const [bottom, top, left, right] = ellipseCanvasPoints;\n    const topLeft = [left[0], top[1]];\n    const bottomRight = [right[0], bottom[1]];\n    return [\n      (topLeft[0] + bottomRight[0]) / 2,\n      (topLeft[1] + bottomRight[1]) / 2,\n    ] as Types.Point2;\n  }\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { area, mean, stdDev, max, isEmptyArea, areaUnit, modalityUnit } =\n    cachedVolumeStats;\n\n  const textLines: string[] = [];\n\n  if (area) {\n    const areaLine = isEmptyArea\n      ? `Area: Oblique not supported`\n      : `Area: ${roundNumber(area)} ${areaUnit}`;\n    textLines.push(areaLine);\n  }\n\n  if (mean) {\n    textLines.push(`Mean: ${roundNumber(mean)} ${modalityUnit}`);\n  }\n\n  if (max) {\n    textLines.push(`Max: ${roundNumber(max)} ${modalityUnit}`);\n  }\n\n  if (stdDev) {\n    textLines.push(`Std Dev: ${roundNumber(stdDev)} ${modalityUnit}`);\n  }\n\n  return textLines;\n}\n\nEllipticalROITool.toolName = 'EllipticalROI';\nexport default EllipticalROITool;\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * Calculates the distance of a point to another point\n *\n * @param p1 - x,y of the point\n * @param p2 - x,y of the point\n * @returns distance\n */\nexport default function distanceToPoint(\n  p1: Types.Point2,\n  p2: Types.Point2\n): number {\n  if (p1?.length !== 2 || p2?.length !== 2) {\n    throw Error('points should have 2 elements of [x, y]');\n  }\n\n  const [x1, y1] = p1;\n  const [x2, y2] = p2;\n\n  return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n}\n","import { distanceToPoint } from '../point';\nimport { canvasCoordinates } from './_types';\n\n/**\n * It takes the canvas coordinates of the circle corners and returns the top left and bottom right\n * corners of it\n *\n * @param circleCanvasPoints - The coordinates of the circle in the canvas.\n * @returns An array of two points.\n */\nexport default function getCanvasCircleRadius(\n  circleCanvasPoints: canvasCoordinates\n): number {\n  const [center, end] = circleCanvasPoints;\n  return distanceToPoint(center, end);\n}\n","import type { Types } from '@cornerstonejs/core';\nimport { distanceToPoint } from '../point';\nimport { canvasCoordinates } from './_types';\n\n/**\n * It takes the canvas coordinates of the circle corners (wrapping square rectangle)\n * and returns the top left and bottom right\n * corners of it\n *\n * @param circleCanvasPoints - The coordinates of the circle in the canvas.\n * @returns An array of two points.\n */\nexport default function getCanvasCircleCorners(\n  circleCanvasPoints: canvasCoordinates\n): Array<Types.Point2> {\n  const [center, end] = circleCanvasPoints;\n  const radius = distanceToPoint(center, end);\n\n  const topLeft = <Types.Point2>[center[0] - radius, center[1] - radius];\n  const bottomRight = <Types.Point2>[center[0] + radius, center[1] + radius];\n\n  return [topLeft, bottomRight];\n}\n","import { AnnotationTool } from '../base';\n\nimport {\n  getEnabledElement,\n  VolumeViewport,\n  eventTarget,\n  triggerEvent,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport {\n  getCalibratedLengthUnits,\n  getCalibratedAreaUnits,\n  getCalibratedScale,\n  getCalibratedAspect,\n} from '../../utilities/getCalibratedUnits';\nimport roundNumber from '../../utilities/roundNumber';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport {\n  drawCircle as drawCircleSvg,\n  drawHandles as drawHandlesSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { Events } from '../../enums';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport getWorldWidthAndHeightFromTwoPoints from '../../utilities/planar/getWorldWidthAndHeightFromTwoPoints';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n} from '../../types';\nimport { CircleROIAnnotation } from '../../types/ToolSpecificAnnotationTypes';\n\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport { pointInShapeCallback } from '../../utilities';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\nimport {\n  ModalityUnitOptions,\n  getModalityUnit,\n} from '../../utilities/getModalityUnit';\nimport { isViewportPreScaled } from '../../utilities/viewport/isViewportPreScaled';\nimport {\n  getCanvasCircleCorners,\n  getCanvasCircleRadius,\n} from '../../utilities/math/circle';\nimport { pointInEllipse } from '../../utilities/math/ellipse';\nimport { BasicStatsCalculator } from '../../utilities/math/basic';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * CircleROITool let you draw annotations that measures the statistics\n * such as area, max, mean and stdDev of an elliptical region of interest.\n * You can use CircleROITool in all perpendicular views (axial, sagittal, coronal).\n * Note: annotation tools in cornerstone3DTools exists in the exact location\n * in the physical 3d space, as a result, by default, all annotations that are\n * drawing in the same frameOfReference will get shared between viewports that\n * are in the same frameOfReference. Circle tool's text box lines are dynamically\n * generated based on the viewport's underlying Modality. For instance, if\n * the viewport is displaying CT, the text box will shown the statistics in Hounsfield units,\n * and if the viewport is displaying PET, the text box will show the statistics in\n * SUV units.\n *\n * The resulting annotation's data (statistics) and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * Changing tool configuration (see below) you can make the tool to draw the center\n * point circle with a given radius.\n *\n * ```js\n * cornerstoneTools.addTool(CircleROITool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(CircleROITool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(CircleROITool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n *\n * // draw a circle at the center point with 4px radius.\n * toolGroup.setToolConfiguration(CircleROITool.toolName, {\n *   centerPointRadius: 4,\n * });\n * ```\n *\n * Read more in the Docs section of the website.\n */\n\nclass CircleROITool extends AnnotationTool {\n  static toolName;\n\n  touchDragCallback: any;\n  mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: Array<string>;\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage = false;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        // Radius of the circle to draw  at the center point of the circle.\n        // Set this zero(0) in order not to draw the circle.\n        centerPointRadius: 0,\n        getTextLines: defaultGetTextLines,\n        statsCalculator: BasicStatsCalculator,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a CircleROI Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): CircleROIAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const canvasPos = currentPoints.canvas;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        label: '',\n        handles: {\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n          points: [[...worldPos], [...worldPos]] as [\n            Types.Point3, // center\n            Types.Point3 // end\n          ],\n          activeHandleIndex: null,\n        },\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: CircleROIAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    // For some reason Typescript doesn't understand this, so we need to be\n    // more specific about the type\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p)) as [\n      Types.Point2,\n      Types.Point2\n    ];\n\n    const radius = getCanvasCircleRadius(canvasCoordinates);\n    const radiusPoint = getCanvasCircleRadius([\n      canvasCoordinates[0],\n      canvasCoords,\n    ]);\n\n    if (Math.abs(radiusPoint - radius) < proximity / 2) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: CircleROIAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    hideElementCursor(element);\n\n    this._activateModify(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: CircleROIAnnotation,\n    handle: ToolHandle\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      const { points } = data.handles;\n\n      handleIndex = points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n\n    // Circle ROI tool should reset its highlight to false on mouse up (as opposed\n    // to other tools that keep it highlighted until the user moves. The reason\n    // is that we use top-left and bottom-right handles to define the circle,\n    // and they are by definition not in the circle on mouse up.\n    annotation.highlighted = false;\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n  };\n\n  _dragDrawCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { currentPoints } = eventDetail;\n    const currentCanvasPoints = currentPoints.canvas;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n    const { canvasToWorld } = viewport;\n\n    //////\n    const { annotation, viewportIdsToRender } = this.editData;\n    const { data } = annotation;\n\n    data.handles.points = [\n      data.handles.points[0], // center stays\n      canvasToWorld(currentCanvasPoints), // end point moves (changing radius)\n    ];\n\n    annotation.invalidated = true;\n\n    this.editData.hasMoved = true;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _dragModifyCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      const { deltaPoints } = eventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Moving tool\n      const { deltaPoints } = eventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      this._dragHandle(evt);\n      annotation.invalidated = true;\n    }\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _dragHandle = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { canvasToWorld, worldToCanvas } = enabledElement.viewport;\n\n    const { annotation, handleIndex } = this.editData;\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    const canvasCoordinates = points.map((p) => worldToCanvas(p));\n\n    // Move current point in that direction.\n    // Move other points in opposite direction.\n\n    const { currentPoints } = eventDetail;\n    const currentCanvasPoints = currentPoints.canvas;\n\n    if (handleIndex === 0) {\n      // Dragging center, move the circle ROI\n      const dXCanvas = currentCanvasPoints[0] - canvasCoordinates[0][0];\n      const dYCanvas = currentCanvasPoints[1] - canvasCoordinates[0][1];\n\n      const canvasCenter = currentCanvasPoints as Types.Point2;\n      const canvasEnd = <Types.Point2>[\n        canvasCoordinates[1][0] + dXCanvas,\n        canvasCoordinates[1][1] + dYCanvas,\n      ];\n\n      points[0] = canvasToWorld(canvasCenter);\n      points[1] = canvasToWorld(canvasEnd);\n    } else {\n      // Dragging end point, center stays\n      points[1] = canvasToWorld(currentCanvasPoints);\n    }\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragModifyCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragModifyCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _deactivateModify = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragModifyCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragModifyCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _activateDraw = (element) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragDrawCallback);\n    element.addEventListener(Events.MOUSE_MOVE, this._dragDrawCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragDrawCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  _deactivateDraw = (element) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragDrawCallback);\n    element.removeEventListener(Events.MOUSE_MOVE, this._dragDrawCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragDrawCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * it is used to draw the circleROI annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as CircleROIAnnotation;\n      const { annotationUID, data } = annotation;\n      const { handles } = data;\n      const { points, activeHandleIndex } = handles;\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      const canvasCoordinates = points.map((p) =>\n        viewport.worldToCanvas(p)\n      ) as [Types.Point2, Types.Point2];\n      const center = canvasCoordinates[0];\n      const radius = getCanvasCircleRadius(canvasCoordinates);\n      const canvasCorners = getCanvasCircleCorners(canvasCoordinates);\n\n      const { centerPointRadius } = this.configuration;\n\n      // If cachedStats does not exist, or the unit is missing (as part of import/hydration etc.),\n      // force to recalculate the stats from the points\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].areaUnit == null\n      ) {\n        data.cachedStats[targetId] = {\n          Modality: null,\n          area: null,\n          max: null,\n          mean: null,\n          stdDev: null,\n          areaUnit: null,\n          radius: null,\n          radiusUnit: null,\n          perimeter: null,\n        };\n\n        this._calculateCachedStats(\n          annotation,\n          viewport,\n          renderingEngine,\n          enabledElement\n        );\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          viewport,\n          renderingEngine,\n          enabledElement\n        );\n        // If the invalidated data is as a result of volumeViewport manipulation\n        // of the tools, we need to invalidate the related viewports data, so that\n        // when scrolling to the related slice in which the tool were manipulated\n        // we re-render the correct tool position. This is due to stackViewport\n        // which doesn't have the full volume at each time, and we are only working\n        // on one slice at a time.\n        if (viewport instanceof VolumeViewport) {\n          const { referencedImageId } = annotation.metadata;\n\n          // invalidate all the relevant stackViewports if they are not\n          // at the referencedImageId\n          for (const targetId in data.cachedStats) {\n            if (targetId.startsWith('imageId')) {\n              const viewports = renderingEngine.getStackViewports();\n\n              const invalidatedStack = viewports.find((vp) => {\n                // The stack viewport that contains the imageId but is not\n                // showing it currently\n                const referencedImageURI =\n                  csUtils.imageIdToURI(referencedImageId);\n                const hasImageURI = vp.hasImageURI(referencedImageURI);\n                const currentImageURI = csUtils.imageIdToURI(\n                  vp.getCurrentImageId()\n                );\n                return hasImageURI && currentImageURI !== referencedImageURI;\n              });\n\n              if (invalidatedStack) {\n                delete data.cachedStats[targetId];\n              }\n            }\n          }\n        }\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          activeHandleCanvasCoords,\n          {\n            color,\n          }\n        );\n      }\n\n      const dataId = `${annotationUID}-circle`;\n      const circleUID = '0';\n      drawCircleSvg(\n        svgDrawingHelper,\n        annotationUID,\n        circleUID,\n        center,\n        radius,\n        {\n          color,\n          lineDash,\n          lineWidth,\n        },\n        dataId\n      );\n\n      // draw center point, if \"centerPointRadius\" configuration is valid.\n      if (centerPointRadius > 0) {\n        if (radius > 3 * centerPointRadius) {\n          drawCircleSvg(\n            svgDrawingHelper,\n            annotationUID,\n            `${circleUID}-center`,\n            center,\n            centerPointRadius,\n            {\n              color,\n              lineDash,\n              lineWidth,\n            }\n          );\n        }\n      }\n\n      renderStatus = true;\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n      if (!textLines || textLines.length === 0) {\n        continue;\n      }\n\n      // Poor man's cached?\n      let canvasTextBoxCoords;\n\n      if (!data.handles.textBox.hasMoved) {\n        canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCorners);\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _calculateCachedStats = (\n    annotation,\n    viewport,\n    renderingEngine,\n    enabledElement\n  ) => {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId } = enabledElement;\n\n    const { points } = data.handles;\n\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n    const { viewPlaneNormal, viewUp } = viewport.getCamera();\n\n    const [topLeftCanvas, bottomRightCanvas] = <Array<Types.Point2>>(\n      getCanvasCircleCorners(canvasCoordinates)\n    );\n\n    const topLeftWorld = viewport.canvasToWorld(topLeftCanvas);\n    const bottomRightWorld = viewport.canvasToWorld(bottomRightCanvas);\n    const { cachedStats } = data;\n\n    const targetIds = Object.keys(cachedStats);\n    const worldPos1 = topLeftWorld;\n    const worldPos2 = bottomRightWorld;\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { dimensions, imageData, metadata, hasPixelSpacing } = image;\n\n      const worldPos1Index = transformWorldToIndex(imageData, worldPos1);\n\n      worldPos1Index[0] = Math.floor(worldPos1Index[0]);\n      worldPos1Index[1] = Math.floor(worldPos1Index[1]);\n      worldPos1Index[2] = Math.floor(worldPos1Index[2]);\n\n      const worldPos2Index = transformWorldToIndex(imageData, worldPos2);\n\n      worldPos2Index[0] = Math.floor(worldPos2Index[0]);\n      worldPos2Index[1] = Math.floor(worldPos2Index[1]);\n      worldPos2Index[2] = Math.floor(worldPos2Index[2]);\n\n      // Check if one of the indexes are inside the volume, this then gives us\n      // Some area to do stats over.\n\n      if (this._isInsideVolume(worldPos1Index, worldPos2Index, dimensions)) {\n        const iMin = Math.min(worldPos1Index[0], worldPos2Index[0]);\n        const iMax = Math.max(worldPos1Index[0], worldPos2Index[0]);\n\n        const jMin = Math.min(worldPos1Index[1], worldPos2Index[1]);\n        const jMax = Math.max(worldPos1Index[1], worldPos2Index[1]);\n\n        const kMin = Math.min(worldPos1Index[2], worldPos2Index[2]);\n        const kMax = Math.max(worldPos1Index[2], worldPos2Index[2]);\n\n        const boundsIJK = [\n          [iMin, iMax],\n          [jMin, jMax],\n          [kMin, kMax],\n        ] as [Types.Point2, Types.Point2, Types.Point2];\n\n        const center = [\n          (topLeftWorld[0] + bottomRightWorld[0]) / 2,\n          (topLeftWorld[1] + bottomRightWorld[1]) / 2,\n          (topLeftWorld[2] + bottomRightWorld[2]) / 2,\n        ] as Types.Point3;\n\n        const ellipseObj = {\n          center,\n          xRadius: Math.abs(topLeftWorld[0] - bottomRightWorld[0]) / 2,\n          yRadius: Math.abs(topLeftWorld[1] - bottomRightWorld[1]) / 2,\n          zRadius: Math.abs(topLeftWorld[2] - bottomRightWorld[2]) / 2,\n        };\n\n        const { worldWidth, worldHeight } = getWorldWidthAndHeightFromTwoPoints(\n          viewPlaneNormal,\n          viewUp,\n          worldPos1,\n          worldPos2\n        );\n        const isEmptyArea = worldWidth === 0 && worldHeight === 0;\n        const scale = getCalibratedScale(image);\n        const aspect = getCalibratedAspect(image);\n        const area = Math.abs(\n          Math.PI *\n            (worldWidth / scale / 2) *\n            (worldHeight / aspect / scale / 2)\n        );\n\n        const modalityUnitOptions = {\n          isPreScaled: isViewportPreScaled(viewport, targetId),\n          isSuvScaled: this.isSuvScaled(\n            viewport,\n            targetId,\n            annotation.metadata.referencedImageId\n          ),\n        };\n\n        const modalityUnit = getModalityUnit(\n          metadata.Modality,\n          annotation.metadata.referencedImageId,\n          modalityUnitOptions\n        );\n\n        const pointsInShape = pointInShapeCallback(\n          imageData,\n          (pointLPS, pointIJK) => pointInEllipse(ellipseObj, pointLPS),\n          this.configuration.statsCalculator.statsCallback,\n          boundsIJK\n        );\n\n        const stats = this.configuration.statsCalculator.getStatistics();\n\n        cachedStats[targetId] = {\n          Modality: metadata.Modality,\n          area,\n          mean: stats[1]?.value,\n          max: stats[0]?.value,\n          stdDev: stats[2]?.value,\n          statsArray: stats,\n          pointsInShape: pointsInShape,\n          isEmptyArea,\n          areaUnit: getCalibratedAreaUnits(null, image),\n          radius: worldWidth / 2 / scale,\n          radiusUnit: getCalibratedLengthUnits(null, image),\n          perimeter: (2 * Math.PI * (worldWidth / 2)) / scale,\n          modalityUnit,\n        };\n      } else {\n        this.isHandleOutsideImage = true;\n\n        cachedStats[targetId] = {\n          Modality: metadata.Modality,\n        };\n      }\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  };\n\n  _isInsideVolume = (index1, index2, dimensions) => {\n    return (\n      csUtils.indexWithinDimensions(index1, dimensions) &&\n      csUtils.indexWithinDimensions(index2, dimensions)\n    );\n  };\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const {\n    radius,\n    radiusUnit,\n    area,\n    mean,\n    stdDev,\n    max,\n    isEmptyArea,\n    Modality,\n    areaUnit,\n    modalityUnit,\n  } = cachedVolumeStats;\n\n  const textLines: string[] = [];\n\n  if (radius) {\n    const radiusLine = isEmptyArea\n      ? `Radius: Oblique not supported`\n      : `Radius: ${roundNumber(radius)} ${radiusUnit}`;\n    textLines.push(radiusLine);\n  }\n\n  if (area) {\n    const areaLine = isEmptyArea\n      ? `Area: Oblique not supported`\n      : `Area: ${roundNumber(area)} ${areaUnit}`;\n    textLines.push(areaLine);\n  }\n\n  if (mean) {\n    textLines.push(`Mean: ${roundNumber(mean)} ${modalityUnit}`);\n  }\n\n  if (max) {\n    textLines.push(`Max: ${roundNumber(max)} ${modalityUnit}`);\n  }\n\n  if (stdDev) {\n    textLines.push(`Std Dev: ${roundNumber(stdDev)} ${modalityUnit}`);\n  }\n\n  return textLines;\n}\n\nCircleROITool.toolName = 'CircleROI';\nexport default CircleROITool;\n","import { vec2 } from 'gl-matrix';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Orientation algoritm to determine if two lines cross.\n * Credit and details: geeksforgeeks.org/check-if-two-given-line-segments-intersect/\n */\n\nfunction getAllIntersectionsWithPolyline(\n  points: Types.Point2[],\n  p1: Types.Point2,\n  q1: Types.Point2,\n  closed = true\n): Types.Point2[] {\n  let initialI;\n  let j;\n  const intersections: Types.Point2[] = [];\n\n  if (closed) {\n    j = points.length - 1;\n    initialI = 0;\n  } else {\n    j = 0;\n    initialI = 1;\n  }\n\n  for (let i = initialI; i < points.length; i++) {\n    const p2 = points[j];\n    const q2 = points[i];\n\n    if (doesIntersect(p1, q1, p2, q2)) {\n      intersections.push([j, i]);\n    }\n\n    j = i;\n  }\n\n  return intersections;\n}\n\n/**\n * Returns all intersections points\n * between a line and a polyline\n */\nfunction getIntersectionCoordinatesWithPolyline(\n  points: Types.Point2[],\n  p1: Types.Point2,\n  q1: Types.Point2,\n  closed = true\n): Types.Point2[] {\n  const result = [];\n  const polylineIndexes = getAllIntersectionsWithPolyline(\n    points,\n    p1,\n    q1,\n    closed\n  );\n\n  for (let i = 0; i < polylineIndexes.length; i++) {\n    const p2 = points[polylineIndexes[i][0]];\n    const q2 = points[polylineIndexes[i][1]];\n    const intersection = getIntersection(p1, q1, p2, q2);\n    result.push(intersection);\n  }\n  return result;\n}\n\n/**\n * Checks whether the line (`p1`,`q1`) intersects any of the other lines in the\n * `points`, and returns the first value.\n */\nfunction getFirstIntersectionWithPolyline(\n  points: Types.Point2[],\n  p1: Types.Point2,\n  q1: Types.Point2,\n  closed = true\n): Types.Point2 | undefined {\n  let initialI;\n  let j;\n\n  if (closed) {\n    j = points.length - 1;\n    initialI = 0;\n  } else {\n    j = 0;\n    initialI = 1;\n  }\n\n  for (let i = initialI; i < points.length; i++) {\n    const p2 = points[j];\n    const q2 = points[i];\n\n    if (doesIntersect(p1, q1, p2, q2)) {\n      return [j, i];\n    }\n\n    j = i;\n  }\n}\n\n/**\n * Checks whether the line (`p1`,`q1`) intersects any of the other lines in the\n * `points`, and returns the closest value.\n */\nfunction getClosestIntersectionWithPolyline(\n  points: Types.Point2[],\n  p1: Types.Point2,\n  q1: Types.Point2,\n  closed = true\n): { segment: Types.Point2; distance: number } | undefined {\n  let initialI;\n  let j;\n\n  if (closed) {\n    j = points.length - 1;\n    initialI = 0;\n  } else {\n    j = 0;\n    initialI = 1;\n  }\n\n  const intersections = [];\n\n  for (let i = initialI; i < points.length; i++) {\n    const p2 = points[j];\n    const q2 = points[i];\n\n    if (doesIntersect(p1, q1, p2, q2)) {\n      intersections.push([j, i]);\n    }\n\n    j = i;\n  }\n\n  if (intersections.length === 0) {\n    return;\n  }\n\n  // Find intersection closest to the start point\n  const distances = [];\n\n  intersections.forEach((intersection) => {\n    const intersectionPoints = [\n      points[intersection[0]],\n      points[intersection[1]],\n    ];\n\n    const midpoint = [\n      (intersectionPoints[0][0] + intersectionPoints[1][0]) / 2,\n      (intersectionPoints[0][1] + intersectionPoints[1][1]) / 2,\n    ];\n\n    distances.push(vec2.distance(<vec2>midpoint, p1));\n  });\n\n  const minDistance = Math.min(...distances);\n  const indexOfMinDistance = distances.indexOf(minDistance);\n\n  return {\n    segment: intersections[indexOfMinDistance],\n    distance: minDistance,\n  };\n}\n\n/**\n * Checks whether the line (`p1`,`q1`) intersects the line (`p2`,`q2`) via an orientation algorithm.\n */\nfunction doesIntersect(\n  p1: Types.Point2,\n  q1: Types.Point2,\n  p2: Types.Point2,\n  q2: Types.Point2\n): boolean {\n  let result = false;\n\n  const orient = [\n    orientation(p1, q1, p2),\n    orientation(p1, q1, q2),\n    orientation(p2, q2, p1),\n    orientation(p2, q2, q1),\n  ];\n\n  // General Case\n  if (orient[0] !== orient[1] && orient[2] !== orient[3]) {\n    return true;\n  }\n\n  // Special Cases\n  if (orient[0] === 0 && onSegment(p1, p2, q1)) {\n    // If p1, q1 and p2 are colinear and p2 lies on segment p1q1\n    result = true;\n  } else if (orient[1] === 0 && onSegment(p1, q2, q1)) {\n    // If p1, q1 and p2 are colinear and q2 lies on segment p1q1\n    result = true;\n  } else if (orient[2] === 0 && onSegment(p2, p1, q2)) {\n    // If p2, q2 and p1 are colinear and p1 lies on segment p2q2\n    result = true;\n  } else if (orient[3] === 0 && onSegment(p2, q1, q2)) {\n    // If p2, q2 and q1 are colinear and q1 lies on segment p2q2\n    result = true;\n  }\n\n  return result;\n}\n\n/**\n * Checks the orientation of 3 points, returns a 0, 1 or 2 based on\n * the orientation of the points.\n */\nfunction orientation(\n  p: Types.Point2,\n  q: Types.Point2,\n  r: Types.Point2\n): number {\n  const orientationValue =\n    (q[1] - p[1]) * (r[0] - q[0]) - (q[0] - p[0]) * (r[1] - q[1]);\n\n  if (orientationValue === 0) {\n    return 0; // Colinear\n  }\n\n  return orientationValue > 0 ? 1 : 2;\n}\n\n/**\n * Checks if point `q` lies on the segment (`p`,`r`).\n */\nfunction onSegment(p: Types.Point2, q: Types.Point2, r: Types.Point2): boolean {\n  if (\n    q[0] <= Math.max(p[0], r[0]) &&\n    q[0] >= Math.min(p[0], r[0]) &&\n    q[1] <= Math.max(p[1], r[1]) &&\n    q[1] >= Math.min(p[1], r[1])\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Gets the intersection between the line (`p1`,`q1`) and the line (`p2`,`q2`)\n * http://jsfiddle.net/justin_c_rounds/Gd2S2/light/\n * https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection#Given_two_points_on_each_line\n */\nfunction getIntersection(\n  p1: Types.Point2,\n  q1: Types.Point2,\n  p2: Types.Point2,\n  q2: Types.Point2\n): Types.Point2 {\n  const denominator =\n    (q2[1] - p2[1]) * (q1[0] - p1[0]) - (q2[0] - p2[0]) * (q1[1] - p1[1]);\n  if (denominator == 0) {\n    return;\n  }\n  let a = p1[1] - p2[1];\n  let b = p1[0] - p2[0];\n  const numerator1 = (q2[0] - p2[0]) * a - (q2[1] - p2[1]) * b;\n  const numerator2 = (q1[0] - p1[0]) * a - (q1[1] - p1[1]) * b;\n  a = numerator1 / denominator;\n  b = numerator2 / denominator;\n\n  const resultX = p1[0] + a * (q1[0] - p1[0]);\n  const resultY = p1[1] + a * (q1[1] - p1[1]);\n\n  return [resultX, resultY];\n}\n\nexport {\n  getAllIntersectionsWithPolyline,\n  getFirstIntersectionWithPolyline,\n  getClosestIntersectionWithPolyline,\n  getIntersectionCoordinatesWithPolyline,\n};\n","import { StackViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { vec3 } from 'gl-matrix';\n\nconst EPSILON = 1e-3;\n\n/**\n * Gets the desired spacing for points in the polyline for the\n * `PlanarFreehandROITool` in the x and y canvas directions, as well as\n * returning these canvas directions in world space.\n *\n * @param viewport - The Cornerstone3D `StackViewport` or `VolumeViewport`.\n * @param subPixelResolution - The number to divide the image pixel spacing by\n * to get the sub pixel spacing. E.g. `10` will return spacings 10x smaller than\n * the native image spacing.\n * @returns The spacings of the X and Y directions, and the 3D directions of the\n * x and y directions.\n */\nconst getSubPixelSpacingAndXYDirections = (\n  viewport: Types.IStackViewport | Types.IVolumeViewport,\n  subPixelResolution: number\n): { spacing: Types.Point2; xDir: Types.Point3; yDir: Types.Point3 } => {\n  let spacing;\n  let xDir;\n  let yDir;\n\n  if (viewport instanceof StackViewport) {\n    // Check XY directions\n    const imageData = viewport.getImageData();\n\n    xDir = imageData.direction.slice(0, 3);\n    yDir = imageData.direction.slice(3, 6);\n\n    spacing = imageData.spacing;\n  } else {\n    // Check volume directions\n    const imageData = viewport.getImageData();\n    const { direction, spacing: volumeSpacing } = imageData;\n    const { viewPlaneNormal, viewUp } = viewport.getCamera();\n\n    // Calculate size of spacing vector in normal direction\n    const iVector = direction.slice(0, 3) as Types.Point3;\n    const jVector = direction.slice(3, 6) as Types.Point3;\n    const kVector = direction.slice(6, 9) as Types.Point3;\n\n    const viewRight = vec3.create(); // Get the X direction of the viewport\n\n    vec3.cross(viewRight, <vec3>viewUp, <vec3>viewPlaneNormal);\n\n    const absViewRightDotI = Math.abs(vec3.dot(viewRight, iVector));\n    const absViewRightDotJ = Math.abs(vec3.dot(viewRight, jVector));\n    const absViewRightDotK = Math.abs(vec3.dot(viewRight, kVector));\n\n    // Get X spacing\n    let xSpacing;\n    if (Math.abs(1 - absViewRightDotI) < EPSILON) {\n      xSpacing = volumeSpacing[0];\n      xDir = iVector;\n    } else if (Math.abs(1 - absViewRightDotJ) < EPSILON) {\n      xSpacing = volumeSpacing[1];\n      xDir = jVector;\n    } else if (Math.abs(1 - absViewRightDotK) < EPSILON) {\n      xSpacing = volumeSpacing[2];\n      xDir = kVector;\n    } else {\n      throw new Error('No support yet for oblique plane planar contours');\n    }\n\n    const absViewUpDotI = Math.abs(vec3.dot(viewUp, iVector));\n    const absViewUpDotJ = Math.abs(vec3.dot(viewUp, jVector));\n    const absViewUpDotK = Math.abs(vec3.dot(viewUp, kVector));\n\n    // Get Y spacing\n    let ySpacing;\n    if (Math.abs(1 - absViewUpDotI) < EPSILON) {\n      ySpacing = volumeSpacing[0];\n      yDir = iVector;\n    } else if (Math.abs(1 - absViewUpDotJ) < EPSILON) {\n      ySpacing = volumeSpacing[1];\n      yDir = jVector;\n    } else if (Math.abs(1 - absViewUpDotK) < EPSILON) {\n      ySpacing = volumeSpacing[2];\n      yDir = kVector;\n    } else {\n      throw new Error('No support yet for oblique plane planar contours');\n    }\n\n    spacing = [xSpacing, ySpacing];\n  }\n\n  const subPixelSpacing: Types.Point2 = [\n    spacing[0] / subPixelResolution,\n    spacing[1] / subPixelResolution,\n  ];\n\n  return { spacing: subPixelSpacing, xDir, yDir };\n};\n\nexport default getSubPixelSpacingAndXYDirections;\n","import { vec2 } from 'gl-matrix';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Returns true if points `p1` and `p2` are within `closeContourProximity`.\n */\nconst pointsAreWithinCloseContourProximity = (\n  p1: Types.Point2,\n  p2: Types.Point2,\n  closeContourProximity: number\n): boolean => {\n  return vec2.dist(p1, p2) < closeContourProximity;\n};\n\nexport default pointsAreWithinCloseContourProximity;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { vec2, vec3 } from 'gl-matrix';\nimport { PlanarFreehandROICommonData } from './planarFreehandROIInternalTypes';\n\n/**\n * Adds one or more points to the array at a resolution defined by the underlying image.\n */\nconst addCanvasPointsToArray = (\n  element: HTMLDivElement,\n  canvasPoints: Types.Point2[],\n  newCanvasPoint: Types.Point2,\n  commonData: PlanarFreehandROICommonData\n): number => {\n  const { xDir, yDir, spacing } = commonData;\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  const lastWorldPos = viewport.canvasToWorld(\n    canvasPoints[canvasPoints.length - 1]\n  );\n  const newWorldPos = viewport.canvasToWorld(newCanvasPoint);\n\n  const worldPosDiff = vec3.create();\n\n  vec3.subtract(worldPosDiff, newWorldPos, lastWorldPos);\n\n  const xDist = Math.abs(vec3.dot(worldPosDiff, xDir));\n  const yDist = Math.abs(vec3.dot(worldPosDiff, yDir));\n\n  const numPointsToAdd = Math.max(\n    Math.floor(xDist / spacing[0]),\n    Math.floor(yDist / spacing[0])\n  );\n\n  if (numPointsToAdd > 1) {\n    const lastCanvasPoint = canvasPoints[canvasPoints.length - 1];\n\n    const canvasDist = vec2.dist(lastCanvasPoint, newCanvasPoint);\n\n    const canvasDir = vec2.create();\n\n    vec2.subtract(canvasDir, newCanvasPoint, lastCanvasPoint);\n\n    vec2.set(canvasDir, canvasDir[0] / canvasDist, canvasDir[1] / canvasDist);\n\n    const distPerPoint = canvasDist / numPointsToAdd;\n\n    for (let i = 1; i <= numPointsToAdd; i++) {\n      canvasPoints.push([\n        lastCanvasPoint[0] + distPerPoint * canvasDir[0] * i,\n        lastCanvasPoint[1] + distPerPoint * canvasDir[1] * i,\n      ]);\n    }\n  } else {\n    canvasPoints.push(newCanvasPoint);\n  }\n\n  return numPointsToAdd;\n};\n\nexport default addCanvasPointsToArray;\n","import type { Types } from '@cornerstonejs/core';\nimport { vec2 } from 'gl-matrix';\n\n/**\n * Returns `true` if the point `p` can project onto point (`p1`, `p2`), and if\n * this projected point is less than `proximity` units away.\n */\nconst pointCanProjectOnLine = (\n  p: Types.Point2,\n  p1: Types.Point2,\n  p2: Types.Point2,\n  proximity: number\n): boolean => {\n  // Perfom checks in order of computational complexity.\n  const p1p = [p[0] - p1[0], p[1] - p1[1]];\n  const p1p2 = [p2[0] - p1[0], p2[1] - p1[1]];\n\n  const dot = p1p[0] * p1p2[0] + p1p[1] * p1p2[1];\n\n  // Dot product needs to be positive to be a candidate for projection onto line segment.\n  if (dot < 0) {\n    return false;\n  }\n\n  const p1p2Mag = Math.sqrt(p1p2[0] * p1p2[0] + p1p2[1] * p1p2[1]);\n\n  if (p1p2Mag === 0) {\n    return false;\n  }\n\n  const projectionVectorMag = dot / p1p2Mag;\n  const p1p2UnitVector = [p1p2[0] / p1p2Mag, p1p2[1] / p1p2Mag];\n  const projectionVector = [\n    p1p2UnitVector[0] * projectionVectorMag,\n    p1p2UnitVector[1] * projectionVectorMag,\n  ];\n  const projectionPoint = <Types.Point2>[\n    p1[0] + projectionVector[0],\n    p1[1] + projectionVector[1],\n  ];\n\n  const distance = vec2.distance(p, projectionPoint);\n\n  if (distance > proximity) {\n    // point is too far away.\n    return false;\n  }\n\n  // Check projects onto line segment.\n  if (vec2.distance(p1, projectionPoint) > vec2.distance(p1, p2)) {\n    return false;\n  }\n\n  return true;\n};\n\nexport default pointCanProjectOnLine;\n","import type { Types } from '@cornerstonejs/core';\n\n/**\n * Calculates the area of an array of `Point2` points using the shoelace algorithm.\n *\n * The units of the area are in the same units as the points are in. E.g. if\n * the points are in canvas, then the result is in canvas pixels ^2; If they are\n * in mm, then the result is in mm^2; etc.\n */\nexport default function calculateAreaOfPoints(points: Types.Point2[]): number {\n  // Shoelace algorithm.\n  const n = points.length;\n  let area = 0.0;\n  let j = n - 1;\n\n  for (let i = 0; i < n; i++) {\n    area += (points[j][0] + points[i][0]) * (points[j][1] - points[i][1]);\n    j = i; // j is previous vertex to i\n  }\n\n  // Return absolute value of half the sum (half as summing up traingles).\n  return Math.abs(area / 2.0);\n}\n","import { Types } from '@cornerstonejs/core';\nimport { interpolatePoints } from './algorithms/bspline';\n\n/**\n * Returns a list of uniform distributed values. This list contains the max amount of values which has at least a minimum distance between two consecutive values.\n * minDistributionDistance means the min distance between two consecutive distributed values.\n * Closed interval contains the min/max values.\n *\n * Formula for reference\n * For given {x  R | x  0} and {minDis  R | minDis  0},  D(x) where D(x)  a and D(x)  b  =>\n *         |\n * D(x)  = |                  (b - a)\n *         |  round( ------------------------ * x  )   + a\n *         |                (b - a + 1)\n *         |        round( -----------  )\n *         |                 minDis\n */\nfunction getContinuousUniformDistributionValues(\n  minDistributionDistance: number,\n  closedInterval: [number, number]\n): number[] {\n  const result = [];\n  const [intervalIni, intervalEnd] = closedInterval;\n\n  const intervalSize = intervalEnd - intervalIni + 1;\n  const intensity = Math.floor(intervalSize / minDistributionDistance);\n\n  let x = 0;\n  let continuosDistributionValue =\n    Math.round(((intervalSize - 1) / (intensity - 1)) * x) + intervalIni;\n\n  while (continuosDistributionValue <= intervalEnd) {\n    result.push(continuosDistributionValue);\n    x++;\n    continuosDistributionValue =\n      Math.round(((intervalSize - 1) / (intensity - 1)) * x) + intervalIni;\n  }\n\n  return result;\n}\n\n/**\n * Interpolates a segment of points from iniIndex until endIndex.\n * The process of interpolation considers the param knotsRatioPercentage as being the percentage of points from Segment that are likely to be considered.\n * By default it uses b-spline algorithm.\n * The result total of points is equal to original points.\n */\nexport default function interpolateSegmentPoints(\n  points: (Types.Point2 | Types.Point3)[],\n  iniIndex: number,\n  endIndex: number,\n  knotsRatioPercentage: number\n): (Types.Point2 | Types.Point3)[] {\n  const segmentSize = endIndex - iniIndex + 1;\n\n  const amountOfKnots =\n    Math.floor((knotsRatioPercentage / 100) * segmentSize) ?? 1;\n  const minKnotDistance = Math.floor(segmentSize / amountOfKnots) ?? 1;\n\n  if (isNaN(segmentSize) || !segmentSize || !minKnotDistance) {\n    return points;\n  }\n\n  // segment should be at least the double of desired minKnot distance. This will ensure at there will enough knots to interpolate.\n  if (segmentSize / minKnotDistance < 2) {\n    return points;\n  }\n\n  const interpolationIniIndex = Math.max(0, iniIndex);\n  const interpolationEndIndex = Math.min(points.length - 1, endIndex);\n  const segmentPointsUnchangedBeg = points.slice(0, interpolationIniIndex);\n\n  const segmentPointsUnchangedEnd = points.slice(\n    interpolationEndIndex + 1,\n    points.length\n  );\n\n  const knotsIndexes = getContinuousUniformDistributionValues(minKnotDistance, [\n    interpolationIniIndex,\n    interpolationEndIndex,\n  ]);\n\n  const interpolatedPoints = interpolatePoints(points, knotsIndexes);\n\n  return [\n    ...segmentPointsUnchangedBeg,\n    ...interpolatedPoints,\n    ...segmentPointsUnchangedEnd,\n  ];\n}\n","import {\n  interpolateBasis as d3InterpolateBasis,\n  quantize as d3Quantize,\n} from 'd3-interpolate';\nimport { zip as d3Zip } from 'd3-array';\nimport { Types } from '@cornerstonejs/core';\n\nfunction isPoints3D(\n  points: (Types.Point2 | Types.Point3)[]\n): points is Types.Point3[] {\n  return (points as Types.Point3[])[0]?.length === 3;\n}\n\n/**\n * Returns an array of the originalPoints length containing the interpolated data.\n * It interpolates a set of points indexed by knotsIndexes.\n * That is, it DISCARDS all points except those in knotsIndexes. Then, a new set of points is created by using a b-spline on the remaining points, in order to re-create a new set of points.\n */\nexport function interpolatePoints(\n  originalPoints: (Types.Point2 | Types.Point3)[],\n  knotsIndexes: number[]\n): (Types.Point2 | Types.Point3)[] {\n  if (\n    !knotsIndexes ||\n    knotsIndexes.length === 0 ||\n    knotsIndexes.length === originalPoints.length\n  ) {\n    return originalPoints;\n  }\n\n  const n = knotsIndexes[knotsIndexes.length - 1] - knotsIndexes[0] + 1;\n  const xInterpolator = d3InterpolateBasis(\n    knotsIndexes.map((k) => originalPoints[k][0])\n  );\n  const yInterpolator = d3InterpolateBasis(\n    knotsIndexes.map((k) => originalPoints[k][1])\n  );\n\n  if (isPoints3D(originalPoints)) {\n    const zInterpolator = d3InterpolateBasis(\n      knotsIndexes.map((k) => originalPoints[k][2])\n    );\n    return <Types.Point3[]>(\n      d3Zip(\n        d3Quantize(xInterpolator, n),\n        d3Quantize(yInterpolator, n),\n        d3Quantize(zInterpolator, n)\n      )\n    );\n  } else {\n    return <Types.Point2[]>(\n      d3Zip(d3Quantize(xInterpolator, n), d3Quantize(yInterpolator, n))\n    );\n  }\n}\n","import { Types } from '@cornerstonejs/core';\nimport { point } from '../math';\nimport interpolateSegmentPoints from './interpolation/interpolateSegmentPoints';\n\nexport function shouldInterpolate(configuration: Record<any, any>): boolean {\n  return (\n    configuration?.interpolation?.interpolateOnAdd === true ||\n    configuration?.interpolation?.interpolateOnEdit === true\n  );\n}\n\n/**\n * Tells whether two points are equal by proximity or not as far as interpolation goes.\n */\nfunction isEqualByProximity(pointA, pointB) {\n  return point.distanceToPoint(pointA, pointB) < 0.001;\n}\n\n/**\n * Tells whether two points are strictly equal or not as far as interpolation goes.\n */\nfunction isEqual(pointA, pointB) {\n  return point.distanceToPoint(pointA, pointB) === 0;\n}\n\n/**\n * Finds the indexes of points list and otherPoints list that points are identical.\n */\nfunction findMatchIndexes(\n  points: Types.Point2[],\n  otherPoints: Types.Point2[]\n): [number, number] | undefined {\n  for (let i = 0; i < points.length; i++) {\n    for (let j = 0; j < otherPoints.length; j++) {\n      if (isEqual(points[i], otherPoints[j])) {\n        return [i, j];\n      }\n    }\n  }\n}\n/**\n * Returns the following index value (on circular basis) of index param on the given direction.\n */\nfunction followingIndex(\n  index: number,\n  size: number,\n  direction: number\n): number {\n  return (index + size + direction) % size;\n}\n/**\n * Array of params to be used on circular find next index.\n * The values respresent start index, indexDelimiter, list of points\n */\ntype ListParamsType = [number, number, Types.Point2[]];\n\n/**\n * Circular finding that returns the next index for two list where the criteria is met.\n *\n * It can compare two lists out of sync considering it does a circular iteration over them.\n *\n * @example\n *\n * ```\n * const pointsA = [[0, 1], [1, 3], [1, 5], [1,2]];\n * const pointsB = [[1, 2], [1, 5], [1, 3], [0,0]];\n * let firstParam = [0, 0, pointsA]\n * let secondParam = [1, 1, pointsB]\n * const criteria = (pointA, pointB) => areSamePosition(pointA, pointB)\n * const direction = 1;\n * let result = circularFindNextIndexBy(firstParam, secondParam, criteria,direction);\n * console.log(result);\n * // prints [1, 2]\n * // use this result and find again\n * firstParam = [result[0]+1, result[0], pointsA]\n * secondParam = [result[1]+1, result[1], pointsB]\n * result = circularFindNextIndexBy(firstParam, secondParam, criteria,direction);\n * * // prints [3, 0]\n *\n */\nfunction circularFindNextIndexBy(\n  listParams: ListParamsType,\n  otherListParams: ListParamsType,\n  criteria: (pointA: Types.Point2, pointB: Types.Point2) => boolean,\n  direction: number\n): [number | undefined, number | undefined] {\n  const [, indexDelimiter, points] = listParams;\n  const [, otherIndexDelimiter, otherPoints] = otherListParams;\n\n  const pointsLength = points.length;\n  const otherPointsLength = otherPoints.length;\n\n  let startIndex = listParams[0];\n  let otherStartIndex = otherListParams[0];\n\n  if (\n    !points[startIndex] ||\n    !otherPoints[otherStartIndex] ||\n    !points[indexDelimiter] ||\n    !otherPoints[otherIndexDelimiter]\n  ) {\n    return [undefined, undefined];\n  }\n\n  while (\n    startIndex !== indexDelimiter &&\n    otherStartIndex !== otherIndexDelimiter\n  ) {\n    if (criteria(otherPoints[otherStartIndex], points[startIndex])) {\n      return [startIndex, otherStartIndex];\n    }\n\n    startIndex = followingIndex(startIndex, pointsLength, direction);\n    otherStartIndex = followingIndex(\n      otherStartIndex,\n      otherPointsLength,\n      direction\n    );\n  }\n\n  return [undefined, undefined];\n}\n\n/**\n * Given two list it will find the first and last index of segment from points that diverges from previousPoints\n */\nfunction findChangedSegment(\n  points: Types.Point2[],\n  previousPoints: Types.Point2[]\n): [number, number] {\n  const [firstMatchIndex, previousFirstMatchIndex] =\n    findMatchIndexes(points, previousPoints) || [];\n\n  const toBeNotEqualCriteria = (pointA, pointB) =>\n    isEqualByProximity(pointA, pointB) === false;\n\n  const [lowDiffIndex, lowOtherDiffIndex] = circularFindNextIndexBy(\n    [\n      followingIndex(firstMatchIndex, points.length, 1),\n      firstMatchIndex,\n      points,\n    ],\n    [\n      followingIndex(previousFirstMatchIndex, previousPoints.length, 1),\n      previousFirstMatchIndex,\n      previousPoints,\n    ],\n    toBeNotEqualCriteria,\n    1\n  );\n\n  const [highIndex] = circularFindNextIndexBy(\n    [followingIndex(lowDiffIndex, points.length, -1), lowDiffIndex, points],\n    [\n      followingIndex(lowOtherDiffIndex, previousPoints.length, -1),\n      lowOtherDiffIndex,\n      previousPoints,\n    ],\n    toBeNotEqualCriteria,\n    -1\n  );\n\n  return [lowDiffIndex, highIndex];\n}\n\n/**\n * Interpolates the given list of points. In case there is a pointsOfReference the interpolation will occur only on segment disjoint of two list. I.e list of points from param points that are not on list of points from param pointsOfReference.\n */\nexport function getInterpolatedPoints(\n  configuration: Record<any, any>,\n  points: Types.Point2[],\n  pointsOfReference?: Types.Point2[]\n): Types.Point2[] {\n  const { interpolation } = configuration;\n\n  const result = points;\n\n  if (interpolation) {\n    const {\n      knotsRatioPercentageOnAdd,\n      knotsRatioPercentageOnEdit,\n      interpolateOnAdd = false,\n      interpolateOnEdit = false,\n    } = interpolation;\n\n    const knotsRatioPercentage = pointsOfReference\n      ? knotsRatioPercentageOnEdit\n      : knotsRatioPercentageOnAdd;\n    const isEnabled = pointsOfReference ? interpolateOnEdit : interpolateOnAdd;\n\n    if (isEnabled) {\n      // partial or total interpolation\n      const [changedIniIndex, changedEndIndex] = pointsOfReference\n        ? findChangedSegment(points, pointsOfReference)\n        : [0, points.length - 1];\n\n      // do not interpolate if there is no valid segment\n      if (!points[changedIniIndex] || !points[changedEndIndex]) {\n        return points;\n      }\n\n      return <Types.Point2[]>(\n        interpolateSegmentPoints(\n          points,\n          changedIniIndex,\n          changedEndIndex,\n          knotsRatioPercentage\n        )\n      );\n    }\n  }\n\n  return result;\n}\n","import type { Types } from '@cornerstonejs/core';\nimport { PlanarFreehandROIAnnotation } from '../../../types/ToolSpecificAnnotationTypes';\nimport { vec2 } from 'gl-matrix';\n\n/**\n * Finds the length of the longest line from the midpoint of the line\n * that joins the start and end of the open contour, to the surface of the\n * open contour.\n */\nexport default function findOpenUShapedContourVectorToPeak(\n  canvasPoints: Types.Point2[],\n  viewport: Types.IStackViewport | Types.IVolumeViewport\n): Types.Point3[] {\n  // Find chord from first to last point.\n  const first = canvasPoints[0];\n  const last = canvasPoints[canvasPoints.length - 1];\n\n  const firstToLastUnitVector = vec2.create();\n\n  vec2.set(firstToLastUnitVector, last[0] - first[0], last[1] - first[1]);\n  vec2.normalize(firstToLastUnitVector, firstToLastUnitVector);\n\n  // Get the two possible normal vector to this vector\n  // Note: Use the identity that the perpendicular line must have a gradient of\n  // 1 / gradient of the line.\n\n  const normalVector1 = vec2.create();\n  const normalVector2 = vec2.create();\n\n  vec2.set(normalVector1, -firstToLastUnitVector[1], firstToLastUnitVector[0]);\n  vec2.set(normalVector2, firstToLastUnitVector[1], -firstToLastUnitVector[0]);\n\n  // Find the center of the chord.\n  const centerOfFirstToLast: Types.Point2 = [\n    (first[0] + last[0]) / 2,\n    (first[1] + last[1]) / 2,\n  ];\n\n  // Get furthest point.\n\n  const furthest = {\n    dist: 0,\n    index: null,\n  };\n\n  for (let i = 0; i < canvasPoints.length; i++) {\n    const canvasPoint = canvasPoints[i];\n\n    const distance = vec2.dist(canvasPoint, <vec2>centerOfFirstToLast);\n\n    if (distance > furthest.dist) {\n      furthest.dist = distance;\n      furthest.index = i;\n    }\n  }\n\n  const toFurthest: [Types.Point2, Types.Point2] = [\n    canvasPoints[furthest.index],\n    centerOfFirstToLast,\n  ];\n  const toFurthestWorld = toFurthest.map(viewport.canvasToWorld);\n\n  return toFurthestWorld;\n}\n\nexport function findOpenUShapedContourVectorToPeakOnRender(\n  enabledElement: Types.IEnabledElement,\n  annotation: PlanarFreehandROIAnnotation\n): Types.Point3[] {\n  const { viewport } = enabledElement;\n  const canvasPoints = annotation.data.polyline.map(viewport.worldToCanvas);\n\n  return findOpenUShapedContourVectorToPeak(canvasPoints, viewport);\n}\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../../cursors/elementCursor';\nimport { Events } from '../../../enums';\nimport { EventTypes } from '../../../types';\nimport { state } from '../../../store';\nimport { vec3 } from 'gl-matrix';\nimport {\n  shouldInterpolate,\n  getInterpolatedPoints,\n} from '../../../utilities/planarFreehandROITool/interpolatePoints';\nimport triggerAnnotationRenderForViewportIds from '../../../utilities/triggerAnnotationRenderForViewportIds';\nimport { PlanarFreehandROIAnnotation } from '../../../types/ToolSpecificAnnotationTypes';\nimport findOpenUShapedContourVectorToPeak from './findOpenUShapedContourVectorToPeak';\nimport { polyline } from '../../../utilities/math';\nimport { removeAnnotation } from '../../../stateManagement/annotation/annotationState';\n\nconst {\n  addCanvasPointsToArray,\n  pointsAreWithinCloseContourProximity,\n  getFirstIntersectionWithPolyline,\n  getSubPixelSpacingAndXYDirections,\n} = polyline;\n\n/**\n * Activates the contour drawing event loop.\n */\nfunction activateDraw(\n  evt: EventTypes.InteractionEventType,\n  annotation: PlanarFreehandROIAnnotation,\n  viewportIdsToRender: string[]\n): void {\n  this.isDrawing = true;\n\n  const eventDetail = evt.detail;\n  const { currentPoints, element } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  const { spacing, xDir, yDir } = getSubPixelSpacingAndXYDirections(\n    viewport,\n    this.configuration.subPixelResolution\n  );\n\n  this.drawData = {\n    canvasPoints: [canvasPos],\n    polylineIndex: 0,\n  };\n\n  this.commonData = {\n    annotation,\n    viewportIdsToRender,\n    spacing,\n    xDir,\n    yDir,\n    movingTextBox: false,\n  };\n\n  state.isInteractingWithTool = true;\n\n  element.addEventListener(Events.MOUSE_UP, this.mouseUpDrawCallback);\n  element.addEventListener(Events.MOUSE_DRAG, this.mouseDragDrawCallback);\n  element.addEventListener(Events.MOUSE_CLICK, this.mouseUpDrawCallback);\n  element.addEventListener(Events.TOUCH_END, this.mouseUpDrawCallback);\n  element.addEventListener(Events.TOUCH_DRAG, this.mouseDragDrawCallback);\n  element.addEventListener(Events.TOUCH_TAP, this.mouseUpDrawCallback);\n\n  hideElementCursor(element);\n}\n/**\n * Dectivates and cleans up the contour drawing event loop.\n */\nfunction deactivateDraw(element: HTMLDivElement): void {\n  state.isInteractingWithTool = false;\n\n  element.removeEventListener(Events.MOUSE_UP, this.mouseUpDrawCallback);\n  element.removeEventListener(Events.MOUSE_DRAG, this.mouseDragDrawCallback);\n  element.removeEventListener(Events.MOUSE_CLICK, this.mouseUpDrawCallback);\n  element.removeEventListener(Events.TOUCH_END, this.mouseUpDrawCallback);\n  element.removeEventListener(Events.TOUCH_DRAG, this.mouseDragDrawCallback);\n  element.removeEventListener(Events.TOUCH_TAP, this.mouseUpDrawCallback);\n\n  resetElementCursor(element);\n}\n\n/**\n * Adds points to a set of preview canvas points of the contour being created.\n * Checks if crossing of lines means early completion and editing needs to be started.\n */\nfunction mouseDragDrawCallback(evt: EventTypes.InteractionEventType): void {\n  const eventDetail = evt.detail;\n  const { currentPoints, element } = eventDetail;\n  const worldPos = currentPoints.world;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngine, viewport } = enabledElement;\n\n  const {\n    annotation,\n    viewportIdsToRender,\n    xDir,\n    yDir,\n    spacing,\n    movingTextBox,\n  } = this.commonData;\n  const { polylineIndex, canvasPoints } = this.drawData;\n\n  const lastCanvasPoint = canvasPoints[canvasPoints.length - 1];\n  const lastWorldPoint = viewport.canvasToWorld(lastCanvasPoint);\n\n  const worldPosDiff = vec3.create();\n\n  vec3.subtract(worldPosDiff, worldPos, lastWorldPoint);\n\n  const xDist = Math.abs(vec3.dot(worldPosDiff, xDir));\n  const yDist = Math.abs(vec3.dot(worldPosDiff, yDir));\n\n  // Check that we have moved at least one voxel in each direction.\n  if (xDist <= spacing[0] && yDist <= spacing[1]) {\n    // Haven't changed world point enough, don't render\n    return;\n  }\n\n  if (movingTextBox) {\n    this.isDrawing = false;\n\n    // Drag mode - Move the text boxes world position\n    const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n    const worldPosDelta = deltaPoints.world;\n\n    const { textBox } = annotation.data.handles;\n    const { worldPosition } = textBox;\n\n    worldPosition[0] += worldPosDelta[0];\n    worldPosition[1] += worldPosDelta[1];\n    worldPosition[2] += worldPosDelta[2];\n\n    textBox.hasMoved = true;\n  } else {\n    const crossingIndex = this.findCrossingIndexDuringCreate(evt);\n\n    if (crossingIndex !== undefined) {\n      // If we have crossed our drawing line, create a closed contour and then\n      // start an edit.\n      this.applyCreateOnCross(evt, crossingIndex);\n    } else {\n      const numPointsAdded = addCanvasPointsToArray(\n        element,\n        canvasPoints,\n        canvasPos,\n        this.commonData\n      );\n\n      this.drawData.polylineIndex = polylineIndex + numPointsAdded;\n    }\n  }\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\n\n/**\n * Completes the contour on mouse up. If the `allowOpenContours` configuration\n * option is `true`, checks if we should create an open or closed contour.\n * If the `allowOpenContours` configuration option is `false`, always creates a\n * closed contour.\n */\nfunction mouseUpDrawCallback(evt: EventTypes.InteractionEventType): void {\n  const { allowOpenContours } = this.configuration;\n  const { canvasPoints } = this.drawData;\n  const firstPoint = canvasPoints[0];\n  const lastPoint = canvasPoints[canvasPoints.length - 1];\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  if (\n    allowOpenContours &&\n    !pointsAreWithinCloseContourProximity(\n      firstPoint,\n      lastPoint,\n      this.configuration.closeContourProximity\n    )\n  ) {\n    this.completeDrawOpenContour(element);\n  } else {\n    this.completeDrawClosedContour(element);\n  }\n}\n\n/**\n * Completes the contour being drawn, creating a closed contour annotation. It will return true if contour is completed or false in case contour drawing is halted.\n */\nfunction completeDrawClosedContour(element: HTMLDivElement): boolean {\n  this.removeCrossedLinesOnCompleteDraw();\n  const { canvasPoints } = this.drawData;\n\n  // check and halt if necessary the drawing process, last chance to complete drawing and fire events.\n  if (this.haltDrawing(element, canvasPoints)) {\n    return false;\n  }\n\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const enabledElement = getEnabledElement(element);\n  const { viewport, renderingEngine } = enabledElement;\n\n  // Convert annotation to world coordinates\n  addCanvasPointsToArray(\n    element,\n    canvasPoints,\n    canvasPoints[0],\n    this.commonData\n  );\n  // Remove last point which will be a duplicate now.\n  canvasPoints.pop();\n\n  const updatedPoints = shouldInterpolate(this.configuration)\n    ? getInterpolatedPoints(this.configuration, canvasPoints)\n    : canvasPoints;\n\n  // Note: -> This is pretty expensive and may not scale well with hundreds of\n  // contours. A future optimisation if we use this for segmentation is to re-do\n  // this rendering with the GPU rather than SVG.\n  const worldPoints = updatedPoints.map((canvasPoint) =>\n    viewport.canvasToWorld(canvasPoint)\n  );\n\n  annotation.data.polyline = worldPoints;\n  annotation.data.isOpenContour = false;\n  const { textBox } = annotation.data.handles;\n\n  if (!textBox.hasMoved) {\n    this.triggerAnnotationCompleted(annotation);\n  }\n\n  this.isDrawing = false;\n  this.drawData = undefined;\n  this.commonData = undefined;\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n  this.deactivateDraw(element);\n\n  return true;\n}\n\n/**\n * If lines are crossed during the draw loop, remove the points drawn over the\n * crossing.\n */\nfunction removeCrossedLinesOnCompleteDraw(): void {\n  const { canvasPoints } = this.drawData;\n  const numPoints = canvasPoints.length;\n\n  const endToStart = [canvasPoints[0], canvasPoints[numPoints - 1]];\n  const canvasPointsMinusEnds = canvasPoints.slice(0, -1).slice(1);\n\n  const lineSegment = getFirstIntersectionWithPolyline(\n    canvasPointsMinusEnds,\n    endToStart[0],\n    endToStart[1],\n    false\n  );\n\n  if (lineSegment) {\n    const indexToRemoveUpTo = lineSegment[1];\n\n    this.drawData.canvasPoints = canvasPoints.splice(0, indexToRemoveUpTo);\n  }\n}\n\n/**\n * Completes the contour being drawn, creating an open contour annotation. It will return true if contour is completed or false in case contour drawing is halted.\n */\nfunction completeDrawOpenContour(element: HTMLDivElement): boolean {\n  const { canvasPoints } = this.drawData;\n\n  // check and halt if necessary the drawing process, last chance to complete drawing and fire events.\n  if (this.haltDrawing(element, canvasPoints)) {\n    return false;\n  }\n\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const enabledElement = getEnabledElement(element);\n  const { viewport, renderingEngine } = enabledElement;\n\n  const updatedPoints = shouldInterpolate(this.configuration)\n    ? getInterpolatedPoints(this.configuration, canvasPoints)\n    : canvasPoints;\n\n  // Note: -> This is pretty expensive and may not scale well with hundreds of\n  // contours. A future optimisation if we use this for segmentation is to re-do\n  // this rendering with the GPU rather than SVG.\n  const worldPoints = updatedPoints.map((canvasPoint) =>\n    viewport.canvasToWorld(canvasPoint)\n  );\n\n  annotation.data.polyline = worldPoints;\n  annotation.data.isOpenContour = true;\n  const { textBox } = annotation.data.handles;\n\n  // Add the first and last points to the list of handles. These means they\n  // will render handles on mouse hover.\n  annotation.data.handles.points = [\n    worldPoints[0],\n    worldPoints[worldPoints.length - 1],\n  ];\n\n  // If the annotation is an open U-shaped annotation, find the annotation vector.\n  if (annotation.data.isOpenUShapeContour) {\n    annotation.data.openUShapeContourVectorToPeak =\n      findOpenUShapedContourVectorToPeak(canvasPoints, viewport);\n  }\n\n  if (!textBox.hasMoved) {\n    this.triggerAnnotationCompleted(annotation);\n  }\n\n  this.isDrawing = false;\n  this.drawData = undefined;\n  this.commonData = undefined;\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n  this.deactivateDraw(element);\n\n  return true;\n}\n\n/**\n * Searches for a crossing of the contour during create. If found, returns the\n * index of the point just before the lines cross.\n */\nfunction findCrossingIndexDuringCreate(\n  evt: EventTypes.InteractionEventType\n): number | undefined {\n  // Note as we super sample the added points, we need to check the whole last mouse move, not the points\n  const eventDetail = evt.detail;\n  const { currentPoints, lastPoints } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const lastCanvasPoint = lastPoints.canvas;\n\n  const { canvasPoints } = this.drawData;\n  const pointsLessLastOne = canvasPoints.slice(0, -1);\n\n  const lineSegment = getFirstIntersectionWithPolyline(\n    pointsLessLastOne,\n    canvasPos,\n    lastCanvasPoint,\n    false\n  );\n\n  if (lineSegment === undefined) {\n    return;\n  }\n\n  const crossingIndex = lineSegment[0];\n\n  return crossingIndex;\n}\n\n/**\n * On crossing of the draw line, create a closed contour, and then start an edit\n * since this occurs during a mouse drag.\n */\nfunction applyCreateOnCross(\n  evt: EventTypes.InteractionEventType,\n  crossingIndex: number\n): void {\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n  const { canvasPoints } = this.drawData;\n  const { annotation, viewportIdsToRender } = this.commonData;\n\n  // Add points between the end point and crossing point\n  addCanvasPointsToArray(\n    element,\n    canvasPoints,\n    canvasPoints[crossingIndex],\n    this.commonData\n  );\n  // Remove last point which will be a duplicate now.\n  canvasPoints.pop();\n\n  // Remove points up to just before the crossing index\n  for (let i = 0; i < crossingIndex; i++) {\n    canvasPoints.shift();\n  }\n\n  if (this.completeDrawClosedContour(element)) {\n    // pos complete operation\n    this.activateClosedContourEdit(evt, annotation, viewportIdsToRender);\n  }\n}\n\n/**\n * Completes the contour on a cancel method call during the draw loop.\n */\nfunction cancelDrawing(element: HTMLElement) {\n  const { allowOpenContours } = this.configuration;\n  const { canvasPoints } = this.drawData;\n  const firstPoint = canvasPoints[0];\n  const lastPoint = canvasPoints[canvasPoints.length - 1];\n\n  if (\n    allowOpenContours &&\n    !pointsAreWithinCloseContourProximity(\n      firstPoint,\n      lastPoint,\n      this.configuration.closeContourProximity\n    )\n  ) {\n    this.completeDrawOpenContour(element);\n  } else {\n    this.completeDrawClosedContour(element);\n  }\n}\n\n/**\n * Tell whether a drawing should be halted or not. It will be true when canvas points is less than the minimum required.\n */\nfunction shouldHaltDrawing(\n  canvasPoints: any,\n  subPixelResolution: number\n): boolean {\n  const minPoints = Math.max(\n    /**\n     * The number of points to span 3 voxels in length, this is a realistically\n     * smallest open contour one could reasonably define (2 voxels should probably be a line).\n     */\n    subPixelResolution * 3,\n    /**\n     * Minimum 3 points, there are other annotations for one point (probe)\n     * or 2 points (line), so this comes only from a mistake in practice.\n     */\n    3\n  );\n  return canvasPoints.length < minPoints;\n}\n\n/**\n * Check and halt a drawing for a given event. It returns true in case drawing is halted, otherswise false.\n */\nfunction haltDrawing(element: HTMLDivElement, canvasPoints: any): boolean {\n  const { subPixelResolution } = this.configuration;\n\n  if (shouldHaltDrawing(canvasPoints, subPixelResolution)) {\n    // Remove annotation instead of completing it.\n    const { annotation, viewportIdsToRender } = this.commonData;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    removeAnnotation(annotation.annotationUID);\n\n    this.isDrawing = false;\n    this.drawData = undefined;\n    this.commonData = undefined;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    this.deactivateDraw(element);\n\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Registers the contour drawing loop to the tool instance.\n */\nfunction registerDrawLoop(toolInstance): void {\n  toolInstance.activateDraw = activateDraw.bind(toolInstance);\n  toolInstance.deactivateDraw = deactivateDraw.bind(toolInstance);\n\n  toolInstance.applyCreateOnCross = applyCreateOnCross.bind(toolInstance);\n  toolInstance.findCrossingIndexDuringCreate =\n    findCrossingIndexDuringCreate.bind(toolInstance);\n  toolInstance.completeDrawOpenContour =\n    completeDrawOpenContour.bind(toolInstance);\n  toolInstance.removeCrossedLinesOnCompleteDraw =\n    removeCrossedLinesOnCompleteDraw.bind(toolInstance);\n  toolInstance.mouseDragDrawCallback = mouseDragDrawCallback.bind(toolInstance);\n  toolInstance.mouseUpDrawCallback = mouseUpDrawCallback.bind(toolInstance);\n  toolInstance.completeDrawClosedContour =\n    completeDrawClosedContour.bind(toolInstance);\n  toolInstance.cancelDrawing = cancelDrawing.bind(toolInstance);\n  toolInstance.haltDrawing = haltDrawing.bind(toolInstance);\n}\n\nexport default registerDrawLoop;\n","import { Types } from '@cornerstonejs/core';\nimport { vec2 } from 'gl-matrix';\nimport { polyline } from '../../../utilities/math';\nimport { EventTypes } from '../../../types';\n\nconst { addCanvasPointsToArray, getFirstIntersectionWithPolyline } = polyline;\n\n/**\n * Check if the `editCanvasPoints` have crossed the `prevCanvasPoints` during\n * an edit.\n *\n * @privateRemarks The following tricks are required to make the UX smooth and\n * the editing not very picky on exactly where you click:\n * - If we don't cross after 2 points, but projecting the line backwards the\n * proximity distance means we cross, extend the line back.\n * - If we travel the full proximity in canvas points but don't cross a line, we\n * are likely drawing along the line, which is intuitive to the user. At this point\n * snap the start of the edit to the closest place on the `prevCanvasPoints`,\n * so that the edit can be executed in-line.\n */\nfunction checkForFirstCrossing(\n  evt: EventTypes.InteractionEventType,\n  isClosedContour: boolean\n): void {\n  const eventDetail = evt.detail;\n  const { element, currentPoints, lastPoints } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const lastCanvasPoint = lastPoints.canvas;\n  const { editCanvasPoints, prevCanvasPoints } = this.editData;\n\n  const crossedLineSegment = getFirstIntersectionWithPolyline(\n    prevCanvasPoints,\n    canvasPos,\n    lastCanvasPoint,\n    isClosedContour\n  );\n\n  if (crossedLineSegment) {\n    this.editData.startCrossingIndex = crossedLineSegment[0];\n\n    // On the first crossing, remove the first lines prior to the crossing\n    this.removePointsUpUntilFirstCrossing(isClosedContour);\n    // prevent continue if there are not the minimum of points for this op.\n  } else if (prevCanvasPoints.length >= 2) {\n    if (\n      editCanvasPoints.length >\n      this.configuration.checkCanvasEditFallbackProximity\n    ) {\n      // At this point, likely we are drawing along the line, we are past the proximity for grabbing.\n      // Search for nearest line segment to the start of the edit.\n      // Set the crossing index to the lower index of the segment.\n\n      const firstEditCanvasPoint = editCanvasPoints[0];\n\n      const distanceIndexPairs = [];\n\n      for (let i = 0; i < prevCanvasPoints.length; i++) {\n        const prevCanvasPoint = prevCanvasPoints[i];\n        const distance = vec2.distance(prevCanvasPoint, firstEditCanvasPoint);\n\n        distanceIndexPairs.push({ distance, index: i });\n      }\n\n      distanceIndexPairs.sort((a, b) => a.distance - b.distance);\n\n      const twoClosestDistanceIndexPairs = [\n        distanceIndexPairs[0],\n        distanceIndexPairs[1],\n      ];\n\n      const lowestIndex = Math.min(\n        twoClosestDistanceIndexPairs[0].index,\n        twoClosestDistanceIndexPairs[1].index\n      );\n\n      this.editData.startCrossingIndex = lowestIndex;\n    } else {\n      // Check if extending a line back 6 (Proximity) canvas pixels would cross a line.\n\n      // Extend point back 6 canvas pixels from first point.\n      const dir = vec2.create();\n\n      vec2.subtract(dir, editCanvasPoints[1], editCanvasPoints[0]);\n      vec2.normalize(dir, dir);\n\n      const proximity = 6;\n\n      const extendedPoint: Types.Point2 = [\n        editCanvasPoints[0][0] - dir[0] * proximity,\n        editCanvasPoints[0][1] - dir[1] * proximity,\n      ];\n\n      const crossedLineSegmentFromExtendedPoint =\n        getFirstIntersectionWithPolyline(\n          prevCanvasPoints,\n          extendedPoint,\n          editCanvasPoints[0],\n          isClosedContour\n        );\n\n      if (crossedLineSegmentFromExtendedPoint) {\n        // Add points.\n        const pointsToPrepend = [extendedPoint];\n\n        addCanvasPointsToArray(\n          element,\n          pointsToPrepend,\n          editCanvasPoints[0],\n          this.commonData\n        );\n\n        editCanvasPoints.unshift(...pointsToPrepend);\n\n        this.removePointsUpUntilFirstCrossing(isClosedContour);\n\n        this.editData.editIndex = editCanvasPoints.length - 1;\n        this.editData.startCrossingIndex =\n          crossedLineSegmentFromExtendedPoint[0];\n      }\n    }\n  }\n}\n\n/**\n * Removes the points from the `editCanvasPoints` up until the first crossing of\n * the `prevCanvasPoints`. This is so we can just insert this line segment\n * into the contour.\n */\nfunction removePointsUpUntilFirstCrossing(isClosedContour: boolean): void {\n  const { editCanvasPoints, prevCanvasPoints } = this.editData;\n  let numPointsToRemove = 0;\n\n  for (let i = 0; i < editCanvasPoints.length - 1; i++) {\n    const firstLine = [editCanvasPoints[i], editCanvasPoints[i + 1]];\n\n    const didCrossLine = !!getFirstIntersectionWithPolyline(\n      prevCanvasPoints,\n      firstLine[0],\n      firstLine[1],\n      isClosedContour\n    );\n\n    // Remove last element\n    numPointsToRemove++;\n\n    if (didCrossLine) {\n      break;\n    }\n  }\n\n  // Remove the points\n  editCanvasPoints.splice(0, numPointsToRemove);\n\n  this.editData.editIndex = editCanvasPoints.length - 1;\n}\n\n/**\n * Returns `true` if the `editCanvasPoints` crosses the `prevCanvasPoints` a\n * second time.\n */\nfunction checkForSecondCrossing(\n  evt: EventTypes.InteractionEventType,\n  isClosedContour: boolean\n): boolean {\n  const eventDetail = evt.detail;\n  const { currentPoints, lastPoints } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const lastCanvasPoint = lastPoints.canvas;\n  const { prevCanvasPoints } = this.editData;\n\n  // Note this method is looking for the first corssing found of\n  // *the lines given* to it. The parameters given to it are specified to search\n  // for the second crossing of the prevCanvasPoints, by checking if the last\n  // mouse drag crossed these. This class method is only called if the edit loop\n  // has already has a crossing earlier in the edit.\n  const crossedLineSegment = getFirstIntersectionWithPolyline(\n    prevCanvasPoints,\n    canvasPos,\n    lastCanvasPoint,\n    isClosedContour\n  );\n\n  if (!crossedLineSegment) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Removes the points from the `editCanvasPoints` after the second crossing of\n * the `prevCanvasPoints`. This is so we can just insert this line segment\n * into the contour.\n */\nfunction removePointsAfterSecondCrossing(isClosedContour: boolean): void {\n  const { prevCanvasPoints, editCanvasPoints } = this.editData;\n\n  // Remove points after the crossing\n  for (let i = editCanvasPoints.length - 1; i > 0; i--) {\n    const lastLine = [editCanvasPoints[i], editCanvasPoints[i - 1]];\n\n    const didCrossLine = !!getFirstIntersectionWithPolyline(\n      prevCanvasPoints,\n      lastLine[0],\n      lastLine[1],\n      isClosedContour\n    );\n\n    // Remove last element\n    editCanvasPoints.pop();\n\n    if (didCrossLine) {\n      break;\n    }\n  }\n}\n\n/**\n * During an edit, finds the index on the `prevCanvasPoints` that the\n * `editCanvasPoints` should snap to to create one continuous contour.\n *\n * Returns the index, but returns -1 if there is no index on the\n * `prevCanvasPoints` that can be snapped to with causing a crossing of the\n * `editCanvasPoints`.\n */\nfunction findSnapIndex(): number {\n  const { editCanvasPoints, prevCanvasPoints, startCrossingIndex } =\n    this.editData;\n\n  if (\n    startCrossingIndex === undefined // Haven't crossed line yet\n  ) {\n    return;\n  }\n\n  const lastEditCanvasPoint = editCanvasPoints[editCanvasPoints.length - 1];\n\n  const distanceIndexPairs = [];\n\n  for (let i = 0; i < prevCanvasPoints.length; i++) {\n    const prevCanvasPoint = prevCanvasPoints[i];\n    const distance = vec2.distance(prevCanvasPoint, lastEditCanvasPoint);\n\n    distanceIndexPairs.push({ distance, index: i });\n  }\n\n  distanceIndexPairs.sort((a, b) => a.distance - b.distance);\n\n  // Search through from shortest distance and check which snap line doesn't\n  // Cross the edit line, in most cases the snap index will just be the first one.\n  const editCanvasPointsLessLastOne = editCanvasPoints.slice(0, -1);\n\n  for (let i = 0; i < distanceIndexPairs.length; i++) {\n    const { index } = distanceIndexPairs[i];\n    const snapCanvasPosition = prevCanvasPoints[index];\n    const lastEditCanvasPoint = editCanvasPoints[editCanvasPoints.length - 1];\n\n    const crossedLineSegment = getFirstIntersectionWithPolyline(\n      editCanvasPointsLessLastOne,\n      snapCanvasPosition,\n      lastEditCanvasPoint,\n      false // The edit line is not a closed contour\n    );\n\n    if (!crossedLineSegment) {\n      return index;\n    }\n  }\n\n  // If all of the lines caused a crossing, this means we should start a new edit.\n  // Use -1 to signify this.\n  return -1;\n}\n\n/**\n * Checks if the `editCanvasPoints` cross themselves. If they do, remove the\n * region after the cross index, these removes isolated \"island\" loops that the\n * user can draw which make closed contours no longer simple polygons, or open\n * contours twisted.\n */\nfunction checkAndRemoveCrossesOnEditLine(\n  evt: EventTypes.InteractionEventType\n): number | undefined {\n  const eventDetail = evt.detail;\n  const { currentPoints, lastPoints } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const lastCanvasPoint = lastPoints.canvas;\n\n  const { editCanvasPoints } = this.editData;\n\n  const editCanvasPointsLessLastOne = editCanvasPoints.slice(0, -2);\n\n  const crossedLineSegment = getFirstIntersectionWithPolyline(\n    editCanvasPointsLessLastOne,\n    canvasPos,\n    lastCanvasPoint,\n    false\n  );\n\n  if (!crossedLineSegment) {\n    return;\n  }\n\n  // We have found a crossing, remove points after the crossing, cutting off\n  // the \"island\" loop drawn.\n\n  const editIndexCrossed = crossedLineSegment[0];\n  const numPointsToRemove = editCanvasPoints.length - editIndexCrossed;\n\n  for (let i = 0; i < numPointsToRemove; i++) {\n    editCanvasPoints.pop();\n  }\n}\n\n/**\n * Registers the contour drawing loop to the tool instance.\n */\nfunction registerEditLoopCommon(toolInstance) {\n  toolInstance.checkForFirstCrossing = checkForFirstCrossing.bind(toolInstance);\n  toolInstance.removePointsUpUntilFirstCrossing =\n    removePointsUpUntilFirstCrossing.bind(toolInstance);\n  toolInstance.checkForSecondCrossing =\n    checkForSecondCrossing.bind(toolInstance);\n  toolInstance.findSnapIndex = findSnapIndex.bind(toolInstance);\n  toolInstance.removePointsAfterSecondCrossing =\n    removePointsAfterSecondCrossing.bind(toolInstance);\n  toolInstance.checkAndRemoveCrossesOnEditLine =\n    checkAndRemoveCrossesOnEditLine.bind(toolInstance);\n}\n\nexport default registerEditLoopCommon;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { state } from '../../../store';\nimport { Events } from '../../../enums';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../../cursors/elementCursor';\nimport { EventTypes } from '../../../types';\nimport { polyline } from '../../../utilities/math';\nimport { vec3, vec2 } from 'gl-matrix';\nimport { PlanarFreehandROIAnnotation } from '../../../types/ToolSpecificAnnotationTypes';\nimport {\n  getInterpolatedPoints,\n  shouldInterpolate,\n} from '../../../utilities/planarFreehandROITool/interpolatePoints';\nimport triggerAnnotationRenderForViewportIds from '../../../utilities/triggerAnnotationRenderForViewportIds';\n\nconst {\n  getSubPixelSpacingAndXYDirections,\n  addCanvasPointsToArray,\n  calculateAreaOfPoints,\n} = polyline;\n\n/**\n * Activates the closed contour edit event loop.\n */\nfunction activateClosedContourEdit(\n  evt: EventTypes.InteractionEventType,\n  annotation: PlanarFreehandROIAnnotation,\n  viewportIdsToRender: string[]\n): void {\n  this.isEditingClosed = true;\n\n  const eventDetail = evt.detail;\n  const { currentPoints, element } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  const prevCanvasPoints = annotation.data.polyline.map(viewport.worldToCanvas);\n\n  const { spacing, xDir, yDir } = getSubPixelSpacingAndXYDirections(\n    viewport,\n    this.configuration.subPixelResolution\n  );\n\n  this.editData = {\n    prevCanvasPoints,\n    editCanvasPoints: [canvasPos],\n    startCrossingIndex: undefined,\n    editIndex: 0,\n  };\n\n  this.commonData = {\n    annotation,\n    viewportIdsToRender,\n    spacing,\n    xDir,\n    yDir,\n    movingTextBox: false,\n  };\n\n  state.isInteractingWithTool = true;\n\n  element.addEventListener(\n    Events.MOUSE_UP,\n    this.mouseUpClosedContourEditCallback\n  );\n  element.addEventListener(\n    Events.MOUSE_DRAG,\n    this.mouseDragClosedContourEditCallback\n  );\n  element.addEventListener(\n    Events.MOUSE_CLICK,\n    this.mouseUpClosedContourEditCallback\n  );\n\n  element.addEventListener(\n    Events.TOUCH_END,\n    this.mouseUpClosedContourEditCallback\n  );\n  element.addEventListener(\n    Events.TOUCH_DRAG,\n    this.mouseDragClosedContourEditCallback\n  );\n  element.addEventListener(\n    Events.TOUCH_TAP,\n    this.mouseUpClosedContourEditCallback\n  );\n\n  hideElementCursor(element);\n}\n\n/**\n * Dectivates and cleans up the closed contour edit event loop.\n */\nfunction deactivateClosedContourEdit(element: HTMLDivElement): void {\n  state.isInteractingWithTool = false;\n\n  element.removeEventListener(\n    Events.MOUSE_UP,\n    this.mouseUpClosedContourEditCallback\n  );\n  element.removeEventListener(\n    Events.MOUSE_DRAG,\n    this.mouseDragClosedContourEditCallback\n  );\n  element.removeEventListener(\n    Events.MOUSE_CLICK,\n    this.mouseUpClosedContourEditCallback\n  );\n\n  element.removeEventListener(\n    Events.TOUCH_END,\n    this.mouseUpClosedContourEditCallback\n  );\n  element.removeEventListener(\n    Events.TOUCH_DRAG,\n    this.mouseDragClosedContourEditCallback\n  );\n  element.removeEventListener(\n    Events.TOUCH_TAP,\n    this.mouseUpClosedContourEditCallback\n  );\n\n  resetElementCursor(element);\n}\n\n/**\n * Adds points to the edit line and calculates the preview of the edit to render.\n * Checks if an edit needs to be completed by crossing of lines, or by editing in\n * a way that requires a new edit to keep the contour a simple polygon.\n */\nfunction mouseDragClosedContourEditCallback(\n  evt: EventTypes.InteractionEventType\n): Types.Point2[] {\n  const eventDetail = evt.detail;\n  const { currentPoints, element } = eventDetail;\n  const worldPos = currentPoints.world;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngine, viewport } = enabledElement;\n\n  const { viewportIdsToRender, xDir, yDir, spacing } = this.commonData;\n  const { editIndex, editCanvasPoints, startCrossingIndex } = this.editData;\n\n  const lastCanvasPoint = editCanvasPoints[editCanvasPoints.length - 1];\n  const lastWorldPoint = viewport.canvasToWorld(lastCanvasPoint);\n\n  const worldPosDiff = vec3.create();\n\n  vec3.subtract(worldPosDiff, worldPos, lastWorldPoint);\n\n  const xDist = Math.abs(vec3.dot(worldPosDiff, xDir));\n  const yDist = Math.abs(vec3.dot(worldPosDiff, yDir));\n\n  // Check that we have moved at least one voxel in each direction.\n  if (xDist <= spacing[0] && yDist <= spacing[1]) {\n    // Haven't changed world point enough, don't render\n    return;\n  }\n\n  if (startCrossingIndex !== undefined) {\n    // Edge case: If the edit line itself crosses, remove part of that edit line so we don't\n    // Get isolated regions.\n    this.checkAndRemoveCrossesOnEditLine(evt);\n  }\n\n  const numPointsAdded = addCanvasPointsToArray(\n    element,\n    editCanvasPoints,\n    canvasPos,\n    this.commonData\n  );\n\n  const currentEditIndex = editIndex + numPointsAdded;\n\n  this.editData.editIndex = currentEditIndex;\n\n  if (startCrossingIndex === undefined && editCanvasPoints.length > 1) {\n    // If we haven't found the index of the first crossing yet,\n    // see if we can find it.\n    this.checkForFirstCrossing(evt, true);\n  }\n\n  this.editData.snapIndex = this.findSnapIndex();\n\n  if (this.editData.snapIndex === -1) {\n    // No point on the prevCanvasPoints for the editCanvasPoints line to\n    // snap to. Apply edit, and start a new edit as we've gone back on ourselves.\n    this.finishEditAndStartNewEdit(evt);\n    return;\n  }\n\n  this.editData.fusedCanvasPoints = this.fuseEditPointsWithClosedContour(evt);\n\n  if (\n    startCrossingIndex !== undefined &&\n    this.checkForSecondCrossing(evt, true)\n  ) {\n    // Crossed a second time, apply edit, and start a new edit from the crossing.\n    this.removePointsAfterSecondCrossing(true);\n    this.finishEditAndStartNewEdit(evt);\n  }\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\n\n/**\n * Finish the current edit, and start a new one.\n */\nfunction finishEditAndStartNewEdit(evt: EventTypes.InteractionEventType): void {\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n  const enabledElement = getEnabledElement(element);\n  const { viewport, renderingEngine } = enabledElement;\n\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const { fusedCanvasPoints, editCanvasPoints } = this.editData;\n\n  const worldPoints = fusedCanvasPoints.map((canvasPoint) =>\n    viewport.canvasToWorld(canvasPoint)\n  );\n\n  annotation.data.polyline = worldPoints;\n  annotation.data.isOpenContour = false;\n\n  this.triggerAnnotationModified(annotation, enabledElement);\n\n  const lastEditCanvasPoint = editCanvasPoints.pop();\n\n  this.editData = {\n    prevCanvasPoints: fusedCanvasPoints,\n    editCanvasPoints: [lastEditCanvasPoint],\n    startCrossingIndex: undefined,\n    editIndex: 0,\n    snapIndex: undefined,\n  };\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\n\n/**\n * This method combines the contour before editing (prevCanvasPoints) with\n * the current edit (editCanvasPoints), to produce a renderable preview of the\n * edit. Upon finishing the contour, the preview generated here is written back\n * into the contour state.\n *\n * @privateRemarks In this method we combine a few tricks to find the optimal\n * contour:\n * - As the contour is closed, our edit might stradle the boundary between the\n * last and 0th point of the contour, e.g. a small edit might go from e.g. index\n * 960 to index 4. We therefore calculate two possible contours, and find the\n * one with the biggest area, which will define the actual edit the user desired.\n * - As the contour and the edit can be drawn with different chiralities, we find if\n * the edit line aligns better with the intended cross points in its current order\n * or reversed. We do this by minimising the distance between its ends and the\n * intended crossing points.\n */\nfunction fuseEditPointsWithClosedContour(\n  evt: EventTypes.InteractionEventType\n): Types.Point2[] {\n  const { prevCanvasPoints, editCanvasPoints, startCrossingIndex, snapIndex } =\n    this.editData;\n\n  if (startCrossingIndex === undefined || snapIndex === undefined) {\n    return;\n  }\n\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  // Augment the editCanvasPoints array, between the end of edit and the snap index.\n  const augmentedEditCanvasPoints = [...editCanvasPoints];\n\n  addCanvasPointsToArray(\n    element,\n    augmentedEditCanvasPoints,\n    prevCanvasPoints[snapIndex],\n    this.commonData\n  );\n\n  if (augmentedEditCanvasPoints.length > editCanvasPoints.length) {\n    // If any points added, remove the last point, which will be a clone of the snapIndex\n    augmentedEditCanvasPoints.pop();\n  }\n\n  // Calculate the distances between the first and last edit points and the origin of the\n  // Contour with the snap point. These will be used to see which way around the edit array should be\n  // Placed within the preview.\n  let lowIndex;\n  let highIndex;\n\n  if (startCrossingIndex > snapIndex) {\n    lowIndex = snapIndex;\n    highIndex = startCrossingIndex;\n  } else {\n    lowIndex = startCrossingIndex;\n    highIndex = snapIndex;\n  }\n\n  const distanceBetweenLowAndFirstPoint = vec2.distance(\n    prevCanvasPoints[lowIndex],\n    augmentedEditCanvasPoints[0]\n  );\n\n  const distanceBetweenLowAndLastPoint = vec2.distance(\n    prevCanvasPoints[lowIndex],\n    augmentedEditCanvasPoints[augmentedEditCanvasPoints.length - 1]\n  );\n\n  const distanceBetweenHighAndFirstPoint = vec2.distance(\n    prevCanvasPoints[highIndex],\n    augmentedEditCanvasPoints[0]\n  );\n\n  const distanceBetweenHighAndLastPoint = vec2.distance(\n    prevCanvasPoints[highIndex],\n    augmentedEditCanvasPoints[augmentedEditCanvasPoints.length - 1]\n  );\n\n  // Generate two possible contours that could be intepreted from the edit:\n  //\n  // pointSet1 => 0 -> low -> edit -> high - max.\n  // pointSet2 => low -> high -> edit\n  //\n  // Depending on the placement of the edit and the origin, either of these could be the intended edit.\n  // We'll choose the one with the largest area, as edits are considered to be changes to the original area with\n  // A relative change of much less than unity.\n\n  // Point Set 1\n  const pointSet1 = [];\n\n  // Add points from the orignal contour origin up to the low index.\n  for (let i = 0; i < lowIndex; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n\n    pointSet1.push([canvasPoint[0], canvasPoint[1]]);\n  }\n\n  // Check which orientation of the edit line minimizes the distance between the\n  // origial contour low/high points and the start/end nodes of the edit line.\n\n  let inPlaceDistance =\n    distanceBetweenLowAndFirstPoint + distanceBetweenHighAndLastPoint;\n\n  let reverseDistance =\n    distanceBetweenLowAndLastPoint + distanceBetweenHighAndFirstPoint;\n\n  if (inPlaceDistance < reverseDistance) {\n    for (let i = 0; i < augmentedEditCanvasPoints.length; i++) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n\n      pointSet1.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    for (let i = augmentedEditCanvasPoints.length - 1; i >= 0; i--) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n\n      pointSet1.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n\n  // Add points from the orignal contour's high index up to to its end point.\n  for (let i = highIndex; i < prevCanvasPoints.length; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n\n    pointSet1.push([canvasPoint[0], canvasPoint[1]]);\n  }\n\n  // Point Set 2\n  const pointSet2 = [];\n\n  for (let i = lowIndex; i < highIndex; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n\n    pointSet2.push([canvasPoint[0], canvasPoint[1]]);\n  }\n\n  inPlaceDistance =\n    distanceBetweenHighAndFirstPoint + distanceBetweenLowAndLastPoint;\n\n  reverseDistance =\n    distanceBetweenHighAndLastPoint + distanceBetweenLowAndFirstPoint;\n\n  if (inPlaceDistance < reverseDistance) {\n    for (let i = 0; i < augmentedEditCanvasPoints.length; i++) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n\n      pointSet2.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    for (let i = augmentedEditCanvasPoints.length - 1; i >= 0; i--) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n\n      pointSet2.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n\n  const areaPointSet1 = calculateAreaOfPoints(pointSet1);\n  const areaPointSet2 = calculateAreaOfPoints(pointSet2);\n\n  const pointsToRender: Types.Point2[] =\n    areaPointSet1 > areaPointSet2 ? pointSet1 : pointSet2;\n\n  return pointsToRender;\n}\n\n/**\n * Completes the edit of the closed contour when the mouse button is released.\n */\nfunction mouseUpClosedContourEditCallback(\n  evt: EventTypes.InteractionEventType\n): void {\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  this.completeClosedContourEdit(element);\n}\n\n/**\n * Completes the edit of the closed contour when the mouse button is released.\n */\nfunction completeClosedContourEdit(element: HTMLDivElement) {\n  const enabledElement = getEnabledElement(element);\n  const { viewport, renderingEngine } = enabledElement;\n\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const { fusedCanvasPoints, prevCanvasPoints } = this.editData;\n\n  if (fusedCanvasPoints) {\n    const updatedPoints = shouldInterpolate(this.configuration)\n      ? getInterpolatedPoints(\n          this.configuration,\n          fusedCanvasPoints,\n          prevCanvasPoints\n        )\n      : fusedCanvasPoints;\n\n    const worldPoints = updatedPoints.map((canvasPoint) =>\n      viewport.canvasToWorld(canvasPoint)\n    );\n    annotation.data.polyline = worldPoints;\n    annotation.data.isOpenContour = false;\n\n    annotation.invalidated = true;\n\n    this.triggerAnnotationModified(annotation, enabledElement);\n  }\n\n  this.isEditingClosed = false;\n  this.editData = undefined;\n  this.commonData = undefined;\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n  this.deactivateClosedContourEdit(element);\n}\n\n/**\n * Completes the edit on a cancel method call during the closed\n * contour edit loop.\n */\nfunction cancelClosedContourEdit(element: HTMLDivElement) {\n  this.completeClosedContourEdit(element);\n}\n\n/**\n * Registers the closed contour edit loop to the tool instance.\n */\nfunction registerClosedContourEditLoop(toolInstance): void {\n  toolInstance.activateClosedContourEdit =\n    activateClosedContourEdit.bind(toolInstance);\n  toolInstance.deactivateClosedContourEdit =\n    deactivateClosedContourEdit.bind(toolInstance);\n  toolInstance.mouseDragClosedContourEditCallback =\n    mouseDragClosedContourEditCallback.bind(toolInstance);\n  toolInstance.mouseUpClosedContourEditCallback =\n    mouseUpClosedContourEditCallback.bind(toolInstance);\n  toolInstance.finishEditAndStartNewEdit =\n    finishEditAndStartNewEdit.bind(toolInstance);\n  toolInstance.fuseEditPointsWithClosedContour =\n    fuseEditPointsWithClosedContour.bind(toolInstance);\n  toolInstance.cancelClosedContourEdit =\n    cancelClosedContourEdit.bind(toolInstance);\n  toolInstance.completeClosedContourEdit =\n    completeClosedContourEdit.bind(toolInstance);\n}\n\nexport default registerClosedContourEditLoop;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { state } from '../../../store';\nimport { Events } from '../../../enums';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../../cursors/elementCursor';\nimport type { EventTypes, Annotation } from '../../../types';\nimport { vec3, vec2 } from 'gl-matrix';\nimport { polyline } from '../../../utilities/math';\nimport {\n  shouldInterpolate,\n  getInterpolatedPoints,\n} from '../../../utilities/planarFreehandROITool/interpolatePoints';\nimport triggerAnnotationRenderForViewportIds from '../../../utilities/triggerAnnotationRenderForViewportIds';\nimport findOpenUShapedContourVectorToPeak from './findOpenUShapedContourVectorToPeak';\n\nconst { addCanvasPointsToArray, getSubPixelSpacingAndXYDirections } = polyline;\n\n/**\n * Activates the open contour edit event loop.\n */\nfunction activateOpenContourEdit(\n  evt: EventTypes.InteractionEventType,\n  annotation: Annotation,\n  viewportIdsToRender: string[]\n): void {\n  this.isEditingOpen = true;\n\n  const eventDetail = evt.detail;\n  const { currentPoints, element } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  const prevCanvasPoints = annotation.data.polyline.map(viewport.worldToCanvas);\n\n  const { spacing, xDir, yDir } = getSubPixelSpacingAndXYDirections(\n    viewport,\n    this.configuration.subPixelResolution\n  );\n\n  this.editData = {\n    prevCanvasPoints,\n    editCanvasPoints: [canvasPos],\n    startCrossingIndex: undefined,\n    editIndex: 0,\n  };\n\n  this.commonData = {\n    annotation,\n    viewportIdsToRender,\n    spacing,\n    xDir,\n    yDir,\n    movingTextBox: false,\n  };\n\n  state.isInteractingWithTool = true;\n\n  element.addEventListener(\n    Events.MOUSE_UP,\n    this.mouseUpOpenContourEditCallback\n  );\n  element.addEventListener(\n    Events.MOUSE_DRAG,\n    this.mouseDragOpenContourEditCallback\n  );\n  element.addEventListener(\n    Events.MOUSE_CLICK,\n    this.mouseUpOpenContourEditCallback\n  );\n\n  element.addEventListener(\n    Events.TOUCH_END,\n    this.mouseUpOpenContourEditCallback\n  );\n  element.addEventListener(\n    Events.TOUCH_DRAG,\n    this.mouseDragOpenContourEditCallback\n  );\n  element.addEventListener(\n    Events.TOUCH_TAP,\n    this.mouseUpOpenContourEditCallback\n  );\n  hideElementCursor(element);\n}\n\n/**\n * Deactivates and cleans up the closed contour edit event loop.\n */\nfunction deactivateOpenContourEdit(element: HTMLDivElement) {\n  state.isInteractingWithTool = false;\n\n  element.removeEventListener(\n    Events.MOUSE_UP,\n    this.mouseUpOpenContourEditCallback\n  );\n  element.removeEventListener(\n    Events.MOUSE_DRAG,\n    this.mouseDragOpenContourEditCallback\n  );\n  element.removeEventListener(\n    Events.MOUSE_CLICK,\n    this.mouseUpOpenContourEditCallback\n  );\n\n  element.removeEventListener(\n    Events.TOUCH_END,\n    this.mouseUpOpenContourEditCallback\n  );\n  element.removeEventListener(\n    Events.TOUCH_DRAG,\n    this.mouseDragOpenContourEditCallback\n  );\n  element.removeEventListener(\n    Events.TOUCH_TAP,\n    this.mouseUpOpenContourEditCallback\n  );\n  resetElementCursor(element);\n}\n\n/**\n * Adds points to the edit line and calculates the preview of the edit to render.\n * Checks if an edit needs to be completed by crossing of lines, or by dragging\n * the edit line past the end of the open contour.\n */\nfunction mouseDragOpenContourEditCallback(\n  evt: EventTypes.InteractionEventType\n): boolean {\n  const eventDetail = evt.detail;\n  const { currentPoints, element } = eventDetail;\n  const worldPos = currentPoints.world;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngine, viewport } = enabledElement;\n\n  const { viewportIdsToRender, xDir, yDir, spacing } = this.commonData;\n  const { editIndex, editCanvasPoints, startCrossingIndex } = this.editData;\n\n  const lastCanvasPoint = editCanvasPoints[editCanvasPoints.length - 1];\n  const lastWorldPoint = viewport.canvasToWorld(lastCanvasPoint);\n\n  const worldPosDiff = vec3.create();\n\n  vec3.subtract(worldPosDiff, worldPos, lastWorldPoint);\n\n  const xDist = Math.abs(vec3.dot(worldPosDiff, xDir));\n  const yDist = Math.abs(vec3.dot(worldPosDiff, yDir));\n\n  // Get pixel spacing in the direction.\n  // Check that we have moved at least one voxel in each direction.\n\n  if (xDist <= spacing[0] && yDist <= spacing[1]) {\n    // Haven't changed world point enough, don't render\n    return;\n  }\n\n  if (startCrossingIndex !== undefined) {\n    // Edge case: If the edit line itself crosses, remove part of that edit line so we don't\n    // Get isolated regions.\n    this.checkAndRemoveCrossesOnEditLine(evt);\n  }\n\n  const numPointsAdded = addCanvasPointsToArray(\n    element,\n    editCanvasPoints,\n    canvasPos,\n    this.commonData\n  );\n\n  const currentEditIndex = editIndex + numPointsAdded;\n\n  this.editData.editIndex = currentEditIndex;\n\n  if (startCrossingIndex === undefined && editCanvasPoints.length > 1) {\n    this.checkForFirstCrossing(evt, false);\n  }\n\n  this.editData.snapIndex = this.findSnapIndex();\n\n  this.editData.fusedCanvasPoints = this.fuseEditPointsWithOpenContour(evt);\n\n  if (\n    startCrossingIndex !== undefined &&\n    this.checkForSecondCrossing(evt, false)\n  ) {\n    this.removePointsAfterSecondCrossing(false);\n    this.finishEditOpenOnSecondCrossing(evt);\n  } else if (this.checkIfShouldOverwriteAnEnd(evt)) {\n    this.openContourEditOverwriteEnd(evt);\n  }\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\n\n/**\n * Overwrite the end of the contour with the edit, and then switch to the\n * open contour end edit loop.\n */\nfunction openContourEditOverwriteEnd(\n  evt: EventTypes.InteractionEventType\n): void {\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const fusedCanvasPoints = this.fuseEditPointsForOpenContourEndEdit();\n\n  const worldPoints = fusedCanvasPoints.map((canvasPoint) =>\n    viewport.canvasToWorld(canvasPoint)\n  );\n\n  annotation.data.polyline = worldPoints;\n  annotation.data.isOpenContour = true;\n  // Note: Contours generate from fusedCanvasPoints will be in the direction\n  // with the last point being the current mouse position\n  annotation.data.handles.points = [\n    worldPoints[0],\n    worldPoints[worldPoints.length - 1],\n  ];\n  annotation.data.handles.activeHandleIndex = 1;\n\n  this.triggerAnnotationModified(annotation, enabledElement);\n\n  this.isEditingOpen = false;\n  this.editData = undefined;\n  this.commonData = undefined;\n\n  // Jump to a normal line edit now.\n  this.deactivateOpenContourEdit(element);\n  this.activateOpenContourEndEdit(evt, annotation, viewportIdsToRender, null);\n}\n\n/**\n * Checks if we are moving the `editCanvasPoints` past the end of one of the\n * open contour's `prevCanvasPoint`s.\n */\nfunction checkIfShouldOverwriteAnEnd(\n  evt: EventTypes.InteractionEventType\n): boolean {\n  const eventDetail = evt.detail;\n  const { currentPoints, lastPoints } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const lastCanvasPos = lastPoints.canvas;\n\n  const { snapIndex, prevCanvasPoints, startCrossingIndex } = this.editData;\n\n  if (startCrossingIndex === undefined || snapIndex === undefined) {\n    // Edit not started\n    return false;\n  }\n\n  // No snap index can be found, so contour is being edited away from line.\n  if (snapIndex === -1) {\n    return true;\n  }\n\n  if (snapIndex !== 0 && snapIndex !== prevCanvasPoints.length - 1) {\n    // Not snapping to final index\n    return false;\n  }\n\n  // Work out the angle between the last mouse move and\n  // And the current point to the snapped point.\n  const p1 = canvasPos;\n  const p2 = lastCanvasPos;\n  const p3 = prevCanvasPoints[snapIndex];\n\n  const a = vec2.create();\n  const b = vec2.create();\n\n  vec2.set(a, p1[0] - p2[0], p1[1] - p2[1]);\n  vec2.set(b, p1[0] - p3[0], p1[1] - p3[1]);\n\n  const aDotb = vec2.dot(a, b);\n  const magA = Math.sqrt(a[0] * a[0] + a[1] * a[1]);\n  const magB = Math.sqrt(b[0] * b[0] + b[1] * b[1]);\n\n  const theta = Math.acos(aDotb / (magA * magB));\n\n  if (theta < Math.PI / 2) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * This method combines the contour before editing (prevCanvasPoints) with\n * the current edit (editCanvasPoints), to produce a single contour ready for\n * end editing.\n *\n * @privateRemarks In this method we use the following trick to find the\n * optimal contour:\n * - As the contour and the edit can be drawn with different chiralities, we find if\n * the edit line aligns better with the intended cross points in its current order\n * or reversed. We do this by minimising the distance between its ends and the\n * intended crossing points.\n */\nfunction fuseEditPointsForOpenContourEndEdit(): Types.Point2[] {\n  const { snapIndex, prevCanvasPoints, editCanvasPoints, startCrossingIndex } =\n    this.editData;\n\n  const newCanvasPoints = [];\n\n  // Note: Generated contours will both be in the direction with the\n  // last point being the current mouse position\n\n  if (snapIndex === 0) {\n    // end -> crossingpoint -> edit\n    // Add points from the end of the previous contour, to the crossing point.\n    for (let i = prevCanvasPoints.length - 1; i >= startCrossingIndex; i--) {\n      const canvasPoint = prevCanvasPoints[i];\n\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    // start -> crossingpoint -> edit\n    // Add points from the orignal contour origin up to the low index.\n    for (let i = 0; i < startCrossingIndex; i++) {\n      const canvasPoint = prevCanvasPoints[i];\n\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n\n  const distanceBetweenCrossingIndexAndFirstPoint = vec2.distance(\n    prevCanvasPoints[startCrossingIndex],\n    editCanvasPoints[0]\n  );\n\n  const distanceBetweenCrossingIndexAndLastPoint = vec2.distance(\n    prevCanvasPoints[startCrossingIndex],\n    editCanvasPoints[editCanvasPoints.length - 1]\n  );\n\n  if (\n    distanceBetweenCrossingIndexAndFirstPoint <\n    distanceBetweenCrossingIndexAndLastPoint\n  ) {\n    // In order\n    for (let i = 0; i < editCanvasPoints.length; i++) {\n      const canvasPoint = editCanvasPoints[i];\n\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    // reverse\n    for (let i = editCanvasPoints.length - 1; i >= 0; i--) {\n      const canvasPoint = editCanvasPoints[i];\n\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n\n  return newCanvasPoints;\n}\n\n/**\n * This method combines the contour before editing (prevCanvasPoints) with\n * the current edit (editCanvasPoints), to produce a renderable preview of the\n * edit. Upon finishing the contour, the preview generated here is written back\n * into the contour state.\n *\n * @privateRemarks In this method we use the following trick to find the\n * optimal contour:\n * - As the contour and the edit can be drawn with different chiralities, we find if\n * the edit line aligns better with the intended cross points in its current order\n * or reversed. We do this by minimising the distance between its ends and the\n * intended crossing points.\n */\nfunction fuseEditPointsWithOpenContour(\n  evt: EventTypes.InteractionEventType\n): Types.Point2[] {\n  const { prevCanvasPoints, editCanvasPoints, startCrossingIndex, snapIndex } =\n    this.editData;\n\n  if (startCrossingIndex === undefined || snapIndex === undefined) {\n    return undefined;\n  }\n\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  // Augment the editCanvasPoints array, between the end of edit and the snap index.\n  const augmentedEditCanvasPoints = [...editCanvasPoints];\n\n  addCanvasPointsToArray(\n    element,\n    augmentedEditCanvasPoints,\n    prevCanvasPoints[snapIndex],\n    this.commonData\n  );\n\n  if (augmentedEditCanvasPoints.length > editCanvasPoints.length) {\n    // If any points added, remove the last point, which will be a clone of the snapIndex\n    augmentedEditCanvasPoints.pop();\n  }\n\n  // Calculate the distances between the first and last edit points and the origin of the\n  // Contour with the snap point. These will be used to see which way around the edit array should be\n  // Placed within the preview.\n\n  let lowIndex;\n  let highIndex;\n\n  if (startCrossingIndex > snapIndex) {\n    lowIndex = snapIndex;\n    highIndex = startCrossingIndex;\n  } else {\n    lowIndex = startCrossingIndex;\n    highIndex = snapIndex;\n  }\n\n  const distanceBetweenLowAndFirstPoint = vec2.distance(\n    prevCanvasPoints[lowIndex],\n    augmentedEditCanvasPoints[0]\n  );\n\n  const distanceBetweenLowAndLastPoint = vec2.distance(\n    prevCanvasPoints[lowIndex],\n    augmentedEditCanvasPoints[augmentedEditCanvasPoints.length - 1]\n  );\n\n  const distanceBetweenHighAndFirstPoint = vec2.distance(\n    prevCanvasPoints[highIndex],\n    augmentedEditCanvasPoints[0]\n  );\n\n  const distanceBetweenHighAndLastPoint = vec2.distance(\n    prevCanvasPoints[highIndex],\n    augmentedEditCanvasPoints[augmentedEditCanvasPoints.length - 1]\n  );\n\n  const pointsToRender = [];\n\n  // Add points from the orignal contour origin up to the low index.\n  for (let i = 0; i < lowIndex; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n\n    pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n  }\n\n  // Check which orientation of the edit line minimizes the distance between the\n  // origial contour low/high points and the start/end nodes of the edit line.\n\n  const inPlaceDistance =\n    distanceBetweenLowAndFirstPoint + distanceBetweenHighAndLastPoint;\n\n  const reverseDistance =\n    distanceBetweenLowAndLastPoint + distanceBetweenHighAndFirstPoint;\n\n  if (inPlaceDistance < reverseDistance) {\n    for (let i = 0; i < augmentedEditCanvasPoints.length; i++) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n\n      pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    for (let i = augmentedEditCanvasPoints.length - 1; i >= 0; i--) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n\n      pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n\n  // Add points from the original contour's high index up to to its end point.\n  for (let i = highIndex; i < prevCanvasPoints.length; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n\n    pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n  }\n\n  return pointsToRender;\n}\n\n/**\n * On a second crossing, apply edit, and start a new edit from the crossing.\n */\nfunction finishEditOpenOnSecondCrossing(\n  evt: EventTypes.InteractionEventType\n): void {\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n  const enabledElement = getEnabledElement(element);\n  const { viewport, renderingEngine } = enabledElement;\n\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const { fusedCanvasPoints, editCanvasPoints } = this.editData;\n\n  const worldPoints = fusedCanvasPoints.map((canvasPoint) =>\n    viewport.canvasToWorld(canvasPoint)\n  );\n\n  annotation.data.polyline = worldPoints;\n  annotation.data.isOpenContour = true;\n  annotation.data.handles.points = [\n    worldPoints[0],\n    worldPoints[worldPoints.length - 1],\n  ];\n\n  this.triggerAnnotationModified(annotation, enabledElement);\n\n  const lastEditCanvasPoint = editCanvasPoints.pop();\n\n  this.editData = {\n    prevCanvasPoints: fusedCanvasPoints,\n    editCanvasPoints: [lastEditCanvasPoint],\n    startCrossingIndex: undefined,\n    editIndex: 0,\n  };\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\n\n/**\n * Completes the edit of the open contour when the mouse button is released.\n */\nfunction mouseUpOpenContourEditCallback(\n  evt: EventTypes.InteractionEventType\n): void {\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  this.completeOpenContourEdit(element);\n}\n\n/**\n * Completes the edit of the open contour.\n */\nfunction completeOpenContourEdit(element: HTMLDivElement) {\n  const enabledElement = getEnabledElement(element);\n  const { viewport, renderingEngine } = enabledElement;\n\n  const { annotation, viewportIdsToRender } = this.commonData;\n  const { fusedCanvasPoints, prevCanvasPoints } = this.editData;\n\n  if (fusedCanvasPoints) {\n    const updatedPoints = shouldInterpolate(this.configuration)\n      ? getInterpolatedPoints(\n          this.configuration,\n          fusedCanvasPoints,\n          prevCanvasPoints\n        )\n      : fusedCanvasPoints;\n\n    const worldPoints = updatedPoints.map((canvasPoint) =>\n      viewport.canvasToWorld(canvasPoint)\n    );\n    annotation.data.polyline = worldPoints;\n    annotation.data.isOpenContour = true;\n    annotation.data.handles.points = [\n      worldPoints[0],\n      worldPoints[worldPoints.length - 1],\n    ];\n\n    // If the annotation is an open U-shaped annotation, find the annotation vector.\n    if (annotation.data.isOpenUShapeContour) {\n      annotation.data.openUShapeContourVectorToPeak =\n        findOpenUShapedContourVectorToPeak(fusedCanvasPoints, viewport);\n    }\n\n    annotation.invalidated = true;\n\n    this.triggerAnnotationModified(annotation, enabledElement);\n  }\n\n  this.isEditingOpen = false;\n  this.editData = undefined;\n  this.commonData = undefined;\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n  this.deactivateOpenContourEdit(element);\n}\n\n/**\n * Completes the edit on a cancel method call during the open\n * contour edit loop.\n */\nfunction cancelOpenContourEdit(element: HTMLDivElement) {\n  this.completeOpenContourEdit(element);\n}\n\n/**\n * Registers the open contour edit loop to the tool instance.\n */\nfunction registerOpenContourEditLoop(toolInstance) {\n  toolInstance.activateOpenContourEdit =\n    activateOpenContourEdit.bind(toolInstance);\n  toolInstance.deactivateOpenContourEdit =\n    deactivateOpenContourEdit.bind(toolInstance);\n  toolInstance.mouseDragOpenContourEditCallback =\n    mouseDragOpenContourEditCallback.bind(toolInstance);\n  toolInstance.mouseUpOpenContourEditCallback =\n    mouseUpOpenContourEditCallback.bind(toolInstance);\n  toolInstance.fuseEditPointsWithOpenContour =\n    fuseEditPointsWithOpenContour.bind(toolInstance);\n  toolInstance.finishEditOpenOnSecondCrossing =\n    finishEditOpenOnSecondCrossing.bind(toolInstance);\n  toolInstance.checkIfShouldOverwriteAnEnd =\n    checkIfShouldOverwriteAnEnd.bind(toolInstance);\n  toolInstance.fuseEditPointsForOpenContourEndEdit =\n    fuseEditPointsForOpenContourEndEdit.bind(toolInstance);\n  toolInstance.openContourEditOverwriteEnd =\n    openContourEditOverwriteEnd.bind(toolInstance);\n  toolInstance.cancelOpenContourEdit = cancelOpenContourEdit.bind(toolInstance);\n  toolInstance.completeOpenContourEdit =\n    completeOpenContourEdit.bind(toolInstance);\n}\n\nexport default registerOpenContourEditLoop;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport { state } from '../../../store';\nimport { Events } from '../../../enums';\nimport { hideElementCursor } from '../../../cursors/elementCursor';\nimport type {\n  EventTypes,\n  Annotation,\n  ToolHandle,\n  TextBoxHandle,\n} from '../../../types';\nimport { polyline } from '../../../utilities/math';\n\nconst { getSubPixelSpacingAndXYDirections } = polyline;\n\n/**\n * Activates the open contour end edit. This actually just sets up the state so\n * that the tool thinks we are mid draw, and then jumps into the drawing loop.\n */\nfunction activateOpenContourEndEdit(\n  evt: EventTypes.InteractionEventType,\n  annotation: Annotation,\n  viewportIdsToRender: string[],\n  handle: ToolHandle | null\n): void {\n  this.isDrawing = true;\n\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n  const enabledElement = getEnabledElement(element);\n  const { viewport } = enabledElement;\n\n  const { spacing, xDir, yDir } = getSubPixelSpacingAndXYDirections(\n    viewport,\n    this.configuration.subPixelResolution\n  );\n\n  const canvasPoints = annotation.data.polyline.map(viewport.worldToCanvas);\n  const handleIndexGrabbed = annotation.data.handles.activeHandleIndex;\n\n  // If 0, invert point direction, if 1, keep point direction the same.\n  // This is so we can just jump as into the state as if the annotation was just being drawn.\n  if (handleIndexGrabbed === 0) {\n    canvasPoints.reverse();\n  }\n\n  let movingTextBox = false;\n  if ((handle as TextBoxHandle).worldPosition) {\n    movingTextBox = true;\n  }\n\n  this.drawData = {\n    canvasPoints: canvasPoints,\n    polylineIndex: canvasPoints.length - 1,\n  };\n\n  this.commonData = {\n    annotation,\n    viewportIdsToRender,\n    spacing,\n    xDir,\n    yDir,\n    movingTextBox,\n  };\n\n  state.isInteractingWithTool = true;\n\n  // Jump into drawing loop.\n  element.addEventListener(Events.MOUSE_UP, this.mouseUpDrawCallback);\n  element.addEventListener(Events.MOUSE_DRAG, this.mouseDragDrawCallback);\n  element.addEventListener(Events.MOUSE_CLICK, this.mouseUpDrawCallback);\n  element.addEventListener(Events.TOUCH_END, this.mouseUpDrawCallback);\n  element.addEventListener(Events.TOUCH_DRAG, this.mouseDragDrawCallback);\n  element.addEventListener(Events.TOUCH_TAP, this.mouseUpDrawCallback);\n\n  hideElementCursor(element);\n}\n\n/**\n * Registers the open contour end edit loop to the tool instance.\n */\nfunction registerOpenContourEndEditLoop(toolInstance): void {\n  toolInstance.activateOpenContourEndEdit =\n    activateOpenContourEndEdit.bind(toolInstance);\n}\n\nexport default registerOpenContourEndEditLoop;\n","import type { Types } from '@cornerstonejs/core';\nimport {\n  drawHandles as drawHandlesSvg,\n  drawPolyline as drawPolylineSvg,\n} from '../../../drawingSvg';\nimport { polyline } from '../../../utilities/math';\nimport { findOpenUShapedContourVectorToPeakOnRender } from './findOpenUShapedContourVectorToPeak';\nimport { PlanarFreehandROIAnnotation } from '../../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../../types/AnnotationStyle';\nimport { SVGDrawingHelper } from '../../../types';\n\nconst { pointsAreWithinCloseContourProximity } = polyline;\n\ntype PlanarFreehandROIRenderOptions = {\n  color?: string;\n  width?: number;\n  connectFirstToLast?: boolean;\n};\n\nfunction _getRenderingOptions(\n  enabledElement: Types.IEnabledElement,\n  annotation: PlanarFreehandROIAnnotation\n): PlanarFreehandROIRenderOptions {\n  const styleSpecifier: StyleSpecifier = {\n    toolGroupId: this.toolGroupId,\n    toolName: this.getToolName(),\n    viewportId: enabledElement.viewport.id,\n    annotationUID: annotation.annotationUID,\n  };\n\n  const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n  const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n  const color = this.getStyle('color', styleSpecifier, annotation);\n\n  const isOpenContour = annotation.data.isOpenContour;\n\n  const options = {\n    color: color === undefined ? undefined : <string>color,\n    width: lineWidth === undefined ? undefined : <number>lineWidth,\n    lineDash: lineDash === undefined ? undefined : <number[]>lineDash,\n    connectLastToFirst: !isOpenContour,\n  };\n\n  return options;\n}\n\n/**\n * Renders a `PlanarFreehandROIAnnotation` that is not currently being drawn or edited.\n */\nfunction renderContour(\n  enabledElement: Types.IEnabledElement,\n  svgDrawingHelper: SVGDrawingHelper,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  // prevent drawing or further calculation in case viewport data is not ready yet\n  if (!enabledElement?.viewport?.getImageData()) {\n    return;\n  }\n  // Check if the contour is an open contour\n  if (annotation.data.isOpenContour) {\n    // If its an open contour, check i its a U-shaped contour\n    if (annotation.data.isOpenUShapeContour) {\n      calculateUShapeContourVectorToPeakIfNotPresent(\n        enabledElement,\n        annotation\n      );\n\n      this.renderOpenUShapedContour(\n        enabledElement,\n        svgDrawingHelper,\n        annotation\n      );\n    } else {\n      // If not a U-shaped contour, render standard open contour.\n      this.renderOpenContour(enabledElement, svgDrawingHelper, annotation);\n    }\n  } else {\n    this.renderClosedContour(enabledElement, svgDrawingHelper, annotation);\n  }\n}\n\n/**\n * If the open U-shaped contour does not have a peak.\n */\nfunction calculateUShapeContourVectorToPeakIfNotPresent(\n  enabledElement: Types.IEnabledElement,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  if (!annotation.data.openUShapeContourVectorToPeak) {\n    // Annotation just been set to be an open U-shaped contour.\n    // calculate its peak vector here.\n    annotation.data.openUShapeContourVectorToPeak =\n      findOpenUShapedContourVectorToPeakOnRender(enabledElement, annotation);\n  }\n}\n\n/**\n * Renders an closed `PlanarFreehandROIAnnotation` annotation.\n */\nfunction renderClosedContour(\n  enabledElement: Types.IEnabledElement,\n  svgDrawingHelper: SVGDrawingHelper,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  const { viewport } = enabledElement;\n  const options = this._getRenderingOptions(enabledElement, annotation);\n\n  // Its unfortunate that we have to do this for each annotation,\n  // Even if its unchanged. In the future we could cache the canvas points per\n  // element on the tool? That feels very weird also as we'd need to manage\n  // it/clean them up. Its a pre-optimisation for now and we can tackle it if it\n  // becomes a problem.\n  const canvasPoints = annotation.data.polyline.map((worldPos) =>\n    viewport.worldToCanvas(worldPos)\n  );\n\n  const polylineUID = '1';\n\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    polylineUID,\n    canvasPoints,\n    options\n  );\n}\n\n/**\n * Renders an open `PlanarFreehandROIAnnotation` annotation.\n */\nfunction renderOpenContour(\n  enabledElement: Types.IEnabledElement,\n  svgDrawingHelper: SVGDrawingHelper,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  const { viewport } = enabledElement;\n  const options = this._getRenderingOptions(enabledElement, annotation);\n\n  const canvasPoints = annotation.data.polyline.map((worldPos) =>\n    viewport.worldToCanvas(worldPos)\n  );\n\n  const polylineUID = '1';\n\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    polylineUID,\n    canvasPoints,\n    options\n  );\n\n  const activeHandleIndex = annotation.data.handles.activeHandleIndex;\n\n  if (this.configuration.alwaysRenderOpenContourHandles?.enabled === true) {\n    const radius = this.configuration.alwaysRenderOpenContourHandles.radius;\n\n    // Draw highlighted points\n    const handleGroupUID = '0';\n\n    // We already mapped all the points, so don't do the mapping again.\n    // The activeHandleIndex can only be one of two points.\n    const handlePoints = [\n      canvasPoints[0],\n      canvasPoints[canvasPoints.length - 1],\n    ];\n\n    // Don't render a hovered handle, as this will be rendered larger in\n    // the next block.\n    if (activeHandleIndex === 0) {\n      handlePoints.shift();\n    } else if (activeHandleIndex === 1) {\n      handlePoints.pop();\n    }\n\n    drawHandlesSvg(\n      svgDrawingHelper,\n      annotation.annotationUID,\n      handleGroupUID,\n      handlePoints,\n      {\n        color: options.color,\n        handleRadius: radius,\n      }\n    );\n  }\n\n  if (activeHandleIndex !== null) {\n    // Draw highlighted points\n    const handleGroupUID = '1';\n\n    // We already mapped all the points, so don't do the mapping again.\n    // The activeHandleIndex can only be one of two points.\n    const indexOfCanvasPoints =\n      activeHandleIndex === 0 ? 0 : canvasPoints.length - 1;\n\n    const handlePoint = canvasPoints[indexOfCanvasPoints];\n\n    drawHandlesSvg(\n      svgDrawingHelper,\n      annotation.annotationUID,\n      handleGroupUID,\n      [handlePoint],\n      { color: options.color }\n    );\n  }\n}\n\nfunction renderOpenUShapedContour(\n  enabledElement: Types.IEnabledElement,\n  svgDrawingHelper: SVGDrawingHelper,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  const { viewport } = enabledElement;\n  const { polyline, openUShapeContourVectorToPeak } = annotation.data;\n\n  this.renderOpenContour(enabledElement, svgDrawingHelper, annotation);\n\n  // prevent rendering u shape in case openUShapeContourVectorToPeak is not set yet\n  if (!openUShapeContourVectorToPeak) {\n    return;\n  }\n\n  const firstCanvasPoint = viewport.worldToCanvas(polyline[0]);\n  const lastCanvasPoint = viewport.worldToCanvas(polyline[polyline.length - 1]);\n\n  const openUShapeContourVectorToPeakCanvas = [\n    viewport.worldToCanvas(openUShapeContourVectorToPeak[0]),\n    viewport.worldToCanvas(openUShapeContourVectorToPeak[1]),\n  ];\n\n  const options = this._getRenderingOptions(enabledElement, annotation);\n\n  // Join first and last points\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    'first-to-last',\n    [firstCanvasPoint, lastCanvasPoint],\n    {\n      color: options.color,\n      width: options.width,\n      connectLastToFirst: false,\n      lineDash: '2,2',\n    }\n  );\n\n  // Render midpoint to open contour surface line\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    'midpoint-to-open-contour',\n    [\n      openUShapeContourVectorToPeakCanvas[0],\n      openUShapeContourVectorToPeakCanvas[1],\n    ],\n    {\n      color: options.color,\n      width: options.width,\n      connectLastToFirst: false,\n      lineDash: '2,2',\n    }\n  );\n}\n\n/**\n * Renders a new `PlanarFreehandROIAnnotation` annotation during\n * creation/drawing.\n */\nfunction renderContourBeingDrawn(\n  enabledElement: Types.IEnabledElement,\n  svgDrawingHelper: SVGDrawingHelper,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  const options = this._getRenderingOptions(enabledElement, annotation);\n\n  const { allowOpenContours } = this.configuration;\n  const { canvasPoints } = this.drawData;\n\n  // Override rendering whilst drawing the contour, we don't know if its open\n  // or closed yet\n  options.connectLastToFirst = false;\n\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    '1',\n    canvasPoints,\n    options\n  );\n\n  if (allowOpenContours) {\n    const firstPoint = canvasPoints[0];\n    const lastPoint = canvasPoints[canvasPoints.length - 1];\n\n    // Check if start and end are within close proximity\n    if (\n      pointsAreWithinCloseContourProximity(\n        firstPoint,\n        lastPoint,\n        this.configuration.closeContourProximity\n      )\n    ) {\n      // Preview join last points\n      drawPolylineSvg(\n        svgDrawingHelper,\n        annotation.annotationUID,\n        '2',\n        [lastPoint, firstPoint],\n        options\n      );\n    } else {\n      // Draw start point\n      const handleGroupUID = '0';\n\n      drawHandlesSvg(\n        svgDrawingHelper,\n        annotation.annotationUID,\n        handleGroupUID,\n        [firstPoint],\n        { color: options.color, handleRadius: 2 }\n      );\n    }\n  }\n}\n\n/**\n * Renders a closed `PlanarFreehandROIAnnotation` being edited.\n */\nfunction renderClosedContourBeingEdited(\n  enabledElement,\n  svgDrawingHelper,\n  annotation\n): void {\n  const { fusedCanvasPoints } = this.editData;\n\n  if (fusedCanvasPoints === undefined) {\n    // No edit to render yet, render closed contour.\n    this.renderClosedContour(enabledElement, svgDrawingHelper, annotation);\n\n    return;\n  }\n\n  const options = this._getRenderingOptions(enabledElement, annotation);\n\n  const polylineUIDToRender = 'preview-1';\n\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    polylineUIDToRender,\n    fusedCanvasPoints,\n    options\n  );\n}\n\n/**\n * Renders an open `PlanarFreehandROIAnnotation` being edited.\n */\nfunction renderOpenContourBeingEdited(\n  enabledElement: Types.IEnabledElement,\n  svgDrawingHelper: SVGDrawingHelper,\n  annotation: PlanarFreehandROIAnnotation\n): void {\n  const { fusedCanvasPoints } = this.editData;\n\n  if (fusedCanvasPoints === undefined) {\n    // No edit to render yet, render closed contour.\n    this.renderOpenContour(enabledElement, svgDrawingHelper, annotation);\n\n    return;\n  }\n\n  const options = this._getRenderingOptions(enabledElement, annotation);\n\n  const polylineUIDToRender = 'preview-1';\n\n  drawPolylineSvg(\n    svgDrawingHelper,\n    annotation.annotationUID,\n    polylineUIDToRender,\n    fusedCanvasPoints,\n    options\n  );\n}\n\n/**\n * Registers the render methods of various contour states to the tool instance.\n */\nfunction registerRenderMethods(toolInstance) {\n  toolInstance.renderContour = renderContour.bind(toolInstance);\n  toolInstance.renderClosedContour = renderClosedContour.bind(toolInstance);\n  toolInstance.renderOpenContour = renderOpenContour.bind(toolInstance);\n  toolInstance.renderOpenUShapedContour =\n    renderOpenUShapedContour.bind(toolInstance);\n\n  toolInstance.renderContourBeingDrawn =\n    renderContourBeingDrawn.bind(toolInstance);\n\n  toolInstance.renderClosedContourBeingEdited =\n    renderClosedContourBeingEdited.bind(toolInstance);\n  toolInstance.renderOpenContourBeingEdited =\n    renderOpenContourBeingEdited.bind(toolInstance);\n  toolInstance._getRenderingOptions = _getRenderingOptions.bind(toolInstance);\n}\n\nexport default registerRenderMethods;\n","import {\n  CONSTANTS,\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n  StackViewport,\n  VolumeViewport,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { vec3 } from 'gl-matrix';\n\nimport {\n  getCalibratedAreaUnits,\n  getCalibratedScale,\n} from '../../utilities/getCalibratedUnits';\nimport roundNumber from '../../utilities/roundNumber';\nimport { Events } from '../../enums';\nimport { AnnotationTool } from '../base';\nimport {\n  addAnnotation,\n  getAnnotations,\n} from '../../stateManagement/annotation/annotationState';\nimport { polyline } from '../../utilities/math';\nimport { filterAnnotationsForDisplay } from '../../utilities/planar';\nimport throttle from '../../utilities/throttle';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport registerDrawLoop from './planarFreehandROITool/drawLoop';\nimport registerEditLoopCommon from './planarFreehandROITool/editLoopCommon';\nimport registerClosedContourEditLoop from './planarFreehandROITool/closedContourEditLoop';\nimport registerOpenContourEditLoop from './planarFreehandROITool/openContourEditLoop';\nimport registerOpenContourEndEditLoop from './planarFreehandROITool/openContourEndEditLoop';\nimport registerRenderMethods from './planarFreehandROITool/renderMethods';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\nimport {\n  EventTypes,\n  ToolHandle,\n  Annotation,\n  Annotations,\n  AnnotationStyle,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n} from '../../types';\nimport { drawLinkedTextBox } from '../../drawingSvg';\nimport { PlanarFreehandROIAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport { PlanarFreehandROICommonData } from '../../utilities/math/polyline/planarFreehandROIInternalTypes';\n\nimport { getIntersectionCoordinatesWithPolyline } from '../../utilities/math/polyline/getIntersectionWithPolyline';\nimport pointInShapeCallback from '../../utilities/pointInShapeCallback';\nimport { isViewportPreScaled } from '../../utilities/viewport/isViewportPreScaled';\nimport {\n  ModalityUnitOptions,\n  getModalityUnit,\n} from '../../utilities/getModalityUnit';\nimport { BasicStatsCalculator } from '../../utilities/math/basic';\n\nconst { pointCanProjectOnLine } = polyline;\nconst { EPSILON } = CONSTANTS;\n\nconst PARALLEL_THRESHOLD = 1 - EPSILON;\n/**\n * PlanarFreehandROITool lets you draw annotations that define an arbitrarily drawn region.\n * You can use the PlanarFreehandROITool in all perpendicular views (axial, sagittal, coronal),\n * support for oblique views is possible, but not yet supported, due to the implementation of\n * `getSubPixelSpacingAndXYDirections`.\n *\n * The resulting annotation's data and metadata (the\n * state of the viewport while drawing was happening) will get added to the\n * ToolState manager and can be accessed from the ToolState by calling getAnnotations\n * or similar methods.\n *\n * PlanarFreehandROITool annotation can be smoothed on drawing completion. This is a configured based approach.\n * The interpolation process uses b-spline algorithm and consider 4 configurations properties:\n * - interpolation.interpolateOnAdd: to tell whether it should be interpolated or not (for editing it is considered the property interpolateOnEdit) (default: false)\n * - interpolation.interpolateOnEdit: to tell whether it should be interpolated or not when editing (default: false)\n * - interpolation.knotsRatioPercentageOnAdd: percentage of points from Segment that are likely to be considered knots during interpolation (for editing it is considered the property knotsRatioPercentageOnEdit) ( default: 40)\n * - interpolation.knotsRatioPercentageOnEdit: same as knotsRatioPercentageOnAdd but applicable only when editing the tool (default: 40)\n *\n * So, with that said the interpolation might occur when:\n * - drawing is done (i.e mouse is released) and interpolation.interpolateOnAdd is true. Interpolation algorithm uses knotsRatioPercentageOnAdd\n * - edit drawing is done (i.e mouse is released) and interpolation.interpolateOnEdit is true. Interpolation algorithm uses knotsRatioPercentageOnEdit and its only applied to changed segment\n * Interpolation does not occur when:\n * - interpolation.interpolateOnAdd is false and drawing is completed\n * - interpolation.interpolateOnEdit is false and edit is completed\n * - drawing still happening (editing or not)\n *\n * The result of interpolation will be a smoother set of segments.\n * Changing tool configuration (see below) you can fine-tune the interpolation process by changing knotsRatioPercentageOnAdd and knotsRatioPercentageOnEdit value, which smaller values produces a more agressive interpolation.\n * A smaller value of knotsRatioPercentageOnAdd/knotsRatioPercentageOnEdit produces a more agressive interpolation.\n *\n * ```js\n * cornerstoneTools.addTool(PlanarFreehandROITool)\n *\n * const toolGroup = ToolGroupManager.createToolGroup('toolGroupId')\n *\n * toolGroup.addTool(PlanarFreehandROITool.toolName)\n *\n * toolGroup.addViewport('viewportId', 'renderingEngineId')\n *\n * toolGroup.setToolActive(PlanarFreehandROITool.toolName, {\n *   bindings: [\n *    {\n *       mouseButton: MouseBindings.Primary, // Left Click\n *     },\n *   ],\n * })\n *\n * // set interpolation agressiveness while adding new annotation (ps: this does not change if interpolation is ON or OFF)\n * toolGroup.setToolConfiguration(PlanarFreehandROITool.toolName, {\n *   interpolation: { knotsRatioPercentageOnAdd: 30 },\n * });\n *\n * // set interpolation to be ON while editing only\n * toolGroup.setToolConfiguration(PlanarFreehandROITool.toolName, {\n *   interpolation: { interpolateOnAdd: false, interpolateOnEdit: true  },\n * });\n * ```\n *\n * Read more in the Docs section of the website.\n */\n\nclass PlanarFreehandROITool extends AnnotationTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  private commonData?: PlanarFreehandROICommonData;\n  isDrawing = false;\n  isEditingClosed = false;\n  isEditingOpen = false;\n\n  private activateDraw: (\n    evt: EventTypes.InteractionEventType,\n    annotation: PlanarFreehandROIAnnotation,\n    viewportIdsToRender: string[]\n  ) => void;\n  private activateClosedContourEdit: (\n    evt: EventTypes.InteractionEventType,\n    annotation: PlanarFreehandROIAnnotation,\n    viewportIdsToRender: string[]\n  ) => void;\n  private activateOpenContourEdit: (\n    evt: EventTypes.InteractionEventType,\n    annotation: PlanarFreehandROIAnnotation,\n    viewportIdsToRender: string[]\n  ) => void;\n  private activateOpenContourEndEdit: (\n    evt: EventTypes.InteractionEventType,\n    annotation: PlanarFreehandROIAnnotation,\n    viewportIdsToRender: string[],\n    handle: ToolHandle | null\n  ) => void;\n  private cancelDrawing: (element: HTMLDivElement) => void;\n  private cancelClosedContourEdit: (element: HTMLDivElement) => void;\n  private cancelOpenContourEdit: (element: HTMLDivElement) => void;\n\n  private renderContour: (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper,\n    annotation: PlanarFreehandROIAnnotation\n  ) => void;\n  private renderContourBeingDrawn: (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper,\n    annotation: PlanarFreehandROIAnnotation\n  ) => void;\n  private renderClosedContourBeingEdited: (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper,\n    annotation: PlanarFreehandROIAnnotation\n  ) => void;\n  private renderOpenContourBeingEdited: (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper,\n    annotation: PlanarFreehandROIAnnotation\n  ) => void;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        alwaysRenderOpenContourHandles: {\n          // When true, always render end points when you have an open contour, rather\n          // than just rendering a line.\n          enabled: false,\n          // When enabled, use this radius to draw the endpoints whilst not hovering.\n          radius: 2,\n        },\n        allowOpenContours: true,\n        // Proximity in canvas coordinates used to join contours.\n        closeContourProximity: 10,\n        // The proximity at which we fallback to the simplest grabbing logic for\n        // determining what index of the contour to start editing.\n        checkCanvasEditFallbackProximity: 6,\n        // The relative distance that points should be dropped along the polyline\n        // in units of the image pixel spacing. A value of 1 means that nodes must\n        // be placed no closed than the image spacing apart. A value of 4 means that 4\n        // nodes should be placed within the space of one image pixel size. A higher\n        // value gives more finese to the tool/smoother lines, but the value cannot\n        // be infinite as the lines become very computationally expensive to draw.\n        subPixelResolution: 4,\n        interpolation: {\n          interpolateOnAdd: false,\n          interpolateOnEdit: false, // used for edit only\n          knotsRatioPercentageOnAdd: 40,\n          knotsRatioPercentageOnEdit: 40,\n        },\n        calculateStats: false,\n        getTextLines: defaultGetTextLines,\n        statsCalculator: BasicStatsCalculator,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    // Register event loops and rendering logic, which are stored in different\n    // Files due to their complexity/size.\n    registerDrawLoop(this);\n    registerEditLoopCommon(this);\n    registerClosedContourEditLoop(this);\n    registerOpenContourEditLoop(this);\n    registerOpenContourEndEditLoop(this);\n    registerRenderMethods(this);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current image, creates\n   * a `PlanarFreehandROIAnnotation` and stores it in the annotationManager.\n   *\n   * @param evt - `EventTypes.NormalizedMouseEventType`\n   * @returns The `PlanarFreehandROIAnnotation` object.\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): PlanarFreehandROIAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation: PlanarFreehandROIAnnotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n        toolName: this.getToolName(),\n      },\n      data: {\n        handles: {\n          points: [], // Handle points for open contours\n          activeHandleIndex: null,\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n        },\n        polyline: [<Types.Point3>[...worldPos]], // Polyline coordinates\n        label: '',\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    this.activateDraw(evt, annotation, viewportIdsToRender);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * Begins an edit of an open contour, when the mouse has selected a handle\n   * (end) of the open contour.\n   *\n   * @param evt - `EventTypes.MouseDownEventType`\n   * @param annotation - `PlanarFreehandROIAnnotation` annotation.\n   * @param handle - The handle index, 0 for the start and 1 for the end.\n   * @param interactionType - interaction type (mouse, touch)\n   */\n  handleSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: PlanarFreehandROIAnnotation,\n    handle: ToolHandle\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.activateOpenContourEndEdit(\n      evt,\n      annotation,\n      viewportIdsToRender,\n      handle\n    );\n  };\n\n  /**\n   * Edits the open or closed contour when the line is grabbed and dragged.\n   */\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: PlanarFreehandROIAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    if (annotation.data.isOpenContour) {\n      this.activateOpenContourEdit(evt, annotation, viewportIdsToRender);\n    } else {\n      this.activateClosedContourEdit(evt, annotation, viewportIdsToRender);\n    }\n  };\n\n  /**\n   * Returns if the canvas point is near the line of the given annotation in the\n   * provided element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - The `PlanarFreehandROIAnnotation`.\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: PlanarFreehandROIAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const points = annotation.data.polyline;\n\n    // NOTE: It is implemented this way so that we do not double calculate\n    // points when number crunching adjacent line segments.\n    let previousPoint = viewport.worldToCanvas(points[0]);\n\n    for (let i = 1; i < points.length; i++) {\n      const p1 = previousPoint;\n      const p2 = viewport.worldToCanvas(points[i]);\n\n      const distance = pointCanProjectOnLine(canvasCoords, p1, p2, proximity);\n\n      if (distance === true) {\n        return true;\n      }\n\n      previousPoint = p2;\n    }\n\n    if (annotation.data.isOpenContour) {\n      // Contour is open, don't check last point to first point.\n      return false;\n    }\n\n    // check last point to first point\n    const pStart = viewport.worldToCanvas(points[0]);\n    const pEnd = viewport.worldToCanvas(points[points.length - 1]);\n\n    const distance = pointCanProjectOnLine(\n      canvasCoords,\n      pStart,\n      pEnd,\n      proximity\n    );\n\n    if (distance === true) {\n      return true;\n    }\n\n    return false;\n  };\n\n  cancel = (element: HTMLDivElement): void => {\n    const isDrawing = this.isDrawing;\n    const isEditingOpen = this.isEditingOpen;\n    const isEditingClosed = this.isEditingClosed;\n\n    if (isDrawing) {\n      this.cancelDrawing(element);\n    } else if (isEditingOpen) {\n      this.cancelOpenContourEdit(element);\n    } else if (isEditingClosed) {\n      this.cancelClosedContourEdit(element);\n    }\n  };\n\n  /**\n   * Triggers an annotation modified event.\n   */\n  triggerAnnotationModified = (\n    annotation: PlanarFreehandROIAnnotation,\n    enabledElement: Types.IEnabledElement\n  ): void => {\n    const { viewportId, renderingEngineId } = enabledElement;\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n  };\n\n  /**\n   * Triggers an annotation completed event.\n   */\n  triggerAnnotationCompleted = (\n    annotation: PlanarFreehandROIAnnotation\n  ): void => {\n    const eventType = Events.ANNOTATION_COMPLETED;\n\n    const eventDetail: AnnotationCompletedEventDetail = {\n      annotation,\n    };\n\n    triggerEvent(eventTarget, eventType, eventDetail);\n  };\n\n  /**\n   * @override We need to override this method as the tool doesn't always have\n   * `handles`, which means `filterAnnotationsForDisplay` fails inside\n   * `filterAnnotationsWithinSlice`.\n   */\n  filterInteractableAnnotationsForElement(\n    element: HTMLDivElement,\n    annotations: Annotations\n  ): Annotations | undefined {\n    if (!annotations || !annotations.length) {\n      return;\n    }\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    let annotationsToDisplay;\n\n    if (viewport instanceof StackViewport) {\n      // Use the default `filterAnnotationsForDisplay` utility, as the stack\n      // path doesn't require handles.\n      annotationsToDisplay = filterAnnotationsForDisplay(viewport, annotations);\n    } else if (viewport instanceof VolumeViewport) {\n      const camera = viewport.getCamera();\n\n      const { spacingInNormalDirection } =\n        csUtils.getTargetVolumeAndSpacingInNormalDir(viewport, camera);\n\n      // Get data with same normal and within the same slice\n      annotationsToDisplay = this.filterAnnotationsWithinSlice(\n        annotations,\n        camera,\n        spacingInNormalDirection\n      );\n    } else {\n      throw new Error(`Viewport Type ${viewport.type} not supported`);\n    }\n\n    return annotationsToDisplay;\n  }\n\n  /**\n   * Altered version of the `utilities.planar.filterAnnotationsWithinSlice`,\n   * which uses the polyline position rather than the handle. As the polyline is\n   * always present.\n   */\n  private filterAnnotationsWithinSlice(\n    annotations: Annotations,\n    camera: Types.ICamera,\n    spacingInNormalDirection: number\n  ): Annotations {\n    const { viewPlaneNormal } = camera;\n\n    const annotationsWithParallelNormals = annotations.filter(\n      (td: Annotation) => {\n        const annotationViewPlaneNormal = td.metadata.viewPlaneNormal;\n\n        const isParallel =\n          Math.abs(vec3.dot(viewPlaneNormal, annotationViewPlaneNormal)) >\n          PARALLEL_THRESHOLD;\n\n        return annotationViewPlaneNormal && isParallel;\n      }\n    );\n\n    // No in plane annotations.\n    if (!annotationsWithParallelNormals.length) {\n      return [];\n    }\n\n    // Annotation should be within the slice, which means that it should be between\n    // camera's focalPoint +/- spacingInNormalDirection.\n\n    const halfSpacingInNormalDirection = spacingInNormalDirection / 2;\n    const { focalPoint } = camera;\n\n    const annotationsWithinSlice = [];\n\n    for (const annotation of annotationsWithParallelNormals) {\n      const data = annotation.data;\n      const point = data.polyline[0];\n\n      if (!annotation.isVisible) {\n        continue;\n      }\n\n      // A = point\n      // B = focal point\n      // P = normal\n\n      // B-A dot P  => Distance in the view direction.\n      // this should be less than half the slice distance.\n\n      const dir = vec3.create();\n\n      vec3.sub(dir, focalPoint, point);\n\n      const dot = vec3.dot(dir, viewPlaneNormal);\n\n      if (Math.abs(dot) < halfSpacingInNormalDirection) {\n        annotationsWithinSlice.push(annotation);\n      }\n    }\n\n    return annotationsWithinSlice;\n  }\n\n  /**\n   * Draws the `PlanarFreehandROIAnnotation`s at each request animation frame.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport, renderingEngine } = enabledElement;\n    const { element } = viewport;\n\n    const targetId = this.getTargetId(viewport);\n\n    let annotations = <PlanarFreehandROIAnnotation[]>(\n      getAnnotations(this.getToolName(), element)\n    );\n\n    // Todo: We don't need this anymore, filtering happens in triggerAnnotationRender\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    ) as PlanarFreehandROIAnnotation[];\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const isDrawing = this.isDrawing;\n    const isEditingOpen = this.isEditingOpen;\n    const isEditingClosed = this.isEditingClosed;\n\n    if (!(isDrawing || isEditingOpen || isEditingClosed)) {\n      // No annotations are currently being modified, so we can just use the\n      // render contour method to render all of them\n      annotations.forEach((annotation) => {\n        this.renderContour(enabledElement, svgDrawingHelper, annotation);\n      });\n    } else {\n      // One of the annotations will need special rendering treatment, render all\n      // other annotations not being interacted with using the standard renderContour\n      // rendering path.\n      const activeAnnotationUID = this.commonData.annotation.annotationUID;\n\n      annotations.forEach((annotation) => {\n        if (annotation.annotationUID === activeAnnotationUID) {\n          if (isDrawing) {\n            this.renderContourBeingDrawn(\n              enabledElement,\n              svgDrawingHelper,\n              annotation\n            );\n          } else if (isEditingClosed) {\n            this.renderClosedContourBeingEdited(\n              enabledElement,\n              svgDrawingHelper,\n              annotation\n            );\n          } else if (isEditingOpen) {\n            this.renderOpenContourBeingEdited(\n              enabledElement,\n              svgDrawingHelper,\n              annotation\n            );\n          } else {\n            throw new Error(\n              `Unknown ${this.getToolName()} annotation rendering state`\n            );\n          }\n        } else {\n          this.renderContour(enabledElement, svgDrawingHelper, annotation);\n        }\n      });\n\n      // Todo: return boolean flag for each rendering route in the planar tool.\n      renderStatus = true;\n    }\n\n    if (!this.configuration.calculateStats) {\n      return;\n    }\n\n    annotations.forEach((annotation) => {\n      const activeAnnotationUID = this.commonData?.annotation.annotationUID;\n      if (\n        annotation.annotationUID === activeAnnotationUID &&\n        !this.commonData?.movingTextBox\n      ) {\n        return;\n      }\n\n      if (!this.commonData?.movingTextBox) {\n        const { data } = annotation;\n        if (\n          !data.cachedStats[targetId] ||\n          data.cachedStats[targetId].areaUnit == null\n        ) {\n          data.cachedStats[targetId] = {\n            Modality: null,\n            area: null,\n            max: null,\n            mean: null,\n            stdDev: null,\n            areaUnit: null,\n          };\n\n          this._calculateCachedStats(\n            annotation,\n            viewport,\n            renderingEngine,\n            enabledElement\n          );\n        } else if (annotation.invalidated) {\n          this._throttledCalculateCachedStats(\n            annotation,\n            viewport,\n            renderingEngine,\n            enabledElement\n          );\n        }\n      }\n\n      this._renderStats(annotation, viewport, enabledElement, svgDrawingHelper);\n    });\n\n    return renderStatus;\n  };\n\n  _calculateCachedStats = (\n    annotation,\n    viewport,\n    renderingEngine,\n    enabledElement\n  ) => {\n    const data = annotation.data;\n    const { cachedStats, polyline: points } = data;\n\n    const targetIds = Object.keys(cachedStats);\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n      const image = this.getTargetIdImage(targetId, renderingEngine);\n\n      // If image does not exists for the targetId, skip. This can be due\n      // to various reasons such as if the target was a volumeViewport, and\n      // the volumeViewport has been decached in the meantime.\n      if (!image) {\n        continue;\n      }\n\n      const { imageData, metadata } = image;\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      // Using an arbitrary start point (canvasPoint), calculate the\n      // mm spacing for the canvas in the X and Y directions.\n      const canvasPoint = canvasCoordinates[0];\n      const originalWorldPoint = viewport.canvasToWorld(canvasPoint);\n      const deltaXPoint = viewport.canvasToWorld([\n        canvasPoint[0] + 1,\n        canvasPoint[1],\n      ]);\n      const deltaYPoint = viewport.canvasToWorld([\n        canvasPoint[0],\n        canvasPoint[1] + 1,\n      ]);\n\n      const deltaInX = vec3.distance(originalWorldPoint, deltaXPoint);\n      const deltaInY = vec3.distance(originalWorldPoint, deltaYPoint);\n\n      const scale = getCalibratedScale(image);\n      let area =\n        polyline.calculateAreaOfPoints(canvasCoordinates) / scale / scale;\n      // Convert from canvas_pixels ^2 to mm^2\n      area *= deltaInX * deltaInY;\n\n      const worldPosIndex = csUtils.transformWorldToIndex(imageData, points[0]);\n      worldPosIndex[0] = Math.floor(worldPosIndex[0]);\n      worldPosIndex[1] = Math.floor(worldPosIndex[1]);\n      worldPosIndex[2] = Math.floor(worldPosIndex[2]);\n\n      let iMin = worldPosIndex[0];\n      let iMax = worldPosIndex[0];\n\n      let jMin = worldPosIndex[1];\n      let jMax = worldPosIndex[1];\n\n      let kMin = worldPosIndex[2];\n      let kMax = worldPosIndex[2];\n\n      for (let j = 1; j < points.length; j++) {\n        const worldPosIndex = csUtils.transformWorldToIndex(\n          imageData,\n          points[j]\n        );\n        worldPosIndex[0] = Math.floor(worldPosIndex[0]);\n        worldPosIndex[1] = Math.floor(worldPosIndex[1]);\n        worldPosIndex[2] = Math.floor(worldPosIndex[2]);\n        iMin = Math.min(iMin, worldPosIndex[0]);\n        iMax = Math.max(iMax, worldPosIndex[0]);\n\n        jMin = Math.min(jMin, worldPosIndex[1]);\n        jMax = Math.max(jMax, worldPosIndex[1]);\n\n        kMin = Math.min(kMin, worldPosIndex[2]);\n        kMax = Math.max(kMax, worldPosIndex[2]);\n      }\n\n      // Expand bounding box\n      const iDelta = 0.01 * (iMax - iMin);\n      const jDelta = 0.01 * (jMax - jMin);\n      const kDelta = 0.01 * (kMax - kMin);\n\n      iMin = Math.floor(iMin - iDelta);\n      iMax = Math.ceil(iMax + iDelta);\n      jMin = Math.floor(jMin - jDelta);\n      jMax = Math.ceil(jMax + jDelta);\n      kMin = Math.floor(kMin - kDelta);\n      kMax = Math.ceil(kMax + kDelta);\n\n      const boundsIJK = [\n        [iMin, iMax],\n        [jMin, jMax],\n        [kMin, kMax],\n      ] as [Types.Point2, Types.Point2, Types.Point2];\n\n      const worldPosEnd = imageData.indexToWorld([iMax, jMax, kMax]);\n      const canvasPosEnd = viewport.worldToCanvas(worldPosEnd);\n\n      let curRow = 0;\n      let intersections = [];\n      let intersectionCounter = 0;\n      const pointsInShape = pointInShapeCallback(\n        imageData,\n        (pointLPS, pointIJK) => {\n          let result = true;\n          const point = viewport.worldToCanvas(pointLPS);\n          if (point[1] != curRow) {\n            intersectionCounter = 0;\n            curRow = point[1];\n            intersections = getIntersectionCoordinatesWithPolyline(\n              canvasCoordinates,\n              point,\n              [canvasPosEnd[0], point[1]]\n            );\n            intersections.sort(\n              (function (index) {\n                return function (a, b) {\n                  return a[index] === b[index]\n                    ? 0\n                    : a[index] < b[index]\n                    ? -1\n                    : 1;\n                };\n              })(0)\n            );\n          }\n          if (intersections.length && point[0] > intersections[0][0]) {\n            intersections.shift();\n            intersectionCounter++;\n          }\n          if (intersectionCounter % 2 === 0) {\n            result = false;\n          }\n          return result;\n        },\n        this.configuration.statsCalculator.statsCallback,\n        boundsIJK\n      );\n\n      const modalityUnitOptions = {\n        isPreScaled: isViewportPreScaled(viewport, targetId),\n        isSuvScaled: this.isSuvScaled(\n          viewport,\n          targetId,\n          annotation.metadata.referencedImageId\n        ),\n      };\n\n      const modalityUnit = getModalityUnit(\n        metadata.Modality,\n        annotation.metadata.referencedImageId,\n        modalityUnitOptions\n      );\n\n      const stats = this.configuration.statsCalculator.getStatistics();\n\n      cachedStats[targetId] = {\n        Modality: metadata.Modality,\n        area,\n        mean: stats[1]?.value,\n        max: stats[0]?.value,\n        stdDev: stats[3]?.value,\n        statsArray: stats,\n        pointsInShape: pointsInShape,\n        areaUnit: getCalibratedAreaUnits(null, image),\n        modalityUnit,\n      };\n    }\n\n    this.triggerAnnotationModified(annotation, enabledElement);\n\n    annotation.invalidated = false;\n\n    return cachedStats;\n  };\n\n  _renderStats = (annotation, viewport, enabledElement, svgDrawingHelper) => {\n    const data = annotation.data;\n    const targetId = this.getTargetId(viewport);\n\n    const styleSpecifier: AnnotationStyle.StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n    if (!options.visibility) {\n      return;\n    }\n\n    const textLines = this.configuration.getTextLines(data, targetId);\n    if (!textLines || textLines.length === 0) {\n      return;\n    }\n\n    const canvasCoordinates = data.polyline.map((p) =>\n      viewport.worldToCanvas(p)\n    );\n    if (!data.handles.textBox.hasMoved) {\n      const canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCoordinates);\n\n      data.handles.textBox.worldPosition =\n        viewport.canvasToWorld(canvasTextBoxCoords);\n    }\n\n    const textBoxPosition = viewport.worldToCanvas(\n      data.handles.textBox.worldPosition\n    );\n\n    const textBoxUID = '1';\n    const boundingBox = drawLinkedTextBox(\n      svgDrawingHelper,\n      annotation.annotationUID ?? '',\n      textBoxUID,\n      textLines,\n      textBoxPosition,\n      canvasCoordinates,\n      {},\n      options\n    );\n\n    const { x: left, y: top, width, height } = boundingBox;\n\n    data.handles.textBox.worldBoundingBox = {\n      topLeft: viewport.canvasToWorld([left, top]),\n      topRight: viewport.canvasToWorld([left + width, top]),\n      bottomLeft: viewport.canvasToWorld([left, top + height]),\n      bottomRight: viewport.canvasToWorld([left + width, top + height]),\n    };\n  };\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { area, mean, stdDev, max, isEmptyArea, areaUnit, modalityUnit } =\n    cachedVolumeStats;\n\n  const textLines: string[] = [];\n\n  if (area) {\n    const areaLine = isEmptyArea\n      ? `Area: Oblique not supported`\n      : `Area: ${roundNumber(area)} ${areaUnit}`;\n    textLines.push(areaLine);\n  }\n\n  if (mean) {\n    textLines.push(`Mean: ${roundNumber(mean)} ${modalityUnit}`);\n  }\n\n  if (max) {\n    textLines.push(`Max: ${roundNumber(max)} ${modalityUnit}`);\n  }\n\n  if (stdDev) {\n    textLines.push(`Std Dev: ${roundNumber(stdDev)} ${modalityUnit}`);\n  }\n\n  return textLines;\n}\n\nPlanarFreehandROITool.toolName = 'PlanarFreehandROI';\nexport default PlanarFreehandROITool;\n","import { Events } from '../../enums';\nimport {\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { AnnotationTool } from '../base';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport * as lineSegment from '../../utilities/math/line';\n\nimport {\n  drawHandles as drawHandlesSvg,\n  drawArrow as drawArrowSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\n\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  InteractionTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { ArrowAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\nclass ArrowAnnotateTool extends AnnotationTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        getTextCallback,\n        changeTextCallback,\n        preventHandleOutsideImage: false,\n        arrowFirst: true,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a Length Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): ArrowAnnotation => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    hideElementCursor(element);\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const { arrowFirst } = this.configuration;\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        text: '',\n        handles: {\n          points: [<Types.Point3>[...worldPos], <Types.Point3>[...worldPos]],\n          activeHandleIndex: null,\n          arrowFirst,\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n        },\n        label: '',\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 1,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided length annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: ArrowAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { data } = annotation;\n    const [point1, point2] = data.handles.points;\n    const canvasPoint1 = viewport.worldToCanvas(point1);\n    const canvasPoint2 = viewport.worldToCanvas(point2);\n\n    const line = {\n      start: {\n        x: canvasPoint1[0],\n        y: canvasPoint1[1],\n      },\n      end: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n    };\n\n    const distanceToPoint = lineSegment.distanceToPoint(\n      [line.start.x, line.start.y],\n      [line.end.x, line.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint <= proximity) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: ArrowAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback(\n    evt: EventTypes.InteractionEventType,\n    annotation: ArrowAnnotation,\n    handle: ToolHandle\n  ): void {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      handleIndex = data.handles.points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  }\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      // when user starts the drawing by click, and moving the mouse, instead\n      // of click and drag\n      return;\n    }\n\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { viewportId, renderingEngineId, renderingEngine } = enabledElement;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    if (newAnnotation) {\n      this.configuration.getTextCallback((text) => {\n        if (!text) {\n          removeAnnotation(annotation.annotationUID);\n          triggerAnnotationRenderForViewportIds(\n            renderingEngine,\n            viewportIdsToRender\n          );\n          this.editData = null;\n          this.isDrawing = false;\n          return;\n        }\n        annotation.data.text = text;\n\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n\n        triggerAnnotationRenderForViewportIds(\n          renderingEngine,\n          viewportIdsToRender\n        );\n      });\n    } else {\n      const eventType = Events.ANNOTATION_MODIFIED;\n\n      const eventDetail: AnnotationModifiedEventDetail = {\n        annotation,\n        viewportId,\n        renderingEngineId,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n\n    this.editData = null;\n    this.isDrawing = false;\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      // Drag mode - moving text box\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Drag mode - moving handle\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      // Move mode - after double click, and mouse move to draw\n      const { currentPoints } = eventDetail;\n      const worldPos = currentPoints.world;\n\n      data.handles.points[handleIndex] = [...worldPos];\n      annotation.invalidated = true;\n    }\n\n    this.editData.hasMoved = true;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  touchTapCallback = (evt: EventTypes.TouchTapEventType) => {\n    if (evt.detail.taps == 2) {\n      this.doubleClickCallback(evt);\n    }\n  };\n\n  doubleClickCallback = (evt: EventTypes.TouchTapEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return;\n    }\n\n    const clickedAnnotation = annotations.find((annotation) =>\n      this.isPointNearTool(\n        element,\n        annotation as ArrowAnnotation,\n        eventDetail.currentPoints.canvas,\n        6 // Todo: get from configuration\n      )\n    );\n\n    if (!clickedAnnotation) {\n      return;\n    }\n\n    const annotation = clickedAnnotation as ArrowAnnotation;\n\n    this.configuration.changeTextCallback(\n      clickedAnnotation,\n      evt.detail,\n      this._doneChangingTextCallback.bind(this, element, annotation)\n    );\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    // This double click was handled and the dialogue was displayed.\n    // No need for any other listener to handle it too - stopImmediatePropagation\n    // helps ensure this primarily so that no other listeners on the target element\n    // get called.\n    evt.stopImmediatePropagation();\n    evt.preventDefault();\n  };\n\n  _doneChangingTextCallback(element, annotation, updatedText): void {\n    annotation.data.text = updatedText;\n\n    const { renderingEngine, viewportId, renderingEngineId } =\n      getEnabledElement(element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    triggerEvent(eventTarget, eventType, {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    });\n  }\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  _deactivateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n  };\n\n  _activateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_MOVE,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  _deactivateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_MOVE,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  /**\n   * it is used to draw the length annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    // Todo: We don't need this anymore, filtering happens in triggerAnnotationRender\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    // Draw SVG\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as ArrowAnnotation;\n      const { annotationUID, data } = annotation;\n      const { handles, text } = data;\n      const { points, activeHandleIndex } = handles;\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      let activeHandleCanvasCoords;\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          canvasCoordinates,\n          {\n            color,\n            lineWidth,\n          }\n        );\n      }\n\n      const arrowUID = '1';\n      if (this.configuration.arrowFirst) {\n        drawArrowSvg(\n          svgDrawingHelper,\n          annotationUID,\n          arrowUID,\n          canvasCoordinates[1],\n          canvasCoordinates[0],\n          {\n            color,\n            width: lineWidth,\n            lineDash: lineDash,\n          }\n        );\n      } else {\n        drawArrowSvg(\n          svgDrawingHelper,\n          annotationUID,\n          arrowUID,\n          canvasCoordinates[0],\n          canvasCoordinates[1],\n          {\n            color,\n            width: lineWidth,\n            lineDash: lineDash,\n          }\n        );\n      }\n\n      renderStatus = true;\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      if (!text) {\n        continue;\n      }\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      // Need to update to sync w/ annotation while unlinked/not moved\n      if (!data.handles.textBox.hasMoved) {\n        // linked to the point that doesn't have the arrowhead by default\n        const canvasTextBoxCoords = canvasCoordinates[1];\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        [text],\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _isInsideVolume(index1, index2, dimensions) {\n    return (\n      csUtils.indexWithinDimensions(index1, dimensions) &&\n      csUtils.indexWithinDimensions(index2, dimensions)\n    );\n  }\n}\n\nfunction getTextCallback(doneChangingTextCallback) {\n  return doneChangingTextCallback(prompt('Enter your annotation:'));\n}\n\nfunction changeTextCallback(data, eventData, doneChangingTextCallback) {\n  return doneChangingTextCallback(prompt('Enter your annotation:'));\n}\n\nArrowAnnotateTool.toolName = 'ArrowAnnotate';\nexport default ArrowAnnotateTool;\n","import { Events } from '../../enums';\nimport {\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { AnnotationTool } from '../base';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport * as lineSegment from '../../utilities/math/line';\nimport angleBetweenLines from '../../utilities/math/angle/angleBetweenLines';\nimport roundNumber from '../../utilities/roundNumber';\n\nimport {\n  drawHandles as drawHandlesSvg,\n  drawLine as drawLineSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\n\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  InteractionTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { AngleAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\nclass AngleTool extends AnnotationTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  angleStartedNotYetCompleted: boolean;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a Length Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.InteractionEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.InteractionEventType\n  ): AngleAnnotation => {\n    if (this.angleStartedNotYetCompleted) {\n      return;\n    }\n\n    this.angleStartedNotYetCompleted = true;\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    hideElementCursor(element);\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        handles: {\n          points: [<Types.Point3>[...worldPos], <Types.Point3>[...worldPos]],\n          activeHandleIndex: null,\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n        },\n        label: '',\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 1,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided length annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: AngleAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { data } = annotation;\n    const [point1, point2, point3] = data.handles.points;\n    const canvasPoint1 = viewport.worldToCanvas(point1);\n    const canvasPoint2 = viewport.worldToCanvas(point2);\n\n    const line1 = {\n      start: {\n        x: canvasPoint1[0],\n        y: canvasPoint1[1],\n      },\n      end: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n    };\n\n    const distanceToPoint = lineSegment.distanceToPoint(\n      [line1.start.x, line1.start.y],\n      [line1.end.x, line1.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint <= proximity) {\n      return true;\n    }\n    if (!point3) {\n      return false;\n    }\n\n    const canvasPoint3 = viewport.worldToCanvas(point3);\n\n    const line2 = {\n      start: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n      end: {\n        x: canvasPoint3[0],\n        y: canvasPoint3[1],\n      },\n    };\n\n    const distanceToPoint2 = lineSegment.distanceToPoint(\n      [line2.start.x, line2.start.y],\n      [line2.end.x, line2.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint2 <= proximity) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.InteractionEventType,\n    annotation: AngleAnnotation\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback(\n    evt: EventTypes.InteractionEventType,\n    annotation: AngleAnnotation,\n    handle: ToolHandle\n  ): void {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      handleIndex = data.handles.points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  }\n\n  _endCallback = (evt: EventTypes.InteractionEventType): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n\n    const { data } = annotation;\n    if (newAnnotation && !hasMoved) {\n      // when user starts the drawing by click, and moving the mouse, instead\n      // of click and drag\n      return;\n    }\n\n    // If preventing new measurement means we are in the middle of an existing measurement\n    // we shouldn't deactivate modify or draw\n    if (this.angleStartedNotYetCompleted && data.handles.points.length === 2) {\n      // adds the last point to the measurement\n      this.editData.handleIndex = 2;\n      return;\n    }\n\n    this.angleStartedNotYetCompleted = false;\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n\n    this.editData = null;\n    this.isDrawing = false;\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType): void => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      // Drag mode - moving text box\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Drag mode - moving handle\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      // Move mode - after double click, and mouse move to draw\n      const { currentPoints } = eventDetail;\n      const worldPos = currentPoints.world;\n\n      data.handles.points[handleIndex] = [...worldPos];\n      annotation.invalidated = true;\n    }\n\n    this.editData.hasMoved = true;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      this.angleStartedNotYetCompleted = false;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  _deactivateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  _activateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_MOVE,\n      this._dragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.addEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.addEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  _deactivateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_MOVE,\n      this._dragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._endCallback as EventListener\n    );\n\n    element.removeEventListener(\n      Events.TOUCH_TAP,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_END,\n      this._endCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.TOUCH_DRAG,\n      this._dragCallback as EventListener\n    );\n  };\n\n  /**\n   * it is used to draw the length annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    // Todo: We don't need this anymore, filtering happens in triggerAnnotationRender\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    // Draw SVG\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as AngleAnnotation;\n      const { annotationUID, data } = annotation;\n      const { points, activeHandleIndex } = data.handles;\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      // WE HAVE TO CACHE STATS BEFORE FETCHING TEXT\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].angle == null\n      ) {\n        data.cachedStats[targetId] = {\n          angle: null,\n        };\n\n        this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          renderingEngine,\n          enabledElement\n        );\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          canvasCoordinates,\n          {\n            color,\n            lineDash,\n            lineWidth,\n          }\n        );\n      }\n\n      let lineUID = '1';\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[0],\n        canvasCoordinates[1],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n        }\n      );\n\n      renderStatus = true;\n\n      // Don't add textBox until annotation has 3 anchor points (actually 4 because of the center point)\n      if (canvasCoordinates.length !== 3) {\n        return renderStatus;\n      }\n\n      lineUID = '2';\n\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[1],\n        canvasCoordinates[2],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n        }\n      );\n\n      if (!data.cachedStats[targetId]?.angle) {\n        continue;\n      }\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n\n      if (!data.handles.textBox.hasMoved) {\n        // linked to the vertex by default\n        const canvasTextBoxCoords = canvasCoordinates[1];\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _calculateCachedStats(annotation, renderingEngine, enabledElement) {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId } = enabledElement;\n\n    // Until we have all three anchors bail out\n    if (data.handles.points.length !== 3) {\n      return;\n    }\n\n    const worldPos1 = data.handles.points[0];\n    const worldPos2 = data.handles.points[1];\n    const worldPos3 = data.handles.points[2];\n\n    const { cachedStats } = data;\n    const targetIds = Object.keys(cachedStats);\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n      const angle = angleBetweenLines(\n        [worldPos1, worldPos2],\n        [worldPos2, worldPos3]\n      );\n\n      cachedStats[targetId] = {\n        angle: isNaN(angle) ? 'Incomplete Angle' : angle,\n      };\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  }\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { angle } = cachedVolumeStats;\n\n  if (angle === undefined) {\n    return;\n  }\n\n  const textLines = [`${roundNumber(angle)} ${String.fromCharCode(176)}`];\n\n  return textLines;\n}\n\nAngleTool.toolName = 'Angle';\nexport default AngleTool;\n","import { Types } from '@cornerstonejs/core';\n\n/**\n * Return the midpoint (think average) of all the provided points.\n */\nconst midPoint = (\n  ...args: (Types.Point2 | Types.Point3)[]\n): Types.Point2 | Types.Point3 => {\n  const ret =\n    args[0].length === 2 ? <Types.Point2>[0, 0] : <Types.Point3>[0, 0, 0];\n  const len = args.length;\n  for (const arg of args) {\n    ret[0] += arg[0] / len;\n    ret[1] += arg[1] / len;\n    if (ret.length === 3) {\n      ret[2] += arg[2] / len;\n    }\n  }\n  return ret;\n};\n\nconst midPoint2 = midPoint as (...args: Types.Point2[]) => Types.Point2;\n\nexport default midPoint;\n\nexport { midPoint2 };\n","import { vec3 } from 'gl-matrix';\nimport { Events } from '../../enums';\nimport {\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { AnnotationTool } from '../base';\nimport throttle from '../../utilities/throttle';\nimport {\n  addAnnotation,\n  getAnnotations,\n  removeAnnotation,\n} from '../../stateManagement/annotation/annotationState';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport * as lineSegment from '../../utilities/math/line';\nimport angleBetweenLines from '../../utilities/math/angle/angleBetweenLines';\nimport { midPoint2 } from '../../utilities/math/midPoint';\n\nimport {\n  drawHandles as drawHandlesSvg,\n  drawLine as drawLineSvg,\n  drawLinkedTextBox as drawLinkedTextBoxSvg,\n} from '../../drawingSvg';\nimport { state } from '../../store';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { getTextBoxCoordsCanvas } from '../../utilities/drawing';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  AnnotationCompletedEventDetail,\n  AnnotationModifiedEventDetail,\n} from '../../types/EventTypes';\n\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport {\n  EventTypes,\n  ToolHandle,\n  TextBoxHandle,\n  PublicToolProps,\n  ToolProps,\n  InteractionTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { AngleAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\nclass CobbAngleTool extends AnnotationTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  angleStartedNotYetCompleted: boolean;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox?: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        getTextLines: defaultGetTextLines,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStats,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the current imageId to create\n   * a Length Annotation and stores it in the annotationManager\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (\n    evt: EventTypes.MouseDownActivateEventType\n  ): AngleAnnotation => {\n    if (this.angleStartedNotYetCompleted) {\n      return;\n    }\n\n    this.angleStartedNotYetCompleted = true;\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    hideElementCursor(element);\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        handles: {\n          points: [<Types.Point3>[...worldPos], <Types.Point3>[...worldPos]],\n          activeHandleIndex: null,\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n        },\n        label: '',\n        cachedStats: {},\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 1,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * It returns if the canvas point is near the provided length annotation in the provided\n   * element or not. A proximity is passed to the function to determine the\n   * proximity of the point to the annotation in number of pixels.\n   *\n   * @param element - HTML Element\n   * @param annotation - Annotation\n   * @param canvasCoords - Canvas coordinates\n   * @param proximity - Proximity to tool to consider\n   * @returns Boolean, whether the canvas point is near tool\n   */\n  isPointNearTool = (\n    element: HTMLDivElement,\n    annotation: AngleAnnotation,\n    canvasCoords: Types.Point2,\n    proximity: number\n  ): boolean => {\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n    const { data } = annotation;\n    const [point1, point2, point3, point4] = data.handles.points;\n    const canvasPoint1 = viewport.worldToCanvas(point1);\n    const canvasPoint2 = viewport.worldToCanvas(point2);\n    const canvasPoint3 = viewport.worldToCanvas(point3);\n    const canvasPoint4 = viewport.worldToCanvas(point4);\n\n    const line1 = {\n      start: {\n        x: canvasPoint1[0],\n        y: canvasPoint1[1],\n      },\n      end: {\n        x: canvasPoint2[0],\n        y: canvasPoint2[1],\n      },\n    };\n\n    const line2 = {\n      start: {\n        x: canvasPoint3[0],\n        y: canvasPoint3[1],\n      },\n      end: {\n        x: canvasPoint4[0],\n        y: canvasPoint4[1],\n      },\n    };\n\n    const distanceToPoint = lineSegment.distanceToPoint(\n      [line1.start.x, line1.start.y],\n      [line1.end.x, line1.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    const distanceToPoint2 = lineSegment.distanceToPoint(\n      [line2.start.x, line2.start.y],\n      [line2.end.x, line2.end.y],\n      [canvasCoords[0], canvasCoords[1]]\n    );\n\n    if (distanceToPoint <= proximity || distanceToPoint2 <= proximity) {\n      return true;\n    }\n\n    return false;\n  };\n\n  toolSelectedCallback = (\n    evt: EventTypes.MouseDownEventType,\n    annotation: AngleAnnotation,\n    interactionType: InteractionTypes\n  ): void => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    annotation.highlighted = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      movingTextBox: false,\n    };\n\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  };\n\n  handleSelectedCallback(\n    evt: EventTypes.MouseDownEventType,\n    annotation: AngleAnnotation,\n    handle: ToolHandle,\n    interactionType = 'mouse'\n  ): void {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { data } = annotation;\n\n    annotation.highlighted = true;\n\n    let movingTextBox = false;\n    let handleIndex;\n\n    if ((handle as TextBoxHandle).worldPosition) {\n      movingTextBox = true;\n    } else {\n      handleIndex = data.handles.points.findIndex((p) => p === handle);\n    }\n\n    // Find viewports to render on drag.\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex,\n      movingTextBox,\n    };\n    this._activateModify(element);\n\n    hideElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    evt.preventDefault();\n  }\n\n  _mouseUpCallback = (\n    evt: EventTypes.MouseUpEventType | EventTypes.MouseClickEventType\n  ) => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, newAnnotation, hasMoved } =\n      this.editData;\n\n    const { data } = annotation;\n    if (newAnnotation && !hasMoved) {\n      // when user starts the drawing by click, and moving the mouse, instead\n      // of click and drag\n      return;\n    }\n\n    // If preventing new measurement means we are in the middle of an existing measurement\n    // we shouldn't deactivate modify or draw\n    if (this.angleStartedNotYetCompleted && data.handles.points.length < 4) {\n      resetElementCursor(element);\n\n      // adds the first point of the second line\n      this.editData.handleIndex = data.handles.points.length;\n      return;\n    }\n\n    this.angleStartedNotYetCompleted = false;\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateModify(element);\n    this._deactivateDraw(element);\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    if (\n      this.isHandleOutsideImage &&\n      this.configuration.preventHandleOutsideImage\n    ) {\n      removeAnnotation(annotation.annotationUID);\n    }\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    if (newAnnotation) {\n      const eventType = Events.ANNOTATION_COMPLETED;\n\n      const eventDetail: AnnotationCompletedEventDetail = {\n        annotation,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n    }\n\n    this.editData = null;\n    this.isDrawing = false;\n  };\n\n  /**\n   * Handles the mouse down for all points that follow the very first mouse down.\n   * The very first mouse down is handled by addAnnotation.\n   * This method ensures that the state of the tool is correct for the drawing of the second line segment.\n   * In particular it ensures that the second segment can be created via a mouse down and drag.\n   */\n  _mouseDownCallback = (\n    evt: EventTypes.MouseUpEventType | EventTypes.MouseClickEventType\n  ) => {\n    const { annotation, handleIndex } = this.editData;\n    const eventDetail = evt.detail;\n    const { element, currentPoints } = eventDetail;\n    const worldPos = currentPoints.world;\n    const { data } = annotation;\n\n    if (handleIndex === 1) {\n      // This is the mouse down for the second point of the first segment.\n      // The mouse up takes care of adding the first point of the second segment.\n      data.handles.points[1] = worldPos;\n      this.editData.hasMoved =\n        data.handles.points[1][0] !== data.handles.points[0][0] ||\n        data.handles.points[1][1] !== data.handles.points[0][0];\n      return;\n    }\n\n    if (handleIndex === 3) {\n      // This is the mouse down for the second point of the second segment (i.e. the last point)\n      data.handles.points[3] = worldPos;\n      this.editData.hasMoved =\n        data.handles.points[3][0] !== data.handles.points[2][0] ||\n        data.handles.points[3][1] !== data.handles.points[2][0];\n\n      this.angleStartedNotYetCompleted = false;\n      return;\n    }\n\n    // This is the first mouse down of the first point of the second line segment.\n    // It is as if we have not moved yet because Cobb Angle has two, disjoint sections, each with its own move.\n    this.editData.hasMoved = false;\n    hideElementCursor(element);\n\n    // Add the last segment points for the subsequent drag/mouse move.\n    data.handles.points[2] = data.handles.points[3] = worldPos;\n    this.editData.handleIndex = data.handles.points.length - 1;\n  };\n\n  _mouseDragCallback = (\n    evt: EventTypes.MouseDragEventType | EventTypes.MouseMoveEventType\n  ) => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex, movingTextBox } =\n      this.editData;\n    const { data } = annotation;\n\n    if (movingTextBox) {\n      // Drag mode - moving text box\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const { textBox } = data.handles;\n      const { worldPosition } = textBox;\n\n      worldPosition[0] += worldPosDelta[0];\n      worldPosition[1] += worldPosDelta[1];\n      worldPosition[2] += worldPosDelta[2];\n\n      textBox.hasMoved = true;\n    } else if (handleIndex === undefined) {\n      // Drag mode - moving handle\n      const { deltaPoints } = eventDetail as EventTypes.MouseDragEventDetail;\n      const worldPosDelta = deltaPoints.world;\n\n      const points = data.handles.points;\n\n      points.forEach((point) => {\n        point[0] += worldPosDelta[0];\n        point[1] += worldPosDelta[1];\n        point[2] += worldPosDelta[2];\n      });\n      annotation.invalidated = true;\n    } else {\n      // Move mode - after double click, and mouse move to draw\n      const { currentPoints } = eventDetail;\n      const worldPos = currentPoints.world;\n\n      data.handles.points[handleIndex] = [...worldPos];\n      annotation.invalidated = true;\n    }\n\n    this.editData.hasMoved = true;\n\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  cancel = (element: HTMLDivElement) => {\n    // If it is mid-draw or mid-modify\n    if (this.isDrawing) {\n      this.isDrawing = false;\n      this._deactivateDraw(element);\n      this._deactivateModify(element);\n      resetElementCursor(element);\n\n      const { annotation, viewportIdsToRender, newAnnotation } = this.editData;\n      const { data } = annotation;\n\n      annotation.highlighted = false;\n      data.handles.activeHandleIndex = null;\n\n      const enabledElement = getEnabledElement(element);\n      const { renderingEngine } = enabledElement;\n\n      triggerAnnotationRenderForViewportIds(\n        renderingEngine,\n        viewportIdsToRender\n      );\n\n      if (newAnnotation) {\n        const eventType = Events.ANNOTATION_COMPLETED;\n\n        const eventDetail: AnnotationCompletedEventDetail = {\n          annotation,\n        };\n\n        triggerEvent(eventTarget, eventType, eventDetail);\n      }\n\n      this.editData = null;\n      this.angleStartedNotYetCompleted = false;\n      return annotation.annotationUID;\n    }\n  };\n\n  _activateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._mouseUpCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._mouseDragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._mouseUpCallback as EventListener\n    );\n\n    // element.addEventListener(Events.TOUCH_END, this._mouseUpCallback)\n    // element.addEventListener(Events.TOUCH_DRAG, this._mouseDragCallback)\n  };\n\n  _deactivateModify = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._mouseUpCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._mouseDragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._mouseUpCallback as EventListener\n    );\n\n    // element.removeEventListener(Events.TOUCH_END, this._mouseUpCallback)\n    // element.removeEventListener(Events.TOUCH_DRAG, this._mouseDragCallback)\n  };\n\n  _activateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = true;\n\n    element.addEventListener(\n      Events.MOUSE_UP,\n      this._mouseUpCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DRAG,\n      this._mouseDragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_MOVE,\n      this._mouseDragCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_CLICK,\n      this._mouseUpCallback as EventListener\n    );\n    element.addEventListener(\n      Events.MOUSE_DOWN,\n      this._mouseDownCallback as EventListener\n    );\n\n    // element.addEventListener(Events.TOUCH_END, this._mouseUpCallback)\n    // element.addEventListener(Events.TOUCH_DRAG, this._mouseDragCallback)\n  };\n\n  _deactivateDraw = (element: HTMLDivElement) => {\n    state.isInteractingWithTool = false;\n\n    element.removeEventListener(\n      Events.MOUSE_UP,\n      this._mouseUpCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DRAG,\n      this._mouseDragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_MOVE,\n      this._mouseDragCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_CLICK,\n      this._mouseUpCallback as EventListener\n    );\n    element.removeEventListener(\n      Events.MOUSE_DOWN,\n      this._mouseDownCallback as EventListener\n    );\n\n    // element.removeEventListener(Events.TOUCH_END, this._mouseUpCallback)\n    // element.removeEventListener(Events.TOUCH_DRAG, this._mouseDragCallback)\n  };\n\n  /**\n   * it is used to draw the length annotation in each\n   * request animation frame. It calculates the updated cached statistics if\n   * data is invalidated and cache it.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n\n    const { viewport } = enabledElement;\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    // Todo: We don't need this anymore, filtering happens in triggerAnnotationRender\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const targetId = this.getTargetId(viewport);\n    const renderingEngine = viewport.getRenderingEngine();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    // Draw SVG\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as AngleAnnotation;\n      const { annotationUID, data } = annotation;\n      const { points, activeHandleIndex } = data.handles;\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      // WE HAVE TO CACHE STATS BEFORE FETCHING TEXT\n      if (\n        !data.cachedStats[targetId] ||\n        data.cachedStats[targetId].angle == null\n      ) {\n        data.cachedStats[targetId] = {\n          angle: null,\n        };\n\n        this._calculateCachedStats(annotation, renderingEngine, enabledElement);\n      } else if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(\n          annotation,\n          renderingEngine,\n          enabledElement\n        );\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          canvasCoordinates,\n          {\n            color,\n            lineDash,\n            lineWidth,\n          }\n        );\n      }\n\n      let lineUID = '1';\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[0],\n        canvasCoordinates[1],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n        }\n      );\n\n      renderStatus = true;\n\n      // Don't add textBox until annotation has 4 anchor points\n      if (canvasCoordinates.length < 4) {\n        return renderStatus;\n      }\n\n      lineUID = '2';\n\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        lineUID,\n        canvasCoordinates[2],\n        canvasCoordinates[3],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n        }\n      );\n\n      lineUID = '3';\n      const mid1 = midPoint2(canvasCoordinates[0], canvasCoordinates[1]);\n      const mid2 = midPoint2(canvasCoordinates[2], canvasCoordinates[3]);\n      drawLineSvg(svgDrawingHelper, annotationUID, lineUID, mid1, mid2, {\n        color,\n        lineWidth: '1',\n        lineDash: '1,4',\n      });\n\n      if (!data.cachedStats[targetId]?.angle) {\n        continue;\n      }\n\n      const options = this.getLinkedTextBoxStyle(styleSpecifier, annotation);\n      if (!options.visibility) {\n        data.handles.textBox = {\n          hasMoved: false,\n          worldPosition: <Types.Point3>[0, 0, 0],\n          worldBoundingBox: {\n            topLeft: <Types.Point3>[0, 0, 0],\n            topRight: <Types.Point3>[0, 0, 0],\n            bottomLeft: <Types.Point3>[0, 0, 0],\n            bottomRight: <Types.Point3>[0, 0, 0],\n          },\n        };\n        continue;\n      }\n\n      const textLines = this.configuration.getTextLines(data, targetId);\n\n      if (!data.handles.textBox.hasMoved) {\n        const canvasTextBoxCoords = getTextBoxCoordsCanvas(canvasCoordinates);\n\n        data.handles.textBox.worldPosition =\n          viewport.canvasToWorld(canvasTextBoxCoords);\n      }\n\n      const textBoxPosition = viewport.worldToCanvas(\n        data.handles.textBox.worldPosition\n      );\n\n      const textBoxUID = '1';\n      const boundingBox = drawLinkedTextBoxSvg(\n        svgDrawingHelper,\n        annotationUID,\n        textBoxUID,\n        textLines,\n        textBoxPosition,\n        canvasCoordinates,\n        {},\n        options\n      );\n\n      const { x: left, y: top, width, height } = boundingBox;\n\n      data.handles.textBox.worldBoundingBox = {\n        topLeft: viewport.canvasToWorld([left, top]),\n        topRight: viewport.canvasToWorld([left + width, top]),\n        bottomLeft: viewport.canvasToWorld([left, top + height]),\n        bottomRight: viewport.canvasToWorld([left + width, top + height]),\n      };\n    }\n\n    return renderStatus;\n  };\n\n  _calculateCachedStats(annotation, renderingEngine, enabledElement) {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId } = enabledElement;\n\n    // Until we have all four anchors bail out\n    if (data.handles.points.length !== 4) {\n      return;\n    }\n\n    const seg1: [Types.Point3, Types.Point3] = [null, null];\n    const seg2: [Types.Point3, Types.Point3] = [null, null];\n    let minDist = Number.MAX_VALUE;\n\n    // Order the endpoints of each line segment such that seg1[1] and seg2[0]\n    // are the closest (Euclidean distance-wise) to each other. Thus\n    // the angle formed between the vectors seg1[1]->seg1[0] and seg2[0]->seg[1]\n    // is calculated.\n    // The assumption here is that the Cobb angle line segments are drawn\n    // such that the segments intersect nearest the segment endpoints\n    // that are closest AND those closest endpoints are the tails of the\n    // vectors used to calculate the angle between the vectors/line segments.\n    for (let i = 0; i < 2; i += 1) {\n      for (let j = 2; j < 4; j += 1) {\n        const dist = vec3.distance(\n          data.handles.points[i],\n          data.handles.points[j]\n        );\n        if (dist < minDist) {\n          minDist = dist;\n          seg1[1] = data.handles.points[i];\n          seg1[0] = data.handles.points[(i + 1) % 2];\n          seg2[0] = data.handles.points[j];\n          seg2[1] = data.handles.points[2 + ((j - 1) % 2)];\n        }\n      }\n    }\n\n    const { cachedStats } = data;\n    const targetIds = Object.keys(cachedStats);\n\n    for (let i = 0; i < targetIds.length; i++) {\n      const targetId = targetIds[i];\n      const angle = angleBetweenLines(seg1, seg2);\n\n      cachedStats[targetId] = {\n        angle,\n      };\n    }\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  }\n}\n\nfunction defaultGetTextLines(data, targetId): string[] {\n  const cachedVolumeStats = data.cachedStats[targetId];\n  const { angle } = cachedVolumeStats;\n\n  if (angle === undefined) {\n    return;\n  }\n\n  const textLines = [`${angle.toFixed(2)} ${String.fromCharCode(176)}`];\n\n  return textLines;\n}\n\nCobbAngleTool.toolName = 'CobbAngle';\nexport default CobbAngleTool;\n","import {\n  getEnabledElement,\n  StackViewport,\n  VolumeViewport,\n  utilities,\n  getEnabledElementByIds,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport {\n  addAnnotation,\n  getAnnotations,\n} from '../stateManagement/annotation/annotationState';\nimport { isAnnotationVisible } from '../stateManagement/annotation/annotationVisibility';\nimport { drawLine } from '../drawingSvg';\nimport { getViewportIdsWithToolToRender } from '../utilities/viewportFilters';\nimport {\n  EventTypes,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n  Annotation,\n  Annotations,\n} from '../types';\nimport { ReferenceCursor } from '../types/ToolSpecificAnnotationTypes';\n\nimport triggerAnnotationRenderForViewportIds from '../utilities/triggerAnnotationRenderForViewportIds';\nimport { StyleSpecifier } from '../types/AnnotationStyle';\nimport { vec3 } from 'gl-matrix';\nimport AnnotationDisplayTool from './base/AnnotationDisplayTool';\nimport vtkMath from '@kitware/vtk.js/Common/Core/Math';\nimport {\n  hideElementCursor,\n  resetElementCursor,\n} from '../cursors/elementCursor';\nimport { getToolGroup } from '../store/ToolGroupManager';\n\n/**\n * ReferenceCursors is a tool that will show your cursors position in all other elements in the toolGroup if they have a matching FrameOfReference relative to its position in world space.\n * Also when positionSync is enabled, it will try to sync viewports so that the cursor can be displayed in the correct position in all viewports.\n *\n * Configuration:\n * - positionSync: boolean, if true, it will try to sync viewports so that the cursor can be displayed in the correct position in all viewports.\n * - disableCursor: boolean, if true, it will hide the cursor in all viewports. You need to disable and reactivate the tool for this to apply.\n * - displayThreshold: number, if the distance of the cursor in a viewport is bigger than this threshold the cursor will not be displayed.\n *\n * Only uses Active and Disabled state\n */\nclass ReferenceCursors extends AnnotationDisplayTool {\n  static toolName;\n  touchDragCallback: any;\n  mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  isDrawing = false;\n  isHandleOutsideImage = false;\n  _elementWithCursor: null | HTMLDivElement = null;\n  _currentCursorWorldPosition: null | Types.Point3 = null;\n  _currentCanvasPosition: null | Types.Point2 = null;\n  //need to keep track if this was enabled when tool was enabled because we need to know if we should reset cursors\n  _disableCursorEnabled = false;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n        displayThreshold: 5,\n        positionSync: true,\n        disableCursor: false,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n    this._disableCursorEnabled = this.configuration.disableCursor;\n  }\n\n  /**\n   * Overwritten mouseMoveCallback since we want to keep track of the current mouse position and redraw on mouseMove\n   * @virtual Event handler for Cornerstone MOUSE_MOVE event.\n   *\n   *\n   * @param evt - The normalized mouse event\n   * @param filteredAnnotations - The annotations to check for hover interactions\n   * @returns True if the annotation needs to be re-drawn by the annotationRenderingEngine.\n   */\n  mouseMoveCallback = (evt: EventTypes.InteractionEventType): boolean => {\n    const { detail } = evt;\n    const { element, currentPoints } = detail;\n\n    //save current positions and current element the curser is hovering over\n    this._currentCursorWorldPosition = currentPoints.world;\n    this._currentCanvasPosition = currentPoints.canvas;\n    this._elementWithCursor = element;\n\n    const annotation = this.getActiveAnnotation(element);\n    if (annotation === null) {\n      this.createInitialAnnotation(currentPoints.world, element);\n      return false;\n    }\n    this.updateAnnotationPosition(element, annotation);\n    return false;\n  };\n\n  onSetToolActive(): void {\n    this._disableCursorEnabled = this.configuration.disableCursor;\n    if (!this._disableCursorEnabled) {\n      return;\n    }\n    const viewportIds = getToolGroup(this.toolGroupId).viewportsInfo;\n    if (!viewportIds) {\n      return;\n    }\n    const enabledElements = viewportIds.map((e) =>\n      getEnabledElementByIds(e.viewportId, e.renderingEngineId)\n    );\n\n    enabledElements.forEach((element) => {\n      if (element) {\n        hideElementCursor(element.viewport.element);\n      }\n    });\n  }\n  onSetToolDisabled(): void {\n    if (!this._disableCursorEnabled) {\n      return;\n    }\n    const viewportIds = getToolGroup(this.toolGroupId).viewportsInfo;\n    if (!viewportIds) {\n      return;\n    }\n    const enabledElements = viewportIds.map((e) =>\n      getEnabledElementByIds(e.viewportId, e.renderingEngineId)\n    );\n    enabledElements.forEach((element) => {\n      if (element) {\n        resetElementCursor(element.viewport.element);\n      }\n    });\n  }\n\n  createInitialAnnotation = (\n    worldPos: Types.Point3,\n    element: HTMLDivElement\n  ): void => {\n    const enabledElement = getEnabledElement(element);\n    if (!enabledElement) {\n      throw new Error('No enabled element found');\n    }\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n    if (!viewPlaneNormal || !viewUp) {\n      throw new Error('Camera not found');\n    }\n\n    const referencedImageId = this.getReferencedImageId(\n      viewport,\n      worldPos,\n      viewPlaneNormal,\n      viewUp\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        toolName: this.getToolName(),\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n      },\n      data: {\n        label: '',\n        handles: {\n          points: [[...worldPos]] as [Types.Point3],\n          activeHandleIndex: null,\n          textBox: {\n            hasMoved: false,\n            worldPosition: <Types.Point3>[0, 0, 0],\n            worldBoundingBox: {\n              topLeft: <Types.Point3>[0, 0, 0],\n              topRight: <Types.Point3>[0, 0, 0],\n              bottomLeft: <Types.Point3>[0, 0, 0],\n              bottomRight: <Types.Point3>[0, 0, 0],\n            },\n          },\n        },\n      },\n    };\n\n    const annotations = getAnnotations(this.getToolName(), element);\n\n    if (annotations.length > 0) {\n      return null;\n    }\n    const annotationId = addAnnotation(annotation, element);\n\n    if (annotationId === null) {\n      return;\n    }\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName(),\n      false\n    );\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  getActiveAnnotation(element: HTMLDivElement): null | Annotation {\n    const annotations = getAnnotations(this.getToolName(), element);\n    if (!annotations.length) {\n      return null;\n    }\n    const targetAnnotation = annotations[0];\n    return targetAnnotation;\n  }\n\n  /**\n   * updates the position of the annotation to match the currently set world position\n   */\n  updateAnnotationPosition(\n    element: HTMLDivElement,\n    annotation: Annotation\n  ): void {\n    const worldPos = this._currentCursorWorldPosition;\n    if (!worldPos) {\n      return;\n    }\n    if (!annotation.data?.handles?.points) {\n      return;\n    }\n    annotation.data.handles.points = [[...worldPos]];\n    annotation.invalidated = true;\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName(),\n      false\n    );\n    const enabledElement = getEnabledElement(element);\n    if (!enabledElement) {\n      return;\n    }\n    const { renderingEngine } = enabledElement;\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  }\n\n  //checks if we need to update the annotation position due to camera changes\n  onCameraModified = (evt: any): void => {\n    const eventDetail = evt.detail;\n    const { element, previousCamera, camera } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const viewport = enabledElement.viewport as\n      | Types.IVolumeViewport\n      | Types.IStackViewport;\n\n    //only react to changes for element with cursor, otherwise would cause infinite loop\n    if (element !== this._elementWithCursor) {\n      return;\n    }\n    //check if camera moved along its normal\n    const oldFocalPoint = previousCamera.focalPoint;\n    const cameraNormal = camera.viewPlaneNormal;\n    const newFocalPoint = camera.focalPoint;\n\n    const deltaCameraFocalPoint: Types.Point3 = [0, 0, 0];\n    vtkMath.subtract(newFocalPoint, oldFocalPoint, deltaCameraFocalPoint);\n    //check if focal point changed\n    if (deltaCameraFocalPoint.reduce((a, b) => a + b, 0) === 0) {\n      return;\n    }\n    //if nomrmal is perpendicular to focal point change, then we are not moving along the normal\n    const dotProduct = vtkMath.dot(deltaCameraFocalPoint, cameraNormal);\n    //dot product is 0 -> perpendicular\n    if (Math.abs(dotProduct) < 1e-2) {\n      return;\n    }\n\n    //need to update the position of the annotation since camera changed\n    if (!this._currentCanvasPosition) {\n      return;\n    }\n\n    const newWorldPos = viewport.canvasToWorld(this._currentCanvasPosition);\n    this._currentCursorWorldPosition = newWorldPos;\n    this.updateAnnotationPosition(element, this.getActiveAnnotation(element));\n  };\n\n  //display annotation if current viewing plane has a max distance of \"displayThreshold\" from the annotation\n  filterInteractableAnnotationsForElement(\n    element: HTMLDivElement,\n    annotations: Annotations\n  ): Annotations {\n    //calculate distance of current viewport to annotation\n    if (!(annotations instanceof Array) || annotations.length === 0) {\n      return [];\n    }\n    const annotation = annotations[0];\n    const viewport = getEnabledElement(element)?.viewport;\n    if (!viewport) {\n      return [];\n    }\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, focalPoint } = camera;\n    if (!viewPlaneNormal || !focalPoint) {\n      return [];\n    }\n    const points = annotation.data?.handles?.points;\n    if (!(points instanceof Array) || points.length !== 1) {\n      return [];\n    }\n    const worldPos = points[0];\n    const plane = utilities.planar.planeEquation(viewPlaneNormal, focalPoint);\n    const distance = utilities.planar.planeDistanceToPoint(plane, worldPos);\n    return distance < this.configuration.displayThreshold ? [annotation] : [];\n  }\n\n  /**\n   * Draws the cursor representation on the enabledElement\n   * Checks if a stack change has happened and updates annotation in that case\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport, FrameOfReferenceUID } = enabledElement;\n\n    const isElementWithCursor = this._elementWithCursor === viewport.element;\n\n    //update stack position if position sync is enabled\n    if (this.configuration.positionSync && !isElementWithCursor) {\n      this.updateViewportImage(viewport);\n    }\n\n    const { element } = viewport;\n\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    //the viewport change from updateStackPosition might not be applied yet, so sometimes the annotation might not be immediately visible\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    ) as Annotations;\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as ReferenceCursor;\n      const { annotationUID, data } = annotation;\n      const { handles } = data;\n      const { points } = handles;\n\n      if (!annotationUID) {\n        return renderStatus;\n      }\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidthBase = parseFloat(\n        this.getStyle('lineWidth', styleSpecifier, annotation) as string\n      );\n\n      const lineWidth =\n        typeof lineWidthBase === 'number' && isElementWithCursor\n          ? lineWidthBase\n          : lineWidthBase;\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      if (points[0].some((e) => isNaN(e))) {\n        return renderStatus;\n      }\n      const canvasCoordinates = points.map((p) =>\n        viewport.worldToCanvas(p)\n      ) as [Types.Point2];\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      const crosshairUIDs = {\n        upper: 'upper',\n        right: 'right',\n        lower: 'lower',\n        left: 'left',\n      };\n      const [x, y] = canvasCoordinates[0];\n      const centerSpace = isElementWithCursor ? 20 : 7;\n      const lineLength = isElementWithCursor ? 5 : 7;\n      drawLine(\n        svgDrawingHelper,\n        annotationUID,\n        crosshairUIDs.upper,\n        [x, y - (centerSpace / 2 + lineLength)],\n        [x, y - centerSpace / 2],\n        { color, lineDash, lineWidth }\n      );\n      drawLine(\n        svgDrawingHelper,\n        annotationUID,\n        crosshairUIDs.lower,\n        [x, y + (centerSpace / 2 + lineLength)],\n        [x, y + centerSpace / 2],\n        { color, lineDash, lineWidth }\n      );\n      drawLine(\n        svgDrawingHelper,\n        annotationUID,\n        crosshairUIDs.right,\n        [x + (centerSpace / 2 + lineLength), y],\n        [x + centerSpace / 2, y],\n        { color, lineDash, lineWidth }\n      );\n      drawLine(\n        svgDrawingHelper,\n        annotationUID,\n        crosshairUIDs.left,\n        [x - (centerSpace / 2 + lineLength), y],\n        [x - centerSpace / 2, y],\n        { color, lineDash, lineWidth }\n      );\n      renderStatus = true;\n    }\n\n    return renderStatus;\n  };\n\n  updateViewportImage(\n    viewport: Types.IStackViewport | Types.IVolumeViewport\n  ): void {\n    const currentMousePosition = this._currentCursorWorldPosition;\n\n    if (!currentMousePosition || currentMousePosition.some((e) => isNaN(e))) {\n      return;\n    }\n\n    if (viewport instanceof StackViewport) {\n      const closestIndex = utilities.getClosestStackImageIndexForPoint(\n        currentMousePosition,\n        viewport\n      );\n\n      if (closestIndex === null) {\n        return;\n      }\n      if (closestIndex !== viewport.getCurrentImageIdIndex()) {\n        viewport.setImageIdIndex(closestIndex);\n      }\n    } else if (viewport instanceof VolumeViewport) {\n      const { focalPoint, viewPlaneNormal } = viewport.getCamera();\n      if (!focalPoint || !viewPlaneNormal) {\n        return;\n      }\n      const plane = utilities.planar.planeEquation(viewPlaneNormal, focalPoint);\n      const currentDistance = utilities.planar.planeDistanceToPoint(\n        plane,\n        currentMousePosition,\n        true\n      );\n\n      if (Math.abs(currentDistance) < 0.5) {\n        return;\n      }\n      const normalizedViewPlane = vec3.normalize(\n        vec3.create(),\n        vec3.fromValues(...viewPlaneNormal)\n      );\n      const scaledPlaneNormal = vec3.scale(\n        vec3.create(),\n        normalizedViewPlane,\n        currentDistance\n      );\n      const newFocalPoint = vec3.add(\n        vec3.create(),\n        vec3.fromValues(...focalPoint),\n        scaledPlaneNormal\n      ) as Types.Point3;\n      //TODO: make check if new focal point is within bounds of volume\n      const isInBounds = true;\n      if (isInBounds) {\n        viewport.setCamera({ focalPoint: newFocalPoint });\n        const renderingEngine = viewport.getRenderingEngine();\n        if (renderingEngine) {\n          renderingEngine.renderViewport(viewport.id);\n        }\n      }\n    }\n  }\n}\n\nReferenceCursors.toolName = 'ReferenceCursors';\nexport default ReferenceCursors;\n","import AnnotationDisplayTool from './base/AnnotationDisplayTool';\nimport { vec3 } from 'gl-matrix';\nimport {\n  getEnabledElementByIds,\n  getRenderingEngines,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport { ScaleOverlayAnnotation } from '../types/ToolSpecificAnnotationTypes';\nimport type { Types } from '@cornerstonejs/core';\nimport {\n  addAnnotation,\n  getAnnotations,\n} from '../stateManagement/annotation/annotationState';\nimport {\n  drawLine as drawLineSvg,\n  drawTextBox as drawTextBoxSvg,\n} from '../drawingSvg';\nimport {\n  EventTypes,\n  PublicToolProps,\n  ToolProps,\n  SVGDrawingHelper,\n} from '../types';\nimport { StyleSpecifier } from '../types/AnnotationStyle';\nimport { getToolGroup } from '../store/ToolGroupManager';\n\nconst SCALEOVERLAYTOOL_ID = 'scaleoverlay-viewport';\nconst viewportsWithAnnotations = [];\n\n/**\n * @public\n * @class ScaleOverlayTool\n * @memberof Tools\n *\n * @classdesc Tool for displaying a scale overlay on the image.\n * @extends Tools.Base.BaseTool\n */\nclass ScaleOverlayTool extends AnnotationDisplayTool {\n  static toolName;\n\n  public touchDragCallback: any;\n  public mouseDragCallback: any;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    renderingEngine: any;\n    viewport: any;\n    annotation: ScaleOverlayAnnotation;\n  } | null = {} as any;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      configuration: {\n        viewportId: '',\n        scaleLocation: 'bottom',\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  _init = (): void => {\n    const renderingEngines = getRenderingEngines();\n    const renderingEngine = renderingEngines[0];\n\n    if (!renderingEngine) {\n      return;\n    }\n\n    // get viewports with tool enabled\n    const viewportIds = getToolGroup(this.toolGroupId).viewportsInfo;\n\n    if (!viewportIds) {\n      return;\n    }\n\n    // get enabled elements\n    const enabledElements = viewportIds.map((e) =>\n      getEnabledElementByIds(e.viewportId, e.renderingEngineId)\n    );\n\n    let { viewport } = enabledElements[0];\n    const { FrameOfReferenceUID } = enabledElements[0];\n\n    // onCameraModified, configuration.viewportId is set to the active\n    // viewport Id, here we are setting the viewport variable to the\n    // viewport with the matching Id\n    if (this.configuration.viewportId) {\n      enabledElements.forEach((element) => {\n        if (element.viewport.id == this.configuration.viewportId) {\n          viewport = element.viewport;\n        }\n      });\n    }\n\n    if (!viewport) {\n      return;\n    }\n\n    const { viewUp, viewPlaneNormal } = viewport.getCamera();\n\n    const viewportCanvasCornersInWorld =\n      csUtils.getViewportImageCornersInWorld(viewport);\n\n    let annotation = this.editData.annotation;\n\n    const annotations = getAnnotations(this.getToolName(), viewport.element);\n\n    // if annotations have been created, get the annotation for the\n    // current viewport Id\n    if (annotations.length) {\n      annotation = annotations.filter(\n        (thisAnnotation) => thisAnnotation.data.viewportId == viewport.id\n      )[0] as ScaleOverlayAnnotation;\n    }\n\n    // viewportsWithAnnotations stores which viewports have an annotation,\n    // if the viewport does not have an annotation, create a new one\n    if (!viewportsWithAnnotations.includes(viewport.id)) {\n      const newAnnotation: ScaleOverlayAnnotation = {\n        metadata: {\n          toolName: this.getToolName(),\n          viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n          viewUp: <Types.Point3>[...viewUp],\n          FrameOfReferenceUID,\n          referencedImageId: null,\n        },\n        data: {\n          handles: {\n            points: viewportCanvasCornersInWorld,\n          },\n          viewportId: viewport.id,\n        },\n      };\n\n      viewportsWithAnnotations.push(viewport.id);\n\n      addAnnotation(newAnnotation, viewport.element);\n      annotation = newAnnotation;\n    } else if (this.editData.annotation.data.viewportId == viewport.id) {\n      this.editData.annotation.data.handles.points =\n        viewportCanvasCornersInWorld;\n      this.editData.annotation.data.viewportId = viewport.id;\n    }\n\n    this.editData = {\n      viewport,\n      renderingEngine,\n      annotation,\n    };\n  };\n\n  onSetToolEnabled = (): void => {\n    this._init();\n  };\n\n  onCameraModified = (evt: Types.EventTypes.CameraModifiedEvent): void => {\n    // If the camera is modified, we need to update the viewport\n    // that the camera was modified on\n    this.configuration.viewportId = evt.detail.viewportId;\n    this._init();\n  };\n\n  /**\n   * Used to draw the scale annotation in each request animation\n   * frame.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   * @returns\n   */\n\n  renderAnnotation(\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ) {\n    if (!this.editData.viewport) {\n      return;\n    }\n    const location = this.configuration.scaleLocation;\n    const { viewport } = enabledElement;\n\n    const annotations = getAnnotations(this.getToolName(), viewport.element);\n    const annotation = annotations.filter(\n      (thisAnnotation) => thisAnnotation.data.viewportId == viewport.id\n    )[0];\n    const canvas = enabledElement.viewport.canvas;\n\n    const renderStatus = false;\n\n    if (!viewport) {\n      return renderStatus;\n    }\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    const canvasSize = {\n      width: canvas.width,\n      height: canvas.height,\n    };\n\n    const topLeft = annotation.data.handles.points[0];\n    const topRight = annotation.data.handles.points[1];\n    const bottomLeft = annotation.data.handles.points[2];\n    const bottomRight = annotation.data.handles.points[3];\n\n    const pointSet1 = [topLeft, bottomLeft, topRight, bottomRight];\n\n    const worldWidthViewport = vec3.distance(bottomLeft, bottomRight);\n    const worldHeightViewport = vec3.distance(topLeft, bottomLeft);\n\n    // hscaleBounds and vscaleBounds compute the max bound for scales on the image\n    const hscaleBounds = this.computeScaleBounds(\n      canvasSize,\n      0.05,\n      0.05,\n      location\n    );\n\n    const vscaleBounds = this.computeScaleBounds(\n      canvasSize,\n      0.05,\n      0.05,\n      location\n    );\n\n    // Computes which scale size to use, ex: 100mm, 50mm\n    const scaleSize = this.computeScaleSize(\n      worldWidthViewport,\n      worldHeightViewport,\n      location\n    );\n\n    // Applies the scale with the predetermined size to the image in\n    // world coordinates, then converts them to canvas coordinates\n    const canvasCoordinates = this.computeWorldScaleCoordinates(\n      scaleSize,\n      location,\n      pointSet1\n    ).map((world) => viewport.worldToCanvas(world));\n\n    // Uses the bounds and canvas size to center the scale\n    // based on the location\n    const scaleCanvasCoordinates = this.computeCanvasScaleCoordinates(\n      canvasSize,\n      canvasCoordinates,\n      vscaleBounds,\n      hscaleBounds,\n      location\n    );\n\n    // Computes the end scale ticks coordinates\n    const scaleTicks = this.computeEndScaleTicks(\n      scaleCanvasCoordinates,\n      location\n    );\n\n    const { annotationUID } = annotation;\n\n    styleSpecifier.annotationUID = annotationUID;\n    const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n    const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n    const color = this.getStyle('color', styleSpecifier, annotation);\n    const shadow = this.getStyle('shadow', styleSpecifier, annotation);\n\n    const scaleId = `${annotationUID}-scaleline`;\n    const scaleLineUID = '1';\n    drawLineSvg(\n      svgDrawingHelper,\n      annotationUID,\n      scaleLineUID,\n      scaleCanvasCoordinates[0],\n      scaleCanvasCoordinates[1],\n      {\n        color,\n        width: lineWidth,\n        lineDash,\n        shadow,\n      },\n      scaleId\n    );\n    const leftTickId = `${annotationUID}-left`;\n    const leftTickUID = '2';\n\n    drawLineSvg(\n      svgDrawingHelper,\n      annotationUID,\n      leftTickUID,\n      scaleTicks.endTick1[0] as Types.Point2,\n      scaleTicks.endTick1[1] as Types.Point2,\n      {\n        color,\n        width: lineWidth,\n        lineDash,\n        shadow,\n      },\n      leftTickId\n    );\n    const rightTickId = `${annotationUID}-right`;\n    const rightTickUID = '3';\n\n    drawLineSvg(\n      svgDrawingHelper,\n      annotationUID,\n      rightTickUID,\n      scaleTicks.endTick2[0] as Types.Point2,\n      scaleTicks.endTick2[1] as Types.Point2,\n      {\n        color,\n        width: lineWidth,\n        lineDash,\n        shadow,\n      },\n      rightTickId\n    );\n\n    const locationTextOffest = {\n      bottom: [-10, -42],\n      top: [-12, -35],\n      left: [-40, -20],\n      right: [-50, -20],\n    };\n\n    const textCanvasCoordinates = [\n      scaleCanvasCoordinates[0][0] + locationTextOffest[location][0],\n      scaleCanvasCoordinates[0][1] + locationTextOffest[location][1],\n    ];\n    const textBoxLines = this._getTextLines(scaleSize);\n\n    const { tickIds, tickUIDs, tickCoordinates } = this.computeInnerScaleTicks(\n      scaleSize,\n      location,\n      annotationUID,\n      scaleTicks.endTick1,\n      scaleTicks.endTick2\n    );\n\n    // draws inner ticks for scale\n    for (let i = 0; i < tickUIDs.length; i++) {\n      drawLineSvg(\n        svgDrawingHelper,\n        annotationUID,\n        tickUIDs[i],\n        tickCoordinates[i][0],\n        tickCoordinates[i][1],\n        {\n          color,\n          width: lineWidth,\n          lineDash,\n          shadow,\n        },\n        tickIds[i]\n      );\n    }\n\n    const textUID = 'text0';\n    drawTextBoxSvg(\n      svgDrawingHelper,\n      annotationUID,\n      textUID,\n      textBoxLines,\n      [textCanvasCoordinates[0], textCanvasCoordinates[1]],\n      {\n        fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n        fontSize: '14px',\n        lineDash: '2,3',\n        lineWidth: '1',\n        shadow: true,\n        color: color,\n      }\n    );\n\n    return renderStatus;\n  }\n\n  _getTextLines(scaleSize: number): string[] | undefined {\n    let scaleSizeDisplayValue;\n    let scaleSizeUnits;\n    if (scaleSize >= 50) {\n      scaleSizeDisplayValue = scaleSize / 10; //convert to cm\n      scaleSizeUnits = ' cm';\n    } else {\n      scaleSizeDisplayValue = scaleSize; //convert to cm\n      scaleSizeUnits = ' mm';\n    }\n\n    const textLines = [scaleSizeDisplayValue.toString().concat(scaleSizeUnits)];\n\n    return textLines;\n  }\n\n  /**\n   *\n   * @param worldWidthViewport\n   * @returns currentScaleSize\n   */\n  computeScaleSize = (\n    worldWidthViewport: number,\n    worldHeightViewport: number,\n    location: any\n  ) => {\n    const scaleSizes = [\n      16000, 8000, 4000, 2000, 1000, 500, 250, 100, 50, 25, 10, 5, 2,\n    ];\n    let currentScaleSize;\n    if (location == 'top' || location == 'bottom') {\n      currentScaleSize = scaleSizes.filter(\n        (scaleSize) =>\n          scaleSize < worldWidthViewport * 0.6 &&\n          scaleSize > worldWidthViewport * 0.2\n      );\n    } else {\n      currentScaleSize = scaleSizes.filter(\n        (scaleSize) =>\n          scaleSize < worldHeightViewport * 0.6 &&\n          scaleSize > worldHeightViewport * 0.2\n      );\n    }\n\n    return currentScaleSize[0];\n  };\n\n  /**\n   *  calculates scale ticks for ends of the scale\n   * @param canvasCoordinates\n   * @returns leftTick, rightTick\n   */\n  computeEndScaleTicks = (canvasCoordinates, location) => {\n    const locationTickOffset = {\n      bottom: [\n        [0, -10],\n        [0, -10],\n      ],\n      top: [\n        [0, 10],\n        [0, 10],\n      ],\n      left: [\n        [0, 0],\n        [10, 0],\n      ],\n      right: [\n        [0, 0],\n        [-10, 0],\n      ],\n    };\n\n    const endTick1 = [\n      [\n        canvasCoordinates[1][0] + locationTickOffset[location][0][0],\n        canvasCoordinates[1][1] + locationTickOffset[location][0][0],\n      ],\n      [\n        canvasCoordinates[1][0] + locationTickOffset[location][1][0],\n        canvasCoordinates[1][1] + locationTickOffset[location][1][1],\n      ],\n    ];\n    const endTick2 = [\n      [\n        canvasCoordinates[0][0] + locationTickOffset[location][0][0],\n        canvasCoordinates[0][1] + locationTickOffset[location][0][0],\n      ],\n      [\n        canvasCoordinates[0][0] + locationTickOffset[location][1][0],\n        canvasCoordinates[0][1] + locationTickOffset[location][1][1],\n      ],\n    ];\n\n    return {\n      endTick1: endTick1,\n      endTick2: endTick2,\n    };\n  };\n\n  computeInnerScaleTicks = (\n    scaleSize: number,\n    location: string,\n    annotationUID: string,\n    leftTick: any[][],\n    rightTick: any[][]\n  ) => {\n    let canvasScaleSize;\n    if (location == 'bottom' || location == 'top') {\n      canvasScaleSize = rightTick[0][0] - leftTick[0][0];\n    } else if (location == 'left' || location == 'right') {\n      canvasScaleSize = rightTick[0][1] - leftTick[0][1];\n    }\n    const tickIds = [];\n    const tickUIDs = [];\n    const tickCoordinates = [];\n    let numberSmallTicks = scaleSize;\n\n    if (scaleSize >= 50) {\n      numberSmallTicks = scaleSize / 10;\n    }\n\n    const tickSpacing = canvasScaleSize / numberSmallTicks;\n\n    for (let i = 0; i < numberSmallTicks - 1; i++) {\n      const locationOffset = {\n        bottom: [\n          [tickSpacing * (i + 1), 0],\n          [tickSpacing * (i + 1), 5],\n        ],\n        top: [\n          [tickSpacing * (i + 1), 0],\n          [tickSpacing * (i + 1), -5],\n        ],\n        left: [\n          [0, tickSpacing * (i + 1)],\n          [-5, tickSpacing * (i + 1)],\n        ],\n        right: [\n          [0, tickSpacing * (i + 1)],\n          [5, tickSpacing * (i + 1)],\n        ],\n      };\n      tickIds.push(`${annotationUID}-tick${i}`);\n      tickUIDs.push(`tick${i}`);\n      if ((i + 1) % 5 == 0) {\n        tickCoordinates.push([\n          [\n            leftTick[0][0] + locationOffset[location][0][0],\n            leftTick[0][1] + locationOffset[location][0][1],\n          ],\n          [\n            leftTick[1][0] + locationOffset[location][0][0],\n            leftTick[1][1] + locationOffset[location][0][1],\n          ],\n        ]);\n      } else {\n        tickCoordinates.push([\n          [\n            leftTick[0][0] + locationOffset[location][0][0],\n            leftTick[0][1] + locationOffset[location][0][1],\n          ],\n          [\n            leftTick[1][0] + locationOffset[location][1][0],\n            leftTick[1][1] + locationOffset[location][1][1],\n          ],\n        ]);\n      }\n    }\n\n    return { tickIds, tickUIDs, tickCoordinates };\n  };\n\n  computeWorldScaleCoordinates = (scaleSize, location, pointSet) => {\n    let worldCoordinates;\n    let topBottomVec = vec3.subtract(vec3.create(), pointSet[0], pointSet[1]);\n    topBottomVec = vec3.normalize(vec3.create(), topBottomVec) as Types.Point3;\n\n    let topRightVec = vec3.subtract(vec3.create(), pointSet[2], pointSet[0]);\n    topRightVec = vec3.normalize(vec3.create(), topRightVec);\n\n    const midpointLocation = {\n      bottom: [pointSet[1], pointSet[2]],\n      top: [pointSet[0], pointSet[3]],\n      right: [pointSet[2], pointSet[3]],\n      left: [pointSet[0], pointSet[1]],\n    };\n\n    const midpoint = vec3\n      .add(\n        vec3.create(),\n        midpointLocation[location][0],\n        midpointLocation[location][0]\n      )\n      .map((i) => i / 2) as Types.Point3;\n\n    const offset =\n      scaleSize /\n      2 /\n      Math.sqrt(\n        Math.pow(topBottomVec[0], 2) +\n          Math.pow(topBottomVec[1], 2) +\n          Math.pow(topBottomVec[2], 2)\n      );\n\n    if (location == 'top' || location == 'bottom') {\n      worldCoordinates = [\n        vec3.subtract(\n          vec3.create(),\n          midpoint,\n          topRightVec.map((i) => i * offset) as Types.Point3\n        ),\n        vec3.add(\n          vec3.create(),\n          midpoint,\n          topRightVec.map((i) => i * offset) as Types.Point3\n        ),\n      ];\n    } else if (location == 'left' || location == 'right') {\n      worldCoordinates = [\n        vec3.add(\n          vec3.create(),\n          midpoint,\n          topBottomVec.map((i) => i * offset) as Types.Point3\n        ),\n        vec3.subtract(\n          vec3.create(),\n          midpoint,\n          topBottomVec.map((i) => i * offset) as Types.Point3\n        ),\n      ];\n    }\n\n    return worldCoordinates;\n  };\n\n  /**\n   * Computes the centered canvas coordinates for scale\n   * @param canvasSize\n   * @param canvasCoordinates\n   * @param vscaleBounds\n   * @returns scaleCanvasCoordinates\n   */\n  computeCanvasScaleCoordinates = (\n    canvasSize,\n    canvasCoordinates,\n    vscaleBounds,\n    hscaleBounds,\n    location\n  ) => {\n    let scaleCanvasCoordinates;\n    if (location == 'top' || location == 'bottom') {\n      const worldDistanceOnCanvas =\n        canvasCoordinates[0][0] - canvasCoordinates[1][0];\n      scaleCanvasCoordinates = [\n        [canvasSize.width / 2 - worldDistanceOnCanvas / 2, vscaleBounds.height],\n        [canvasSize.width / 2 + worldDistanceOnCanvas / 2, vscaleBounds.height],\n      ];\n    } else if (location == 'left' || location == 'right') {\n      const worldDistanceOnCanvas =\n        canvasCoordinates[0][1] - canvasCoordinates[1][1];\n      scaleCanvasCoordinates = [\n        [hscaleBounds.width, canvasSize.height / 2 - worldDistanceOnCanvas / 2],\n        [hscaleBounds.width, canvasSize.height / 2 + worldDistanceOnCanvas / 2],\n      ];\n    }\n\n    return scaleCanvasCoordinates;\n  };\n\n  /**\n   * Computes the max bound for scales on the image\n   * @param  {{width: number, height: number}} canvasSize\n   * @param  {number} horizontalReduction\n   * @param  {number} verticalReduction\n   * @returns {Object.<string, { x:number, y:number }>}\n   */\n  computeScaleBounds = (\n    canvasSize,\n    horizontalReduction,\n    verticalReduction,\n    location\n  ) => {\n    const hReduction = horizontalReduction * Math.min(1000, canvasSize.width);\n    const vReduction = verticalReduction * Math.min(1000, canvasSize.height);\n    const locationBounds = {\n      bottom: [-vReduction, -hReduction],\n      top: [vReduction, hReduction],\n      left: [vReduction, hReduction],\n      right: [-vReduction, -hReduction],\n    };\n    const canvasBounds = {\n      bottom: [canvasSize.height, canvasSize.width],\n      top: [0, canvasSize.width],\n      left: [canvasSize.height, 0],\n      right: [canvasSize.height, canvasSize.width],\n    };\n\n    return {\n      height: canvasBounds[location][0] + locationBounds[location][0],\n      width: canvasBounds[location][1] + locationBounds[location][1],\n    };\n  };\n}\n\nScaleOverlayTool.toolName = 'ScaleOverlay';\nexport default ScaleOverlayTool;\n","import { ImageVolume, utilities as csUtils } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { getBoundingBoxAroundShape } from '../../../utilities/boundingBox';\nimport { pointInShapeCallback } from '../../../utilities';\nimport { triggerSegmentationDataModified } from '../../../stateManagement/segmentation/triggerSegmentationEvents';\n\nconst { transformWorldToIndex } = csUtils;\n\ntype OperationData = {\n  segmentationId: string;\n  points: [Types.Point3, Types.Point3, Types.Point3, Types.Point3];\n  volume: ImageVolume;\n  constraintFn: (x: [number, number, number]) => boolean;\n  segmentIndex: number;\n  segmentsLocked: number[];\n};\n\n/**\n * For each point in the bounding box around the rectangle, if the point is inside\n * the rectangle, set the scalar value to the segmentIndex\n * @param toolGroupId - string\n * @param operationData - OperationData\n * @param constraintFn - can be used to perform threshold segmentation\n * @param inside - boolean\n */\n// Todo: why we have another constraintFn? in addition to the one in the operationData?\nfunction fillRectangle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData,\n  inside = true\n): void {\n  const {\n    volume: segmentation,\n    points,\n    segmentsLocked,\n    segmentIndex,\n    segmentationId,\n    constraintFn,\n  } = operationData;\n  const { imageData, dimensions } = segmentation;\n  const scalarData = segmentation.getScalarData();\n\n  let rectangleCornersIJK = points.map((world) => {\n    return transformWorldToIndex(imageData, world);\n  });\n\n  // math round\n  rectangleCornersIJK = rectangleCornersIJK.map((point) => {\n    return point.map((coord) => {\n      return Math.round(coord);\n    });\n  });\n\n  const boundsIJK = getBoundingBoxAroundShape(rectangleCornersIJK, dimensions);\n\n  // Since always all points inside the boundsIJK is inside the rectangle...\n  const pointInRectangle = () => true;\n\n  const callback = ({ value, index, pointIJK }) => {\n    if (segmentsLocked.includes(value)) {\n      return;\n    }\n\n    if (!constraintFn) {\n      scalarData[index] = segmentIndex;\n      return;\n    }\n\n    if (constraintFn(pointIJK)) {\n      scalarData[index] = segmentIndex;\n    }\n  };\n\n  pointInShapeCallback(imageData, pointInRectangle, callback, boundsIJK);\n\n  triggerSegmentationDataModified(segmentationId);\n}\n\n/**\n * Fill the inside of a rectangle\n * @param toolGroupId - The unique identifier of the tool group.\n * @param operationData - The data that will be used to create the\n * new rectangle.\n * @param constraintFn - can be used to perform threshold segmentation\n */\nexport function fillInsideRectangle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  fillRectangle(enabledElement, operationData, true);\n}\n\n/**\n * Fill the area outside of a rectangle for the toolGroupId and segmentationRepresentationUID.\n * @param toolGroupId - The unique identifier of the tool group.\n * @param operationData - The data that will be used to create the\n * new rectangle.\n * @param constraintFn - can be used to perform threshold segmentation\n */\nexport function fillOutsideRectangle(\n  enabledElement: Types.IEnabledElement,\n  operationData: OperationData\n): void {\n  fillRectangle(enabledElement, operationData, false);\n}\n","import { ImageVolume, utilities as csUtils } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { getBoundingBoxAroundShape } from '../../../utilities/boundingBox';\nimport { triggerSegmentationDataModified } from '../../../stateManagement/segmentation/triggerSegmentationEvents';\nimport { pointInShapeCallback } from '../../../utilities';\n\nconst { transformWorldToIndex } = csUtils;\n\ntype EraseOperationData = {\n  segmentationId: string;\n  points: [Types.Point3, Types.Point3, Types.Point3, Types.Point3];\n  volume: ImageVolume;\n  constraintFn: (x: [number, number, number]) => boolean;\n  segmentsLocked: number[];\n};\n\nfunction eraseRectangle(\n  enabledElement: Types.IEnabledElement,\n  operationData: EraseOperationData,\n  inside = true\n): void {\n  const {\n    volume: segmentation,\n    points,\n    segmentsLocked,\n    segmentationId,\n  } = operationData;\n  const { imageData, dimensions } = segmentation;\n  const scalarData = segmentation.getScalarData();\n\n  const rectangleCornersIJK = points.map((world) => {\n    return transformWorldToIndex(imageData, world);\n  });\n\n  const boundsIJK = getBoundingBoxAroundShape(rectangleCornersIJK, dimensions);\n\n  // Since always all points inside the boundsIJK is inside the rectangle...\n  const pointInShape = () => true;\n\n  const callback = ({ value, index }) => {\n    if (segmentsLocked.includes(value)) {\n      return;\n    }\n    scalarData[index] = 0;\n  };\n\n  pointInShapeCallback(imageData, pointInShape, callback, boundsIJK);\n\n  triggerSegmentationDataModified(segmentationId);\n}\n\n/**\n * Erase the rectangle region segment inside the segmentation defined by the operationData.\n * It erases the segmentation pixels inside the defined rectangle.\n * @param enabledElement - The element for which the segment is being erased.\n * @param operationData - EraseOperationData\n */\nexport function eraseInsideRectangle(\n  enabledElement: Types.IEnabledElement,\n  operationData: EraseOperationData\n): void {\n  eraseRectangle(enabledElement, operationData, true);\n}\n\n/**\n * Erase the rectangle region segment inside the segmentation defined by the operationData.\n * It erases the segmentation pixels outside the defined rectangle.\n * @param enabledElement - The element for which the segment is being erased.\n * @param operationData - EraseOperationData\n */\nexport function eraseOutsideRectangle(\n  enabledElement: Types.IEnabledElement,\n  operationData: EraseOperationData\n): void {\n  eraseRectangle(enabledElement, operationData, false);\n}\n","import { cache, getEnabledElement, StackViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { BaseTool } from '../base';\nimport {\n  PublicToolProps,\n  ToolProps,\n  EventTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { fillInsideRectangle } from './strategies/fillRectangle';\nimport { eraseInsideRectangle } from './strategies/eraseRectangle';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\n\nimport { Events } from '../../enums';\nimport { drawRect as drawRectSvg } from '../../drawingSvg';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  config as segmentationConfig,\n  segmentLocking,\n  segmentIndex as segmentIndexController,\n  activeSegmentation,\n} from '../../stateManagement/segmentation';\n\nimport { getSegmentation } from '../../stateManagement/segmentation/segmentationState';\nimport { LabelmapSegmentationData } from '../../types/LabelmapTypes';\n\n/**\n * Tool for manipulating segmentation data by drawing a rectangle. It acts on the\n * active Segmentation on the viewport (enabled element) and requires an active\n * segmentation to be already present. By default it will use the activeSegmentIndex\n * for the segmentation to modify. You can use SegmentationModule to set the active\n * segmentation and segmentIndex.\n */\nclass RectangleScissorsTool extends BaseTool {\n  static toolName;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    segmentationId: string;\n    segmentation: any;\n    segmentIndex: number;\n    segmentsLocked: number[];\n    segmentColor: [number, number, number, number];\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        strategies: {\n          FILL_INSIDE: fillInsideRectangle,\n          ERASE_INSIDE: eraseInsideRectangle,\n        },\n        defaultStrategy: 'FILL_INSIDE',\n        activeStrategy: 'FILL_INSIDE',\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Based on the current position of the mouse and the enabledElement, it\n   * finds the active segmentation info and use it for the current tool.\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  preMouseDownCallback = (evt: EventTypes.InteractionEventType): boolean => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n    const toolGroupId = this.toolGroupId;\n\n    const activeSegmentationRepresentation =\n      activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n    if (!activeSegmentationRepresentation) {\n      throw new Error(\n        'No active segmentation detected, create one before using scissors tool'\n      );\n    }\n\n    const { segmentationRepresentationUID, segmentationId, type } =\n      activeSegmentationRepresentation;\n    const segmentIndex =\n      segmentIndexController.getActiveSegmentIndex(segmentationId);\n    const segmentsLocked = segmentLocking.getLockedSegments(segmentationId);\n\n    const segmentColor = segmentationConfig.color.getColorForSegmentIndex(\n      toolGroupId,\n      segmentationRepresentationUID,\n      segmentIndex\n    );\n\n    const { representationData } = getSegmentation(segmentationId);\n\n    // Todo: are we going to support contour editing with rectangle scissors?\n    const { volumeId } = representationData[type] as LabelmapSegmentationData;\n    const segmentation = cache.getVolume(volumeId);\n\n    // Todo: Used for drawing the svg only, we might not need it at all\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID: viewport.getFrameOfReferenceUID(),\n        referencedImageId: '',\n        toolName: this.getToolName(),\n        segmentColor,\n      },\n      data: {\n        handles: {\n          points: [\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n          ],\n          activeHandleIndex: null,\n        },\n      },\n    };\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      segmentation,\n      segmentIndex,\n      segmentsLocked,\n      segmentColor,\n      segmentationId,\n      viewportIdsToRender,\n      handleIndex: 3,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return true;\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType) => {\n    this.isDrawing = true;\n\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const { annotation, viewportIdsToRender, handleIndex } = this.editData;\n    const { data } = annotation;\n\n    // Moving handle.\n    const { currentPoints } = eventDetail;\n    const enabledElement = getEnabledElement(element);\n    const { worldToCanvas, canvasToWorld } = enabledElement.viewport;\n    const worldPos = currentPoints.world;\n\n    const { points } = data.handles;\n\n    // Move this handle.\n    points[handleIndex] = [...worldPos];\n\n    let bottomLeftCanvas;\n    let bottomRightCanvas;\n    let topLeftCanvas;\n    let topRightCanvas;\n\n    let bottomLeftWorld;\n    let bottomRightWorld;\n    let topLeftWorld;\n    let topRightWorld;\n\n    switch (handleIndex) {\n      case 0:\n      case 3:\n        // Moving bottomLeft or topRight\n\n        bottomLeftCanvas = worldToCanvas(points[0]);\n        topRightCanvas = worldToCanvas(points[3]);\n\n        bottomRightCanvas = [topRightCanvas[0], bottomLeftCanvas[1]];\n        topLeftCanvas = [bottomLeftCanvas[0], topRightCanvas[1]];\n\n        bottomRightWorld = canvasToWorld(bottomRightCanvas);\n        topLeftWorld = canvasToWorld(topLeftCanvas);\n\n        points[1] = bottomRightWorld;\n        points[2] = topLeftWorld;\n\n        break;\n      case 1:\n      case 2:\n        // Moving bottomRight or topLeft\n        bottomRightCanvas = worldToCanvas(points[1]);\n        topLeftCanvas = worldToCanvas(points[2]);\n\n        bottomLeftCanvas = <Types.Point2>[\n          topLeftCanvas[0],\n          bottomRightCanvas[1],\n        ];\n        topRightCanvas = <Types.Point2>[bottomRightCanvas[0], topLeftCanvas[1]];\n\n        bottomLeftWorld = canvasToWorld(bottomLeftCanvas);\n        topRightWorld = canvasToWorld(topRightCanvas);\n\n        points[0] = bottomLeftWorld;\n        points[3] = topRightWorld;\n\n        break;\n    }\n    annotation.invalidated = true;\n\n    this.editData.hasMoved = true;\n\n    const { renderingEngine } = enabledElement;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const {\n      annotation,\n      newAnnotation,\n      hasMoved,\n      segmentation,\n      segmentationId,\n      segmentIndex,\n      segmentsLocked,\n    } = this.editData;\n    const { data } = annotation;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (viewport instanceof StackViewport) {\n      throw new Error('Not implemented yet');\n    }\n\n    const operationData = {\n      points: data.handles.points,\n      volume: segmentation,\n      segmentationId,\n      segmentIndex,\n      segmentsLocked,\n    };\n\n    this.applyActiveStrategy(enabledElement, operationData);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event propagation.\n   */\n  _activateDraw = (element) => {\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  _deactivateDraw = (element) => {\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n  };\n\n  /**\n   * it is used to draw the rectangleScissor annotation in each\n   * request animation frame. Note that the annotation are disappeared\n   * after the segmentation modification.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    if (!this.editData) {\n      return renderStatus;\n    }\n\n    const { viewport } = enabledElement;\n    const { annotation } = this.editData;\n\n    // Todo: rectangle color based on segment index\n    const toolMetadata = annotation.metadata;\n    const annotationUID = annotation.annotationUID;\n\n    const data = annotation.data;\n    const { points } = data.handles;\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n    const color = `rgb(${toolMetadata.segmentColor.slice(0, 3)})`;\n\n    // If rendering engine has been destroyed while rendering\n    if (!viewport.getRenderingEngine()) {\n      console.warn('Rendering Engine has been destroyed');\n      return renderStatus;\n    }\n\n    const rectangleUID = '0';\n    drawRectSvg(\n      svgDrawingHelper,\n      annotationUID,\n      rectangleUID,\n      canvasCoordinates[0],\n      canvasCoordinates[3],\n      {\n        color,\n      }\n    );\n\n    renderStatus = true;\n\n    return renderStatus;\n  };\n}\n\nRectangleScissorsTool.toolName = 'RectangleScissor';\nexport default RectangleScissorsTool;\n","import { cache, getEnabledElement, StackViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { BaseTool } from '../base';\nimport {\n  PublicToolProps,\n  ToolProps,\n  EventTypes,\n  SVGDrawingHelper,\n} from '../../types';\n\nimport { fillInsideCircle } from './strategies/fillCircle';\nimport { Events } from '../../enums';\nimport { drawCircle as drawCircleSvg } from '../../drawingSvg';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  segmentLocking,\n  activeSegmentation,\n  segmentIndex as segmentIndexController,\n  config as segmentationConfig,\n} from '../../stateManagement/segmentation';\nimport { getSegmentation } from '../../stateManagement/segmentation/segmentationState';\nimport { LabelmapSegmentationData } from '../../types/LabelmapTypes';\n\n/**\n * Tool for manipulating segmentation data by drawing a circle. It acts on the\n * active Segmentation on the viewport (enabled element) and requires an active\n * segmentation to be already present. By default it will use the activeSegmentIndex\n * for the segmentation to modify. You can use SegmentationModule to set the active\n * segmentation and segmentIndex.\n */\nclass CircleScissorsTool extends BaseTool {\n  static toolName;\n  editData: {\n    annotation: any;\n    segmentation: any;\n    segmentIndex: number;\n    segmentationId: string;\n    segmentsLocked: number[];\n    segmentColor: [number, number, number, number];\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n    centerCanvas?: Array<number>;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        strategies: {\n          FILL_INSIDE: fillInsideCircle,\n          // ERASE_INSIDE: eraseInsideCircle,\n        },\n        defaultStrategy: 'FILL_INSIDE',\n        activeStrategy: 'FILL_INSIDE',\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Based on the current position of the mouse and the enabledElement, it\n   * finds the active segmentation info and use it for the current tool.\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  preMouseDownCallback = (evt: EventTypes.InteractionEventType): boolean => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const canvasPos = currentPoints.canvas;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n    const toolGroupId = this.toolGroupId;\n\n    const activeSegmentationRepresentation =\n      activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n    if (!activeSegmentationRepresentation) {\n      throw new Error(\n        'No active segmentation detected, create one before using scissors tool'\n      );\n    }\n\n    const { segmentationRepresentationUID, segmentationId, type } =\n      activeSegmentationRepresentation;\n    const segmentIndex =\n      segmentIndexController.getActiveSegmentIndex(segmentationId);\n    const segmentsLocked = segmentLocking.getLockedSegments(segmentationId);\n\n    const segmentColor = segmentationConfig.color.getColorForSegmentIndex(\n      toolGroupId,\n      segmentationRepresentationUID,\n      segmentIndex\n    );\n\n    const { representationData } = getSegmentation(segmentationId);\n\n    // Todo: are we going to support contour editing with rectangle scissors?\n    const { volumeId } = representationData[type] as LabelmapSegmentationData;\n    const segmentation = cache.getVolume(volumeId);\n\n    // Todo: Used for drawing the svg only, we might not need it at all\n    const annotation = {\n      invalidated: true,\n      highlighted: true,\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID: viewport.getFrameOfReferenceUID(),\n        referencedImageId: '',\n        toolName: this.getToolName(),\n        segmentColor,\n      },\n      data: {\n        handles: {\n          points: [[...worldPos], [...worldPos], [...worldPos], [...worldPos]],\n          activeHandleIndex: null,\n        },\n        isDrawing: true,\n        cachedStats: {},\n      },\n    };\n\n    const viewportIdsToRender = [viewport.id];\n\n    this.editData = {\n      annotation,\n      segmentation,\n      centerCanvas: canvasPos,\n      segmentIndex,\n      segmentationId,\n      segmentsLocked,\n      segmentColor,\n      viewportIdsToRender,\n      handleIndex: 3,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return true;\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType) => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { currentPoints } = eventDetail;\n    const currentCanvasPoints = currentPoints.canvas;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n    const { canvasToWorld } = viewport;\n\n    //////\n    const { annotation, viewportIdsToRender, centerCanvas } = this.editData;\n    const { data } = annotation;\n\n    // Center of circle in canvas Coordinates\n\n    const dX = Math.abs(currentCanvasPoints[0] - centerCanvas[0]);\n    const dY = Math.abs(currentCanvasPoints[1] - centerCanvas[1]);\n    const radius = Math.sqrt(dX * dX + dY * dY);\n\n    const bottomCanvas: Types.Point2 = [\n      centerCanvas[0],\n      centerCanvas[1] + radius,\n    ];\n    const topCanvas: Types.Point2 = [centerCanvas[0], centerCanvas[1] - radius];\n    const leftCanvas: Types.Point2 = [\n      centerCanvas[0] - radius,\n      centerCanvas[1],\n    ];\n    const rightCanvas: Types.Point2 = [\n      centerCanvas[0] + radius,\n      centerCanvas[1],\n    ];\n\n    data.handles.points = [\n      canvasToWorld(bottomCanvas),\n      canvasToWorld(topCanvas),\n      canvasToWorld(leftCanvas),\n      canvasToWorld(rightCanvas),\n    ];\n\n    annotation.invalidated = true;\n\n    this.editData.hasMoved = true;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const {\n      annotation,\n      newAnnotation,\n      hasMoved,\n      segmentation,\n      segmentIndex,\n      segmentsLocked,\n      segmentationId,\n    } = this.editData;\n    const { data } = annotation;\n    const { viewPlaneNormal, viewUp } = annotation.metadata;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (viewport instanceof StackViewport) {\n      throw new Error('Not implemented yet');\n    }\n\n    const operationData = {\n      points: data.handles.points,\n      volume: segmentation,\n      segmentIndex,\n      segmentsLocked,\n      viewPlaneNormal,\n      segmentationId,\n      viewUp,\n    };\n\n    this.applyActiveStrategy(enabledElement, operationData);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event propagation.\n   */\n  _activateDraw = (element) => {\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  _deactivateDraw = (element) => {\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * it is used to draw the circleScissor annotation in each\n   * request animation frame. Note that the annotation are disappeared\n   * after the segmentation modification.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    if (!this.editData) {\n      return renderStatus;\n    }\n\n    const { viewport } = enabledElement;\n    const { viewportIdsToRender } = this.editData;\n\n    if (!viewportIdsToRender.includes(viewport.id)) {\n      return renderStatus;\n    }\n\n    const { annotation } = this.editData;\n\n    // Todo: rectangle color based on segment index\n    const toolMetadata = annotation.metadata;\n    const annotationUID = annotation.annotationUID;\n\n    const data = annotation.data;\n    const { points } = data.handles;\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n    const bottom = canvasCoordinates[0];\n    const top = canvasCoordinates[1];\n\n    const center = [\n      Math.floor((bottom[0] + top[0]) / 2),\n      Math.floor((bottom[1] + top[1]) / 2),\n    ];\n\n    const radius = Math.abs(bottom[1] - Math.floor((bottom[1] + top[1]) / 2));\n\n    const color = `rgb(${toolMetadata.segmentColor.slice(0, 3)})`;\n\n    // If rendering engine has been destroyed while rendering\n    if (!viewport.getRenderingEngine()) {\n      console.warn('Rendering Engine has been destroyed');\n      return renderStatus;\n    }\n\n    const circleUID = '0';\n    drawCircleSvg(\n      svgDrawingHelper,\n      annotationUID,\n      circleUID,\n      center as Types.Point2,\n      radius,\n      {\n        color,\n      }\n    );\n\n    renderStatus = true;\n    return renderStatus;\n  };\n}\n\nCircleScissorsTool.toolName = 'CircleScissor';\nexport default CircleScissorsTool;\n","import { cache, getEnabledElement, StackViewport } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { BaseTool } from '../base';\nimport {\n  PublicToolProps,\n  ToolProps,\n  EventTypes,\n  SVGDrawingHelper,\n} from '../../types';\n\nimport { fillInsideSphere } from './strategies/fillSphere';\nimport { Events } from '../../enums';\nimport { drawCircle as drawCircleSvg } from '../../drawingSvg';\nimport {\n  resetElementCursor,\n  hideElementCursor,\n} from '../../cursors/elementCursor';\n\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport {\n  config as segmentationConfig,\n  segmentLocking,\n  segmentIndex as segmentIndexController,\n  activeSegmentation,\n} from '../../stateManagement/segmentation';\n\nimport { getSegmentation } from '../../stateManagement/segmentation/segmentationState';\nimport { LabelmapSegmentationData } from '../../types/LabelmapTypes';\n\n/**\n * Tool for manipulating segmentation data by drawing a sphere in 3d space. It acts on the\n * active Segmentation on the viewport (enabled element) and requires an active\n * segmentation to be already present. By default it will use the activeSegmentIndex\n * for the segmentation to modify. You can use SegmentationModule to set the active\n * segmentation and segmentIndex. Todo: sphere scissor has some memory problem which\n * lead to ui blocking behavior that needs to be fixed.\n */\nclass SphereScissorsTool extends BaseTool {\n  static toolName;\n  editData: {\n    annotation: any;\n    segmentation: any;\n    segmentIndex: number;\n    segmentsLocked: number[];\n    segmentationId: string;\n    toolGroupId: string;\n    segmentColor: [number, number, number, number];\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    movingTextBox: boolean;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n    centerCanvas?: Array<number>;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        strategies: {\n          FILL_INSIDE: fillInsideSphere,\n        },\n        defaultStrategy: 'FILL_INSIDE',\n        activeStrategy: 'FILL_INSIDE',\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Based on the current position of the mouse and the enabledElement, it\n   * finds the active segmentation info and use it for the current tool.\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  preMouseDownCallback = (evt: EventTypes.InteractionEventType): true => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n    const canvasPos = currentPoints.canvas;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n    const toolGroupId = this.toolGroupId;\n\n    const activeSegmentationRepresentation =\n      activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n    if (!activeSegmentationRepresentation) {\n      throw new Error(\n        'No active segmentation detected, create one before using scissors tool'\n      );\n    }\n\n    const { segmentationRepresentationUID, segmentationId, type } =\n      activeSegmentationRepresentation;\n    const segmentIndex =\n      segmentIndexController.getActiveSegmentIndex(segmentationId);\n    const segmentsLocked = segmentLocking.getLockedSegments(segmentationId);\n\n    const segmentColor = segmentationConfig.color.getColorForSegmentIndex(\n      toolGroupId,\n      segmentationRepresentationUID,\n      segmentIndex\n    );\n\n    const { representationData } = getSegmentation(segmentationId);\n\n    // Todo: are we going to support contour editing with rectangle scissors?\n    const { volumeId } = representationData[type] as LabelmapSegmentationData;\n    const segmentation = cache.getVolume(volumeId);\n\n    this.isDrawing = true;\n\n    // Used for drawing the svg only, we might not need it at all\n    const annotation = {\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID: viewport.getFrameOfReferenceUID(),\n        referencedImageId: '',\n        toolName: this.getToolName(),\n        segmentColor,\n      },\n      data: {\n        invalidated: true,\n        handles: {\n          points: [[...worldPos], [...worldPos], [...worldPos], [...worldPos]],\n          activeHandleIndex: null,\n        },\n        cachedStats: {},\n        highlighted: true,\n      },\n    };\n\n    const viewportIdsToRender = [viewport.id];\n\n    this.editData = {\n      annotation,\n      segmentation,\n      centerCanvas: canvasPos,\n      segmentIndex,\n      segmentsLocked,\n      segmentColor,\n      segmentationId,\n      toolGroupId,\n      viewportIdsToRender,\n      handleIndex: 3,\n      movingTextBox: false,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return true;\n  };\n\n  _dragCallback = (evt: EventTypes.InteractionEventType) => {\n    this.isDrawing = true;\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n    const { currentPoints } = eventDetail;\n    const currentCanvasPoints = currentPoints.canvas;\n    const enabledElement = getEnabledElement(element);\n    const { renderingEngine, viewport } = enabledElement;\n    const { canvasToWorld } = viewport;\n\n    //////\n    const { annotation, viewportIdsToRender, centerCanvas } = this.editData;\n    const { data } = annotation;\n\n    const dX = Math.abs(currentCanvasPoints[0] - centerCanvas[0]);\n    const dY = Math.abs(currentCanvasPoints[1] - centerCanvas[1]);\n    const radius = Math.sqrt(dX * dX + dY * dY);\n\n    const bottomCanvas: Types.Point2 = [\n      centerCanvas[0],\n      centerCanvas[1] + radius,\n    ];\n    const topCanvas: Types.Point2 = [centerCanvas[0], centerCanvas[1] - radius];\n    const leftCanvas: Types.Point2 = [\n      centerCanvas[0] - radius,\n      centerCanvas[1],\n    ];\n    const rightCanvas: Types.Point2 = [\n      centerCanvas[0] + radius,\n      centerCanvas[1],\n    ];\n\n    data.handles.points = [\n      canvasToWorld(bottomCanvas),\n      canvasToWorld(topCanvas),\n      canvasToWorld(leftCanvas),\n      canvasToWorld(rightCanvas),\n    ];\n\n    annotation.invalidated = true;\n\n    this.editData.hasMoved = true;\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  };\n\n  _endCallback = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { element } = eventDetail;\n\n    const {\n      annotation,\n      newAnnotation,\n      hasMoved,\n      segmentation,\n      segmentIndex,\n      segmentsLocked,\n      segmentationId,\n    } = this.editData;\n    const { data } = annotation;\n    const { viewPlaneNormal, viewUp } = annotation.metadata;\n\n    if (newAnnotation && !hasMoved) {\n      return;\n    }\n    annotation.highlighted = false;\n    data.handles.activeHandleIndex = null;\n\n    this._deactivateDraw(element);\n\n    resetElementCursor(element);\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    this.editData = null;\n    this.isDrawing = false;\n\n    if (viewport instanceof StackViewport) {\n      throw new Error('Not implemented yet');\n    }\n\n    const operationData = {\n      points: data.handles.points,\n      volume: segmentation,\n      segmentIndex,\n      segmentsLocked,\n      segmentationId,\n      viewPlaneNormal,\n      viewUp,\n    };\n\n    this.applyActiveStrategy(enabledElement, operationData);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event propagation.\n   */\n  _activateDraw = (element) => {\n    element.addEventListener(Events.MOUSE_UP, this._endCallback);\n    element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.addEventListener(Events.TOUCH_END, this._endCallback);\n    element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n    element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n  };\n\n  /**\n   * Add event handlers for the modify event loop, and prevent default event prapogation.\n   */\n  _deactivateDraw = (element) => {\n    element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n    element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n    element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n\n    element.removeEventListener(Events.TOUCH_END, this._endCallback);\n    element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n  };\n\n  /**\n   * it is used to draw the sphereScissor annotation in each\n   * request animation frame. Note that the annotation are disappeared\n   * after the segmentation modification.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    if (!this.editData) {\n      return renderStatus;\n    }\n\n    const { viewport } = enabledElement;\n    const { viewportIdsToRender } = this.editData;\n\n    if (!viewportIdsToRender.includes(viewport.id)) {\n      return renderStatus;\n    }\n\n    const { annotation } = this.editData;\n\n    // Todo: rectangle color based on segment index\n    const toolMetadata = annotation.metadata;\n    const annotationUID = annotation.annotationUID;\n\n    const data = annotation.data;\n    const { points } = data.handles;\n    const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n    const bottom = canvasCoordinates[0];\n    const top = canvasCoordinates[1];\n\n    const center = [\n      Math.floor((bottom[0] + top[0]) / 2),\n      Math.floor((bottom[1] + top[1]) / 2),\n    ];\n\n    const radius = Math.abs(bottom[1] - Math.floor((bottom[1] + top[1]) / 2));\n\n    const color = `rgb(${toolMetadata.segmentColor.slice(0, 3)})`;\n\n    // If rendering engine has been destroyed while rendering\n    if (!viewport.getRenderingEngine()) {\n      console.warn('Rendering Engine has been destroyed');\n      return renderStatus;\n    }\n\n    const circleUID = '0';\n    drawCircleSvg(\n      svgDrawingHelper,\n      annotationUID,\n      circleUID,\n      center as Types.Point2,\n      radius,\n      {\n        color,\n      }\n    );\n\n    renderStatus = true;\n\n    return renderStatus;\n  };\n}\n\nSphereScissorsTool.toolName = 'SphereScissor';\nexport default SphereScissorsTool;\n","import {\n  getEnabledElement,\n  cache,\n  StackViewport,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { addAnnotation, getAnnotations } from '../../stateManagement';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { Events } from '../../enums';\n\nimport {\n  drawHandles as drawHandlesSvg,\n  drawRect as drawRectSvg,\n} from '../../drawingSvg';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport { hideElementCursor } from '../../cursors/elementCursor';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport {\n  PublicToolProps,\n  ToolProps,\n  EventTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { RectangleROIThresholdAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport { AnnotationModifiedEventDetail } from '../../types/EventTypes';\nimport RectangleROITool from '../annotation/RectangleROITool';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\n/**\n * This tool is exactly the RectangleROITool but only draws a rectangle on the image,\n * and by using utility functions such as thresholdByRange and thresholdByROIStat it can be used to\n * create a segmentation. This tool, however, does not calculate the statistics\n * as RectangleROITool does.\n */\nclass RectangleROIThresholdTool extends RectangleROITool {\n  static toolName;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n      configuration: {\n        shadow: true,\n        preventHandleOutsideImage: false,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Based on the current position of the mouse and the enabledElement it creates\n   * the edit data for the tool.\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    const targetId = this.getTargetId(viewport);\n    let referencedImageId, volumeId;\n\n    if (viewport instanceof StackViewport) {\n      referencedImageId = targetId.split('imageId:')[1];\n    } else {\n      volumeId = targetId.split('volumeId:')[1];\n      const imageVolume = cache.getVolume(volumeId);\n      referencedImageId = csUtils.getClosestImageId(\n        imageVolume,\n        worldPos,\n        viewPlaneNormal\n      );\n    }\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n    // Todo: how not to store enabledElement on the annotation, segmentationModule needs the element to\n    // decide on the active segmentIndex, active segmentationIndex etc.\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        enabledElement,\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n        toolName: this.getToolName(),\n        volumeId,\n      },\n      data: {\n        label: '',\n        handles: {\n          // No need a textBox\n          textBox: {\n            hasMoved: false,\n            worldPosition: null,\n            worldBoundingBox: null,\n          },\n          points: [\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n          ],\n          activeHandleIndex: null,\n        },\n        segmentationId: null,\n      },\n    };\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 3,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  /**\n   * it is used to draw the RectangleROI Threshold annotation in each\n   * request animation frame.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport, renderingEngineId } = enabledElement;\n    const { element } = viewport;\n    let annotations = getAnnotations(this.getToolName(), element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    annotations = this.filterInteractableAnnotationsForElement(\n      element,\n      annotations\n    );\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[i] as RectangleROIThresholdAnnotation;\n      const { annotationUID, data } = annotation;\n      const { points, activeHandleIndex } = data.handles;\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      // Todo: This is not correct way to add the event trigger,\n      // this will trigger on all mouse hover too. Problem is that we don't\n      // have a cached stats mechanism for this tool yet?\n      const eventType = Events.ANNOTATION_MODIFIED;\n\n      const eventDetail: AnnotationModifiedEventDetail = {\n        annotation,\n        viewportId: viewport.id,\n        renderingEngineId,\n      };\n\n      triggerEvent(eventTarget, eventType, eventDetail);\n\n      let activeHandleCanvasCoords;\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          activeHandleCanvasCoords,\n          {\n            color,\n          }\n        );\n      }\n\n      const rectangleUID = '0';\n      drawRectSvg(\n        svgDrawingHelper,\n        annotationUID,\n        rectangleUID,\n        canvasCoordinates[0],\n        canvasCoordinates[3],\n        {\n          color,\n          lineDash,\n          lineWidth,\n        }\n      );\n\n      renderStatus = true;\n    }\n\n    return renderStatus;\n  };\n}\n\nRectangleROIThresholdTool.toolName = 'RectangleROIThreshold';\nexport default RectangleROIThresholdTool;\n","import {\n  getEnabledElement,\n  cache,\n  StackViewport,\n  metaData,\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { vec3 } from 'gl-matrix';\nimport { Events } from '../../enums';\nimport { addAnnotation, getAnnotations } from '../../stateManagement';\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport {\n  drawHandles as drawHandlesSvg,\n  drawRect as drawRectSvg,\n} from '../../drawingSvg';\nimport { getViewportIdsWithToolToRender } from '../../utilities/viewportFilters';\nimport throttle from '../../utilities/throttle';\nimport { AnnotationModifiedEventDetail } from '../../types/EventTypes';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\nimport { hideElementCursor } from '../../cursors/elementCursor';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\n\nimport {\n  PublicToolProps,\n  ToolProps,\n  EventTypes,\n  SVGDrawingHelper,\n} from '../../types';\nimport { RectangleROIStartEndThresholdAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport RectangleROITool from '../annotation/RectangleROITool';\nimport { StyleSpecifier } from '../../types/AnnotationStyle';\n\nconst { transformWorldToIndex } = csUtils;\n\n/**\n * This tool is similar to the RectangleROIThresholdTool which\n * only draws a rectangle on the image, and by using utility functions\n * such as thresholdByRange and thresholdByROIStat it can be used to\n * create a segmentation. The only difference is that it only acts on the\n * acquisition plane and not the 3D volume, and accepts a start and end\n * slice, and renders a dashed rectangle on the image between the start and end\n * but a solid rectangle on start and end slice. Utility functions should be used\n * to modify the start and end slice.\n * // Todo: right now only the first slice has grabbable handles, need to make\n * // it so that the handles are grabbable on all slices.\n */\nclass RectangleROIStartEndThresholdTool extends RectangleROITool {\n  static toolName;\n  _throttledCalculateCachedStats: any;\n  editData: {\n    annotation: any;\n    viewportIdsToRender: string[];\n    handleIndex?: number;\n    newAnnotation?: boolean;\n    hasMoved?: boolean;\n  } | null;\n  isDrawing: boolean;\n  isHandleOutsideImage: boolean;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      configuration: {\n        numSlicesToPropagate: 10,\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n\n    this._throttledCalculateCachedStats = throttle(\n      this._calculateCachedStatsTool,\n      100,\n      { trailing: true }\n    );\n  }\n\n  /**\n   * Based on the current position of the mouse and the enabledElement it creates\n   * the edit data for the tool.\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  addNewAnnotation = (evt: EventTypes.InteractionEventType) => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport, renderingEngine } = enabledElement;\n\n    this.isDrawing = true;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal, viewUp } = camera;\n\n    let referencedImageId, imageVolume, volumeId;\n    if (viewport instanceof StackViewport) {\n      throw new Error('Stack Viewport Not implemented');\n    } else {\n      const targetId = this.getTargetId(viewport);\n      volumeId = targetId.split('volumeId:')[1];\n      imageVolume = cache.getVolume(volumeId);\n      referencedImageId = csUtils.getClosestImageId(\n        imageVolume,\n        worldPos,\n        viewPlaneNormal\n      );\n    }\n\n    if (!referencedImageId) {\n      throw new Error('This tool does not work on non-acquisition planes');\n    }\n\n    const startIndex = viewport.getCurrentImageIdIndex();\n    const spacingInNormal = csUtils.getSpacingInNormalDirection(\n      imageVolume,\n      viewPlaneNormal\n    );\n\n    // We cannot simply add numSlicesToPropagate to startIndex because\n    // the order of imageIds can be from top to bottom or bottom to top and\n    // we want to make sure it is always propagated in the direction of the\n    // view and also to make sure we don't go out of bounds.\n    const endIndex = this._getEndSliceIndex(\n      imageVolume,\n      worldPos,\n      spacingInNormal,\n      viewPlaneNormal\n    );\n\n    const FrameOfReferenceUID = viewport.getFrameOfReferenceUID();\n\n    const annotation = {\n      highlighted: true,\n      invalidated: true,\n      metadata: {\n        viewPlaneNormal: <Types.Point3>[...viewPlaneNormal],\n        enabledElement,\n        viewUp: <Types.Point3>[...viewUp],\n        FrameOfReferenceUID,\n        referencedImageId,\n        toolName: this.getToolName(),\n        volumeId,\n        spacingInNormal,\n      },\n      data: {\n        label: '',\n        startSlice: startIndex,\n        endSlice: endIndex,\n        cachedStats: {\n          projectionPoints: [],\n          projectionPointsImageIds: [referencedImageId],\n        },\n        handles: {\n          // No need a textBox\n          textBox: {\n            hasMoved: false,\n            worldPosition: null,\n            worldBoundingBox: null,\n          },\n          points: [\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n            <Types.Point3>[...worldPos],\n          ],\n          activeHandleIndex: null,\n        },\n        labelmapUID: null,\n      },\n    };\n\n    // update the projection points in 3D space, since we are projecting\n    // the points to the slice plane, we need to make sure the points are\n    // computed for later export\n    this._computeProjectionPoints(annotation, imageVolume);\n\n    addAnnotation(annotation, element);\n\n    const viewportIdsToRender = getViewportIdsWithToolToRender(\n      element,\n      this.getToolName()\n    );\n\n    this.editData = {\n      annotation,\n      viewportIdsToRender,\n      handleIndex: 3,\n      newAnnotation: true,\n      hasMoved: false,\n    };\n    this._activateDraw(element);\n\n    hideElementCursor(element);\n\n    evt.preventDefault();\n\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n\n    return annotation;\n  };\n\n  // Todo: make it work for planes other than acquisition planes\n  _computeProjectionPoints(\n    annotation: RectangleROIStartEndThresholdAnnotation,\n    imageVolume: Types.IImageVolume\n  ): void {\n    const { data, metadata } = annotation;\n    const { viewPlaneNormal, spacingInNormal } = metadata;\n    const { imageData } = imageVolume;\n    const { startSlice, endSlice } = data;\n    const { points } = data.handles;\n\n    const startIJK = transformWorldToIndex(imageData, points[0]);\n\n    if (startIJK[2] !== startSlice) {\n      throw new Error('Start slice does not match');\n    }\n\n    // substitute the end slice index 2 with startIJK index 2\n    const endIJK = vec3.fromValues(startIJK[0], startIJK[1], endSlice);\n\n    const startWorld = vec3.create();\n    imageData.indexToWorldVec3(startIJK, startWorld);\n\n    const endWorld = vec3.create();\n    imageData.indexToWorldVec3(endIJK, endWorld);\n\n    // distance between start and end slice in the world coordinate\n    const distance = vec3.distance(startWorld, endWorld);\n\n    // for each point inside points, navigate in the direction of the viewPlaneNormal\n    // with amount of spacingInNormal, and calculate the next slice until we reach the distance\n    const newProjectionPoints = [];\n    for (let dist = 0; dist < distance; dist += spacingInNormal) {\n      newProjectionPoints.push(\n        points.map((point) => {\n          const newPoint = vec3.create();\n          vec3.scaleAndAdd(newPoint, point, viewPlaneNormal, dist);\n          return Array.from(newPoint);\n        })\n      );\n    }\n\n    data.cachedStats.projectionPoints = newProjectionPoints;\n\n    // Find the imageIds for the projection points\n    const projectionPointsImageIds = [];\n    for (const RectanglePoints of newProjectionPoints) {\n      const imageId = csUtils.getClosestImageId(\n        imageVolume,\n        RectanglePoints[0],\n        viewPlaneNormal\n      );\n      projectionPointsImageIds.push(imageId);\n    }\n\n    data.cachedStats.projectionPointsImageIds = projectionPointsImageIds;\n  }\n\n  _calculateCachedStatsTool(annotation, enabledElement) {\n    const data = annotation.data;\n    const { viewportId, renderingEngineId, viewport } = enabledElement;\n\n    const { cachedStats } = data;\n    const volumeId = this.getTargetId(viewport);\n    const imageVolume = cache.getVolume(volumeId.split('volumeId:')[1]);\n\n    // Todo: this shouldn't be here, this is a performance issue\n    // Since we are extending the RectangleROI class, we need to\n    // bring the logic for handle to some cachedStats calculation\n    this._computeProjectionPoints(annotation, imageVolume);\n\n    annotation.invalidated = false;\n\n    // Dispatching annotation modified\n    const eventType = Events.ANNOTATION_MODIFIED;\n\n    const eventDetail: AnnotationModifiedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n    triggerEvent(eventTarget, eventType, eventDetail);\n\n    return cachedStats;\n  }\n\n  /**\n   * it is used to draw the rectangleROIStartEnd annotation in each\n   * request animation frame.\n   *\n   * @param enabledElement - The Cornerstone's enabledElement.\n   * @param svgDrawingHelper - The svgDrawingHelper providing the context for drawing.\n   */\n  renderAnnotation = (\n    enabledElement: Types.IEnabledElement,\n    svgDrawingHelper: SVGDrawingHelper\n  ): boolean => {\n    let renderStatus = false;\n    const { viewport } = enabledElement;\n\n    const annotations = getAnnotations(this.getToolName(), viewport.element);\n\n    if (!annotations?.length) {\n      return renderStatus;\n    }\n\n    const sliceIndex = viewport.getCurrentImageIdIndex();\n\n    const styleSpecifier: StyleSpecifier = {\n      toolGroupId: this.toolGroupId,\n      toolName: this.getToolName(),\n      viewportId: enabledElement.viewport.id,\n    };\n\n    for (let i = 0; i < annotations.length; i++) {\n      const annotation = annotations[\n        i\n      ] as RectangleROIStartEndThresholdAnnotation;\n      const { annotationUID, data } = annotation;\n      const { startSlice, endSlice } = data;\n      const { points, activeHandleIndex } = data.handles;\n\n      const canvasCoordinates = points.map((p) => viewport.worldToCanvas(p));\n\n      styleSpecifier.annotationUID = annotationUID;\n\n      const lineWidth = this.getStyle('lineWidth', styleSpecifier, annotation);\n      const lineDash = this.getStyle('lineDash', styleSpecifier, annotation);\n      const color = this.getStyle('color', styleSpecifier, annotation);\n      // range of slices to render based on the start and end slice, like\n      // np.arange\n\n      // if indexIJK is outside the start/end slice, we don't render\n      if (\n        sliceIndex < Math.min(startSlice, endSlice) ||\n        sliceIndex > Math.max(startSlice, endSlice)\n      ) {\n        continue;\n      }\n\n      // WE HAVE TO CACHE STATS BEFORE FETCHING TEXT\n\n      if (annotation.invalidated) {\n        this._throttledCalculateCachedStats(annotation, enabledElement);\n      }\n\n      // if it is inside the start/end slice, but not exactly the first or\n      // last slice, we render the line in dash, but not the handles\n      let firstOrLastSlice = false;\n      if (sliceIndex === startSlice || sliceIndex === endSlice) {\n        firstOrLastSlice = true;\n      }\n\n      // If rendering engine has been destroyed while rendering\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n\n      let activeHandleCanvasCoords;\n\n      if (!isAnnotationVisible(annotationUID)) {\n        continue;\n      }\n\n      if (\n        !isAnnotationLocked(annotation) &&\n        !this.editData &&\n        activeHandleIndex !== null &&\n        firstOrLastSlice\n      ) {\n        // Not locked or creating and hovering over handle, so render handle.\n        activeHandleCanvasCoords = [canvasCoordinates[activeHandleIndex]];\n      }\n\n      if (activeHandleCanvasCoords) {\n        const handleGroupUID = '0';\n\n        drawHandlesSvg(\n          svgDrawingHelper,\n          annotationUID,\n          handleGroupUID,\n          activeHandleCanvasCoords,\n          {\n            color,\n          }\n        );\n      }\n\n      let lineDashToUse = lineDash;\n\n      if (!firstOrLastSlice) {\n        lineDashToUse = 2;\n      }\n\n      const rectangleUID = '0';\n      drawRectSvg(\n        svgDrawingHelper,\n        annotationUID,\n        rectangleUID,\n        canvasCoordinates[0],\n        canvasCoordinates[3],\n        {\n          color,\n          lineDash: lineDashToUse,\n          lineWidth,\n        }\n      );\n\n      renderStatus = true;\n    }\n\n    return renderStatus;\n  };\n\n  _getEndSliceIndex(\n    imageVolume: Types.IImageVolume,\n    worldPos: Types.Point3,\n    spacingInNormal: number,\n    viewPlaneNormal: Types.Point3\n  ): number | undefined {\n    const numSlicesToPropagate = this.configuration.numSlicesToPropagate;\n\n    // get end position by moving from worldPos in the direction of viewplaneNormal\n    // with amount of numSlicesToPropagate * spacingInNormal\n    const endPos = vec3.create();\n    vec3.scaleAndAdd(\n      endPos,\n      worldPos,\n      viewPlaneNormal,\n      numSlicesToPropagate * spacingInNormal\n    );\n\n    const halfSpacingInNormalDirection = spacingInNormal / 2;\n    // Loop through imageIds of the imageVolume and find the one that is closest to endPos\n    const { imageIds } = imageVolume;\n    let imageIdIndex;\n    for (let i = 0; i < imageIds.length; i++) {\n      const imageId = imageIds[i];\n\n      const { imagePositionPatient } = metaData.get(\n        'imagePlaneModule',\n        imageId\n      );\n\n      const dir = vec3.create();\n      vec3.sub(dir, endPos, imagePositionPatient);\n\n      const dot = vec3.dot(dir, viewPlaneNormal);\n\n      if (Math.abs(dot) < halfSpacingInNormalDirection) {\n        imageIdIndex = i;\n      }\n    }\n\n    return imageIdIndex;\n  }\n}\n\nRectangleROIStartEndThresholdTool.toolName = 'RectangleROIStartEndThreshold';\nexport default RectangleROIStartEndThresholdTool;\n","import type {\n  FloodFillResult,\n  FloodFillGetter,\n  FloodFillOptions,\n} from '../../types';\nimport { Types } from '@cornerstonejs/core';\n\n/**\n * floodFill.js - Taken from MIT OSS lib - https://github.com/tuzz/n-dimensional-flood-fill\n * Refactored to ES6.\n *\n * @param {function} getter The getter to the elements of your data structure,\n *                          e.g. getter(x,y) for a 2D interprettation of your structure.\n * @param {number[]} seed The seed for your fill. The dimensionality is infered\n *                        by the number of dimensions of the seed.\n * @param {function} [options.onFlood] An optional callback to execute when each pixel is flooded.\n *                             e.g. onFlood(x,y).\n * @param {function} [options.onBoundary] An optional callback to execute whenever a boundary is reached.\n *                                a boundary could be another segmentIndex, or the edge of your\n *                                data structure (i.e. when your getter returns undefined).\n * @param {function} [options.equals] An optional equality method for your datastructure.\n *                            Default is simply value1 = value2.\n * @param {boolean} [options.diagonals] Whether you allow flooding through diagonals. Defaults to false.\n *\n * @returns {Object}\n */\nfunction floodFill(\n  getter: FloodFillGetter,\n  seed: Types.Point2 | Types.Point3,\n  options: FloodFillOptions = {}\n): FloodFillResult {\n  const onFlood = options.onFlood;\n  const onBoundary = options.onBoundary;\n  const equals = options.equals || defaultEquals;\n  const diagonals = options.diagonals || false;\n  const startNode = get(seed);\n  const permutations = prunedPermutations();\n  const stack = [];\n  const flooded = [];\n  const visits = {};\n  const bounds = {};\n\n  stack.push({ currentArgs: seed });\n\n  while (stack.length > 0) {\n    flood(stack.pop());\n  }\n\n  return {\n    flooded,\n    boundaries: boundaries(),\n  };\n\n  function flood(job) {\n    const getArgs = job.currentArgs;\n    const prevArgs = job.previousArgs;\n\n    if (visited(getArgs)) {\n      return;\n    }\n    markAsVisited(getArgs);\n\n    if (member(getArgs)) {\n      markAsFlooded(getArgs);\n      pushAdjacent(getArgs);\n    } else {\n      markAsBoundary(prevArgs);\n    }\n  }\n\n  function visited(key) {\n    return visits[key] === true;\n  }\n\n  function markAsVisited(key) {\n    visits[key] = true;\n  }\n\n  function member(getArgs) {\n    const node = safely(get, [getArgs]);\n\n    return safely(equals, [node, startNode]);\n  }\n\n  function markAsFlooded(getArgs) {\n    flooded.push(getArgs);\n    if (onFlood) {\n      //@ts-ignore\n      onFlood(...getArgs);\n    }\n  }\n\n  function markAsBoundary(prevArgs) {\n    bounds[prevArgs] = prevArgs;\n    if (onBoundary) {\n      //@ts-ignore\n      onBoundary(...prevArgs);\n    }\n  }\n\n  function pushAdjacent(getArgs) {\n    for (let i = 0; i < permutations.length; i += 1) {\n      const perm = permutations[i];\n      const nextArgs = getArgs.slice(0);\n\n      for (let j = 0; j < getArgs.length; j += 1) {\n        nextArgs[j] += perm[j];\n      }\n\n      stack.push({\n        currentArgs: nextArgs,\n        previousArgs: getArgs,\n      });\n    }\n  }\n\n  function get(getArgs) {\n    //@ts-ignore\n    return getter(...getArgs);\n  }\n\n  function safely(f, args) {\n    try {\n      return f(...args);\n    } catch (error) {\n      return;\n    }\n  }\n\n  function prunedPermutations() {\n    const permutations = permute(seed.length);\n\n    return permutations.filter(function (perm) {\n      const count = countNonZeroes(perm);\n\n      return count !== 0 && (count === 1 || diagonals);\n    });\n  }\n\n  function permute(length) {\n    const perms = [];\n\n    const permutation = function (string) {\n      return string.split('').map(function (c) {\n        return parseInt(c, 10) - 1;\n      });\n    };\n\n    for (let i = 0; i < Math.pow(3, length); i += 1) {\n      const string = lpad(i.toString(3), '0', length);\n\n      perms.push(permutation(string));\n    }\n\n    return perms;\n  }\n\n  function boundaries() {\n    const array = [];\n\n    for (const key in bounds) {\n      if (bounds[key] !== undefined) {\n        array.unshift(bounds[key]);\n      }\n    }\n\n    return array;\n  }\n}\n\nfunction defaultEquals(a, b) {\n  return a === b;\n}\n\nfunction countNonZeroes(array) {\n  let count = 0;\n\n  for (let i = 0; i < array.length; i += 1) {\n    if (array[i] !== 0) {\n      count += 1;\n    }\n  }\n\n  return count;\n}\n\nfunction lpad(string, character, length) {\n  const array = new Array(length + 1);\n  const pad = array.join(character);\n\n  return (pad + string).slice(-length);\n}\n\nexport default floodFill;\n","import {\n  cache,\n  getEnabledElement,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\nimport { BaseTool } from '../base';\nimport { PublicToolProps, ToolProps, EventTypes } from '../../types';\n\nimport { triggerSegmentationDataModified } from '../../stateManagement/segmentation/triggerSegmentationEvents';\nimport {\n  segmentLocking,\n  activeSegmentation,\n  segmentIndex as segmentIndexController,\n} from '../../stateManagement/segmentation';\nimport floodFill from '../../utilities/segmentation/floodFill';\nimport { getSegmentation } from '../../stateManagement/segmentation/segmentationState';\nimport { FloodFillResult, FloodFillGetter } from '../../types';\nimport { LabelmapSegmentationData } from '../../types/LabelmapTypes';\n\nconst { transformWorldToIndex, isEqual } = csUtils;\n\ntype PaintFillToolHelpers = {\n  getScalarDataPositionFromPlane: (x: number, y: number) => number;\n  getLabelValue: (x: number, y: number, z: number) => number;\n  floodFillGetter: FloodFillGetter;\n  inPlaneSeedPoint: Types.Point2;\n  fixedDimensionValue: number;\n};\n\n/**\n * Tool for manipulating segmentation data by filling in regions. It acts on the\n * active Segmentation on the viewport (enabled element) and requires an active\n * segmentation to be already present. By default it will fill a given labelled\n * or empty region with the the activeSegmentIndex label. You can use the\n * SegmentationModule to set the active segmentation and segmentIndex.\n */\nclass PaintFillTool extends BaseTool {\n  static toolName;\n\n  constructor(\n    toolProps: PublicToolProps = {},\n    defaultToolProps: ToolProps = {\n      supportedInteractionTypes: ['Mouse', 'Touch'],\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n  }\n\n  /**\n   * Based on the current position of the mouse and the enabledElement, it\n   * finds the active segmentation info and use it for the current tool.\n   *\n   * @param evt -  EventTypes.NormalizedMouseEventType\n   * @returns The annotation object.\n   *\n   */\n  preMouseDownCallback = (evt: EventTypes.InteractionEventType): boolean => {\n    const eventDetail = evt.detail;\n    const { currentPoints, element } = eventDetail;\n    const worldPos = currentPoints.world;\n\n    const enabledElement = getEnabledElement(element);\n    const { viewport } = enabledElement;\n\n    const camera = viewport.getCamera();\n    const { viewPlaneNormal } = camera;\n    const toolGroupId = this.toolGroupId;\n\n    const activeSegmentationRepresentation =\n      activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n    if (!activeSegmentationRepresentation) {\n      throw new Error(\n        'No active segmentation detected, create one before using scissors tool'\n      );\n    }\n\n    const { segmentationId, type } = activeSegmentationRepresentation;\n    const segmentIndex =\n      segmentIndexController.getActiveSegmentIndex(segmentationId);\n    const segmentsLocked: number[] =\n      segmentLocking.getLockedSegments(segmentationId);\n    const { representationData } = getSegmentation(segmentationId);\n\n    const { volumeId } = representationData[type] as LabelmapSegmentationData;\n    const segmentation = cache.getVolume(volumeId);\n    const { dimensions, direction } = segmentation;\n    const scalarData = segmentation.getScalarData();\n\n    const index = transformWorldToIndex(segmentation.imageData, worldPos);\n\n    const fixedDimension = this.getFixedDimension(\n      viewPlaneNormal,\n      direction as number[]\n    );\n\n    if (fixedDimension === undefined) {\n      console.warn('Oblique paint fill not yet supported');\n      return;\n    }\n\n    const {\n      floodFillGetter,\n      getLabelValue,\n      getScalarDataPositionFromPlane,\n      inPlaneSeedPoint,\n      fixedDimensionValue,\n    } = this.generateHelpers(scalarData, dimensions, index, fixedDimension);\n\n    // Check if within volume\n    if (\n      index[0] < 0 ||\n      index[0] >= dimensions[0] ||\n      index[1] < 0 ||\n      index[1] >= dimensions[1] ||\n      index[2] < 0 ||\n      index[2] >= dimensions[2]\n    ) {\n      // Clicked outside segmentation volume, no good way to fill.\n      return;\n    }\n    //@ts-ignore // todo type\n    const clickedLabelValue = getLabelValue(index[0], index[1], index[2]);\n\n    if (segmentsLocked.includes(clickedLabelValue)) {\n      // Label is locked, cannot fill.\n      return;\n    }\n\n    const floodFillResult = floodFill(floodFillGetter, inPlaneSeedPoint);\n\n    const { flooded } = floodFillResult;\n\n    flooded.forEach((index) => {\n      const scalarDataPosition = getScalarDataPositionFromPlane(\n        index[0],\n        index[1]\n      );\n\n      scalarData[scalarDataPosition] = segmentIndex;\n    });\n\n    const framesModified = this.getFramesModified(\n      fixedDimension,\n      fixedDimensionValue,\n      floodFillResult\n    );\n\n    triggerSegmentationDataModified(segmentationId, framesModified);\n\n    return true;\n  };\n\n  private getFramesModified = (\n    fixedDimension: number,\n    fixedDimensionValue: number,\n    floodFillResult: FloodFillResult\n  ): number[] => {\n    const { boundaries } = floodFillResult;\n\n    if (fixedDimension === 2) {\n      return [fixedDimensionValue];\n    }\n\n    // For both the fixedDimensions being 0 and 1, the Z (stack) direction is j,\n    // so we don't need to find min/max i.\n\n    let minJ = Infinity;\n    let maxJ = -Infinity;\n\n    for (let b = 0; b < boundaries.length; b++) {\n      const j = boundaries[b][1];\n\n      if (j < minJ) {\n        minJ = j;\n      }\n      if (j > maxJ) {\n        maxJ = j;\n      }\n    }\n\n    const framesModified = [];\n\n    for (let frame = minJ; frame <= maxJ; frame++) {\n      framesModified.push(frame);\n    }\n\n    return framesModified;\n  };\n\n  private generateHelpers = (\n    scalarData: Float32Array | Uint8Array | Uint16Array | Int16Array,\n    dimensions: Types.Point3,\n    seedIndex3D: Types.Point3,\n    fixedDimension = 2\n  ): PaintFillToolHelpers => {\n    let fixedDimensionValue: number;\n    let inPlaneSeedPoint: Types.Point2;\n\n    switch (fixedDimension) {\n      case 0:\n        fixedDimensionValue = seedIndex3D[0]; // X\n        inPlaneSeedPoint = [seedIndex3D[1], seedIndex3D[2]]; // Y,Z\n        break;\n      case 1:\n        fixedDimensionValue = seedIndex3D[1]; // Y\n        inPlaneSeedPoint = [seedIndex3D[0], seedIndex3D[2]]; // X,Z\n        break;\n      case 2:\n        fixedDimensionValue = seedIndex3D[2]; // Z\n        inPlaneSeedPoint = [seedIndex3D[0], seedIndex3D[1]]; // X, Y\n        break;\n      default:\n        throw new Error(`Invalid fixedDimension: ${fixedDimension}`);\n    }\n\n    const getScalarDataPosition = (x: number, y: number, z: number): number => {\n      return z * dimensions[1] * dimensions[0] + y * dimensions[0] + x;\n    };\n\n    const getLabelValue = (x: number, y: number, z: number): number => {\n      return scalarData[getScalarDataPosition(x, y, z)];\n    };\n\n    const floodFillGetter = this.generateFloodFillGetter(\n      dimensions,\n      fixedDimension,\n      fixedDimensionValue,\n      getLabelValue\n    );\n\n    const getScalarDataPositionFromPlane =\n      this.generateGetScalarDataPositionFromPlane(\n        getScalarDataPosition,\n        fixedDimension,\n        fixedDimensionValue\n      );\n\n    return {\n      getScalarDataPositionFromPlane,\n      getLabelValue,\n      floodFillGetter,\n      inPlaneSeedPoint,\n      fixedDimensionValue,\n    };\n  };\n\n  private getFixedDimension(\n    viewPlaneNormal: Types.Point3,\n    direction: number[]\n  ): number | undefined {\n    const xDirection = direction.slice(0, 3);\n    const yDirection = direction.slice(3, 6);\n    const zDirection = direction.slice(6, 9);\n\n    const absoluteOfViewPlaneNormal = [\n      Math.abs(viewPlaneNormal[0]),\n      Math.abs(viewPlaneNormal[1]),\n      Math.abs(viewPlaneNormal[2]),\n    ];\n\n    const absoluteOfXDirection = [\n      Math.abs(xDirection[0]),\n      Math.abs(xDirection[1]),\n      Math.abs(xDirection[2]),\n    ];\n\n    if (isEqual(absoluteOfViewPlaneNormal, absoluteOfXDirection)) {\n      return 0;\n    }\n\n    const absoluteOfYDirection = [\n      Math.abs(yDirection[0]),\n      Math.abs(yDirection[1]),\n      Math.abs(yDirection[2]),\n    ];\n\n    if (isEqual(absoluteOfViewPlaneNormal, absoluteOfYDirection)) {\n      return 1;\n    }\n\n    const absoluteOfZDirection = [\n      Math.abs(zDirection[0]),\n      Math.abs(zDirection[1]),\n      Math.abs(zDirection[2]),\n    ];\n\n    if (isEqual(absoluteOfViewPlaneNormal, absoluteOfZDirection)) {\n      return 2;\n    }\n  }\n\n  // Define a getter for the fill routine to access the working label map.\n  private generateFloodFillGetter = (\n    dimensions: Types.Point3,\n    fixedDimension: number,\n    fixedDimensionValue: number,\n    getLabelValue: PaintFillToolHelpers['getLabelValue']\n  ): FloodFillGetter => {\n    let floodFillGetter;\n\n    // In each helper we first check if out of bounds, as the flood filler\n    // doesn't know about the dimensions of the data structure that sits on top\n    // of the scalarData. E.g. if cols is 10, (0,1) and (10, 0) would point to\n    // the same position in these getters.\n\n    switch (fixedDimension) {\n      case 0:\n        floodFillGetter = (y, z) => {\n          if (y >= dimensions[1] || y < 0 || z >= dimensions[2] || z < 0) {\n            return;\n          }\n\n          return getLabelValue(fixedDimensionValue, y, z);\n        };\n        break;\n\n      case 1:\n        floodFillGetter = (x, z) => {\n          if (x >= dimensions[0] || x < 0 || z >= dimensions[2] || z < 0) {\n            return;\n          }\n\n          return getLabelValue(x, fixedDimensionValue, z);\n        };\n        break;\n\n      case 2:\n        floodFillGetter = (x, y) => {\n          if (x >= dimensions[0] || x < 0 || y >= dimensions[1] || y < 0) {\n            return;\n          }\n\n          return getLabelValue(x, y, fixedDimensionValue);\n        };\n        break;\n      default:\n        throw new Error(`Invalid fixedDimension: ${fixedDimension}`);\n    }\n\n    return floodFillGetter;\n  };\n\n  private generateGetScalarDataPositionFromPlane = (\n    getScalarDataPosition: (x: number, y: number, z: number) => number,\n    fixedDimension: number,\n    fixedDimensionValue: number\n  ): PaintFillToolHelpers['getScalarDataPositionFromPlane'] => {\n    let getScalarDataPositionFromPlane;\n\n    switch (fixedDimension) {\n      case 0:\n        getScalarDataPositionFromPlane = (y, z) => {\n          return getScalarDataPosition(fixedDimensionValue, y, z);\n        };\n        break;\n      case 1:\n        getScalarDataPositionFromPlane = (x, z) => {\n          return getScalarDataPosition(x, fixedDimensionValue, z);\n        };\n        break;\n      case 2:\n        getScalarDataPositionFromPlane = (x, y) => {\n          return getScalarDataPosition(x, y, fixedDimensionValue);\n        };\n        break;\n      default:\n        throw new Error(`Invalid fixedDimension: ${fixedDimension}`);\n    }\n\n    return getScalarDataPositionFromPlane;\n  };\n}\n\nPaintFillTool.toolName = 'PaintFill';\nexport default PaintFillTool;\n","var Corners = {\n  TOP_LEFT: 'TOP_LEFT',\n  TOP_RIGHT: 'TOP_RIGHT',\n  BOTTOM_LEFT: 'BOTTOM_LEFT',\n  BOTTOM_RIGHT: 'BOTTOM_RIGHT'\n};\nvar Constants = {\n  Corners: Corners\n};\n\nexport { Constants as default };\n","import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkRenderer from '../../Rendering/Core/Renderer.js';\nimport Constants from './OrientationMarkerWidget/Constants.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar vtkErrorMacro = macro.vtkErrorMacro;\nvar Corners = Constants.Corners; // ----------------------------------------------------------------------------\n// vtkOrientationMarkerWidget\n// ----------------------------------------------------------------------------\n\nfunction vtkOrientationMarkerWidget(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkOrientationMarkerWidget');\n\n  var superClass = _objectSpread({}, publicAPI); // Private variables\n\n\n  var previousCameraInput = [];\n  var selfRenderer = vtkRenderer.newInstance();\n  var resizeObserver = new ResizeObserver(function (entries) {\n    publicAPI.updateViewport();\n  });\n  var onCameraChangedSub = null;\n  var onCameraModifiedSub = null;\n  var onAnimationSub = null;\n  var onEndAnimationSub = null;\n  var selfSubscription = null;\n\n  function onCameraModified() {\n    // If animating, marker will be updated on Animation event\n    if (!model._interactor.isAnimating()) {\n      publicAPI.updateMarkerOrientation();\n    }\n  }\n\n  model._onParentRendererChanged = function () {\n    return publicAPI.updateViewport();\n  };\n\n  publicAPI.computeViewport = function () {\n    var parentRen = model.parentRenderer || model._interactor.getCurrentRenderer();\n\n    var _parentRen$getViewpor = parentRen.getViewport(),\n        _parentRen$getViewpor2 = _slicedToArray(_parentRen$getViewpor, 4),\n        xMin = _parentRen$getViewpor2[0],\n        yMin = _parentRen$getViewpor2[1],\n        xMax = _parentRen$getViewpor2[2],\n        yMax = _parentRen$getViewpor2[3];\n\n    var view = model._interactor.getView();\n\n    var canvasSize = view.getSize();\n\n    var _view$getViewportSize = view.getViewportSize(parentRen),\n        _view$getViewportSize2 = _slicedToArray(_view$getViewportSize, 2),\n        viewXSize = _view$getViewportSize2[0],\n        viewYSize = _view$getViewportSize2[1];\n\n    var minViewSize = Math.min(viewXSize, viewYSize);\n    var pixelSize = model.viewportSize * minViewSize; // clamp pixel size\n\n    pixelSize = Math.max(Math.min(model.minPixelSize, minViewSize), Math.min(model.maxPixelSize, pixelSize));\n    var xFrac = pixelSize / canvasSize[0];\n    var yFrac = pixelSize / canvasSize[1]; // [left bottom right top]\n\n    switch (model.viewportCorner) {\n      case Corners.TOP_LEFT:\n        return [xMin, yMax - yFrac, xMin + xFrac, yMax];\n\n      case Corners.TOP_RIGHT:\n        return [xMax - xFrac, yMax - yFrac, xMax, yMax];\n\n      case Corners.BOTTOM_LEFT:\n        return [xMin, yMin, xMin + xFrac, yMin + yFrac];\n\n      case Corners.BOTTOM_RIGHT:\n        return [xMax - xFrac, yMin, xMax, yMin + yFrac];\n\n      default:\n        vtkErrorMacro('Invalid widget corner');\n        return null;\n    }\n  };\n\n  publicAPI.updateViewport = function () {\n    if (model.enabled) {\n      selfRenderer.setViewport.apply(selfRenderer, _toConsumableArray(publicAPI.computeViewport()));\n\n      model._interactor.render();\n    }\n  };\n\n  publicAPI.updateMarkerOrientation = function () {\n    var ren = model.parentRenderer || model._interactor.getCurrentRenderer();\n\n    var currentCamera = ren.getActiveCamera();\n\n    if (!currentCamera) {\n      return;\n    }\n\n    var position = currentCamera.getReferenceByName('position');\n    var focalPoint = currentCamera.getReferenceByName('focalPoint');\n    var viewUp = currentCamera.getReferenceByName('viewUp');\n\n    if (previousCameraInput[0] !== position[0] || previousCameraInput[1] !== position[1] || previousCameraInput[2] !== position[2] || previousCameraInput[3] !== focalPoint[0] || previousCameraInput[4] !== focalPoint[1] || previousCameraInput[5] !== focalPoint[2] || previousCameraInput[6] !== viewUp[0] || previousCameraInput[7] !== viewUp[1] || previousCameraInput[8] !== viewUp[2]) {\n      previousCameraInput[0] = position[0];\n      previousCameraInput[1] = position[1];\n      previousCameraInput[2] = position[2];\n      previousCameraInput[3] = focalPoint[0];\n      previousCameraInput[4] = focalPoint[1];\n      previousCameraInput[5] = focalPoint[2];\n      previousCameraInput[6] = viewUp[0];\n      previousCameraInput[7] = viewUp[1];\n      previousCameraInput[8] = viewUp[2];\n      var activeCamera = selfRenderer.getActiveCamera();\n      activeCamera.setPosition(position[0], position[1], position[2]);\n      activeCamera.setFocalPoint(focalPoint[0], focalPoint[1], focalPoint[2]);\n      activeCamera.setViewUp(viewUp[0], viewUp[1], viewUp[2]);\n      selfRenderer.resetCamera();\n    }\n  };\n  /**\n   * Enables/Disables the orientation marker.\n   */\n\n\n  publicAPI.setEnabled = function (enabling) {\n    if (enabling) {\n      if (model.enabled) {\n        return;\n      }\n\n      if (!model.actor) {\n        vtkErrorMacro('Must set actor before enabling orientation marker.');\n        return;\n      }\n\n      if (!model._interactor) {\n        vtkErrorMacro('Must set interactor before enabling orientation marker.');\n        return;\n      }\n\n      var ren = model.parentRenderer || model._interactor.getCurrentRenderer();\n\n      var renderWindow = ren.getRenderWindow();\n      renderWindow.addRenderer(selfRenderer);\n\n      if (renderWindow.getNumberOfLayers() < 2) {\n        renderWindow.setNumberOfLayers(2);\n      } // Highest number is foreground\n\n\n      selfRenderer.setLayer(renderWindow.getNumberOfLayers() - 1);\n      selfRenderer.setInteractive(false);\n      selfRenderer.addViewProp(model.actor);\n      model.actor.setVisibility(true);\n      onCameraChangedSub = ren.onEvent(function (event) {\n        if (event.type === 'ActiveCameraEvent') {\n          if (onCameraModifiedSub) {\n            onCameraModifiedSub.unsubscribe();\n          }\n\n          onCameraModifiedSub = event.camera.onModified(onCameraModified);\n        }\n      });\n      onCameraModifiedSub = ren.getActiveCamera().onModified(onCameraModified);\n      onAnimationSub = model._interactor.onAnimation(publicAPI.updateMarkerOrientation);\n      onEndAnimationSub = model._interactor.onEndAnimation(publicAPI.updateMarkerOrientation);\n      resizeObserver.observe(model._interactor.getView().getCanvas());\n      publicAPI.updateViewport();\n      publicAPI.updateMarkerOrientation();\n      model.enabled = true;\n    } else {\n      var _model$_interactor, _model$_interactor$fi;\n\n      if (!model.enabled) {\n        return;\n      }\n\n      model.enabled = false;\n      resizeObserver.disconnect();\n      onCameraChangedSub.unsubscribe();\n      onCameraChangedSub = null;\n      onCameraModifiedSub.unsubscribe();\n      onCameraModifiedSub = null;\n      onAnimationSub.unsubscribe();\n      onAnimationSub = null;\n      onEndAnimationSub.unsubscribe();\n      onEndAnimationSub = null;\n      model.actor.setVisibility(false);\n      selfRenderer.removeViewProp(model.actor);\n\n      var _renderWindow = (_model$_interactor = model._interactor) === null || _model$_interactor === void 0 ? void 0 : (_model$_interactor$fi = _model$_interactor.findPokedRenderer()) === null || _model$_interactor$fi === void 0 ? void 0 : _model$_interactor$fi.getRenderWindow();\n\n      if (_renderWindow) {\n        _renderWindow.removeRenderer(selfRenderer);\n      }\n    }\n\n    publicAPI.modified();\n  };\n  /**\n   * Sets the viewport corner.\n   */\n\n\n  publicAPI.setViewportCorner = function (corner) {\n    if (corner === model.viewportCorner) {\n      return;\n    }\n\n    model.viewportCorner = corner;\n    publicAPI.updateViewport();\n  };\n  /**\n   * Sets the viewport size.\n   */\n\n\n  publicAPI.setViewportSize = function (sizeFactor) {\n    var viewportSize = Math.min(1, Math.max(0, sizeFactor));\n\n    if (viewportSize === model.viewportSize) {\n      return;\n    }\n\n    model.viewportSize = viewportSize;\n    publicAPI.updateViewport();\n  };\n\n  publicAPI.setActor = function (actor) {\n    var previousState = model.enabled;\n    publicAPI.setEnabled(false);\n    model.actor = actor;\n    publicAPI.setEnabled(previousState);\n  };\n\n  publicAPI.getRenderer = function () {\n    return selfRenderer;\n  };\n\n  publicAPI.delete = function () {\n    superClass.delete();\n\n    if (selfSubscription) {\n      selfSubscription.unsubscribe();\n      selfSubscription = null;\n    }\n\n    if (onCameraChangedSub) {\n      onCameraChangedSub.unsubscribe();\n      onCameraChangedSub = null;\n    }\n\n    if (onCameraModifiedSub) {\n      onCameraModifiedSub.unsubscribe();\n      onCameraModifiedSub = null;\n    }\n\n    if (onAnimationSub) {\n      onAnimationSub.unsubscribe();\n      onAnimationSub = null;\n    }\n\n    if (onEndAnimationSub) {\n      onEndAnimationSub.unsubscribe();\n      onEndAnimationSub = null;\n    }\n\n    resizeObserver.disconnect();\n  }; // --------------------------------------------------------------------------\n  // update viewport whenever we are updated\n\n\n  selfSubscription = publicAPI.onModified(publicAPI.updateViewport);\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  // actor: null,\n  // _interactor: null,\n  viewportCorner: Constants.Corners.BOTTOM_LEFT,\n  viewportSize: 0.2,\n  minPixelSize: 50,\n  maxPixelSize: 200,\n  parentRenderer: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.get(publicAPI, model, ['enabled', 'viewportCorner', 'viewportSize']); // NOTE: setting these while the widget is enabled will\n  // not update the widget.\n\n  macro.setGet(publicAPI, model, ['_interactor', 'minPixelSize', 'maxPixelSize', 'parentRenderer']);\n  macro.get(publicAPI, model, ['actor']);\n  macro.moveToProtected(publicAPI, model, ['interactor']); // Object methods\n\n  vtkOrientationMarkerWidget(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkOrientationMarkerWidget'); // ----------------------------------------------------------------------------\n\nvar vtkOrientationMarkerWidget$1 = _objectSpread({\n  newInstance: newInstance,\n  extend: extend\n}, Constants);\n\nexport { DEFAULT_VALUES, vtkOrientationMarkerWidget$1 as default, extend, newInstance };\n","import _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport vtkImageData from '../DataModel/ImageData.js';\nimport vtkDataArray from './DataArray.js';\n\n/**\n * Takes a canvas and converts it to a vtkImageData.\n *\n * Optionally supply a bounding box to get a particular subset of the canvas.\n *\n * @param canvas       The HTML canvas to convert\n * @param boundingBox  A bounding box of type [top, left, width, height]\n */\n\nfunction canvasToImageData(canvas) {\n  var boundingBox = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 0, 0];\n\n  var _boundingBox = _slicedToArray(boundingBox, 4),\n      top = _boundingBox[0],\n      left = _boundingBox[1],\n      width = _boundingBox[2],\n      height = _boundingBox[3];\n\n  var ctxt = canvas.getContext('2d');\n  var idata = ctxt.getImageData(top, left, width || canvas.width, height || canvas.height);\n  var imageData = vtkImageData.newInstance({\n    type: 'vtkImageData'\n  });\n  imageData.setOrigin(0, 0, 0);\n  imageData.setSpacing(1, 1, 1);\n  imageData.setExtent(0, (width || canvas.width) - 1, 0, (height || canvas.height) - 1, 0, 0);\n  var scalars = vtkDataArray.newInstance({\n    numberOfComponents: 4,\n    values: new Uint8Array(idata.data.buffer)\n  });\n  scalars.setName('scalars');\n  imageData.getPointData().setScalars(scalars);\n  return imageData;\n}\n/**\n * Converts an Image object to a vtkImageData.\n */\n\n\nfunction imageToImageData(image) {\n  var transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    flipX: false,\n    flipY: false,\n    rotate: 0\n  };\n  var canvas = document.createElement('canvas');\n  canvas.width = image.width;\n  canvas.height = image.height;\n  var ctx = canvas.getContext('2d');\n  var flipX = transform.flipX,\n      flipY = transform.flipY,\n      rotate = transform.rotate;\n  ctx.translate(canvas.width / 2, canvas.height / 2);\n  ctx.scale(flipX ? -1 : 1, flipY ? -1 : 1);\n  ctx.rotate(rotate * Math.PI / 180);\n  ctx.drawImage(image, -image.width / 2, -image.height / 2);\n  return canvasToImageData(canvas);\n}\n\nvar ImageHelper = {\n  canvasToImageData: canvasToImageData,\n  imageToImageData: imageToImageData\n};\n\nexport { ImageHelper as default };\n","var STYLES = {\n  default: {\n    defaultStyle: {\n      fontStyle: 'bold',\n      fontFamily: 'Arial',\n      fontColor: 'black',\n      fontSizeScale: function fontSizeScale(res) {\n        return res / 2;\n      },\n      faceColor: 'white',\n      edgeThickness: 0.1,\n      edgeColor: 'black',\n      resolution: 400\n    },\n    xMinusFaceProperty: {\n      text: 'X-',\n      faceColor: 'yellow'\n    },\n    xPlusFaceProperty: {\n      text: 'X+',\n      faceColor: 'yellow'\n    },\n    yMinusFaceProperty: {\n      text: 'Y-',\n      faceColor: 'red'\n    },\n    yPlusFaceProperty: {\n      text: 'Y+',\n      faceColor: 'red'\n    },\n    zMinusFaceProperty: {\n      text: 'Z-',\n      faceColor: '#008000'\n    },\n    zPlusFaceProperty: {\n      text: 'Z+',\n      faceColor: '#008000'\n    }\n  },\n  lps: {\n    xMinusFaceProperty: {\n      text: 'R',\n      faceRotation: -90\n    },\n    xPlusFaceProperty: {\n      text: 'L',\n      faceRotation: 90\n    },\n    yMinusFaceProperty: {\n      text: 'A',\n      faceRotation: 0\n    },\n    yPlusFaceProperty: {\n      text: 'P',\n      faceRotation: 180\n    },\n    zMinusFaceProperty: {\n      text: 'I',\n      faceRotation: 180\n    },\n    zPlusFaceProperty: {\n      text: 'S',\n      faceRotation: 0\n    }\n  }\n};\n\nfunction applyDefinitions(definitions, cubeActor) {\n  cubeActor.set(definitions);\n}\n\nfunction applyPreset(name, cubeActor) {\n  return applyDefinitions(STYLES[name], cubeActor);\n}\n\nfunction registerStylePreset(name, definitions) {\n  STYLES[name] = definitions;\n}\n\nvar AnnotatedCubePresets = {\n  applyDefinitions: applyDefinitions,\n  applyPreset: applyPreset,\n  registerStylePreset: registerStylePreset\n};\n\nexport { AnnotatedCubePresets as default };\n","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkActor from './Actor.js';\nimport vtkMapper from './Mapper.js';\nimport vtkTexture from './Texture.js';\nimport vtkCubeSource from '../../Filters/Sources/CubeSource.js';\nimport ImageHelper from '../../Common/Core/ImageHelper.js';\nimport AnnotatedCubePresets from './AnnotatedCubeActor/Presets.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar FACE_TO_INDEX = {\n  xPlus: 0,\n  xMinus: 1,\n  yPlus: 2,\n  yMinus: 3,\n  zPlus: 4,\n  zMinus: 5\n}; // ----------------------------------------------------------------------------\n// vtkAnnotatedCubeActor\n// ----------------------------------------------------------------------------\n\nfunction vtkAnnotatedCubeActor(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkAnnotatedCubeActor'); // Make sure face properties are not references to the default value\n\n  model.xPlusFaceProperty = _objectSpread({}, model.xPlusFaceProperty);\n  model.xMinusFaceProperty = _objectSpread({}, model.xMinusFaceProperty);\n  model.yPlusFaceProperty = _objectSpread({}, model.yPlusFaceProperty);\n  model.yMinusFaceProperty = _objectSpread({}, model.yMinusFaceProperty);\n  model.zPlusFaceProperty = _objectSpread({}, model.zPlusFaceProperty);\n  model.zMinusFaceProperty = _objectSpread({}, model.zMinusFaceProperty); // private variables\n\n  var cubeSource = null;\n  var canvas = document.createElement('canvas');\n  var mapper = vtkMapper.newInstance();\n  var texture = vtkTexture.newInstance();\n  texture.setInterpolate(true); // private methods\n\n  function updateFaceTexture(faceName) {\n    var newProp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    if (newProp) {\n      Object.assign(model[\"\".concat(faceName, \"FaceProperty\")], newProp);\n    }\n\n    var prop = _objectSpread(_objectSpread({}, model.defaultStyle), model[\"\".concat(faceName, \"FaceProperty\")]); // set canvas resolution\n\n\n    canvas.width = prop.resolution;\n    canvas.height = prop.resolution;\n    var ctxt = canvas.getContext('2d'); // set background color\n\n    ctxt.fillStyle = prop.faceColor;\n    ctxt.fillRect(0, 0, canvas.width, canvas.height); // draw edge\n\n    if (prop.edgeThickness > 0) {\n      ctxt.strokeStyle = prop.edgeColor;\n      ctxt.lineWidth = prop.edgeThickness * canvas.width;\n      ctxt.strokeRect(0, 0, canvas.width, canvas.height);\n    } // set face rotation\n\n\n    ctxt.save(); // vertical flip\n\n    ctxt.translate(0, canvas.height);\n    ctxt.scale(1, -1);\n    ctxt.translate(canvas.width / 2, canvas.height / 2);\n    ctxt.rotate(-Math.PI * (prop.faceRotation / 180.0)); // set foreground text\n\n    var textSize = prop.fontSizeScale(prop.resolution);\n    ctxt.fillStyle = prop.fontColor;\n    ctxt.textAlign = 'center';\n    ctxt.textBaseline = 'middle';\n    ctxt.font = \"\".concat(prop.fontStyle, \" \").concat(textSize, \"px \\\"\").concat(prop.fontFamily, \"\\\"\");\n    ctxt.fillText(prop.text, 0, 0);\n    ctxt.restore();\n    var vtkImage = ImageHelper.canvasToImageData(canvas);\n    texture.setInputData(vtkImage, FACE_TO_INDEX[faceName]);\n    publicAPI.modified();\n  }\n\n  function updateAllFaceTextures() {\n    cubeSource = vtkCubeSource.newInstance({\n      generate3DTextureCoordinates: true\n    });\n    mapper.setInputConnection(cubeSource.getOutputPort());\n    updateFaceTexture('xPlus');\n    updateFaceTexture('xMinus');\n    updateFaceTexture('yPlus');\n    updateFaceTexture('yMinus');\n    updateFaceTexture('zPlus');\n    updateFaceTexture('zMinus');\n  } // public methods\n\n\n  publicAPI.setDefaultStyle = function (style) {\n    model.defaultStyle = _objectSpread(_objectSpread({}, model.defaultStyle), style);\n    updateAllFaceTextures();\n  };\n\n  publicAPI.setXPlusFaceProperty = function (prop) {\n    return updateFaceTexture('xPlus', prop);\n  };\n\n  publicAPI.setXMinusFaceProperty = function (prop) {\n    return updateFaceTexture('xMinus', prop);\n  };\n\n  publicAPI.setYPlusFaceProperty = function (prop) {\n    return updateFaceTexture('yPlus', prop);\n  };\n\n  publicAPI.setYMinusFaceProperty = function (prop) {\n    return updateFaceTexture('yMinus', prop);\n  };\n\n  publicAPI.setZPlusFaceProperty = function (prop) {\n    return updateFaceTexture('zPlus', prop);\n  };\n\n  publicAPI.setZMinusFaceProperty = function (prop) {\n    return updateFaceTexture('zMinus', prop);\n  }; // constructor\n\n\n  updateAllFaceTextures(); // set mapper\n\n  mapper.setInputConnection(cubeSource.getOutputPort());\n  publicAPI.setMapper(mapper); // set texture\n\n  publicAPI.addTexture(texture);\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  defaultStyle: {\n    text: '',\n    faceColor: 'white',\n    faceRotation: 0,\n    fontFamily: 'Arial',\n    fontColor: 'black',\n    fontStyle: 'normal',\n    fontSizeScale: function fontSizeScale(resolution) {\n      return resolution / 1.8;\n    },\n    edgeThickness: 0.1,\n    edgeColor: 'black',\n    resolution: 200\n  } // xPlusFaceProperty: null,\n  // xMinusFaceProperty: null,\n  // yPlusFaceProperty: null,\n  // yMinusFaceProperty: null,\n  // zPlusFaceProperty: null,\n  // zMinusFaceProperty: null,\n\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkActor.extend(publicAPI, model, initialValues);\n  macro.get(publicAPI, model, ['defaultStyle', 'xPlusFaceProperty', 'xMinusFaceProperty', 'yPlusFaceProperty', 'yMinusFaceProperty', 'zPlusFaceProperty', 'zMinusFaceProperty']); // Object methods\n\n  vtkAnnotatedCubeActor(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkAnnotatedCubeActor'); // ----------------------------------------------------------------------------\n\nvar vtkAnnotatedCubeActor$1 = {\n  newInstance: newInstance,\n  extend: extend,\n  Presets: AnnotatedCubePresets\n};\n\nexport { DEFAULT_VALUES, vtkAnnotatedCubeActor$1 as default, extend, newInstance };\n","import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport macro from '../../macros.js';\nimport vtkPolyData from '../../Common/DataModel/PolyData.js';\nimport vtkMatrixBuilder from '../../Common/Core/MatrixBuilder.js';\n\n// vtkConeSource methods\n// ----------------------------------------------------------------------------\n\nfunction vtkConeSource(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkConeSource');\n\n  function requestData(inData, outData) {\n    var _vtkMatrixBuilder$bui;\n\n    if (model.deleted) {\n      return;\n    }\n\n    var dataset = outData[0];\n    var angle = 2 * Math.PI / model.resolution;\n    var xbot = -model.height / 2.0;\n    var numberOfPoints = model.resolution + 1;\n    var cellArraySize = 4 * model.resolution + 1 + model.resolution; // Points\n\n    var pointIdx = 0;\n    var points = macro.newTypedArray(model.pointType, numberOfPoints * 3); // Cells\n\n    var cellLocation = 0;\n    var polys = new Uint32Array(cellArraySize); // Add summit point\n\n    points[0] = model.height / 2.0;\n    points[1] = 0.0;\n    points[2] = 0.0; // Create bottom cell\n\n    if (model.capping) {\n      polys[cellLocation++] = model.resolution;\n    } // Add all points\n\n\n    for (var i = 0; i < model.resolution; i++) {\n      pointIdx++;\n      points[pointIdx * 3 + 0] = xbot;\n      points[pointIdx * 3 + 1] = model.radius * Math.cos(i * angle);\n      points[pointIdx * 3 + 2] = model.radius * Math.sin(i * angle); // Add points to bottom cell in reverse order\n\n      if (model.capping) {\n        polys[model.resolution - cellLocation++ + 1] = pointIdx;\n      }\n    } // Add all triangle cells\n\n\n    for (var _i = 0; _i < model.resolution; _i++) {\n      polys[cellLocation++] = 3;\n      polys[cellLocation++] = 0;\n      polys[cellLocation++] = _i + 1;\n      polys[cellLocation++] = _i + 2 > model.resolution ? 1 : _i + 2;\n    } // Apply transformation to the points coordinates\n\n\n    (_vtkMatrixBuilder$bui = vtkMatrixBuilder.buildFromRadian()).translate.apply(_vtkMatrixBuilder$bui, _toConsumableArray(model.center)).rotateFromDirections([1, 0, 0], model.direction).apply(points);\n\n    dataset = vtkPolyData.newInstance();\n    dataset.getPoints().setData(points, 3);\n    dataset.getPolys().setData(polys, 1); // Update output\n\n    outData[0] = dataset;\n  } // Expose methods\n\n\n  publicAPI.requestData = requestData;\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  height: 1.0,\n  radius: 0.5,\n  resolution: 6,\n  center: [0, 0, 0],\n  direction: [1.0, 0.0, 0.0],\n  capping: true,\n  pointType: 'Float64Array'\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.setGet(publicAPI, model, ['height', 'radius', 'resolution', 'capping']);\n  macro.setGetArray(publicAPI, model, ['center', 'direction'], 3);\n  macro.algo(publicAPI, model, 0, 1);\n  vtkConeSource(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkConeSource'); // ----------------------------------------------------------------------------\n\nvar vtkConeSource$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkConeSource$1 as default, extend, newInstance };\n","import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport macro from '../../macros.js';\nimport vtkDataArray from '../../Common/Core/DataArray.js';\nimport vtkPolyData from '../../Common/DataModel/PolyData.js';\nimport vtkMatrixBuilder from '../../Common/Core/MatrixBuilder.js';\n\n// vtkCylinderSource methods\n// ----------------------------------------------------------------------------\n\nfunction vtkCylinderSource(publicAPI, model) {\n  // Set our classname\n  model.classHierarchy.push('vtkCylinderSource');\n\n  function requestData(inData, outData) {\n    var _vtkMatrixBuilder$bui, _vtkMatrixBuilder$bui2;\n\n    if (model.deleted) {\n      return;\n    }\n\n    var dataset = outData[0];\n    var angle = 2.0 * Math.PI / model.resolution;\n    var numberOfPoints = 2 * model.resolution;\n    var numberOfPolys = 5 * model.resolution;\n\n    if (model.capping) {\n      numberOfPoints = 4 * model.resolution;\n      numberOfPolys = 7 * model.resolution + 2;\n    } // Points\n\n\n    var points = macro.newTypedArray(model.pointType, numberOfPoints * 3); // Cells\n\n    var cellLocation = 0;\n    var polys = new Uint32Array(numberOfPolys); // Normals\n\n    var normalsData = new Float32Array(numberOfPoints * 3);\n    var normals = vtkDataArray.newInstance({\n      numberOfComponents: 3,\n      values: normalsData,\n      name: 'Normals'\n    }); // Texture coords\n\n    var tcData = new Float32Array(numberOfPoints * 2);\n    var tcoords = vtkDataArray.newInstance({\n      numberOfComponents: 2,\n      values: tcData,\n      name: 'TCoords'\n    }); // Generate points for all sides\n\n    var nbot = [0.0, 0.0, 0.0];\n    var ntop = [0.0, 0.0, 0.0];\n    var xbot = [0.0, 0.0, 0.0];\n    var xtop = [0.0, 0.0, 0.0];\n    var tcbot = [0.0, 0.0];\n    var tctop = [0.0, 0.0];\n    var otherRadius = model.otherRadius == null ? model.radius : model.otherRadius;\n\n    for (var i = 0; i < model.resolution; i++) {\n      // x coordinate\n      nbot[0] = Math.cos(i * angle + model.initAngle);\n      ntop[0] = nbot[0];\n      xbot[0] = model.radius * nbot[0] + model.center[0];\n      xtop[0] = xbot[0];\n      tcbot[0] = Math.abs(2.0 * i / model.resolution - 1.0);\n      tctop[0] = tcbot[0]; // y coordinate\n\n      xbot[1] = 0.5 * model.height + model.center[1];\n      xtop[1] = -0.5 * model.height + model.center[1];\n      tcbot[1] = 0.0;\n      tctop[1] = 1.0; // z coordinate\n\n      nbot[2] = -Math.sin(i * angle + model.initAngle);\n      ntop[2] = nbot[2];\n      xbot[2] = otherRadius * nbot[2] + model.center[2];\n      xtop[2] = xbot[2];\n      var pointIdx = 2 * i;\n\n      for (var j = 0; j < 3; j++) {\n        normalsData[pointIdx * 3 + j] = nbot[j];\n        normalsData[(pointIdx + 1) * 3 + j] = ntop[j];\n        points[pointIdx * 3 + j] = xbot[j];\n        points[(pointIdx + 1) * 3 + j] = xtop[j];\n\n        if (j < 2) {\n          tcData[pointIdx * 2 + j] = tcbot[j];\n          tcData[(pointIdx + 1) * 2 + j] = tctop[j];\n        }\n      }\n    } // Generate polygons for sides\n\n\n    for (var _i = 0; _i < model.resolution; _i++) {\n      polys[cellLocation++] = 4;\n      polys[cellLocation++] = 2 * _i;\n      polys[cellLocation++] = 2 * _i + 1;\n      var pt = (2 * _i + 3) % (2 * model.resolution);\n      polys[cellLocation++] = pt;\n      polys[cellLocation++] = pt - 1;\n    }\n\n    if (model.capping) {\n      // Generate points for top/bottom polygons\n      for (var _i2 = 0; _i2 < model.resolution; _i2++) {\n        // x coordinate\n        xbot[0] = model.radius * Math.cos(_i2 * angle + model.initAngle);\n        xtop[0] = xbot[0];\n        tcbot[0] = xbot[0];\n        tctop[0] = xbot[0];\n        xbot[0] += model.center[0];\n        xtop[0] += model.center[0]; // y coordinate\n\n        nbot[1] = 1.0;\n        ntop[1] = -1.0;\n        xbot[1] = 0.5 * model.height + model.center[1];\n        xtop[1] = -0.5 * model.height + model.center[1]; // z coordinate\n\n        xbot[2] = -otherRadius * Math.sin(_i2 * angle + model.initAngle);\n        xtop[2] = xbot[2];\n        tcbot[1] = xbot[2];\n        tctop[1] = xbot[2];\n        xbot[2] += model.center[2];\n        xtop[2] += model.center[2];\n        var botIdx = 2 * model.resolution + _i2;\n        var topIdx = 3 * model.resolution + model.resolution - _i2 - 1;\n\n        for (var _j = 0; _j < 3; _j++) {\n          normalsData[3 * botIdx + _j] = nbot[_j];\n          normalsData[3 * topIdx + _j] = ntop[_j];\n          points[3 * botIdx + _j] = xbot[_j];\n          points[3 * topIdx + _j] = xtop[_j];\n\n          if (_j < 2) {\n            tcData[2 * botIdx + _j] = tcbot[_j];\n            tcData[2 * topIdx + _j] = tctop[_j];\n          }\n        }\n      } // Generate polygons for top/bottom\n\n\n      polys[cellLocation++] = model.resolution;\n\n      for (var _i3 = 0; _i3 < model.resolution; _i3++) {\n        polys[cellLocation++] = 2 * model.resolution + _i3;\n      }\n\n      polys[cellLocation++] = model.resolution;\n\n      for (var _i4 = 0; _i4 < model.resolution; _i4++) {\n        polys[cellLocation++] = 3 * model.resolution + _i4;\n      }\n    } // Apply transformation to the points coordinates\n\n\n    (_vtkMatrixBuilder$bui = (_vtkMatrixBuilder$bui2 = vtkMatrixBuilder.buildFromRadian()).translate.apply(_vtkMatrixBuilder$bui2, _toConsumableArray(model.center)).rotateFromDirections([0, 1, 0], model.direction)).translate.apply(_vtkMatrixBuilder$bui, _toConsumableArray(model.center.map(function (c) {\n      return c * -1;\n    }))).apply(points);\n\n    dataset = vtkPolyData.newInstance();\n    dataset.getPoints().setData(points, 3);\n    dataset.getPolys().setData(polys, 1);\n    dataset.getPointData().setNormals(normals);\n    dataset.getPointData().setTCoords(tcoords); // Update output\n\n    outData[0] = dataset;\n  } // Expose methods\n\n\n  publicAPI.requestData = requestData;\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  height: 1.0,\n  initAngle: 0,\n  radius: 1.0,\n  resolution: 6,\n  center: [0, 0, 0],\n  direction: [0.0, 1.0, 0.0],\n  capping: true,\n  pointType: 'Float64Array'\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.setGet(publicAPI, model, ['height', 'initAngle', 'otherRadius', 'radius', 'resolution', 'capping']);\n  macro.setGetArray(publicAPI, model, ['center', 'direction'], 3);\n  macro.algo(publicAPI, model, 0, 1);\n  vtkCylinderSource(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkCylinderSource'); // ----------------------------------------------------------------------------\n\nvar vtkCylinderSource$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkCylinderSource$1 as default, extend, newInstance };\n","import macro from '../../macros.js';\nimport vtkAppendPolyData from '../General/AppendPolyData.js';\nimport vtkConeSource from './ConeSource.js';\nimport vtkCylinderSource from './CylinderSource.js';\nimport vtkMatrixBuilder from '../../Common/Core/MatrixBuilder.js';\n\n// vtkArrowSource methods\n// ----------------------------------------------------------------------------\n\nfunction vtkArrowSource(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkArrowSource');\n\n  function requestData(inData, outData) {\n    if (model.deleted) {\n      return;\n    }\n\n    var cylinder = vtkCylinderSource.newInstance({\n      capping: true\n    });\n    cylinder.setResolution(model.shaftResolution);\n    cylinder.setRadius(model.shaftRadius);\n    cylinder.setHeight(1.0 - model.tipLength);\n    cylinder.setCenter(0, (1.0 - model.tipLength) * 0.5, 0.0);\n    var cylinderPD = cylinder.getOutputData();\n    var cylinderPts = cylinderPD.getPoints().getData();\n    var cylinderNormals = cylinderPD.getPointData().getNormals().getData(); // Apply transformation to the cylinder\n\n    vtkMatrixBuilder.buildFromDegree().rotateZ(-90).apply(cylinderPts).apply(cylinderNormals);\n    var cone = vtkConeSource.newInstance();\n    cone.setResolution(model.tipResolution);\n    cone.setHeight(model.tipLength);\n    cone.setRadius(model.tipRadius);\n    var conePD = cone.getOutputData();\n    var conePts = conePD.getPoints().getData(); // Apply transformation to the cone\n\n    vtkMatrixBuilder.buildFromRadian().translate(1.0 - model.tipLength * 0.5, 0.0, 0.0).apply(conePts);\n    var append = vtkAppendPolyData.newInstance();\n    append.setInputData(cylinderPD);\n    append.addInputData(conePD);\n    var appendPD = append.getOutputData();\n    var appendPts = appendPD.getPoints().getData(); // Center the arrow about [0, 0, 0]\n\n    vtkMatrixBuilder.buildFromRadian().translate(-0.5 + model.tipLength * 0.5, 0.0, 0.0).apply(appendPts);\n\n    if (model.invert) {\n      // Apply transformation to the arrow\n      vtkMatrixBuilder.buildFromRadian().rotateFromDirections([1, 0, 0], model.direction).scale(-1, -1, -1).apply(appendPts); // Update output\n\n      outData[0] = appendPD;\n    } else {\n      // Apply transformation to the arrow\n      vtkMatrixBuilder.buildFromRadian().rotateFromDirections([1, 0, 0], model.direction).scale(1, 1, 1).apply(appendPts); // Update output\n\n      outData[0] = append.getOutputData();\n    }\n  } // Expose methods\n\n\n  publicAPI.requestData = requestData;\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  tipResolution: 6,\n  tipRadius: 0.1,\n  tipLength: 0.35,\n  shaftResolution: 6,\n  shaftRadius: 0.03,\n  invert: false,\n  direction: [1.0, 0.0, 0.0],\n  pointType: 'Float64Array'\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.setGet(publicAPI, model, ['tipResolution', 'tipRadius', 'tipLength', 'shaftResolution', 'shaftRadius', 'invert']);\n  macro.setGetArray(publicAPI, model, ['direction'], 3);\n  macro.algo(publicAPI, model, 0, 1);\n  vtkArrowSource(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkArrowSource'); // ----------------------------------------------------------------------------\n\nvar vtkArrowSource$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkArrowSource$1 as default, extend, newInstance };\n","import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkMatrixBuilder from '../../Common/Core/MatrixBuilder.js';\nimport vtkDataArray from '../../Common/Core/DataArray.js';\nimport vtkActor from './Actor.js';\nimport vtkMapper from './Mapper.js';\nimport vtkArrowSource from '../../Filters/Sources/ArrowSource.js';\nimport vtkAppendPolyData from '../../Filters/General/AppendPolyData.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction centerDataSet(ds) {\n  var _vtkMatrixBuilder$bui;\n\n  var bounds = ds.getPoints().getBounds();\n  var center = [-(bounds[0] + bounds[1]) * 0.5, -(bounds[2] + bounds[3]) * 0.5, -(bounds[4] + bounds[5]) * 0.5];\n\n  (_vtkMatrixBuilder$bui = vtkMatrixBuilder.buildFromDegree()).translate.apply(_vtkMatrixBuilder$bui, center).apply(ds.getPoints().getData());\n}\n\nfunction shiftDataset(ds, axis) {\n  var _vtkMatrixBuilder$bui2;\n\n  var bounds = ds.getPoints().getBounds();\n  var center = [0, 0, 0];\n  center[axis] = -bounds[axis * 2];\n\n  (_vtkMatrixBuilder$bui2 = vtkMatrixBuilder.buildFromDegree()).translate.apply(_vtkMatrixBuilder$bui2, center).apply(ds.getPoints().getData());\n} // ----------------------------------------------------------------------------\n\n\nfunction addColor(ds, r, g, b) {\n  var size = ds.getPoints().getData().length;\n  var rgbArray = new Uint8Array(size);\n  var offset = 0;\n\n  while (offset < size) {\n    rgbArray[offset++] = r;\n    rgbArray[offset++] = g;\n    rgbArray[offset++] = b;\n  }\n\n  ds.getPointData().setScalars(vtkDataArray.newInstance({\n    name: 'color',\n    numberOfComponents: 3,\n    values: rgbArray\n  }));\n} // ----------------------------------------------------------------------------\n// vtkAxesActor\n// ----------------------------------------------------------------------------\n\n\nfunction vtkAxesActor(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkAxesActor');\n\n  var _mapper = vtkMapper.newInstance();\n\n  publicAPI.setMapper(_mapper);\n\n  publicAPI.update = function () {\n    var xAxis = vtkArrowSource.newInstance(_objectSpread({\n      direction: [1, 0, 0]\n    }, model.config)).getOutputData();\n\n    if (model.config.recenter) {\n      centerDataSet(xAxis);\n    } else {\n      shiftDataset(xAxis, 0);\n    }\n\n    addColor.apply(void 0, [xAxis].concat(_toConsumableArray(model.xAxisColor)));\n    var yAxis = vtkArrowSource.newInstance(_objectSpread({\n      direction: [0, 1, 0]\n    }, model.config)).getOutputData();\n\n    if (model.config.recenter) {\n      centerDataSet(yAxis);\n    } else {\n      shiftDataset(yAxis, 1);\n    }\n\n    addColor.apply(void 0, [yAxis].concat(_toConsumableArray(model.yAxisColor)));\n    var zAxis = vtkArrowSource.newInstance(_objectSpread({\n      direction: [0, 0, 1]\n    }, model.config)).getOutputData();\n\n    if (model.config.recenter) {\n      centerDataSet(zAxis);\n    } else {\n      shiftDataset(zAxis, 2);\n    }\n\n    addColor.apply(void 0, [zAxis].concat(_toConsumableArray(model.zAxisColor)));\n    var source = vtkAppendPolyData.newInstance();\n    source.setInputData(xAxis);\n    source.addInputData(yAxis);\n    source.addInputData(zAxis);\n\n    _mapper.setInputConnection(source.getOutputPort());\n  };\n\n  publicAPI.update();\n\n  var _debouncedUpdate = macro.debounce(publicAPI.update, 0);\n\n  var setConfig = publicAPI.setConfig,\n      setXAxisColor = publicAPI.setXAxisColor,\n      setYAxisColor = publicAPI.setYAxisColor,\n      setZAxisColor = publicAPI.setZAxisColor;\n\n  publicAPI.setConfig = function (c) {\n    if (setConfig(c)) {\n      _debouncedUpdate();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  publicAPI.setXAxisColor = function (c) {\n    if (setXAxisColor(c)) {\n      _debouncedUpdate();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  publicAPI.setYAxisColor = function (c) {\n    if (setYAxisColor(c)) {\n      _debouncedUpdate();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  publicAPI.setZAxisColor = function (c) {\n    if (setZAxisColor(c)) {\n      _debouncedUpdate();\n\n      return true;\n    }\n\n    return false;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  config: {\n    recenter: true,\n    tipResolution: 60,\n    tipRadius: 0.1,\n    tipLength: 0.2,\n    shaftResolution: 60,\n    shaftRadius: 0.03,\n    invert: false\n  },\n  xAxisColor: [255, 0, 0],\n  yAxisColor: [255, 255, 0],\n  zAxisColor: [0, 128, 0]\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkActor.extend(publicAPI, model, initialValues);\n  macro.setGet(publicAPI, model, ['config']);\n  macro.setGetArray(publicAPI, model, ['xAxisColor', 'yAxisColor', 'zAxisColor'], 3, 255); // Object methods\n\n  vtkAxesActor(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkAxesActor'); // ----------------------------------------------------------------------------\n\nvar vtkAxesActor$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { DEFAULT_VALUES, vtkAxesActor$1 as default, extend, newInstance };\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    if (!sl || (st && st.f && !st.l))\n        return buf || new u8(0);\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [et, 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[pos >> 3] = lst;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            // deopt when i > s - 3 - at end, deopt acceptable\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst && pos & 7)\n            pos = wfblk(w, pos + 1, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return ((d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) | (d[l - 1] << 24)) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if (d[1] & 32)\n        err(6, 'invalid zlib data: preset dictionaries not supported');\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = this.p.length > 3 ? gzs(this.p) : 4;\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                err(6, 'invalid gzip data');\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return [r, slc(d, i - 1)];\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), ch = _a[0], np = _a[1];\n        if (final) {\n            if (np.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = np;\n        this.ondata(ch, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td)\n        return td.decode(dat);\n    else {\n        var _a = dutf8(dat), out = _a[0], ext = _a[1];\n        if (ext.length)\n            err(8);\n        return out;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c == null && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1)), b += 4;\n    if (c != null) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this_1.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this_1 = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this_1.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this_1.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this_1.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this_1.ondata(err, dat, final);\n                    _this_1.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this_1 = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this_1.d & 1))\n                        return;\n                    _this_1.u.splice(-1, 1);\n                    _this_1.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, f.c, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this_1 = this;\n        this.i = new Inflate(function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this_1 = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this_1.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this_1.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this_1 = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this_1.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this_1.k[0] == chks_3 && _this_1.c)\n                                        _this_1.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295;\n        if (z) {\n            e = b4(data, e - 12);\n            if (b4(data, e) != 0x6064B50) {\n                cbd(err(13, 0, 1), null);\n                return tAll;\n            }\n            c = lft = b4(data, e + 32);\n            o = b4(data, e + 48);\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    if (sc < 320000) {\n                        try {\n                            cbl(null, inflateSync(infl, new u8(su)));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            err(13);\n        c = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","var TYPE_MAPPING = {};\nfunction has(type) {\n  return !!TYPE_MAPPING[type];\n}\nfunction get() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'http';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return TYPE_MAPPING[type](options);\n}\nfunction registerType(type, fn) {\n  TYPE_MAPPING[type] = fn;\n}\nvar DataAccessHelper = {\n  get: get,\n  has: has,\n  registerType: registerType\n};\n\nexport { DataAccessHelper as default, get, has, registerType };\n","/* eslint-disable no-bitwise */\n// ----------------------------------------------------------------------------\n// Decoding infrastructure\n// ----------------------------------------------------------------------------\nvar REVERSE_LOOKUP = [];\nREVERSE_LOOKUP['-'.charCodeAt(0)] = 62;\nREVERSE_LOOKUP['_'.charCodeAt(0)] = 63;\nvar BASE64_CODE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nfor (var i = 0; i < BASE64_CODE.length; i++) {\n  REVERSE_LOOKUP[BASE64_CODE.charCodeAt(i)] = i;\n} // ----------------------------------------------------------------------------\n// Base64 analysis\n// ----------------------------------------------------------------------------\n\n\nfunction isValidChar(c) {\n  return REVERSE_LOOKUP[c.charCodeAt(0)] !== undefined;\n}\n\nfunction extractChunks(b64Str) {\n  var strSize = b64Str.length;\n  var chunks = [];\n  var currentChunk = null;\n\n  for (var _i = 0; _i < strSize; _i++) {\n    if (isValidChar(b64Str[_i])) {\n      if (!currentChunk) {\n        currentChunk = {\n          start: _i,\n          count: 0\n        };\n      }\n\n      currentChunk.count++;\n      currentChunk.end = _i;\n    } else if (b64Str[_i] === '=' && currentChunk) {\n      // End of chunk (found padding char)\n      chunks.push(currentChunk);\n      currentChunk = null;\n    }\n  }\n\n  if (currentChunk) {\n    chunks.push(currentChunk);\n  }\n\n  return chunks;\n}\n\nfunction writeChunk(b64Str, chunk, dstOffset, uint8) {\n  var start = chunk.start,\n      count = chunk.count;\n  var remain = count % 4;\n  var fourCharProcessCount = Math.floor(count / 4);\n  var charIdx = start;\n  var tmp = null;\n  var offset = dstOffset; // Handle 4=>3\n\n  for (var _i2 = 0; _i2 < fourCharProcessCount; _i2++) {\n    while (!isValidChar(b64Str[charIdx])) {\n      charIdx++;\n    }\n\n    tmp = REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] << 18;\n\n    while (!isValidChar(b64Str[charIdx])) {\n      charIdx++;\n    }\n\n    tmp |= REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] << 12;\n\n    while (!isValidChar(b64Str[charIdx])) {\n      charIdx++;\n    }\n\n    tmp |= REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] << 6;\n\n    while (!isValidChar(b64Str[charIdx])) {\n      charIdx++;\n    }\n\n    tmp |= REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)];\n    uint8[offset++] = tmp >> 16 & 0xff;\n    uint8[offset++] = tmp >> 8 & 0xff;\n    uint8[offset++] = tmp & 0xff;\n  } // Handle remain\n\n\n  switch (remain) {\n    case 3:\n      while (!isValidChar(b64Str[charIdx])) {\n        charIdx++;\n      }\n\n      tmp = REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] << 10;\n\n      while (!isValidChar(b64Str[charIdx])) {\n        charIdx++;\n      }\n\n      tmp |= REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] << 4;\n\n      while (!isValidChar(b64Str[charIdx])) {\n        charIdx++;\n      }\n\n      tmp |= REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] >> 2;\n      uint8[offset++] = tmp >> 8 & 0xff;\n      uint8[offset++] = tmp & 0xff;\n      break;\n\n    case 2:\n      while (!isValidChar(b64Str[charIdx])) {\n        charIdx++;\n      }\n\n      tmp = REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] << 2;\n\n      while (!isValidChar(b64Str[charIdx])) {\n        charIdx++;\n      }\n\n      tmp |= REVERSE_LOOKUP[b64Str.charCodeAt(charIdx++)] >> 4;\n      uint8[offset++] = tmp & 0xff;\n      break;\n\n    case 1:\n      throw new Error('BASE64: remain 1 should not happen');\n  }\n\n  return offset;\n}\n\nfunction toArrayBuffer(b64Str) {\n  var chunks = extractChunks(b64Str);\n  var totalEncodedLength = chunks[chunks.length - 1].end + 1;\n  var padding = (4 - totalEncodedLength % 4) % 4; // -length mod 4\n  // Any padding chars in the middle of b64Str is to be interpreted as \\x00,\n  // whereas the terminating padding chars are to be interpreted as literal padding.\n\n  var totalSize = (totalEncodedLength + padding) * 3 / 4 - padding;\n  var arrayBuffer = new ArrayBuffer(totalSize);\n  var view = new Uint8Array(arrayBuffer);\n  var dstOffset = 0;\n\n  for (var _i3 = 0; _i3 < chunks.length; _i3++) {\n    dstOffset += writeChunk(b64Str, chunks[_i3], dstOffset, view);\n    dstOffset += (4 - chunks[_i3].count % 4) % 4;\n  }\n\n  return arrayBuffer;\n}\n\nfunction encodeTriplet(v1, v2, v3) {\n  var triplet = (v1 << 16) + (v2 << 8) + v3;\n  return BASE64_CODE[triplet >> 18] + BASE64_CODE[triplet >> 12 & 0x3f] + BASE64_CODE[triplet >> 6 & 0x3f] + BASE64_CODE[triplet & 0x3f];\n}\n\nfunction fromArrayBuffer(ab) {\n  var uint8 = new Uint8Array(ab);\n  var leftoverLength = ab.byteLength % 3;\n  var maxTripletIndex = ab.byteLength - leftoverLength;\n  var segments = Array(maxTripletIndex / 3);\n\n  for (var _i4 = 0; _i4 < segments.length; _i4++) {\n    var bufOffset = _i4 * 3;\n    segments[_i4] = encodeTriplet(uint8[bufOffset], uint8[bufOffset + 1], uint8[bufOffset + 2]);\n  }\n\n  if (leftoverLength > 0) {\n    var segment = encodeTriplet(uint8[maxTripletIndex], uint8[maxTripletIndex + 1] || 0, uint8[maxTripletIndex + 2] || 0);\n\n    if (leftoverLength === 1) {\n      segments.push(\"\".concat(segment.substr(0, 2), \"==\"));\n    } else if (leftoverLength === 2) {\n      segments.push(\"\".concat(segment.substr(0, 3), \"=\"));\n    }\n  }\n\n  return segments.join('');\n}\nvar Base64 = {\n  toArrayBuffer: toArrayBuffer,\n  fromArrayBuffer: fromArrayBuffer\n};\n\nexport { Base64 as default, fromArrayBuffer, toArrayBuffer };\n","/**\n * Converts a binary buffer in an ArrayBuffer to a string.\n *\n * Note this does not take encoding into consideration, so don't\n * expect proper Unicode or any other encoding.\n */\nfunction arrayBufferToString(arrayBuffer) {\n  var decoder = new TextDecoder('latin1');\n  return decoder.decode(arrayBuffer);\n}\n/**\n * Extracts binary data out of a file ArrayBuffer given a prefix/suffix.\n */\n\n\nfunction extractBinary(arrayBuffer, prefixRegex) {\n  var suffixRegex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var str = arrayBufferToString(arrayBuffer);\n  var prefixMatch = prefixRegex.exec(str);\n\n  if (!prefixMatch) {\n    return {\n      text: str\n    };\n  }\n\n  var dataStartIndex = prefixMatch.index + prefixMatch[0].length;\n  var strFirstHalf = str.substring(0, dataStartIndex);\n  var retVal = null;\n  var suffixMatch = suffixRegex ? suffixRegex.exec(str) : null;\n\n  if (suffixMatch) {\n    var strSecondHalf = str.substr(suffixMatch.index);\n    retVal = {\n      text: strFirstHalf + strSecondHalf,\n      binaryBuffer: arrayBuffer.slice(dataStartIndex, suffixMatch.index)\n    };\n  } else {\n    // no suffix, so just take all the data starting from dataStartIndex\n    retVal = {\n      text: strFirstHalf,\n      binaryBuffer: arrayBuffer.slice(dataStartIndex)\n    };\n  }\n\n  return retVal;\n}\n\nvar BinaryHelper = {\n  arrayBufferToString: arrayBufferToString,\n  extractBinary: extractBinary\n};\n\nexport { BinaryHelper as default };\n","function getEndianness() {\n  var a = new ArrayBuffer(4);\n  var b = new Uint8Array(a);\n  var c = new Uint32Array(a);\n  b[0] = 0xa1;\n  b[1] = 0xb2;\n  b[2] = 0xc3;\n  b[3] = 0xd4;\n  if (c[0] === 0xd4c3b2a1) return 'LittleEndian';\n  if (c[0] === 0xa1b2c3d4) return 'BigEndian';\n  return null;\n}\nvar ENDIANNESS = getEndianness();\nfunction swapBytes(buffer, wordSize) {\n  if (wordSize < 2) {\n    return;\n  }\n\n  var bytes = new Int8Array(buffer);\n  var size = bytes.length;\n  var tempBuffer = [];\n\n  for (var i = 0; i < size; i += wordSize) {\n    for (var j = 0; j < wordSize; j++) {\n      tempBuffer.push(bytes[i + j]);\n    }\n\n    for (var _j = 0; _j < wordSize; _j++) {\n      bytes[i + _j] = tempBuffer.pop();\n    }\n  }\n}\nvar Endian = {\n  ENDIANNESS: ENDIANNESS,\n  getEndianness: getEndianness,\n  swapBytes: swapBytes\n};\n\nexport { ENDIANNESS, Endian as default, getEndianness, swapBytes };\n","import _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport macro from '../../../macros.js';\nimport Endian from '../../../Common/Core/Endian.js';\nimport { DataTypeByteSize } from '../../../Common/Core/DataArray/Constants.js';\nimport { has, registerType } from '../DataAccessHelper.js';\n\nvar vtkErrorMacro = macro.vtkErrorMacro,\n    vtkDebugMacro = macro.vtkDebugMacro;\n\nvar REJECT_COMPRESSION = function REJECT_COMPRESSION() {\n  vtkErrorMacro('LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.');\n  return Promise.reject(new Error('LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.'));\n};\n/* eslint-disable prefer-promise-reject-errors */\n\n\nvar requestCount = 0;\n\nfunction openAsyncXHR(method, url) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n\n  if (options.headers) {\n    Object.entries(options.headers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return xhr.setRequestHeader(key, value);\n    });\n  }\n\n  if (options.progressCallback) {\n    xhr.addEventListener('progress', options.progressCallback);\n  }\n\n  return xhr;\n}\n\nfunction fetchBinary(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return new Promise(function (resolve, reject) {\n    var xhr = openAsyncXHR('GET', url, options);\n\n    xhr.onreadystatechange = function (e) {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200 || xhr.status === 0) {\n          resolve(xhr.response);\n        } else {\n          reject({\n            xhr: xhr,\n            e: e\n          });\n        }\n      }\n    }; // Make request\n\n\n    xhr.responseType = 'arraybuffer';\n    xhr.send();\n  });\n}\n\nfunction fetchArray(instance, baseURL, array) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (options && options.compression) {\n    return REJECT_COMPRESSION();\n  }\n\n  if (array.ref && !array.ref.pending) {\n    return new Promise(function (resolve, reject) {\n      var url = [baseURL, array.ref.basepath, array.ref.id].join('/');\n      var xhr = openAsyncXHR('GET', url, options);\n\n      xhr.onreadystatechange = function (e) {\n        if (xhr.readyState === 1) {\n          array.ref.pending = true;\n\n          if (++requestCount === 1 && instance !== null && instance !== void 0 && instance.invokeBusy) {\n            instance.invokeBusy(true);\n          }\n        }\n\n        if (xhr.readyState === 4) {\n          array.ref.pending = false;\n\n          if (xhr.status === 200 || xhr.status === 0) {\n            array.buffer = xhr.response;\n\n            if (array.ref.encode === 'JSON') {\n              array.values = JSON.parse(array.buffer);\n            } else {\n              if (Endian.ENDIANNESS !== array.ref.encode && Endian.ENDIANNESS) {\n                // Need to swap bytes\n                vtkDebugMacro(\"Swap bytes of \".concat(array.name));\n                Endian.swapBytes(array.buffer, DataTypeByteSize[array.dataType]);\n              }\n\n              array.values = macro.newTypedArray(array.dataType, array.buffer);\n            }\n\n            if (array.values.length !== array.size) {\n              vtkErrorMacro(\"Error in FetchArray: \".concat(array.name, \", does not have the proper array size. Got \").concat(array.values.length, \", instead of \").concat(array.size));\n            } // Done with the ref and work\n\n\n            delete array.ref;\n\n            if (--requestCount === 0 && instance !== null && instance !== void 0 && instance.invokeBusy) {\n              instance.invokeBusy(false);\n            }\n\n            if (instance !== null && instance !== void 0 && instance.modified) {\n              instance.modified();\n            }\n\n            resolve(array);\n          } else {\n            reject({\n              xhr: xhr,\n              e: e\n            });\n          }\n        }\n      }; // Make request\n\n\n      xhr.responseType = array.dataType !== 'string' ? 'arraybuffer' : 'text';\n      xhr.send();\n    });\n  }\n\n  return Promise.resolve(array);\n} // ----------------------------------------------------------------------------\n\n\nfunction fetchJSON(instance, url) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (options && options.compression) {\n    return REJECT_COMPRESSION();\n  }\n\n  return new Promise(function (resolve, reject) {\n    var xhr = openAsyncXHR('GET', url, options);\n\n    xhr.onreadystatechange = function (e) {\n      if (xhr.readyState === 1) {\n        if (++requestCount === 1 && instance !== null && instance !== void 0 && instance.invokeBusy) {\n          instance.invokeBusy(true);\n        }\n      }\n\n      if (xhr.readyState === 4) {\n        if (--requestCount === 0 && instance !== null && instance !== void 0 && instance.invokeBusy) {\n          instance.invokeBusy(false);\n        }\n\n        if (xhr.status === 200 || xhr.status === 0) {\n          resolve(JSON.parse(xhr.responseText));\n        } else {\n          reject({\n            xhr: xhr,\n            e: e\n          });\n        }\n      }\n    }; // Make request\n\n\n    xhr.responseType = 'text';\n    xhr.send();\n  });\n} // ----------------------------------------------------------------------------\n\n\nfunction fetchText(instance, url) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (options && options.compression) {\n    return REJECT_COMPRESSION();\n  }\n\n  return new Promise(function (resolve, reject) {\n    var xhr = openAsyncXHR('GET', url, options);\n\n    xhr.onreadystatechange = function (e) {\n      if (xhr.readyState === 1) {\n        if (++requestCount === 1 && instance !== null && instance !== void 0 && instance.invokeBusy) {\n          instance.invokeBusy(true);\n        }\n      }\n\n      if (xhr.readyState === 4) {\n        if (--requestCount === 0 && instance !== null && instance !== void 0 && instance.invokeBusy) {\n          instance.invokeBusy(false);\n        }\n\n        if (xhr.status === 200 || xhr.status === 0) {\n          resolve(xhr.responseText);\n        } else {\n          reject({\n            xhr: xhr,\n            e: e\n          });\n        }\n      }\n    }; // Make request\n\n\n    xhr.responseType = 'text';\n    xhr.send();\n  });\n} // ----------------------------------------------------------------------------\n\n\nfunction fetchImage(instance, url) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n\n    if (options.crossOrigin) {\n      img.crossOrigin = options.crossOrigin;\n    }\n\n    img.onload = function () {\n      return resolve(img);\n    };\n\n    img.onerror = reject;\n    img.src = url;\n  });\n}\n/* eslint-enable prefer-promise-reject-errors */\n// ----------------------------------------------------------------------------\n\n\nvar LiteHttpDataAccessHelper = {\n  fetchArray: fetchArray,\n  fetchJSON: fetchJSON,\n  fetchText: fetchText,\n  fetchBinary: fetchBinary,\n  // Only for HTTP\n  fetchImage: fetchImage\n}; // The lite version should never override a full feature one...\n\nif (!has('http')) {\n  registerType('http', function (options) {\n    return LiteHttpDataAccessHelper;\n  });\n}\n\nexport { LiteHttpDataAccessHelper as default };\n","import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport { create } from 'xmlbuilder2';\nimport { decompressSync } from 'fflate';\nimport DataAccessHelper from '../Core/DataAccessHelper.js';\nimport Base64 from '../../Common/Core/Base64.js';\nimport macro from '../../macros.js';\nimport vtkDataArray from '../../Common/Core/DataArray.js';\nimport BinaryHelper from '../Core/BinaryHelper.js';\nimport '../Core/DataAccessHelper/LiteHttpDataAccessHelper.js';\n\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/HttpDataAccessHelper'; // HTTP + zip\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/HtmlDataAccessHelper'; // html + base64 + zip\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/JSZipDataAccessHelper'; // zip\n// ----------------------------------------------------------------------------\n// Global methods\n// ----------------------------------------------------------------------------\n\nfunction findAllTags(node, tagName) {\n  return _toConsumableArray(node.getElementsByTagName(tagName));\n}\nfunction findFirstTag(node, tagName) {\n  return findAllTags(node, tagName)[0];\n}\n\nfunction parseXML(xmlStr) {\n  // see xmlbuilder2 docs on the object format\n  return create(xmlStr);\n}\n\nfunction extractAppendedData(buffer) {\n  // search for appended data tag\n  var prefixRegex = /^\\s*<AppendedData\\s+encoding=\"raw\">\\s*_/m;\n  var suffixRegex = /\\n\\s*<\\/AppendedData>/m;\n  return BinaryHelper.extractBinary(buffer, prefixRegex, suffixRegex);\n} // ----------------------------------------------------------------------------\n\n\nvar TYPED_ARRAY = {\n  Int8: Int8Array,\n  UInt8: Uint8Array,\n  Int16: Int16Array,\n  UInt16: Uint16Array,\n  Int32: Int32Array,\n  UInt32: Uint32Array,\n  Int64: Int32Array,\n  // Not supported with JavaScript will cause error in binary\n  UInt64: Uint32Array,\n  // Not supported with JavaScript will cause error in binary\n  Float32: Float32Array,\n  Float64: Float64Array\n}; // ----------------------------------------------------------------------------\n\nvar TYPED_ARRAY_BYTES = {\n  Int8: 1,\n  UInt8: 1,\n  Int16: 2,\n  UInt16: 2,\n  Int32: 4,\n  UInt32: 4,\n  Int64: 8,\n  // Not supported with JavaScript will cause error in binary\n  UInt64: 8,\n  // Not supported with JavaScript will cause error in binary\n  Float32: 4,\n  Float64: 8\n}; // ----------------------------------------------------------------------------\n\nfunction integer64to32(array) {\n  var maxIdx = array.length - 1; // Skip last\n\n  return array.filter(function (v, i) {\n    return i < maxIdx && i % 2 === 0;\n  });\n} // ----------------------------------------------------------------------------\n\n\nfunction readerHeader(uint8, headerType) {\n  // We do not handle endianness or if more than 32 bits are needed to encode the data\n  if (headerType === 'UInt64') {\n    var _offset = 8;\n\n    var _uint = new Uint32Array(uint8.buffer, 0, 6);\n\n    var _nbBlocks = _uint[0];\n    var _s = _uint[2];\n    var _s2 = _uint[4];\n    var _resultArray = [_offset, _nbBlocks, _s, _s2];\n    _uint = new Uint32Array(uint8.buffer, 3 * 8, _nbBlocks * 2);\n\n    for (var i = 0; i < _nbBlocks; i++) {\n      _resultArray.push(_uint[i * 2]);\n    }\n\n    return _resultArray;\n  } // UInt32\n\n\n  var uint32 = new Uint32Array(uint8.buffer, 0, 3);\n  var offset = 4;\n  var nbBlocks = uint32[0];\n  var s1 = uint32[1];\n  var s2 = uint32[2];\n  var resultArray = [offset, nbBlocks, s1, s2];\n  uint32 = new Uint32Array(uint8.buffer, 3 * 4, nbBlocks);\n\n  for (var _i = 0; _i < nbBlocks; _i++) {\n    resultArray.push(uint32[_i]);\n  }\n\n  return resultArray;\n} // ----------------------------------------------------------------------------\n\n\nfunction uncompressBlock(compressedUint8, output) {\n  var uncompressedBlock = decompressSync(compressedUint8);\n  output.uint8.set(uncompressedBlock, output.offset);\n  output.offset += uncompressedBlock.length;\n} // ----------------------------------------------------------------------------\n\n\nfunction processDataArray(size, dataArrayElem, compressor, byteOrder, headerType, binaryBuffer) {\n  var dataType = dataArrayElem.getAttribute('type');\n  var name = dataArrayElem.getAttribute('Name');\n  var format = dataArrayElem.getAttribute('format'); // binary, ascii, appended\n\n  var numberOfComponents = Number(dataArrayElem.getAttribute('NumberOfComponents') || '1');\n  var values = null;\n\n  if (format === 'ascii') {\n    values = new TYPED_ARRAY[dataType](size * numberOfComponents);\n    var offset = 0;\n    dataArrayElem.firstChild.nodeValue.split(/[\\\\t \\\\n]+/).forEach(function (token) {\n      if (token.trim().length) {\n        values[offset++] = Number(token);\n      }\n    });\n  } else if (format === 'binary') {\n    var uint8 = new Uint8Array(Base64.toArrayBuffer(dataArrayElem.firstChild.nodeValue.trim()));\n\n    if (compressor === 'vtkZLibDataCompressor') {\n      var buffer = new ArrayBuffer(TYPED_ARRAY_BYTES[dataType] * size * numberOfComponents);\n      values = new TYPED_ARRAY[dataType](buffer);\n      var output = {\n        offset: 0,\n        uint8: new Uint8Array(buffer)\n      }; // ----------------------------------------------------------------------\n      // Layout of the data\n      // header[N, s1, s1, blockSize1, ..., blockSizeN], [padding???], block[compressedData], ..., block[compressedData]\n      // [header] N, s1 and s2 are uint 32 or 64 (defined by header_type=\"UInt64\" attribute on the root node)\n      // [header] s1: uncompress size of each block except the last one\n      // [header] s2: uncompress size of the last blocks\n      // [header] blockSize: size of the block in compressed space that represent to bloc to inflate in zlib. (This also give the offset to the next block)\n      // ----------------------------------------------------------------------\n      // Header reading\n\n      var header = readerHeader(uint8, headerType);\n      var nbBlocks = header[1];\n\n      var _offset2 = uint8.length - (header.reduce(function (a, b) {\n        return a + b;\n      }, 0) - (header[0] + header[1] + header[2] + header[3]));\n\n      for (var i = 0; i < nbBlocks; i++) {\n        var blockSize = header[4 + i];\n        var compressedBlock = new Uint8Array(uint8.buffer, _offset2, blockSize);\n        uncompressBlock(compressedBlock, output);\n        _offset2 += blockSize;\n      } // Handle (u)int64 hoping for no overflow...\n\n\n      if (dataType.indexOf('Int64') !== -1) {\n        values = integer64to32(values);\n      }\n    } else {\n      values = new TYPED_ARRAY[dataType](uint8.buffer, TYPED_ARRAY_BYTES[headerType]); // Skip the count\n      // Handle (u)int64 hoping no overflow...\n\n      if (dataType.indexOf('Int64') !== -1) {\n        values = integer64to32(values);\n      }\n    }\n  } else if (format === 'appended') {\n    var _offset3 = Number(dataArrayElem.getAttribute('offset')); // read header\n    // NOTE: this will incorrectly read the size if headerType is (U)Int64 and\n    // the value requires (U)Int64.\n\n\n    var _header;\n\n    if (_offset3 % TYPED_ARRAY_BYTES[headerType] === 0) {\n      _header = new TYPED_ARRAY[headerType](binaryBuffer, _offset3, 1);\n    } else {\n      _header = new TYPED_ARRAY[headerType](binaryBuffer.slice(_offset3, _offset3 + TYPED_ARRAY_BYTES[headerType]));\n    }\n\n    var arraySize = _header[0] / TYPED_ARRAY_BYTES[dataType]; // if we are dealing with Uint64, we need to get double the values since\n    // TYPED_ARRAY[Uint64] is Uint32.\n\n    if (dataType.indexOf('Int64') !== -1) {\n      arraySize *= 2;\n    }\n\n    _offset3 += TYPED_ARRAY_BYTES[headerType]; // read values\n    // if offset is aligned to dataType, use view. Otherwise, slice due to misalignment.\n\n    if (_offset3 % TYPED_ARRAY_BYTES[dataType] === 0) {\n      values = new TYPED_ARRAY[dataType](binaryBuffer, _offset3, arraySize);\n    } else {\n      values = new TYPED_ARRAY[dataType](binaryBuffer.slice(_offset3, _offset3 + _header[0]));\n    } // remove higher order 32 bits assuming they're not used.\n\n\n    if (dataType.indexOf('Int64') !== -1) {\n      values = integer64to32(values);\n    }\n  } else {\n    console.error('Format not supported', format);\n  }\n\n  return {\n    name: name,\n    values: values,\n    numberOfComponents: numberOfComponents\n  };\n} // ----------------------------------------------------------------------------\n\n\nfunction processCells(size, containerElem, compressor, byteOrder, headerType, binaryBuffer) {\n  var arrayElems = {};\n  var dataArrayElems = containerElem.getElementsByTagName('DataArray');\n\n  for (var elIdx = 0; elIdx < dataArrayElems.length; elIdx++) {\n    var el = dataArrayElems[elIdx];\n    arrayElems[el.getAttribute('Name')] = el;\n  }\n\n  var offsets = processDataArray(size, arrayElems.offsets, compressor, byteOrder, headerType, binaryBuffer).values;\n  var connectivitySize = offsets[offsets.length - 1];\n  var connectivity = processDataArray(connectivitySize, arrayElems.connectivity, compressor, byteOrder, headerType, binaryBuffer).values;\n  var values = new Uint32Array(size + connectivitySize);\n  var writeOffset = 0;\n  var previousOffset = 0;\n  offsets.forEach(function (v) {\n    var cellSize = v - previousOffset;\n    values[writeOffset++] = cellSize;\n\n    for (var i = 0; i < cellSize; i++) {\n      values[writeOffset++] = connectivity[previousOffset + i];\n    } // save previous offset\n\n\n    previousOffset = v;\n  });\n  return values;\n} // ----------------------------------------------------------------------------\n\n\nfunction processFieldData(size, fieldElem, fieldContainer, compressor, byteOrder, headerType, binaryBuffer) {\n  if (fieldElem) {\n    var attributes = ['Scalars', 'Vectors', 'Normals', 'Tensors', 'TCoords'];\n    var nameBinding = {};\n    attributes.forEach(function (attrName) {\n      var arrayName = fieldElem.getAttribute(attrName);\n\n      if (arrayName) {\n        nameBinding[arrayName] = fieldContainer[\"set\".concat(attrName)];\n      }\n    });\n    var dataArrayElems = fieldElem.getElementsByTagName('DataArray');\n    var nbArrays = dataArrayElems.length;\n\n    for (var idx = 0; idx < nbArrays; idx++) {\n      var array = dataArrayElems[idx];\n      var dataArray = vtkDataArray.newInstance(processDataArray(size, array, compressor, byteOrder, headerType, binaryBuffer));\n      var name = dataArray.getName();\n      (nameBinding[name] || fieldContainer.addArray)(dataArray);\n    }\n  }\n} // ----------------------------------------------------------------------------\n\n\nfunction handleFieldDataArrays(fieldDataElem, compressor, byteOrder, headerType, binaryBuffer) {\n  return _toConsumableArray(fieldDataElem.getElementsByTagName('DataArray')).map(function (daElem) {\n    return vtkDataArray.newInstance(processDataArray(Number(daElem.getAttribute('NumberOfTuples')), daElem, compressor, byteOrder, headerType, binaryBuffer));\n  });\n} // ----------------------------------------------------------------------------\n// vtkXMLReader methods\n// ----------------------------------------------------------------------------\n\n\nfunction vtkXMLReader(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkXMLReader'); // Create default dataAccessHelper if not available\n\n  if (!model.dataAccessHelper) {\n    model.dataAccessHelper = DataAccessHelper.get('http');\n  } // Internal method to fetch Array\n\n\n  function fetchData(url) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return model.dataAccessHelper.fetchBinary(url, option);\n  } // Set DataSet url\n\n\n  publicAPI.setUrl = function (url) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    model.url = url; // Remove the file in the URL\n\n    var path = url.split('/');\n    path.pop();\n    model.baseURL = path.join('/'); // Fetch metadata\n\n    return publicAPI.loadData(option);\n  }; // Fetch the actual data arrays\n\n\n  publicAPI.loadData = function () {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return fetchData(model.url, option).then(publicAPI.parseAsArrayBuffer);\n  };\n\n  publicAPI.parseAsArrayBuffer = function (arrayBuffer) {\n    if (!arrayBuffer) {\n      return false;\n    }\n\n    if (arrayBuffer !== model.rawDataBuffer) {\n      publicAPI.modified();\n    } else {\n      return true;\n    }\n\n    var _extractAppendedData = extractAppendedData(arrayBuffer),\n        content = _extractAppendedData.text,\n        binaryBuffer = _extractAppendedData.binaryBuffer;\n\n    model.rawDataBuffer = arrayBuffer;\n    model.binaryBuffer = binaryBuffer; // Parse data here...\n\n    var doc = parseXML(content);\n    var rootElem = doc.root().node;\n    var type = rootElem.getAttribute('type');\n    var compressor = rootElem.getAttribute('compressor');\n    var byteOrder = rootElem.getAttribute('byte_order'); // default to UInt32. I think version 0.1 vtp/vti files default to UInt32.\n\n    var headerType = rootElem.getAttribute('header_type') || 'UInt32';\n\n    if (compressor && compressor !== 'vtkZLibDataCompressor') {\n      console.error('Invalid compressor', compressor);\n      return false;\n    }\n\n    if (byteOrder && byteOrder !== 'LittleEndian') {\n      console.error('Only LittleEndian encoding is supported');\n      return false;\n    }\n\n    if (type !== model.dataType) {\n      console.error('Invalid data type', type, 'expecting', model.dataType);\n      return false;\n    } // appended format\n\n\n    if (findFirstTag(rootElem, 'AppendedData')) {\n      var appendedDataElem = findFirstTag(rootElem, 'AppendedData');\n      var encoding = appendedDataElem.getAttribute('encoding');\n      var arrayElems = findAllTags(rootElem, 'DataArray');\n      var appendedBuffer = model.binaryBuffer;\n\n      if (encoding === 'base64') {\n        // substr(1) is to remove the '_' prefix\n        appendedBuffer = appendedDataElem.textContent.trim().substr(1);\n      } // get data array chunks\n\n\n      var dataArrays = [];\n\n      for (var i = 0; i < arrayElems.length; ++i) {\n        var offset = Number(arrayElems[i].getAttribute('offset'));\n        var nextOffset = 0;\n\n        if (i === arrayElems.length - 1) {\n          nextOffset = appendedBuffer.length || appendedBuffer.byteLength;\n        } else {\n          nextOffset = Number(arrayElems[i + 1].getAttribute('offset'));\n        }\n\n        if (encoding === 'base64') {\n          dataArrays.push(new Uint8Array(Base64.toArrayBuffer(appendedBuffer.substring(offset, nextOffset))));\n        } else {\n          // encoding === 'raw'\n          // Need to slice the ArrayBuffer so readerHeader() works properly\n          dataArrays.push(new Uint8Array(appendedBuffer.slice(offset, nextOffset)));\n        }\n      }\n\n      if (compressor === 'vtkZLibDataCompressor') {\n        for (var arrayidx = 0; arrayidx < dataArrays.length; ++arrayidx) {\n          var dataArray = dataArrays[arrayidx]; // Header reading\n          // Refer to processDataArray() above for info on header fields\n\n          var header = readerHeader(dataArray, headerType);\n          var nbBlocks = header[1];\n          var compressedOffset = dataArray.length - (header.reduce(function (a, b) {\n            return a + b;\n          }, 0) - (header[0] + header[1] + header[2] + header[3]));\n          var _buffer = null;\n\n          if (nbBlocks > 0) {\n            // If the last block's size is labeled as 0, that means the last block\n            // really has size header[2].\n            if (header[3] === 0) {\n              _buffer = new ArrayBuffer(header[2] * nbBlocks);\n            } else {\n              _buffer = new ArrayBuffer(header[2] * (nbBlocks - 1) + header[3]);\n            }\n          } else {\n            // if there is no blocks, then default to a zero array of size 0.\n            _buffer = new ArrayBuffer(0);\n          } // uncompressed buffer\n\n\n          var uncompressed = new Uint8Array(_buffer);\n          var output = {\n            offset: 0,\n            uint8: uncompressed\n          };\n\n          for (var _i2 = 0; _i2 < nbBlocks; _i2++) {\n            var blockSize = header[4 + _i2];\n            var compressedBlock = new Uint8Array(dataArray.buffer, compressedOffset, blockSize);\n            uncompressBlock(compressedBlock, output);\n            compressedOffset += blockSize;\n          }\n\n          var data = new Uint8Array(uncompressed.length + TYPED_ARRAY_BYTES[headerType]); // set length header\n          // TODO this does not work for lengths that are greater than the max Uint32 value.\n\n          new TYPED_ARRAY[headerType](data.buffer, 0, 1)[0] = uncompressed.length;\n          data.set(uncompressed, TYPED_ARRAY_BYTES[headerType]);\n          dataArrays[arrayidx] = data;\n        }\n      }\n\n      var bufferLength = dataArrays.reduce(function (acc, arr) {\n        return acc + arr.length;\n      }, 0);\n      var buffer = new ArrayBuffer(bufferLength);\n      var view = new Uint8Array(buffer);\n\n      for (var _i3 = 0, _offset4 = 0; _i3 < dataArrays.length; ++_i3) {\n        // set correct offsets\n        arrayElems[_i3].setAttribute('offset', _offset4); // set final buffer data\n\n\n        view.set(dataArrays[_i3], _offset4);\n        _offset4 += dataArrays[_i3].length;\n      }\n\n      model.binaryBuffer = buffer;\n\n      if (!model.binaryBuffer) {\n        console.error('Processing appended data format: requires binaryBuffer to parse');\n        return false;\n      }\n    }\n\n    publicAPI.parseXML(rootElem, type, compressor, byteOrder, headerType);\n    var datasetElem = rootElem.getElementsByTagName(type)[0];\n    var fieldDataElem = datasetElem.getElementsByTagName('FieldData')[0];\n\n    if (fieldDataElem) {\n      var fieldDataArrays = handleFieldDataArrays(fieldDataElem, compressor, byteOrder, headerType, model.binaryBuffer);\n\n      for (var _i4 = 0; _i4 < model.output.length; _i4++) {\n        var fieldData = model.output[_i4].getFieldData();\n\n        for (var j = 0; j < fieldDataArrays.length; j++) {\n          fieldData.addArray(fieldDataArrays[j]);\n        }\n      }\n    }\n\n    return true;\n  };\n\n  publicAPI.requestData = function (inData, outData) {\n    publicAPI.parseAsArrayBuffer(model.rawDataBuffer);\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {// baseURL: null,\n  // dataAccessHelper: null,\n  // url: null,\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.get(publicAPI, model, ['url', 'baseURL']);\n  macro.setGet(publicAPI, model, ['dataAccessHelper']);\n  macro.algo(publicAPI, model, 0, 1); // vtkXMLReader methods\n\n  vtkXMLReader(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar vtkXMLReader$1 = {\n  extend: extend,\n  processDataArray: processDataArray,\n  processFieldData: processFieldData,\n  processCells: processCells\n};\n\nexport { vtkXMLReader$1 as default, extend, findAllTags, findFirstTag };\n","import macro from '../../macros.js';\nimport vtkPolyData from '../../Common/DataModel/PolyData.js';\nimport vtkXMLReader from './XMLReader.js';\n\n// Global method\n// ----------------------------------------------------------------------------\n\nfunction handleArray(polydata, cellType, piece, compressor, byteOrder, headerType, binaryBuffer) {\n  var size = Number(piece.getAttribute(\"NumberOf\".concat(cellType)));\n\n  if (size > 0) {\n    var dataArrayElem = piece.getElementsByTagName(cellType)[0].getElementsByTagName('DataArray')[0];\n\n    var _vtkXMLReader$process = vtkXMLReader.processDataArray(size, dataArrayElem, compressor, byteOrder, headerType, binaryBuffer),\n        values = _vtkXMLReader$process.values,\n        numberOfComponents = _vtkXMLReader$process.numberOfComponents;\n\n    polydata[\"get\".concat(cellType)]().setData(values, numberOfComponents);\n  }\n\n  return size;\n} // ----------------------------------------------------------------------------\n\n\nfunction handleCells(polydata, cellType, piece, compressor, byteOrder, headerType, binaryBuffer) {\n  var size = Number(piece.getAttribute(\"NumberOf\".concat(cellType)));\n\n  if (size > 0) {\n    var values = vtkXMLReader.processCells(size, piece.getElementsByTagName(cellType)[0], compressor, byteOrder, headerType, binaryBuffer);\n    polydata[\"get\".concat(cellType)]().setData(values);\n  }\n\n  return size;\n} // ----------------------------------------------------------------------------\n// vtkXMLPolyDataReader methods\n// ----------------------------------------------------------------------------\n\n\nfunction vtkXMLPolyDataReader(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkXMLPolyDataReader');\n\n  publicAPI.parseXML = function (rootElem, type, compressor, byteOrder, headerType) {\n    var datasetElem = rootElem.getElementsByTagName(model.dataType)[0];\n    var pieces = datasetElem.getElementsByTagName('Piece');\n    var nbPieces = pieces.length;\n\n    var _loop = function _loop(outputIndex) {\n      // Create dataset\n      var polydata = vtkPolyData.newInstance();\n      var piece = pieces[outputIndex]; // Points\n\n      var nbPoints = handleArray(polydata, 'Points', piece, compressor, byteOrder, headerType, model.binaryBuffer); // Cells\n\n      var nbCells = 0;\n      ['Verts', 'Lines', 'Strips', 'Polys'].forEach(function (cellType) {\n        nbCells += handleCells(polydata, cellType, piece, compressor, byteOrder, headerType, model.binaryBuffer);\n      }); // Fill data\n\n      vtkXMLReader.processFieldData(nbPoints, piece.getElementsByTagName('PointData')[0], polydata.getPointData(), compressor, byteOrder, headerType, model.binaryBuffer);\n      vtkXMLReader.processFieldData(nbCells, piece.getElementsByTagName('CellData')[0], polydata.getCellData(), compressor, byteOrder, headerType, model.binaryBuffer); // Add new output\n\n      model.output[outputIndex] = polydata;\n    };\n\n    for (var outputIndex = 0; outputIndex < nbPieces; outputIndex++) {\n      _loop(outputIndex);\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  dataType: 'PolyData'\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n  vtkXMLReader.extend(publicAPI, model, initialValues);\n  vtkXMLPolyDataReader(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkXMLPolyDataReader'); // ----------------------------------------------------------------------------\n\nvar vtkXMLPolyDataReader$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkXMLPolyDataReader$1 as default, extend, newInstance };\n","import vtkOrientationMarkerWidget from '@kitware/vtk.js/Interaction/Widgets/OrientationMarkerWidget';\nimport vtkAnnotatedCubeActor from '@kitware/vtk.js/Rendering/Core/AnnotatedCubeActor';\nimport vtkAxesActor from '@kitware/vtk.js/Rendering/Core/AxesActor';\nimport vtkActor from '@kitware/vtk.js/Rendering/Core/Actor';\nimport vtkMapper from '@kitware/vtk.js/Rendering/Core/Mapper';\nimport vtkXMLPolyDataReader from '@kitware/vtk.js/IO/XML/XMLPolyDataReader';\nimport vtkPolyData from '@kitware/vtk.js/Common/DataModel/PolyData';\n\nimport { BaseTool } from './base';\nimport { getRenderingEngines } from '@cornerstonejs/core';\nimport { filterViewportsWithToolEnabled } from '../utilities/viewportFilters';\n\nconst OverlayMarkerType = {\n  ANNOTATED_CUBE: 1,\n  AXES: 2,\n  CUSTOM: 3,\n};\n\n/**\n * The OrientationMarker is a tool that includes an orientation marker in viewports\n * when activated\n */\nclass OrientationMarkerTool extends BaseTool {\n  static toolName;\n  static CUBE = 1;\n  static AXIS = 2;\n  static VTPFILE = 3;\n  orientationMarkers;\n  polyDataURL;\n\n  static OVERLAY_MARKER_TYPES = OverlayMarkerType;\n\n  configuration_invalidated = true;\n\n  constructor(\n    toolProps = {},\n    defaultToolProps = {\n      configuration: {\n        orientationWidget: {\n          enabled: true,\n          viewportCorner: vtkOrientationMarkerWidget.Corners.BOTTOM_RIGHT,\n          viewportSize: 0.15,\n          minPixelSize: 100,\n          maxPixelSize: 300,\n        },\n        overlayMarkerType:\n          OrientationMarkerTool.OVERLAY_MARKER_TYPES.ANNOTATED_CUBE,\n        overlayConfiguration: {\n          [OrientationMarkerTool.OVERLAY_MARKER_TYPES.ANNOTATED_CUBE]: {\n            faceProperties: {\n              xPlus: { text: 'R', faceColor: '#ffff00', faceRotation: 90 },\n              xMinus: { text: 'L', faceColor: '#ffff00', faceRotation: 270 },\n              yPlus: {\n                text: 'P',\n                faceColor: '#00ffff',\n                fontColor: 'white',\n                faceRotation: 180,\n              },\n              yMinus: { text: 'A', faceColor: '#00ffff', fontColor: 'white' },\n              zPlus: { text: 'S' },\n              zMinus: { text: 'I' },\n            },\n            defaultStyle: {\n              fontStyle: 'bold',\n              fontFamily: 'Arial',\n              fontColor: 'black',\n              fontSizeScale: (res) => res / 2,\n              faceColor: '#0000ff',\n              edgeThickness: 0.1,\n              edgeColor: 'black',\n              resolution: 400,\n            },\n          },\n          [OrientationMarkerTool.OVERLAY_MARKER_TYPES.AXES]: {},\n          [OrientationMarkerTool.OVERLAY_MARKER_TYPES.CUSTOM]: {\n            polyDataURL:\n              'https://raw.githubusercontent.com/Slicer/Slicer/80ad0a04dacf134754459557bf2638c63f3d1d1b/Base/Logic/Resources/OrientationMarkers/Human.vtp',\n          },\n        },\n      },\n    }\n  ) {\n    super(toolProps, defaultToolProps);\n    this.orientationMarkers = {};\n    this.configuration_invalidated = true;\n  }\n\n  onSetToolEnabled = (): void => {\n    this.initViewports();\n    this.configuration_invalidated = true;\n  };\n\n  onSetToolActive = (): void => {\n    this.initViewports();\n  };\n\n  private initViewports() {\n    const renderingEngines = getRenderingEngines();\n    const renderingEngine = renderingEngines[0];\n\n    if (!renderingEngine) {\n      return;\n    }\n\n    let viewports = renderingEngine.getViewports();\n    viewports = filterViewportsWithToolEnabled(viewports, this.getToolName());\n    viewports.forEach((viewport) => this.addAxisActorInViewport(viewport));\n  }\n\n  async addAxisActorInViewport(viewport) {\n    const viewportId = viewport.id;\n    const type = this.configuration.overlayMarkerType;\n\n    const overlayConfiguration = this.configuration.overlayConfiguration[type];\n\n    if (this.orientationMarkers[viewportId]) {\n      const { actor, orientationWidget } = this.orientationMarkers[viewportId];\n      // remove the previous one\n      viewport.getRenderer().removeActor(actor);\n      orientationWidget.setEnabled(false);\n    }\n\n    let actor;\n    if (type === 1) {\n      actor = this.createAnnotationCube(overlayConfiguration);\n    } else if (type === 2) {\n      actor = vtkAxesActor.newInstance();\n    } else if (type === 3) {\n      actor = await this.createCustomActor();\n    }\n\n    const renderer = viewport.getRenderer();\n    const renderWindow = viewport\n      .getRenderingEngine()\n      .offscreenMultiRenderWindow.getRenderWindow();\n\n    const {\n      enabled,\n      viewportCorner,\n      viewportSize,\n      minPixelSize,\n      maxPixelSize,\n    } = this.configuration.orientationWidget;\n\n    const orientationWidget = vtkOrientationMarkerWidget.newInstance({\n      actor,\n      interactor: renderWindow.getInteractor(),\n      parentRenderer: renderer,\n    });\n\n    orientationWidget.setEnabled(enabled);\n    orientationWidget.setViewportCorner(viewportCorner);\n    orientationWidget.setViewportSize(viewportSize);\n    orientationWidget.setMinPixelSize(minPixelSize);\n    orientationWidget.setMaxPixelSize(maxPixelSize);\n\n    orientationWidget.updateMarkerOrientation();\n    this.orientationMarkers[viewportId] = {\n      orientationWidget,\n      actor,\n    };\n    renderer.resetCamera();\n    renderWindow.render();\n    viewport.getRenderingEngine().render();\n\n    this.configuration_invalidated = false;\n  }\n\n  private async createCustomActor() {\n    const url =\n      this.configuration.overlayConfiguration[OverlayMarkerType.CUSTOM]\n        .polyDataURL;\n\n    const response = await fetch(url);\n    const arrayBuffer = await response.arrayBuffer();\n    const vtpReader = vtkXMLPolyDataReader.newInstance();\n    vtpReader.parseAsArrayBuffer(arrayBuffer);\n    vtpReader.update();\n\n    const polyData = vtkPolyData.newInstance();\n    polyData.shallowCopy(vtpReader.getOutputData());\n    polyData.getPointData().setActiveScalars('Color');\n    const mapper = vtkMapper.newInstance();\n    mapper.setInputData(polyData);\n    mapper.setColorModeToDirectScalars();\n\n    const actor = vtkActor.newInstance();\n    actor.setMapper(mapper);\n    actor.rotateZ(180);\n    return actor;\n  }\n\n  private createAnnotationCube(overlayConfiguration: any) {\n    const actor = vtkAnnotatedCubeActor.newInstance();\n    actor.setDefaultStyle({ ...overlayConfiguration.defaultStyle });\n    actor.setXPlusFaceProperty({\n      ...overlayConfiguration.faceProperties.xPlus,\n    });\n    actor.setXMinusFaceProperty({\n      ...overlayConfiguration.faceProperties.xMinus,\n    });\n    actor.setYPlusFaceProperty({\n      ...overlayConfiguration.faceProperties.yPlus,\n    });\n    actor.setYMinusFaceProperty({\n      ...overlayConfiguration.faceProperties.yMinus,\n    });\n    actor.setZPlusFaceProperty({\n      ...overlayConfiguration.faceProperties.zPlus,\n    });\n    actor.setZMinusFaceProperty({\n      ...overlayConfiguration.faceProperties.zMinus,\n    });\n    return actor;\n  }\n\n  async createAnnotatedCubeActor() {\n    const axes = vtkAnnotatedCubeActor.newInstance();\n    const { faceProperties, defaultStyle } = this.configuration.annotatedCube;\n\n    axes.setDefaultStyle(defaultStyle);\n\n    Object.keys(faceProperties).forEach((key) => {\n      const methodName = `set${\n        key.charAt(0).toUpperCase() + key.slice(1)\n      }FaceProperty`;\n      axes[methodName](faceProperties[key]);\n    });\n\n    return axes;\n  }\n}\n\nOrientationMarkerTool.toolName = 'OrientationMarker';\nexport default OrientationMarkerTool;\n","import { utilities as csUtils } from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport getBoundingBoxAroundShape from '../boundingBox/getBoundingBoxAroundShape';\nimport extend2DBoundingBoxInViewAxis from '../boundingBox/extend2DBoundingBoxInViewAxis';\n\ntype Options = {\n  numSlicesToProject?: number;\n};\n\nfunction getBoundsIJKFromRectangleAnnotations(\n  annotations,\n  referenceVolume,\n  options = {} as Options\n) {\n  const AllBoundsIJK = [];\n  annotations.forEach((annotation) => {\n    const { data } = annotation;\n    const { points } = data.handles;\n\n    const { imageData, dimensions } = referenceVolume;\n\n    let pointsToUse = points;\n    // If the tool is a 2D tool but has projection points, use them\n    if (data.cachedStats?.projectionPoints) {\n      const { projectionPoints } = data.cachedStats;\n      pointsToUse = [].concat(...projectionPoints); // cannot use flat() because of typescript compiler right now\n    }\n\n    const rectangleCornersIJK = pointsToUse.map(\n      (world) => csUtils.transformWorldToIndex(imageData, world) as Types.Point3\n    );\n    let boundsIJK = getBoundingBoxAroundShape(rectangleCornersIJK, dimensions);\n\n    // If the tool is 2D but it is configured to project to X amount of slices\n    // Don't project the slices if projectionPoints have been used to define the extents\n    if (options.numSlicesToProject && !data.cachedStats?.projectionPoints) {\n      boundsIJK = extend2DBoundingBoxInViewAxis(\n        boundsIJK,\n        options.numSlicesToProject\n      );\n    }\n\n    AllBoundsIJK.push(boundsIJK);\n  });\n\n  if (AllBoundsIJK.length === 1) {\n    return AllBoundsIJK[0];\n  }\n\n  // Get the intersection of all the bounding boxes\n  // This is the bounding box that contains all the ROIs\n  const boundsIJK = AllBoundsIJK.reduce(\n    (accumulator, currentValue) => {\n      return {\n        iMin: Math.min(accumulator.iMin, currentValue.iMin),\n        jMin: Math.min(accumulator.jMin, currentValue.jMin),\n        kMin: Math.min(accumulator.kMin, currentValue.kMin),\n        iMax: Math.max(accumulator.iMax, currentValue.iMax),\n        jMax: Math.max(accumulator.jMax, currentValue.jMax),\n        kMax: Math.max(accumulator.kMax, currentValue.kMax),\n      };\n    },\n    {\n      iMin: Infinity,\n      jMin: Infinity,\n      kMin: Infinity,\n      iMax: -Infinity,\n      jMax: -Infinity,\n      kMax: -Infinity,\n    }\n  );\n\n  return boundsIJK;\n}\n\nexport default getBoundsIJKFromRectangleAnnotations;\n","import type { Types } from '@cornerstonejs/core';\nimport { state } from '../../stateManagement/annotation';\nimport {\n  RectangleROIStartEndThresholdTool,\n  RectangleROIThresholdTool,\n} from '../../tools';\n\nimport thresholdVolumeByRange from './thresholdVolumeByRange';\nimport getBoundsIJKFromRectangleAnnotations from '../rectangleROITool/getBoundsIJKFromRectangleAnnotations';\nimport { ThresholdInformation } from './utilities';\n\nexport type ThresholdOptions = {\n  numSlicesToProject?: number; // number of slices to project before and after current slice\n  overwrite: boolean;\n  overlapType?: number; // type of the voxel overlap\n};\n\nexport type AnnotationForThresholding = {\n  data: {\n    handles: {\n      points: Types.Point3[];\n    };\n    cachedStats?: {\n      projectionPoints?: Types.Point3[][];\n    };\n  };\n};\n\n/**\n * It uses the provided rectangleROI annotations (either RectangleROIThreshold, or\n * RectangleROIStartEndThreshold) to compute an ROI that is the intersection of\n * all the annotations. Then it uses the rectangleROIThreshold utility to threshold\n * the volume.\n * @param annotationUIDs - rectangleROI annotationsUIDs to use for ROI\n * @param segmentationVolume - the segmentation volume\n * @param thresholdVolumeInformation - object array containing the volume data and range threshold values\n * @param options - options for thresholding\n * @returns\n */\nfunction rectangleROIThresholdVolumeByRange(\n  annotationUIDs: string[],\n  segmentationVolume: Types.IImageVolume,\n  thresholdVolumeInformation: ThresholdInformation[],\n  options: ThresholdOptions\n): Types.IImageVolume {\n  const annotations = annotationUIDs.map((annotationUID) => {\n    return state.getAnnotation(annotationUID);\n  });\n\n  _validateAnnotations(annotations);\n\n  let boundsIJK;\n  for (let i = 0; i < thresholdVolumeInformation.length; i++) {\n    // make sure that the boundsIJK are generated by the correct volume\n    const volumeSize =\n      thresholdVolumeInformation[i].volume.getScalarData().length;\n    if (volumeSize === segmentationVolume.getScalarData().length || i === 0) {\n      boundsIJK = getBoundsIJKFromRectangleAnnotations(\n        annotations,\n        thresholdVolumeInformation[i].volume,\n        options\n      );\n    }\n  }\n\n  const outputSegmentationVolume = thresholdVolumeByRange(\n    segmentationVolume,\n    thresholdVolumeInformation,\n    { ...options, boundsIJK }\n  );\n\n  return outputSegmentationVolume;\n}\n\nfunction _validateAnnotations(annotations) {\n  const validToolNames = [\n    RectangleROIThresholdTool.toolName,\n    RectangleROIStartEndThresholdTool.toolName,\n  ];\n\n  for (const annotation of annotations) {\n    const name = annotation.metadata.toolName;\n    if (!validToolNames.includes(name)) {\n      throw new Error(\n        'rectangleROIThresholdVolumeByRange only supports RectangleROIThreshold and RectangleROIStartEndThreshold annotations'\n      );\n    }\n  }\n}\n\nexport default rectangleROIThresholdVolumeByRange;\n","import { Types } from '@cornerstonejs/core';\nimport { volumeLoader, utilities as csUtils } from '@cornerstonejs/core';\n\n/**\n * Given a list of labelmaps (with the possibility of overlapping regions), and\n * a segmentIndex it creates a new labelmap with the same dimensions as the input labelmaps,\n * but merges them into a single labelmap for the segmentIndex. It wipes out\n * all other segment Indices. This is useful for calculating statistics regarding\n * a specific segment when there are overlapping regions between labelmap (e.g. TMTV)\n *\n * @param labelmaps - Array of labelmaps\n * @param segmentIndex - The segment index to merge\n * @returns Merged labelmap\n */\nfunction createMergedLabelmapForIndex(\n  labelmaps: Array<Types.IImageVolume>,\n  segmentIndex = 1,\n  volumeId = 'mergedLabelmap'\n): Types.IImageVolume {\n  labelmaps.forEach(({ direction, dimensions, origin, spacing }) => {\n    if (\n      !csUtils.isEqual(dimensions, labelmaps[0].dimensions) ||\n      !csUtils.isEqual(direction, labelmaps[0].direction) ||\n      !csUtils.isEqual(spacing, labelmaps[0].spacing) ||\n      !csUtils.isEqual(origin, labelmaps[0].origin)\n    ) {\n      throw new Error('labelmaps must have the same size and shape');\n    }\n  });\n\n  const labelmap = labelmaps[0];\n\n  const arrayType = (labelmap.getScalarData() as any).constructor;\n  const outputData = new arrayType(labelmap.getScalarData().length);\n\n  labelmaps.forEach((labelmap) => {\n    const scalarData = labelmap.getScalarData();\n    for (let i = 0; i < scalarData.length; i++) {\n      if (scalarData[i] === segmentIndex) {\n        outputData[i] = segmentIndex;\n      }\n    }\n  });\n\n  const options = {\n    scalarData: outputData,\n    metadata: labelmap.metadata,\n    spacing: labelmap.spacing,\n    origin: labelmap.origin,\n    direction: labelmap.direction,\n    dimensions: labelmap.dimensions,\n  };\n\n  const preventCache = true;\n  // Todo: following should be async\n  const mergedVolume = volumeLoader.createLocalVolume(\n    options,\n    volumeId,\n    preventCache\n  );\n\n  return mergedVolume;\n}\n\nexport default createMergedLabelmapForIndex;\n","import { isValidLabelmapConfig } from '../../tools/displayTools/Labelmap/labelmapConfig';\nimport SegmentationRepresentation from '../../enums/SegmentationRepresentations';\nimport { RepresentationConfig } from '../../types/SegmentationStateTypes';\n\n/**\n * Given a representation type and a configuration, return true if the\n * configuration is valid for that representation type\n * @param representationType - The type of segmentation representation\n * @param config - RepresentationConfig\n * @returns A boolean value.\n */\nexport default function isValidRepresentationConfig(\n  representationType: string,\n  config: RepresentationConfig\n): boolean {\n  switch (representationType) {\n    case SegmentationRepresentation.Labelmap:\n      return isValidLabelmapConfig(config);\n    default:\n      throw new Error(`Unknown representation type: ${representationType}`);\n  }\n}\n","import getDefaultLabelmapConfig from '../../tools/displayTools/Labelmap/labelmapConfig';\nimport SegmentationRepresentation from '../../enums/SegmentationRepresentations';\nimport { Segmentation } from '../../types/SegmentationStateTypes';\n\n/**\n * It returns a configuration object for the given representation type.\n * @param representationType - The type of segmentation representation\n * @returns A representation configuration object.\n */\nexport default function getDefaultRepresentationConfig(\n  segmentation: Segmentation\n) {\n  const { type: representationType } = segmentation;\n  switch (representationType) {\n    case SegmentationRepresentation.Labelmap:\n      return getDefaultLabelmapConfig();\n    default:\n      throw new Error(`Unknown representation type: ${representationType}`);\n  }\n}\n","import { _cloneDeep } from 'lodash.clonedeep';\nimport {\n  getEnabledElementByIds,\n  volumeLoader,\n  VolumeViewport,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\n\n/**\n * Create a new 3D segmentation volume from the default imageData presented in\n * the first actor of the viewport. It looks at the metadata of the imageData\n * to determine the volume dimensions and spacing if particular options are not provided.\n *\n * @param viewportId - The Id of the viewport from which to derive the volume from.\n * @param renderingEngineId - The Id of the rendering engine the viewport belongs to.\n * @param [segmentationId] - The Id to name the generated segmentation. Autogenerated if not given.\n * @param [options] - LabelmapOptions\n * @returns A promise that resolves to the Id of the new labelmap volume.\n */\nexport default async function createLabelmapVolumeForViewport(input: {\n  viewportId: string;\n  renderingEngineId: string;\n  segmentationId?: string;\n  options?: {\n    volumeId?: string;\n    scalarData?: Float32Array | Uint8Array | Uint16Array | Int16Array;\n    targetBuffer?: {\n      type: 'Float32Array' | 'Uint8Array' | 'Uint16Array' | 'Int8Array';\n    };\n    metadata?: any;\n    dimensions?: Types.Point3;\n    spacing?: Types.Point3;\n    origin?: Types.Point3;\n    direction?: Float32Array;\n  };\n}): Promise<string> {\n  const { viewportId, renderingEngineId, options } = input;\n  let { segmentationId } = input;\n  const enabledElement = getEnabledElementByIds(viewportId, renderingEngineId);\n\n  if (!enabledElement) {\n    throw new Error('element disabled');\n  }\n\n  const { viewport } = enabledElement;\n  if (!(viewport instanceof VolumeViewport)) {\n    throw new Error('Segmentation only supports VolumeViewport');\n  }\n\n  const { uid } = viewport.getDefaultActor();\n\n  if (segmentationId === undefined) {\n    // Name the segmentation volume with the viewport Id\n    segmentationId = `${uid}-based-segmentation-${\n      options?.volumeId ?? csUtils.uuidv4().slice(0, 8)\n    }`;\n  }\n\n  if (options) {\n    // create a new labelmap with its own properties\n    // This allows creation of a higher resolution labelmap vs reference volume\n    const properties = _cloneDeep(options);\n    await volumeLoader.createLocalVolume(properties, segmentationId);\n  } else {\n    // create a labelmap from a reference volume\n    const { uid: volumeId } = viewport.getDefaultActor();\n    await volumeLoader.createAndCacheDerivedVolume(volumeId, {\n      volumeId: segmentationId,\n    });\n  }\n\n  return segmentationId;\n}\n","import { getToolGroup } from '../../store/ToolGroupManager';\nimport BrushTool from '../../tools/segmentation/BrushTool';\nimport triggerAnnotationRenderForViewportIds from '../triggerAnnotationRenderForViewportIds';\nimport { getRenderingEngine } from '@cornerstonejs/core';\nimport getBrushToolInstances from './utilities';\n\n/**\n * Sets the brush size for all brush-based tools in a given tool group.\n * @param toolGroupId - The ID of the tool group to set the brush size for.\n * @param brushSize - The new brush size to set.\n * @param toolName - The name of the specific tool to set the brush size for (optional)\n * If not provided, all brush-based tools in the tool group will be affected.\n */\nexport function setBrushSizeForToolGroup(\n  toolGroupId: string,\n  brushSize: number,\n  toolName?: string\n): void {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    return;\n  }\n\n  const brushBasedToolInstances = getBrushToolInstances(toolGroupId, toolName);\n\n  brushBasedToolInstances.forEach((tool: BrushTool) => {\n    tool.configuration.brushSize = brushSize;\n\n    // Invalidate the brush being rendered so it can update.\n    tool.invalidateBrushCursor();\n  });\n\n  // Trigger an annotation render for any viewports on the toolgroup\n  const viewportsInfo = toolGroup.getViewportsInfo();\n\n  const viewportsInfoArray = Object.keys(viewportsInfo).map(\n    (key) => viewportsInfo[key]\n  );\n\n  if (!viewportsInfoArray.length) {\n    return;\n  }\n\n  const { renderingEngineId } = viewportsInfoArray[0];\n\n  // Use helper to get array of viewportIds, or we just end up doing this mapping\n  // ourselves here.\n  const viewportIds = toolGroup.getViewportIds();\n\n  const renderingEngine = getRenderingEngine(renderingEngineId);\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIds);\n}\n\n/**\n * Gets the brush size for the first brush-based tool instance in a given tool group.\n * @param toolGroupId - The ID of the tool group to get the brush size for.\n * @param toolName - The name of the specific tool to get the brush size for (Optional)\n * If not provided, the first brush-based tool instance in the tool group will be used.\n * @returns The brush size of the selected tool instance, or undefined if no brush-based tool instance is found.\n */\nexport function getBrushSizeForToolGroup(\n  toolGroupId: string,\n  toolName?: string\n): void {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    return;\n  }\n\n  const toolInstances = toolGroup._toolInstances;\n\n  if (!Object.keys(toolInstances).length) {\n    return;\n  }\n\n  const brushBasedToolInstances = getBrushToolInstances(toolGroupId, toolName);\n\n  // one is enough as they share the same brush size\n  const brushToolInstance = brushBasedToolInstances[0];\n\n  if (!brushToolInstance) {\n    return;\n  }\n\n  // TODO -> Assumes the brush sizes are the same and set via these helpers.\n  return brushToolInstance.configuration.brushSize;\n}\n","import type { Types } from '@cornerstonejs/core';\nimport { getToolGroup } from '../../store/ToolGroupManager';\nimport triggerAnnotationRenderForViewportIds from '../triggerAnnotationRenderForViewportIds';\nimport { getRenderingEngine } from '@cornerstonejs/core';\nimport getBrushToolInstances from './utilities';\n\nexport function setBrushThresholdForToolGroup(\n  toolGroupId: string,\n  threshold: Types.Point2\n) {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    return;\n  }\n\n  const brushBasedToolInstances = getBrushToolInstances(toolGroupId);\n\n  brushBasedToolInstances.forEach((tool) => {\n    tool.configuration.strategySpecificConfiguration.THRESHOLD_INSIDE_CIRCLE.threshold =\n      threshold;\n  });\n\n  // Trigger an annotation render for any viewports on the toolgroup\n  const viewportsInfo = toolGroup.getViewportsInfo();\n\n  if (!viewportsInfo.length) {\n    return;\n  }\n\n  const { renderingEngineId } = viewportsInfo[0];\n\n  // Use helper to get array of viewportIds, or we just end up doing this mapping\n  // ourselves here.\n  const viewportIds = toolGroup.getViewportIds();\n\n  const renderingEngine = getRenderingEngine(renderingEngineId);\n\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIds);\n}\n\nexport function getBrushThresholdForToolGroup(toolGroupId: string) {\n  const toolGroup = getToolGroup(toolGroupId);\n\n  if (toolGroup === undefined) {\n    return;\n  }\n\n  const toolInstances = toolGroup._toolInstances;\n\n  if (!Object.keys(toolInstances).length) {\n    return;\n  }\n\n  const brushBasedToolInstances = getBrushToolInstances(toolGroupId);\n  const brushToolInstance = brushBasedToolInstances[0];\n\n  if (!brushToolInstance) {\n    return;\n  }\n\n  // TODO -> Assumes the\n  return brushToolInstance.configuration.strategySpecificConfiguration\n    .THRESHOLD_INSIDE_CIRCLE.threshold;\n}\n","import { Types } from '@cornerstonejs/core';\nimport { pointInShapeCallback } from '../../utilities';\nimport { triggerSegmentationDataModified } from '../../stateManagement/segmentation/triggerSegmentationEvents';\nimport {\n  getVoxelOverlap,\n  processVolumes,\n  ThresholdInformation,\n} from './utilities';\n\n/**\n * It thresholds a segmentation volume based on a set of threshold values with\n * respect to a list of volumes and respective threshold ranges.\n * @param segmentationVolume - the segmentation volume to be modified\n * @param segmentationIndex - the index of the segmentation to modify\n * @param thresholdVolumeInformation - array of objects containing volume data\n * and a range (lower and upper values) to threshold\n * @param overlapType - indicates if the user requires all voxels pass\n * (overlapType = 1) or any voxel pass (overlapType = 0)\n * @returns\n */\nfunction thresholdSegmentationByRange(\n  segmentationVolume: Types.IImageVolume,\n  segmentationIndex: number,\n  thresholdVolumeInformation: ThresholdInformation[],\n  overlapType: number\n): Types.IImageVolume {\n  const scalarData = segmentationVolume.getScalarData();\n\n  // prepare a list of volume information objects for callback functions\n  const { baseVolumeIdx, volumeInfoList } = processVolumes(\n    segmentationVolume,\n    thresholdVolumeInformation\n  );\n\n  /**\n   * This function will test all overlaps between a voxel in base volume\n   * (the reference for segmentation volume creation) and voxels in other\n   * volumes.\n   * If the segmentation volume and the image volume are the same size,\n   * checks if the scalar data at each point is within the threshold values.\n   * If the segmentation volume and the image volume are different sizes,\n   * checks the voxel overlap\n   */\n  volumeInfoList.forEach((volumeInfo) => {\n    const { volumeSize } = volumeInfo;\n\n    if (volumeSize === scalarData.length) {\n      _handleSameSizeVolume(scalarData, segmentationIndex, volumeInfo);\n    } else {\n      _handleDifferentSizeVolume(\n        scalarData,\n        segmentationIndex,\n        volumeInfo,\n        volumeInfoList,\n        baseVolumeIdx,\n        overlapType\n      );\n    }\n  });\n\n  triggerSegmentationDataModified(segmentationVolume.volumeId);\n\n  return segmentationVolume;\n}\n\nfunction _handleDifferentSizeVolume(\n  scalarData: Types.VolumeScalarData,\n  segmentationIndex: number,\n  volumeInfo: any,\n  volumeInfoList: any,\n  baseVolumeIdx: number,\n  overlapType: number\n) {\n  const { imageData, lower, upper, dimensions } = volumeInfo;\n\n  let total, overlaps, range;\n\n  for (let i = 0; i < scalarData.length; i++) {\n    if (scalarData[i] === segmentationIndex) {\n      const overlapBounds = getVoxelOverlap(\n        imageData,\n        dimensions,\n        volumeInfoList[baseVolumeIdx].spacing,\n        volumeInfoList[baseVolumeIdx].imageData.getPoint(i)\n      );\n\n      const callbackOverlap = ({ value }) => {\n        total = total + 1;\n        if (value >= range.lower && value <= range.upper) {\n          overlaps = overlaps + 1;\n        }\n      };\n\n      total = 0;\n      overlaps = 0;\n      range = { lower, upper };\n      let overlapTest = false;\n\n      // check all voxel overlaps\n      pointInShapeCallback(\n        imageData,\n        () => true,\n        callbackOverlap,\n        overlapBounds\n      );\n\n      overlapTest = overlapType === 0 ? overlaps > 0 : overlaps === total;\n      scalarData[i] = overlapTest ? segmentationIndex : 0;\n    }\n  }\n  return { total, range, overlaps };\n}\n\nfunction _handleSameSizeVolume(\n  scalarData: Types.VolumeScalarData,\n  segmentationIndex: number,\n  volumeInfo: any\n) {\n  const { referenceValues, lower, upper } = volumeInfo;\n\n  for (let i = 0; i < scalarData.length; i++) {\n    if (scalarData[i] === segmentationIndex) {\n      const value = referenceValues[i];\n      scalarData[i] = value >= lower && value <= upper ? segmentationIndex : 0;\n    }\n  }\n}\n\nexport default thresholdSegmentationByRange;\n","import { Types } from '@cornerstonejs/core';\n\n/**\n * Returns the orientation of the vector in the patient coordinate system.\n * @public\n *\n * @param vector - Input array\n * @returns The orientation in the patient coordinate system.\n */\nexport default function getOrientationStringLPS(vector: Types.Point3): string {\n  // Thanks to David Clunie\n  // https://sites.google.com/site/dicomnotes/\n\n  let orientation = '';\n  const orientationX = vector[0] < 0 ? 'R' : 'L';\n  const orientationY = vector[1] < 0 ? 'A' : 'P';\n  const orientationZ = vector[2] < 0 ? 'F' : 'H';\n\n  // Should probably make this a function vector3.abs\n  const abs = [Math.abs(vector[0]), Math.abs(vector[1]), Math.abs(vector[2])];\n\n  const MIN = 0.0001;\n\n  for (let i = 0; i < 3; i++) {\n    if (abs[0] > MIN && abs[0] > abs[1] && abs[0] > abs[2]) {\n      orientation += orientationX;\n      abs[0] = 0;\n    } else if (abs[1] > MIN && abs[1] > abs[0] && abs[1] > abs[2]) {\n      orientation += orientationY;\n      abs[1] = 0;\n    } else if (abs[2] > MIN && abs[2] > abs[0] && abs[2] > abs[1]) {\n      orientation += orientationZ;\n      abs[2] = 0;\n    } else if (abs[0] > MIN && abs[1] > MIN && abs[0] === abs[1]) {\n      orientation += orientationX + orientationY;\n      abs[0] = 0;\n      abs[1] = 0;\n    } else if (abs[0] > MIN && abs[2] > MIN && abs[0] === abs[2]) {\n      orientation += orientationX + orientationZ;\n      abs[0] = 0;\n      abs[2] = 0;\n    } else if (abs[1] > MIN && abs[2] > MIN && abs[1] === abs[2]) {\n      orientation += orientationY + orientationZ;\n      abs[1] = 0;\n      abs[2] = 0;\n    } else {\n      break;\n    }\n  }\n\n  return orientation;\n}\n","/**\n * Inverts an orientation string.\n * @public\n *\n * @param orientationString - The orientation.\n * @returns The inverted orientationString.\n */\nexport default function invertOrientationStringLPS(\n  orientationString: string\n): string {\n  let inverted = orientationString.replace('H', 'f');\n\n  inverted = inverted.replace('F', 'h');\n  inverted = inverted.replace('R', 'l');\n  inverted = inverted.replace('L', 'r');\n  inverted = inverted.replace('A', 'p');\n  inverted = inverted.replace('P', 'a');\n  inverted = inverted.toUpperCase();\n\n  return inverted;\n}\n","/**\n * CINE Tool Events\n */\nenum Events {\n  CLIP_STOPPED = 'CORNERSTONE_CINE_TOOL_STOPPED',\n  CLIP_STARTED = 'CORNERSTONE_CINE_TOOL_STARTED',\n}\n\nexport default Events;\n","import { getEnabledElement } from '@cornerstonejs/core';\nimport { CINETypes } from '../../types';\n\nconst state: Record<string, CINETypes.ToolData> = {};\n\nfunction addToolState(element: HTMLDivElement, data: CINETypes.ToolData): void {\n  const enabledElement = getEnabledElement(element);\n  const { viewportId } = enabledElement;\n  state[viewportId] = data;\n}\n\nfunction getToolState(element: HTMLDivElement): CINETypes.ToolData | undefined {\n  const enabledElement = getEnabledElement(element);\n  const { viewportId } = enabledElement;\n  return state[viewportId];\n}\n\nexport { addToolState, getToolState };\n","import { glMatrix, vec3 } from 'gl-matrix';\nimport {\n  utilities as csUtils,\n  getEnabledElement,\n  StackViewport,\n  VolumeViewport,\n  cache,\n  BaseVolumeViewport,\n  Enums,\n} from '@cornerstonejs/core';\n\nimport { Types } from '@cornerstonejs/core';\nimport CINE_EVENTS from './events';\nimport { addToolState, getToolState } from './state';\nimport { CINETypes } from '../../types';\nimport scroll from '../scroll';\n\nconst { ViewportStatus } = Enums;\nconst { triggerEvent } = csUtils;\n\nconst debounced = true;\nconst loop = true;\nconst dynamicVolumesPlayingMap = new Map();\n\n/**\n * Starts playing a clip or adjusts the frame rate of an already playing clip.  framesPerSecond is\n * optional and defaults to 30 if not specified.  A negative framesPerSecond will play the clip in reverse.\n * The element must be a stack of images\n * @param element - HTML Element\n * @param framesPerSecond - Number of frames per second\n */\nfunction playClip(\n  element: HTMLDivElement,\n  playClipOptions: CINETypes.PlayClipOptions\n): void {\n  let playClipTimeouts;\n  let playClipIsTimeVarying;\n\n  if (element === undefined) {\n    throw new Error('playClip: element must not be undefined');\n  }\n\n  const enabledElement = getEnabledElement(element);\n\n  if (!enabledElement) {\n    throw new Error(\n      'playClip: element must be a valid Cornerstone enabled element'\n    );\n  }\n\n  // 4D Cine is enabled by default\n  playClipOptions.dynamicCineEnabled =\n    playClipOptions.dynamicCineEnabled ?? true;\n\n  const { viewport } = enabledElement;\n  const volume = _getVolumeFromViewport(viewport);\n  const playClipContext = _createCinePlayContext(viewport, playClipOptions);\n  let playClipData = getToolState(element);\n\n  const isDynamicCinePlaying =\n    playClipOptions.dynamicCineEnabled && volume?.isDynamicVolume();\n\n  // If user is trying to play CINE for a 4D volume it first needs\n  // to stop CINE that has may be playing for any other viewport.\n  if (isDynamicCinePlaying) {\n    _stopDynamicVolumeCine(element);\n  }\n\n  if (!playClipData) {\n    playClipData = {\n      intervalId: undefined,\n      framesPerSecond: 30,\n      lastFrameTimeStamp: undefined,\n      ignoreFrameTimeVector: false,\n      usingFrameTimeVector: false,\n      frameTimeVector: playClipOptions.frameTimeVector ?? undefined,\n      speed: playClipOptions.frameTimeVectorSpeedMultiplier ?? 1,\n      reverse: playClipOptions.reverse ?? false,\n      loop: playClipOptions.loop ?? true,\n    };\n    addToolState(element, playClipData);\n  } else {\n    // Make sure the specified clip is not running before any property update.\n    // If a 3D CINE was playing it passes isDynamicCinePlaying as FALSE to\n    // prevent stopping a 4D CINE in case it is playing on another viewport.\n    _stopClip(element, isDynamicCinePlaying);\n  }\n\n  playClipData.dynamicCineEnabled = playClipOptions.dynamicCineEnabled;\n\n  // If a framesPerSecond is specified and is valid, update the playClipData now\n  if (\n    playClipOptions.framesPerSecond < 0 ||\n    playClipOptions.framesPerSecond > 0\n  ) {\n    playClipData.framesPerSecond = Number(playClipOptions.framesPerSecond);\n    playClipData.reverse = playClipData.framesPerSecond < 0;\n    // If framesPerSecond is given, frameTimeVector will be ignored...\n    playClipData.ignoreFrameTimeVector = true;\n  }\n\n  // Determine if frame time vector should be used instead of a fixed frame rate...\n  if (\n    playClipData.ignoreFrameTimeVector !== true &&\n    playClipData.frameTimeVector &&\n    playClipData.frameTimeVector.length === playClipContext.numScrollSteps &&\n    playClipContext.frameTimeVectorEnabled\n  ) {\n    const { timeouts, isTimeVarying } = _getPlayClipTimeouts(\n      playClipData.frameTimeVector,\n      playClipData.speed\n    );\n\n    playClipTimeouts = timeouts;\n    playClipIsTimeVarying = isTimeVarying;\n  }\n\n  // This function encapsulates the frame rendering logic...\n  const playClipAction = () => {\n    const { numScrollSteps, currentStepIndex } = playClipContext;\n    let newStepIndex = currentStepIndex + (playClipData.reverse ? -1 : 1);\n    const newStepIndexOutOfRange =\n      newStepIndex < 0 || newStepIndex >= numScrollSteps;\n\n    if (!loop && newStepIndexOutOfRange) {\n      // If a 3D CINE was playing it passes isDynamicCinePlaying as FALSE to\n      // prevent stopping a 4D CINE in case it is playing on another viewport.\n      _stopClip(element, isDynamicCinePlaying);\n\n      const eventDetail = { element };\n\n      triggerEvent(element, CINE_EVENTS.CLIP_STOPPED, eventDetail);\n      return;\n    }\n\n    // Loop around if newStepIndex is out of range\n    if (newStepIndex >= numScrollSteps) {\n      newStepIndex = 0;\n    } else if (newStepIndex < 0) {\n      newStepIndex = numScrollSteps - 1;\n    }\n\n    const delta = newStepIndex - currentStepIndex;\n\n    if (delta) {\n      playClipContext.scroll(delta);\n    }\n  };\n\n  if (isDynamicCinePlaying) {\n    dynamicVolumesPlayingMap.set(volume.volumeId, element);\n  }\n\n  // If playClipTimeouts array is available, not empty and its elements are NOT uniform ...\n  // ... (at least one timeout is different from the others), use alternate setTimeout implementation\n  if (\n    playClipTimeouts &&\n    playClipTimeouts.length > 0 &&\n    playClipIsTimeVarying\n  ) {\n    playClipData.usingFrameTimeVector = true;\n    playClipData.intervalId = window.setTimeout(\n      function playClipTimeoutHandler() {\n        playClipData.intervalId = window.setTimeout(\n          playClipTimeoutHandler,\n          playClipTimeouts[playClipContext.currentStepIndex]\n        );\n        playClipAction();\n      },\n      0\n    );\n  } else {\n    // ... otherwise user setInterval implementation which is much more efficient.\n    playClipData.usingFrameTimeVector = false;\n    playClipData.intervalId = window.setInterval(\n      playClipAction,\n      1000 / Math.abs(playClipData.framesPerSecond)\n    );\n  }\n\n  const eventDetail = {\n    element,\n  };\n\n  triggerEvent(element, CINE_EVENTS.CLIP_STARTED, eventDetail);\n}\n\n/**\n * Stops an already playing clip.\n * @param element - HTML Element\n */\nfunction stopClip(element: HTMLDivElement): void {\n  _stopClip(element, true);\n}\n\nfunction _stopClip(element: HTMLDivElement, stopDynamicCine: boolean): void {\n  const enabledElement = getEnabledElement(element);\n  if (!enabledElement) {\n    return;\n  }\n  const { viewport } = enabledElement;\n  const cineToolData = getToolState(viewport.element);\n\n  if (cineToolData) {\n    _stopClipWithData(cineToolData);\n  }\n\n  if (stopDynamicCine && viewport instanceof BaseVolumeViewport) {\n    _stopDynamicVolumeCine(element);\n  }\n}\n\n/**\n * [private] Stops any CINE playing for the dynamic volume loaded on this viewport\n * @param element - HTML Element\n */\nfunction _stopDynamicVolumeCine(element) {\n  const { viewport } = getEnabledElement(element);\n  const volume = _getVolumeFromViewport(viewport);\n\n  // If the current viewport has a 4D volume loaded it may be playing\n  // if it is also loaded on another viewport and user has started CINE\n  // for that one. This guarantees the other viewport will also be stopped.\n  if (volume?.isDynamicVolume()) {\n    const dynamicCineElement = dynamicVolumesPlayingMap.get(volume.volumeId);\n\n    dynamicVolumesPlayingMap.delete(volume.volumeId);\n\n    if (dynamicCineElement && dynamicCineElement !== element) {\n      stopClip(<HTMLDivElement>dynamicCineElement);\n    }\n  }\n}\n\n/**\n * [private] Turns a Frame Time Vector (0018,1065) array into a normalized array of timeouts. Each element\n * ... of the resulting array represents the amount of time each frame will remain on the screen.\n * @param vector - A Frame Time Vector (0018,1065) as specified in section C.7.6.5.1.2 of DICOM standard.\n * @param speed - A speed factor which will be applied to each element of the resulting array.\n * @returns An array with timeouts for each animation frame.\n */\nfunction _getPlayClipTimeouts(vector: number[], speed: number) {\n  let i;\n  let sample;\n  let delay;\n  let sum = 0;\n  const limit = vector.length;\n  const timeouts = [];\n\n  // Initialize time varying to false\n  let isTimeVarying = false;\n\n  if (typeof speed !== 'number' || speed <= 0) {\n    speed = 1;\n  }\n\n  // First element of a frame time vector must be discarded\n  for (i = 1; i < limit; i++) {\n    // eslint-disable-next-line no-bitwise\n    delay = (Number(vector[i]) / speed) | 0; // Integral part only\n    timeouts.push(delay);\n    if (i === 1) {\n      // Use first item as a sample for comparison\n      sample = delay;\n    } else if (delay !== sample) {\n      isTimeVarying = true;\n    }\n\n    sum += delay;\n  }\n\n  if (timeouts.length > 0) {\n    if (isTimeVarying) {\n      // If it's a time varying vector, make the last item an average...\n      // eslint-disable-next-line no-bitwise\n      delay = (sum / timeouts.length) | 0;\n    } else {\n      delay = timeouts[0];\n    }\n\n    timeouts.push(delay);\n  }\n\n  return { timeouts, isTimeVarying };\n}\n\n/**\n * [private] Performs the heavy lifting of stopping an ongoing animation.\n * @param element - HTML Element\n * @param playClipData - The data from playClip that needs to be stopped.\n */\nfunction _stopClipWithData(playClipData) {\n  const id = playClipData.intervalId;\n\n  if (typeof id !== 'undefined') {\n    playClipData.intervalId = undefined;\n    if (playClipData.usingFrameTimeVector) {\n      clearTimeout(id);\n    } else {\n      clearInterval(id);\n    }\n  }\n}\n\nfunction _getVolumesFromViewport(viewport): Types.IImageVolume[] {\n  return viewport\n    .getActors()\n    .map((actor) => cache.getVolume(actor.uid))\n    .filter((volume) => !!volume);\n}\n\nfunction _getVolumeFromViewport(viewport): Types.IImageVolume {\n  const volumes = _getVolumesFromViewport(viewport);\n  const dynamicVolume = volumes.find((volume) => volume.isDynamicVolume());\n\n  return dynamicVolume ?? volumes[0];\n}\n\nfunction _createStackViewportCinePlayContext(\n  viewport: StackViewport,\n  waitForRendered: number\n): CINETypes.CinePlayContext {\n  const imageIds = viewport.getImageIds();\n\n  return {\n    get numScrollSteps(): number {\n      return imageIds.length;\n    },\n    get currentStepIndex(): number {\n      return viewport.getTargetImageIdIndex();\n    },\n    get frameTimeVectorEnabled(): boolean {\n      // It is always in acquired orientation\n      return true;\n    },\n    waitForRenderedCount: 0,\n    scroll(delta: number): void {\n      if (\n        this.waitForRenderedCount <= waitForRendered &&\n        viewport.viewportStatus !== ViewportStatus.RENDERED\n      ) {\n        this.waitForRenderedCount++;\n        return;\n      }\n      this.waitForRenderedCount = 0;\n      scroll(viewport, { delta, debounceLoading: debounced });\n    },\n  };\n}\n\nfunction _createVolumeViewportCinePlayContext(\n  viewport: VolumeViewport,\n  volume: Types.IImageVolume\n): CINETypes.CinePlayContext {\n  const { volumeId } = volume;\n  const cachedScrollInfo = {\n    viewPlaneNormal: vec3.create(),\n    scrollInfo: null,\n  };\n\n  const getScrollInfo = () => {\n    const camera = viewport.getCamera();\n    const updateCache =\n      !cachedScrollInfo.scrollInfo ||\n      !vec3.equals(camera.viewPlaneNormal, cachedScrollInfo.viewPlaneNormal);\n\n    // Number of steps would change only after rotating the volume so it\n    // caches the result and recomputes only when necessary. Until it is\n    // rotated the current frame is updated locally\n    if (updateCache) {\n      const scrollInfo = csUtils.getVolumeViewportScrollInfo(\n        viewport,\n        volumeId\n      );\n\n      cachedScrollInfo.viewPlaneNormal = camera.viewPlaneNormal;\n      cachedScrollInfo.scrollInfo = scrollInfo;\n    }\n\n    return cachedScrollInfo.scrollInfo;\n  };\n\n  return {\n    get numScrollSteps(): number {\n      return getScrollInfo().numScrollSteps;\n    },\n    get currentStepIndex(): number {\n      return getScrollInfo().currentStepIndex;\n    },\n    get frameTimeVectorEnabled(): boolean {\n      const camera = viewport.getCamera();\n      const volumeViewPlaneNormal = volume.direction\n        .slice(6, 9)\n        .map((x) => -x) as Types.Point3;\n      const dot = vec3.dot(volumeViewPlaneNormal, camera.viewPlaneNormal);\n\n      // Check if the volume is in acquired orientation\n      // it may be flipped or rotated in plane\n      return glMatrix.equals(dot, 1);\n    },\n    scroll(delta: number): void {\n      getScrollInfo().currentStepIndex += delta;\n      scroll(viewport, { delta });\n    },\n  };\n}\n\nfunction _createDynamicVolumeViewportCinePlayContext(\n  volume: Types.IDynamicImageVolume\n): CINETypes.CinePlayContext {\n  return {\n    get numScrollSteps(): number {\n      return volume.numTimePoints;\n    },\n    get currentStepIndex(): number {\n      return volume.timePointIndex;\n    },\n    get frameTimeVectorEnabled(): boolean {\n      // Looping throught time does not uses frameTimeVector\n      return false;\n    },\n    scroll(delta: number): void {\n      // Updating this property (setter) makes it move to the desired time point\n      volume.timePointIndex += delta;\n    },\n  };\n}\n\nfunction _createCinePlayContext(\n  viewport,\n  playClipOptions: CINETypes.PlayClipOptions\n): CINETypes.CinePlayContext {\n  if (viewport instanceof StackViewport) {\n    return _createStackViewportCinePlayContext(\n      viewport,\n      playClipOptions.waitForRendered ?? 30\n    );\n  }\n\n  if (viewport instanceof VolumeViewport) {\n    const volume = _getVolumeFromViewport(viewport);\n\n    if (playClipOptions.dynamicCineEnabled && volume?.isDynamicVolume()) {\n      return _createDynamicVolumeViewportCinePlayContext(\n        <Types.IDynamicImageVolume>volume\n      );\n    }\n\n    return _createVolumeViewportCinePlayContext(viewport, volume);\n  }\n\n  throw new Error('Unknown viewport type');\n}\n\nexport { playClip, stopClip };\n","import { Types } from '@cornerstonejs/core';\nimport { PlanarFreehandROITool } from '../../tools';\nimport { ToolGroupManager } from '../../store';\nimport { PlanarFreehandROIAnnotation } from '../../types/ToolSpecificAnnotationTypes';\nimport interpolateSegmentPoints from './interpolation/interpolateSegmentPoints';\n\nfunction shouldPreventInterpolation(\n  enabledElement: Types.IEnabledElement,\n  annotation: PlanarFreehandROIAnnotation,\n  knotsRatioPercentage: number\n): boolean {\n  if (!annotation?.data?.polyline || knotsRatioPercentage <= 0) {\n    return true;\n  }\n\n  if (!enabledElement.viewport) {\n    return true;\n  }\n\n  const { renderingEngineId, viewportId, FrameOfReferenceUID } = enabledElement;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (annotation.metadata.FrameOfReferenceUID !== FrameOfReferenceUID) {\n    return true;\n  }\n\n  if (!toolGroup) {\n    return true;\n  }\n\n  const toolInstance = toolGroup.getToolInstance(annotation.metadata.toolName);\n\n  // strategy to prevent non PlanarFreehandTool\n  if (!(toolInstance instanceof PlanarFreehandROITool)) {\n    return true;\n  }\n\n  return (\n    toolInstance.isDrawing ||\n    toolInstance.isEditingOpen ||\n    toolInstance.isEditingClosed\n  );\n}\n/**\n * Interpolates a given annotation from a given enabledElement.\n * It mutates annotation param.\n * The param knotsRatioPercentage defines the percentage of points to be considered as knots on the interpolation process.\n * Interpolation will be skipped in case: annotation is not present in enabledElement (or there is no toolGroup associated with it), related tool is being modified.\n */\nexport default function interpolateAnnotation(\n  enabledElement: Types.IEnabledElement,\n  annotation: PlanarFreehandROIAnnotation,\n  knotsRatioPercentage: number\n): boolean {\n  // prevent running while there is any tool annotation being modified\n  if (\n    shouldPreventInterpolation(enabledElement, annotation, knotsRatioPercentage)\n  ) {\n    return false;\n  }\n\n  const { viewport } = enabledElement;\n  // use only 2 dimensions on interpolation (what visually matters),\n  // otherwise a 3d interpolation might have a totally different output as it consider one more dimension.\n  const canvasPoints = annotation.data.polyline.map(viewport.worldToCanvas);\n  const interpolatedCanvasPoints = <Types.Point2[]>(\n    interpolateSegmentPoints(\n      canvasPoints,\n      0,\n      canvasPoints.length,\n      knotsRatioPercentage\n    )\n  );\n\n  if (interpolatedCanvasPoints === canvasPoints) {\n    return false;\n  }\n\n  annotation.data.polyline = interpolatedCanvasPoints.map(\n    viewport.canvasToWorld\n  );\n\n  return true;\n}\n","import interpolateAnnotation from './interpolateAnnotation';\n\nexport default {\n  interpolateAnnotation,\n};\n\nexport { interpolateAnnotation };\n","import { getEnabledElement } from '@cornerstonejs/core';\n\nconst state: Record<number, any> = {};\n\nfunction addToolState(element: HTMLDivElement, data): void {\n  const enabledElement = getEnabledElement(element);\n  const { viewportId } = enabledElement;\n  state[viewportId] = data;\n}\n\nfunction getToolState(element: HTMLDivElement): any {\n  const enabledElement = getEnabledElement(element);\n  const { viewportId } = enabledElement;\n  return state[viewportId];\n}\n\nexport { addToolState, getToolState };\n","import { getEnabledElement, StackViewport, Enums } from '@cornerstonejs/core';\nimport { getToolState } from './state';\n\nexport const requestType = Enums.RequestType.Prefetch;\nexport const priority = 0;\n\nexport function range(lowEnd, highEnd) {\n  // Javascript version of Python's range function\n  // http://stackoverflow.com/questions/3895478/does-javascript-have-a-method-like-range-to-generate-an-array-based-on-suppl\n  lowEnd = Math.round(lowEnd) || 0;\n  highEnd = Math.round(highEnd) || 0;\n\n  const arr = [];\n  let c = highEnd - lowEnd + 1;\n\n  if (c <= 0) {\n    return arr;\n  }\n\n  while (c--) {\n    arr[c] = highEnd--;\n  }\n\n  return arr;\n}\n\nexport function nearestIndex(arr, x) {\n  // Return index of nearest values in array\n  // http://stackoverflow.com/questions/25854212/return-index-of-nearest-values-in-an-array\n  let low = 0;\n  let high = arr.length - 1;\n\n  arr.forEach((v, idx) => {\n    if (v < x) {\n      low = Math.max(idx, low);\n    } else if (v > x) {\n      high = Math.min(idx, high);\n    }\n  });\n\n  return { low, high };\n}\n\nexport function getStackData(element) {\n  const enabledElement = getEnabledElement(element);\n\n  if (!enabledElement) {\n    // Can be not valid if the data is changed part way through prefetch\n    return null;\n  }\n\n  const { viewport } = enabledElement;\n\n  if (!(viewport instanceof StackViewport)) {\n    throw new Error(\n      'stackPrefetch: element must be a StackViewport, VolumeViewport stackPrefetch not yet implemented'\n    );\n  }\n\n  return {\n    currentImageIdIndex: viewport.getCurrentImageIdIndex(),\n    imageIds: viewport.getImageIds(),\n  };\n}\n\nexport function getPromiseRemovedHandler(element) {\n  return function (e) {\n    const eventData = e.detail;\n\n    // When an imagePromise has been pushed out of the cache, re-add its index\n    // It to the indicesToRequest list so that it will be retrieved later if the\n    // CurrentImageIdIndex is changed to an image nearby\n    let stackData;\n\n    try {\n      // It will throw an exception in some cases (eg: thumbnails)\n      stackData = getStackData(element);\n    } catch (error) {\n      return;\n    }\n\n    if (!stackData || !stackData.imageIds || stackData.imageIds.length === 0) {\n      return;\n    }\n\n    const stack = stackData;\n    const imageIdIndex = stack.imageIds.indexOf(eventData.imageId);\n\n    // Make sure the image that was removed is actually in this stack\n    // Before adding it to the indicesToRequest array\n    if (imageIdIndex < 0) {\n      return;\n    }\n\n    const stackPrefetchData = getToolState(element);\n\n    if (\n      !stackPrefetchData ||\n      !stackPrefetchData.data ||\n      !stackPrefetchData.data.length\n    ) {\n      return;\n    }\n\n    stackPrefetchData.indicesToRequest.push(imageIdIndex);\n  };\n}\n\nexport const clearFromImageIds = (stack) => {\n  const imageIdSet = new Set<string>(stack.imageIds);\n  return (requestDetails) =>\n    requestDetails.type !== requestType ||\n    !imageIdSet.has(requestDetails.additionalDetails.imageId);\n};\n","import {\n  getEnabledElement,\n  StackViewport,\n  imageLoader,\n  Enums,\n  eventTarget,\n  imageLoadPoolManager,\n  cache,\n  getConfiguration as getCoreConfiguration,\n} from '@cornerstonejs/core';\nimport { addToolState, getToolState } from './state';\nimport {\n  getStackData,\n  requestType,\n  priority,\n  getPromiseRemovedHandler,\n  nearestIndex,\n  range,\n} from './stackPrefetchUtils';\n\nlet configuration = {\n  maxImagesToPrefetch: Infinity,\n  // Preserving the existing pool should be the default behaviour, as there might\n  // be a volume of the same series already being loaded in the pool, and we don't want\n  // to cancel it middle of the way when the other stack viewport mounts. Worst case scenario\n  // there will be a few extra images in the pool but by the time that their turn comes\n  // we will have already loaded the volume and it will get read from the CACHE,\n  // so who cares\n  preserveExistingPool: true,\n};\n\nlet resetPrefetchTimeout;\nconst resetPrefetchDelay = 10;\n\nfunction prefetch(element) {\n  // Get the stackPrefetch tool data\n  const stackPrefetchData = getToolState(element);\n\n  if (!stackPrefetchData) {\n    return;\n  }\n\n  const stackPrefetch = stackPrefetchData || {};\n  const stack = getStackData(element);\n\n  if (!stack?.imageIds?.length) {\n    console.warn('CornerstoneTools.stackPrefetch: No images in stack.');\n    return;\n  }\n\n  const { currentImageIdIndex } = stack;\n\n  // If all the requests are complete, disable the stackPrefetch tool\n  stackPrefetch.enabled &&= stackPrefetch.indicesToRequest?.length;\n\n  // Make sure the tool is still enabled\n  if (stackPrefetch.enabled === false) {\n    return;\n  }\n\n  // Remove an imageIdIndex from the list of indices to request\n  // This fires when the individual image loading deferred is resolved\n  function removeFromList(imageIdIndex) {\n    const index = stackPrefetch.indicesToRequest.indexOf(imageIdIndex);\n\n    if (index > -1) {\n      // Don't remove last element if imageIdIndex not found\n      stackPrefetch.indicesToRequest.splice(index, 1);\n    }\n  }\n\n  // Remove all already cached images from the\n  // IndicesToRequest array\n  stackPrefetchData.indicesToRequest.sort((a, b) => a - b);\n  const indicesToRequestCopy = stackPrefetch.indicesToRequest.slice();\n\n  indicesToRequestCopy.forEach(function (imageIdIndex) {\n    const imageId = stack.imageIds[imageIdIndex];\n\n    if (!imageId) {\n      return;\n    }\n\n    const distance = Math.abs(currentImageIdIndex - imageIdIndex);\n    // For nearby objects, ensure the last accessed time is updated\n    // by using getImageLoadObject.\n    // For more distant objects, just check if available, but dont\n    // change the access time.\n    // This allows throwing data that hasn't been accessed and is not\n    // nearby.\n    const imageCached =\n      distance < 6\n        ? cache.getImageLoadObject(imageId)\n        : cache.isLoaded(imageId);\n\n    if (imageCached) {\n      // Already in cache\n      removeFromList(imageIdIndex);\n    }\n  });\n\n  // Stop here if there are no images left to request\n  // After those in the cache have been removed\n  if (!stackPrefetch.indicesToRequest.length) {\n    return;\n  }\n\n  // Clear the requestPool of prefetch requests, if needed.\n  if (!configuration.preserveExistingPool) {\n    imageLoadPoolManager.clearRequestStack(requestType);\n  }\n\n  // Identify the nearest imageIdIndex to the currentImageIdIndex\n  const nearest = nearestIndex(\n    stackPrefetch.indicesToRequest,\n    stack.currentImageIdIndex\n  );\n\n  let imageId;\n  let nextImageIdIndex;\n  const preventCache = false;\n\n  function doneCallback(image) {\n    console.log('prefetch done: %s', image.imageId);\n    const imageIdIndex = stack.imageIds.indexOf(image.imageId);\n\n    removeFromList(imageIdIndex);\n  }\n\n  // Prefetch images around the current image (before and after)\n  let lowerIndex = nearest.low;\n  let higherIndex = nearest.high;\n  const imageIdsToPrefetch = [];\n\n  while (\n    lowerIndex >= 0 ||\n    higherIndex < stackPrefetch.indicesToRequest.length\n  ) {\n    const currentIndex = stack.currentImageIdIndex;\n    const shouldSkipLower =\n      currentIndex - stackPrefetch.indicesToRequest[lowerIndex] >\n      configuration.maxImagesToPrefetch;\n    const shouldSkipHigher =\n      stackPrefetch.indicesToRequest[higherIndex] - currentIndex >\n      configuration.maxImagesToPrefetch;\n\n    const shouldLoadLower = !shouldSkipLower && lowerIndex >= 0;\n    const shouldLoadHigher =\n      !shouldSkipHigher && higherIndex < stackPrefetch.indicesToRequest.length;\n\n    if (!shouldLoadHigher && !shouldLoadLower) {\n      break;\n    }\n\n    if (shouldLoadLower) {\n      nextImageIdIndex = stackPrefetch.indicesToRequest[lowerIndex--];\n      imageId = stack.imageIds[nextImageIdIndex];\n      imageIdsToPrefetch.push(imageId);\n    }\n\n    if (shouldLoadHigher) {\n      nextImageIdIndex = stackPrefetch.indicesToRequest[higherIndex++];\n      imageId = stack.imageIds[nextImageIdIndex];\n      imageIdsToPrefetch.push(imageId);\n    }\n  }\n\n  const requestFn = (imageId, options) =>\n    imageLoader.loadAndCacheImage(imageId, options);\n\n  const { useNorm16Texture } = getCoreConfiguration().rendering;\n\n  imageIdsToPrefetch.forEach((imageId) => {\n    // IMPORTANT: Request type should be passed if not the 'interaction'\n    // highest priority will be used for the request type in the imageRetrievalPool\n    const options = {\n      targetBuffer: {\n        type: useNorm16Texture ? undefined : 'Float32Array',\n      },\n      preScale: {\n        enabled: true,\n      },\n      requestType,\n    };\n\n    imageLoadPoolManager.addRequest(\n      requestFn.bind(null, imageId, options),\n      requestType,\n      // Additional details\n      {\n        imageId,\n      },\n      priority\n      // addToBeginning\n    );\n  });\n}\n\nfunction onImageUpdated(e) {\n  // Start prefetching again (after a delay)\n  // When the user has scrolled to a new image\n  clearTimeout(resetPrefetchTimeout);\n  resetPrefetchTimeout = setTimeout(function () {\n    const element = e.target;\n\n    // If playClip is enabled and the user loads a different series in the viewport\n    // An exception will be thrown because the element will not be enabled anymore\n    try {\n      prefetch(element);\n    } catch (error) {\n      return;\n    }\n  }, resetPrefetchDelay);\n}\n\nfunction enable(element) {\n  const stack = getStackData(element);\n\n  if (!stack || !stack.imageIds || stack.imageIds.length === 0) {\n    console.warn('CornerstoneTools.stackPrefetch: No images in stack.');\n    return;\n  }\n\n  // Use the currentImageIdIndex from the stack as the initialImageIdIndex\n  const stackPrefetchData = {\n    indicesToRequest: range(0, stack.imageIds.length - 1),\n    enabled: true,\n    direction: 1,\n  };\n\n  // Remove the currentImageIdIndex from the list to request\n  const indexOfCurrentImage = stackPrefetchData.indicesToRequest.indexOf(\n    stack.currentImageIdIndex\n  );\n\n  stackPrefetchData.indicesToRequest.splice(indexOfCurrentImage, 1);\n\n  addToolState(element, stackPrefetchData);\n\n  prefetch(element);\n\n  element.removeEventListener(Enums.Events.STACK_NEW_IMAGE, onImageUpdated);\n  element.addEventListener(Enums.Events.STACK_NEW_IMAGE, onImageUpdated);\n\n  const promiseRemovedHandler = getPromiseRemovedHandler(element);\n\n  eventTarget.removeEventListener(\n    Enums.Events.IMAGE_CACHE_IMAGE_REMOVED,\n    promiseRemovedHandler\n  );\n  eventTarget.addEventListener(\n    Enums.Events.IMAGE_CACHE_IMAGE_REMOVED,\n    promiseRemovedHandler\n  );\n}\n\nfunction disable(element) {\n  clearTimeout(resetPrefetchTimeout);\n  element.removeEventListener(Enums.Events.STACK_NEW_IMAGE, onImageUpdated);\n\n  const promiseRemovedHandler = getPromiseRemovedHandler(element);\n\n  eventTarget.removeEventListener(\n    Enums.Events.IMAGE_CACHE_IMAGE_REMOVED,\n    promiseRemovedHandler\n  );\n\n  const stackPrefetchData = getToolState(element);\n  // If there is actually something to disable, disable it\n\n  if (stackPrefetchData && stackPrefetchData.indicesToRequest.length) {\n    stackPrefetchData.enabled = false;\n\n    // Clear current prefetch requests from the requestPool\n    imageLoadPoolManager.clearRequestStack(requestType);\n  }\n}\n\nfunction getConfiguration() {\n  return configuration;\n}\n\nfunction setConfiguration(config) {\n  configuration = config;\n}\n\nconst stackPrefetch = { enable, disable, getConfiguration, setConfiguration };\n\nexport default stackPrefetch;\n","import {\n  imageLoader,\n  Enums,\n  eventTarget,\n  imageLoadPoolManager,\n  cache,\n  getConfiguration as getCoreConfiguration,\n} from '@cornerstonejs/core';\nimport { addToolState, getToolState } from './state';\nimport {\n  getStackData,\n  requestType,\n  priority,\n  clearFromImageIds,\n  getPromiseRemovedHandler,\n} from './stackPrefetchUtils';\nimport roundNumber from '../roundNumber';\n\nlet configuration = {\n  maxImagesToPrefetch: Infinity,\n  // Fetch up to 2 image before and after\n  minBefore: 2,\n  maxAfter: 2,\n  // Increment the cache size by 10 images\n  directionExtraImages: 10,\n  preserveExistingPool: false,\n};\n\nlet resetPrefetchTimeout;\n// Starting the prefetch quickly isn't an issue as the main image is already being\n// loaded, so a 5 ms prefetch delay is fine\nconst resetPrefetchDelay = 5;\n\n/**\n * Call this to enable stack context sensitive prefetch.  Should be called\n * before stack data is set in order to start prefetch after load first image.\n * This will add a STACK_NEW_IMAGE to detect when a new image is displayed, and then\n * update the prefetch stack.  The context sensitive prefetch reacts to the\n * initial display, or significant moves, the already loaded images, the\n * cache size and the direction of navigation.  The behaviour is:\n *\n * 1. On navigating to a new image initially, or one that is at a different position:\n *  * Fetch the next/previous 2 images\n * 2. If the user is navigating forward/backward by less than 5 images, then\n *  * Prefetch additional images in the direction of navigation, up to 100\n * 3. If all the images in a given prefetch have completed, then:\n *  * Use the last prefetched image size as an image size for the stack\n *  * Fetch up to 1/4 of the cache size images near the current image\n *\n * This is designed to:\n *   * Get nearby images immediately so that they are available for navigation\n *     * Under the assumption that users might click and view an image, then\n *       navigate to next/previous image to see the exact image they want\n *   * Not interfere with loading other viewports if they are still loading\n *     * Load priority is prefetch, and minimal images are requested initially\n *   * Load an entire series if it will fit in memory\n *     * Allows navigating to other parts of the series and display images immediately\n *   * Have images available for CINE/navigation in one direction even when\n *     there is more image data than will fit in memory.\n *     * Up to 100 images in the direction of travel will be prefetched\n *\n * @param element - to prefetch on\n */\nconst enable = (element): void => {\n  const stack = getStackData(element);\n\n  if (!stack || !stack.imageIds || stack.imageIds.length === 0) {\n    console.warn('CornerstoneTools.stackPrefetch: No images in stack.');\n    return;\n  }\n\n  updateToolState(element);\n\n  prefetch(element);\n\n  element.removeEventListener(Enums.Events.STACK_NEW_IMAGE, onImageUpdated);\n  element.addEventListener(Enums.Events.STACK_NEW_IMAGE, onImageUpdated);\n\n  const promiseRemovedHandler = getPromiseRemovedHandler(element);\n\n  eventTarget.removeEventListener(\n    Enums.Events.IMAGE_CACHE_IMAGE_REMOVED,\n    promiseRemovedHandler\n  );\n  eventTarget.addEventListener(\n    Enums.Events.IMAGE_CACHE_IMAGE_REMOVED,\n    promiseRemovedHandler\n  );\n};\n\nfunction prefetch(element) {\n  const stack = getStackData(element);\n  if (!stack?.imageIds?.length) {\n    console.warn('CornerstoneTools.stackPrefetch: No images in stack.');\n    return;\n  }\n\n  // Get the stackPrefetch tool data\n  const stackPrefetchData = getToolState(element);\n\n  if (!stackPrefetchData) {\n    return;\n  }\n\n  const stackPrefetch = stackPrefetchData || {};\n\n  // If all the requests are complete, disable the stackPrefetch tool\n  stackPrefetch.enabled &&= stackPrefetch.indicesToRequest?.length;\n\n  // Make sure the tool is still enabled\n  if (stackPrefetch.enabled === false) {\n    return;\n  }\n\n  // Remove an imageIdIndex from the list of indices to request\n  // This fires when the individual image loading deferred is resolved\n  function removeFromList(imageIdIndex) {\n    const index = stackPrefetch.indicesToRequest.indexOf(imageIdIndex);\n\n    if (index > -1) {\n      // Don't remove last element if imageIdIndex not found\n      stackPrefetch.indicesToRequest.splice(index, 1);\n    }\n  }\n\n  // Remove all already cached images from the\n  // IndicesToRequest array.\n  const indicesToRequestCopy = stackPrefetch.indicesToRequest.slice();\n  const { currentImageIdIndex } = stack;\n\n  indicesToRequestCopy.forEach((imageIdIndex) => {\n    const imageId = stack.imageIds[imageIdIndex];\n\n    if (!imageId) {\n      return;\n    }\n\n    const distance = Math.abs(currentImageIdIndex - imageIdIndex);\n    // For nearby objects, ensure the last accessed time is updated\n    // by using getImageLoadObject.\n    // For more distant objects, just check if available, but dont\n    // change the access time.\n    // This allows throwing data that hasn't been accessed and is not\n    // nearby.\n    const imageCached =\n      distance < 6\n        ? cache.getImageLoadObject(imageId)\n        : cache.isLoaded(imageId);\n\n    if (imageCached) {\n      // Already in cache\n      removeFromList(imageIdIndex);\n    }\n  });\n\n  // Stop here if there are no images left to request\n  // After those in the cache have been removed\n  if (!stackPrefetch.indicesToRequest.length) {\n    return;\n  }\n\n  // Clear the requestPool of prefetch requests, if needed.\n  if (!configuration.preserveExistingPool) {\n    imageLoadPoolManager.filterRequests(clearFromImageIds(stack));\n  }\n\n  function doneCallback(imageId) {\n    const imageIdIndex = stack.imageIds.indexOf(imageId);\n\n    removeFromList(imageIdIndex);\n    const image = cache.getCachedImageBasedOnImageURI(imageId);\n    const { stats } = stackPrefetch;\n    const decodeTimeInMS = image?.image?.decodeTimeInMS || 0;\n    if (decodeTimeInMS) {\n      stats.imageIds.set(imageId, decodeTimeInMS);\n      stats.decodeTimeInMS += decodeTimeInMS;\n      const loadTimeInMS = image?.image?.loadTimeInMS || 0;\n      stats.loadTimeInMS += loadTimeInMS;\n    }\n\n    if (!stackPrefetch.indicesToRequest.length) {\n      if (image?.sizeInBytes) {\n        const { sizeInBytes } = image;\n        const usage = cache.getMaxCacheSize() / 4 / sizeInBytes;\n        if (!stackPrefetch.cacheFill) {\n          stats.initialTime = Date.now() - stats.start;\n          stats.initialSize = stats.imageIds.size;\n          updateToolState(element, usage);\n          prefetch(element);\n        } else if (stats.imageIds.size) {\n          stats.fillTime = Date.now() - stats.start;\n          const { size } = stats.imageIds;\n          stats.fillSize = size;\n          console.log(\n            'Done cache fill',\n            stats.fillTime,\n            'ms',\n            size,\n            'items',\n            'average total time',\n            roundNumber(stats.fillTime / size),\n            'ms',\n            'average load',\n            roundNumber(stats.loadTimeInMS / size),\n            'ms',\n            'average decode',\n            roundNumber(stats.decodeTimeInMS / size),\n            'ms'\n          );\n        }\n      }\n    }\n  }\n\n  const requestFn = (imageId, options) =>\n    imageLoader\n      .loadAndCacheImage(imageId, options)\n      .then(() => doneCallback(imageId));\n\n  const { useNorm16Texture } = getCoreConfiguration().rendering;\n\n  indicesToRequestCopy.forEach((imageIdIndex) => {\n    const imageId = stack.imageIds[imageIdIndex];\n    // IMPORTANT: Request type should be passed if not the 'interaction'\n    // highest priority will be used for the request type in the imageRetrievalPool\n    const options = {\n      targetBuffer: {\n        type: useNorm16Texture ? undefined : 'Float32Array',\n      },\n      preScale: {\n        enabled: true,\n      },\n      requestType,\n    };\n\n    imageLoadPoolManager.addRequest(\n      requestFn.bind(null, imageId, options),\n      requestType,\n      // Additional details\n      {\n        imageId,\n      },\n      priority\n      // addToBeginning\n    );\n  });\n}\n\nfunction onImageUpdated(e) {\n  // Start prefetching again (after a delay)\n  // When the user has scrolled to a new image\n  clearTimeout(resetPrefetchTimeout);\n  resetPrefetchTimeout = setTimeout(function () {\n    const element = e.target;\n\n    // If playClip is enabled and the user loads a different series in the viewport\n    // An exception will be thrown because the element will not be enabled anymore\n    try {\n      updateToolState(element);\n      prefetch(element);\n    } catch (error) {\n      return;\n    }\n  }, resetPrefetchDelay);\n}\n\n// Not a full signum, but good enough for direction.\nconst signum = (x) => (x < 0 ? -1 : 1);\n\nconst updateToolState = (element, usage?: number) => {\n  const stack = getStackData(element);\n  if (!stack || !stack.imageIds || stack.imageIds.length === 0) {\n    console.warn('CornerstoneTools.stackPrefetch: No images in stack.');\n    return;\n  }\n\n  const { currentImageIdIndex } = stack;\n  let { maxAfter = 2, minBefore = 2 } = configuration;\n  const { directionExtraImages = 10 } = configuration;\n  // Use the currentImageIdIndex from the stack as the initialImageIdIndex\n  const stackPrefetchData = getToolState(element) || {\n    indicesToRequest: [],\n    currentImageIdIndex,\n    stackCount: 0,\n    enabled: true,\n    direction: 1,\n    stats: {\n      start: Date.now(),\n      imageIds: new Map(),\n      decodeTimeInMS: 0,\n      loadTimeInMS: 0,\n      totalBytes: 0,\n    },\n  };\n  const delta = currentImageIdIndex - stackPrefetchData.currentImageIdIndex;\n  stackPrefetchData.direction = signum(delta);\n  stackPrefetchData.currentImageIdIndex = currentImageIdIndex;\n  stackPrefetchData.enabled = true;\n\n  if (stackPrefetchData.stackCount < 100) {\n    stackPrefetchData.stackCount += directionExtraImages;\n  }\n\n  if (Math.abs(delta) > maxAfter || !delta) {\n    // Not incrementing by 1, so stop increasing the data size\n    // TODO - consider reversing the CINE playback\n    stackPrefetchData.stackCount = 0;\n    if (usage) {\n      // The usage of the cache that this stack can use\n      const positionFraction = currentImageIdIndex / stack.imageIds.length;\n      minBefore = Math.ceil(usage * positionFraction);\n      maxAfter = Math.ceil(usage * (1 - positionFraction));\n      stackPrefetchData.cacheFill = true;\n    } else {\n      stackPrefetchData.cacheFill = false;\n    }\n  } else if (delta < 0) {\n    minBefore += stackPrefetchData.stackCount;\n    maxAfter = 0;\n  } else {\n    maxAfter += stackPrefetchData.stackCount;\n    minBefore = 0;\n  }\n\n  const minIndex = Math.max(0, currentImageIdIndex - minBefore);\n\n  const maxIndex = Math.min(\n    stack.imageIds.length - 1,\n    currentImageIdIndex + maxAfter\n  );\n\n  // Order these correctly initially\n  const indicesToRequest = [];\n  for (let i = currentImageIdIndex + 1; i <= maxIndex; i++) {\n    indicesToRequest.push(i);\n  }\n  for (let i = currentImageIdIndex - 1; i >= minIndex; i--) {\n    indicesToRequest.push(i);\n  }\n  stackPrefetchData.indicesToRequest = indicesToRequest;\n\n  addToolState(element, stackPrefetchData);\n};\n\nfunction disable(element) {\n  clearTimeout(resetPrefetchTimeout);\n  element.removeEventListener(Enums.Events.STACK_NEW_IMAGE, onImageUpdated);\n\n  const promiseRemovedHandler = getPromiseRemovedHandler(element);\n\n  eventTarget.removeEventListener(\n    Enums.Events.IMAGE_CACHE_IMAGE_REMOVED,\n    promiseRemovedHandler\n  );\n\n  const stackPrefetchData = getToolState(element);\n  // If there is actually something to disable, disable it\n\n  if (stackPrefetchData && stackPrefetchData.data.length) {\n    stackPrefetchData.enabled = false;\n    // Don't worry about clearing the requests - there aren't that many too be bothersome\n  }\n}\n\nfunction getConfiguration() {\n  return configuration;\n}\n\nfunction setConfiguration(config) {\n  configuration = config;\n}\n\nconst stackContextPrefetch = {\n  enable,\n  disable,\n  getConfiguration,\n  setConfiguration,\n};\n\nexport default stackContextPrefetch;\n","import { utilities, cache, Types } from '@cornerstonejs/core';\n\n/**\n * Gets the scalar data for a series of time points for either a single\n * coordinate or a segmentation mask, it will return the an array of scalar\n * data for a single coordinate or an array of arrays for a segmentation.\n *\n * @param dynamicVolume: 4D volume to compute time point data from\n * @param options: frameNumbers: which frames to use as timepoints, if left\n * blank, gets data timepoints over all frames\n * maskVolumeId: segmentationId to get timepoint data of\n * imageCoordinate: world coordinate to get timepoint data of\n * @returns\n */\nfunction getDataInTime(\n  dynamicVolume: Types.IDynamicImageVolume,\n  options: {\n    frameNumbers?;\n    maskVolumeId?;\n    imageCoordinate?;\n  }\n): number[] | number[][] {\n  let dataInTime;\n\n  // if frameNumbers is not provided, all frames are selected\n  const frames = options.frameNumbers || [\n    ...Array(dynamicVolume.numTimePoints).keys(),\n  ];\n\n  // You only need to provide either maskVolumeId OR imageCoordinate.\n  // Throws error if neither maskVolumeId or imageCoordinate is given,\n  // throws error if BOTH maskVolumeId and imageCoordinate is given\n  if (!options.maskVolumeId && !options.imageCoordinate) {\n    throw new Error('No ROI provided');\n  }\n\n  if (options.maskVolumeId && options.imageCoordinate) {\n    throw new Error('Please provide only one ROI');\n  }\n\n  if (options.maskVolumeId) {\n    const segmentationVolume = cache.getVolume(options.maskVolumeId);\n    const segScalarData = segmentationVolume.getScalarData();\n    const indexArray = [];\n\n    // Get the index of every non-zero voxel in mask\n    for (let i = 0, len = segScalarData.length; i < len; i++) {\n      if (segScalarData[i] !== 0) {\n        indexArray.push(i);\n      }\n    }\n\n    const dataInTime = _getTimePointDataMask(frames, indexArray, dynamicVolume);\n\n    return dataInTime;\n  }\n\n  if (options.imageCoordinate) {\n    const dataInTime = _getTimePointDataCoordinate(\n      frames,\n      options.imageCoordinate,\n      dynamicVolume\n    );\n\n    return dataInTime;\n  }\n\n  return dataInTime;\n}\n\nfunction _getTimePointDataCoordinate(frames, coordinate, volume) {\n  const { dimensions, imageData } = volume;\n  const index = imageData.worldToIndex(coordinate);\n\n  index[0] = Math.floor(index[0]);\n  index[1] = Math.floor(index[1]);\n  index[2] = Math.floor(index[2]);\n\n  if (!utilities.indexWithinDimensions(index, dimensions)) {\n    throw new Error('outside bounds');\n  }\n\n  // calculate offset for index\n  const yMultiple = dimensions[0];\n  const zMultiple = dimensions[0] * dimensions[1];\n  const allScalarData = volume.getScalarDataArrays();\n  const value = [];\n\n  frames.forEach((frame) => {\n    const activeScalarData = allScalarData[frame];\n    const scalarIndex = index[2] * zMultiple + index[1] * yMultiple + index[0];\n    value.push(activeScalarData[scalarIndex]);\n  });\n\n  return value;\n}\n\nfunction _getTimePointDataMask(frames, indexArray, volume) {\n  const allScalarData = volume.getScalarDataArrays();\n  const value = [];\n\n  for (let i = 0; i < indexArray.length; i++) {\n    const indexValues = [];\n    frames.forEach((frame) => {\n      const activeScalarData = allScalarData[frame];\n      indexValues.push(activeScalarData[indexArray[i]]);\n    });\n    value.push(indexValues);\n  }\n  return value;\n}\n\nexport default getDataInTime;\n","import { Enums, Types } from '@cornerstonejs/core';\n\n/**\n * Gets the scalar data for a series of time frames from a 4D volume, returns an\n * array of scalar data after performing AVERAGE, SUM or SUBTRACT to be used to\n * create a 3D volume\n *\n * @param dynamicVolume4D: volume to compute time frame data from\n * @param operation: operation to perform on time frame data, operations include\n * SUM, AVERAGE, and SUBTRACT (can only be used with 2 time frames provided)\n * @param frameNumbers: an array of frame indexs to perform the operation on, if\n * left empty, all frames will be used\n * @returns\n */\nfunction generateImageFromTimeData(\n  dynamicVolume: Types.IDynamicImageVolume,\n  operation: string,\n  frameNumbers?: number[]\n) {\n  // If no time frames provided, use all time frames\n  const frames = frameNumbers || [...Array(dynamicVolume.numTimePoints).keys()];\n  const numFrames = frames.length;\n\n  if (frames.length <= 1) {\n    throw new Error('Please provide two or more time points');\n  }\n\n  // Gets scalar data for all time frames\n  const typedArrays = dynamicVolume.getScalarDataArrays();\n\n  const arrayLength = typedArrays[0].length;\n  const finalArray = new Float32Array(arrayLength);\n\n  if (operation === Enums.DynamicOperatorType.SUM) {\n    for (let i = 0; i < numFrames; i++) {\n      const currentArray = typedArrays[frames[i]];\n      for (let j = 0; j < arrayLength; j++) {\n        finalArray[j] += currentArray[j];\n      }\n    }\n    return finalArray;\n  }\n\n  if (operation === Enums.DynamicOperatorType.SUBTRACT) {\n    if (frames.length > 2) {\n      throw new Error('Please provide only 2 time points for subtraction.');\n    }\n    for (let j = 0; j < arrayLength; j++) {\n      finalArray[j] += typedArrays[frames[0]][j] - typedArrays[frames[1]][j];\n    }\n    return finalArray;\n  }\n\n  if (operation === Enums.DynamicOperatorType.AVERAGE) {\n    for (let i = 0; i < numFrames; i++) {\n      const currentArray = typedArrays[frames[i]];\n      for (let j = 0; j < arrayLength; j++) {\n        finalArray[j] += currentArray[j];\n      }\n    }\n    for (let k = 0; k < arrayLength; k++) {\n      finalArray[k] = finalArray[k] / numFrames;\n    }\n    return finalArray;\n  }\n}\n\nexport default generateImageFromTimeData;\n","import { getRenderingEngines } from '@cornerstonejs/core';\nimport { triggerAnnotationRenderForViewportIds } from '../../utilities';\n\n/**\n * When an annotation is deselected, trigger an annotation render for all viewports.\n * The reason for this is that, drawing an annotation in a different viewport\n * should deselect all other annotations in other viewports. In order to achieve\n * this, we need to trigger an annotation render for all viewports.\n * Todo: Although this is inefficient, but since annotations are only rendered if necessary,\n * it's probably not going to have a noticeable impact on performance.\n * @param evt - The event object.\n */\nfunction annotationSelectionListener(evt): void {\n  const deselectedAnnotation = evt.detail.removed;\n\n  if (!deselectedAnnotation.length) {\n    return;\n  }\n\n  const renderingEngines = getRenderingEngines();\n\n  renderingEngines.forEach((renderingEngine) => {\n    const viewports = renderingEngine.getViewports();\n    const viewportIds = viewports.map((vp) => vp.id);\n    triggerAnnotationRenderForViewportIds(renderingEngine, viewportIds);\n  });\n}\n\nexport default annotationSelectionListener;\n","import { getRenderingEngine } from '@cornerstonejs/core';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\n\n/**\n * This is a callback function that is called when an annotation is modified.\n * Since we are throttling the cachedStats calculation for annotation tools,\n * we need to trigger a final render for the annotation. so that the annotation\n * textBox is updated.\n * Todo: This will trigger all the annotation tools to re-render, although DOM\n * will update those that have changed, but more efficient would be to only\n * update the changed annotation.\n * Todo: A better way is to extract the textBox render logic from the renderAnnotation\n * of all tools and just trigger a render for that (instead of the entire annotation., even if\n * no svg update happens since the attributes for handles are the same)\n */\nfunction annotationModifiedListener(evt): void {\n  const { viewportId, renderingEngineId } = evt.detail;\n  const renderingEngine = getRenderingEngine(renderingEngineId);\n  triggerAnnotationRenderForViewportIds(renderingEngine, [viewportId]);\n}\n\nexport default annotationModifiedListener;\n","import { Enums, Types } from '@cornerstonejs/core';\nimport triggerAnnotationRender from '../utilities/triggerAnnotationRender';\n\n/**\n *  When the image is rendered, check what tools can be rendered for this element.\n *\n * - First we get all tools which are active, passive or enabled on the element.\n * - If any of these tools have a `renderAnnotation` method, then we render them.\n * - Note that these tools don't necessarily have to be instances of  `AnnotationTool`,\n *   Any tool may register a `renderAnnotation` method (e.g. a tool that displays an overlay).\n *\n * @param evt - The normalized IMAGE_RENDERED event.\n */\nconst onImageRendered = function (evt: Types.EventTypes.ImageRenderedEvent) {\n  // TODO: should we do this on camera modified instead of image rendered?\n  // e.g. no need to re-render annotations if only the VOI has changed\n  triggerAnnotationRender(evt.detail.element);\n};\n\nconst enable = function (element: HTMLDivElement): void {\n  element.addEventListener(\n    Enums.Events.IMAGE_RENDERED,\n    onImageRendered as EventListener\n  );\n};\n\nconst disable = function (element: HTMLDivElement): void {\n  element.removeEventListener(\n    Enums.Events.IMAGE_RENDERED,\n    onImageRendered as EventListener\n  );\n};\n\nexport default {\n  enable,\n  disable,\n};\n","import { state, ToolGroupManager } from '../../store';\nimport ToolModes from '../../enums/ToolModes';\n\nconst { Active } = ToolModes;\n\n/**\n * @function customCallbackHandler This is used as a generic event handler for tool events\n * on viewports. It:\n *\n * - Finds an \"active\" tool with:\n *    - A matching `handlerType`\n *    - A matching `customFunction` on its tool instance\n *\n * Then calls that custom function with raised event.\n *\n * @param handlerType - 'Mouse' | 'Touch' | 'MouseWheel'\n * @param customFunction - Function name that's expected to live on implementing\n *   (and event handling) active tool ex. 'doubleClickCallback'\n * @param evt\n */\nexport default function customCallbackHandler(\n  handlerType: string,\n  customFunction: string,\n  evt\n) {\n  if (state.isInteractingWithTool) {\n    return false;\n  }\n\n  const { renderingEngineId, viewportId } = evt.detail;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return false;\n  }\n\n  // TODO: Filter tools by interaction type?\n  /**\n   * Iterate tool group tools until we find a tool that is:\n   * - active\n   * - has the custom callback function\n   *\n   */\n  let activeTool;\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const tool = toolGroup.toolOptions[toolName];\n    // TODO: Should be getter\n    const toolInstance = toolGroup.getToolInstance(toolName);\n\n    if (\n      // TODO: Should be enum?\n      tool.mode === Active &&\n      // TODO: Should be implements interface?\n      // Weird that we need concrete instance. Other options to filter / get callback?\n      typeof toolInstance[customFunction] === 'function'\n    ) {\n      activeTool = toolGroup.getToolInstance(toolName);\n      break;\n    }\n  }\n\n  if (!activeTool) {\n    return;\n  }\n\n  activeTool[customFunction](evt);\n}\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * mouseClick - Event handler for mouse click events. Uses `customCallbackHandler` to fire\n * the `mouseClickCallback` function on active tools.\n */\nconst mouseClick = customCallbackHandler.bind(\n  null,\n  'Mouse',\n  'mouseClickCallback'\n);\n\nexport default mouseClick;\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * @function mouseDoubleClick - Event handler for mouse double click events. Uses `customCallbackHandler` to fire\n * the `doubleClickCallback` function on active tools.\n */\nconst mouseDoubleClick = customCallbackHandler.bind(\n  null,\n  'Mouse',\n  'doubleClickCallback'\n);\n\nexport default mouseDoubleClick;\n","import type { Types } from '@cornerstonejs/core';\n\nimport {\n  ToolAnnotationsPair,\n  ToolsWithMoveableHandles,\n} from '../types/InternalToolTypes';\n\n/**\n * Filters an array of tools, returning only tools with moveable handles at the mouse location that are not locked\n *\n * @param element - The element\n * @param ToolAndAnnotations - The input tool array.\n * @param canvasCoords - The coordinates of the mouse position.\n * @param interactionType - The type of interaction (e.g. 'mouse' or 'touch')\n * @returns The filtered array.\n */\nexport default function filterToolsWithMoveableHandles(\n  element: HTMLDivElement,\n  ToolAndAnnotations: ToolAnnotationsPair[],\n  canvasCoords: Types.Point2,\n  interactionType = 'mouse'\n): ToolsWithMoveableHandles[] {\n  const proximity = interactionType === 'touch' ? 36 : 6;\n  const toolsWithMoveableHandles = [];\n\n  ToolAndAnnotations.forEach(({ tool, annotations }) => {\n    for (const annotation of annotations) {\n      if (annotation.isLocked || !annotation.isVisible) {\n        continue;\n      }\n\n      const handle = tool.getHandleNearImagePoint(\n        element,\n        annotation,\n        canvasCoords,\n        proximity\n      );\n\n      if (handle) {\n        toolsWithMoveableHandles.push({\n          tool,\n          annotation,\n          handle,\n        });\n        break;\n      }\n    }\n  });\n\n  return toolsWithMoveableHandles;\n}\n","import { getAnnotations } from '../stateManagement/annotation/annotationState';\nimport { ToolAnnotationsPair } from '../types/InternalToolTypes';\nimport type AnnotationTool from '../tools/base/AnnotationTool';\nimport BaseTool from '../tools/base/BaseTool';\nimport { getEnabledElement } from '@cornerstonejs/core';\n\n/**\n * Filters an array of tools, returning only tools which have annotation.\n *\n * @param element - The cornerstone3D enabled element.\n * @param tools - The array of tools to check.\n *\n * @returns The array of tools with their found annotations.\n */\nexport default function filterToolsWithAnnotationsForElement(\n  element: HTMLDivElement,\n  tools: AnnotationTool[]\n): ToolAnnotationsPair[] {\n  const result = [];\n  for (let i = 0; i < tools.length; i++) {\n    const tool = tools[i];\n\n    if (!tool) {\n      console.warn('undefined tool in filterToolsWithAnnotationsForElement');\n      continue;\n    }\n\n    let annotations = getAnnotations(\n      (tool.constructor as typeof BaseTool).toolName,\n      element\n    );\n\n    if (!annotations?.length) {\n      continue;\n    }\n\n    if (typeof tool.filterInteractableAnnotationsForElement === 'function') {\n      // If the tool has a annotations filter (e.g. with in-plane-annotations-only filtering), use it.\n      annotations = tool.filterInteractableAnnotationsForElement(\n        element,\n        annotations\n      );\n    }\n\n    if (annotations.length > 0) {\n      result.push({ tool, annotations });\n    }\n  }\n\n  return result;\n}\n","import type { Types } from '@cornerstonejs/core';\n\nimport {\n  ToolAnnotationPair,\n  ToolAnnotationsPair,\n} from '../types/InternalToolTypes';\n\n/**\n * Filters an array of tools with annotations, returning the first annotation\n * for each tool that is moveable and at the mouse location. It results in\n * one annotation per tool.\n *\n *\n * @param element - The HTML element\n * @param ToolAndAnnotations - The input tool array.\n * @param canvasCoords - The coordinates of the mouse position.\n * @param interactionType - The type of interaction that is taking place.\n * @returns The filtered array containing ToolAndAnnotation\n */\nexport default function filterMoveableAnnotationTools(\n  element: HTMLDivElement,\n  ToolAndAnnotations: ToolAnnotationsPair[],\n  canvasCoords: Types.Point2,\n  interactionType = 'mouse'\n): ToolAnnotationPair[] {\n  const proximity = interactionType === 'touch' ? 36 : 6;\n\n  // TODO - This could get pretty expensive pretty quickly. We don't want to fetch the camera\n  // And do world to canvas on each coord.\n\n  // We want to produce a matrix from canvas to world for the viewport and just do a matrix operation on each handle.\n  // This could still be expensive for ROIs, but we probably shouldn't have \"handles\" for them anyway.\n\n  const moveableAnnotationTools = [];\n\n  ToolAndAnnotations.forEach(({ tool, annotations }) => {\n    for (const annotation of annotations) {\n      if (annotation.isLocked || !annotation.isVisible) {\n        continue;\n      }\n\n      const near = tool.isPointNearTool(\n        element,\n        annotation,\n        canvasCoords,\n        proximity,\n        interactionType\n      );\n\n      if (near) {\n        moveableAnnotationTools.push({\n          tool,\n          annotation,\n        });\n        break;\n      }\n    }\n  });\n\n  return moveableAnnotationTools;\n}\n","import { KeyboardBindings as kb } from '../../enums';\n\n/**\n * Gets the mouse modifier key from a mouse event.\n * Supports Shift, Ctrl, Alt, in singly and in combinations of 2\n * Supports Meta singly.\n */\nconst getMouseModifierKey = (evt) => {\n  // The logic is a hard coded key mapping\n  if (evt.shiftKey) {\n    if (evt.ctrlKey) {\n      return kb.ShiftCtrl;\n    }\n    if (evt.altKey) {\n      return kb.ShiftAlt;\n    }\n    if (evt.metaKey) {\n      return kb.ShiftMeta;\n    }\n    return kb.Shift;\n  }\n  if (evt.ctrlKey) {\n    if (evt.altKey) {\n      return kb.CtrlAlt;\n    }\n    if (evt.metaKey) {\n      return kb.CtrlMeta;\n    }\n    return kb.Ctrl;\n  }\n  if (evt.altKey) {\n    return (evt.metaKey && kb.AltMeta) || kb.Alt;\n  }\n  if (evt.metaKey) {\n    return kb.Meta;\n  }\n  return undefined;\n};\n\nexport default getMouseModifierKey;\n","import { ToolGroupManager } from '../../store';\nimport { MouseBindings, ToolModes } from '../../enums';\nimport { keyEventListener } from '../../eventListeners';\nimport { EventTypes } from '../../types';\nimport getMouseModifier from './getMouseModifier';\n\nconst { Active } = ToolModes;\n\n/**\n * Iterate tool group tools until we find a tool that has a \"ToolBinding\"\n * that matches our MouseEvent's `buttons`. It's possible there will be no match\n * (no active tool for that mouse button combination).\n *\n * @param evt - The event dispatcher mouse event.\n *\n * @returns tool\n */\nexport default function getActiveToolForMouseEvent(\n  evt: EventTypes.NormalizedMouseEventType\n) {\n  // Todo: we should refactor this to use getToolsWithModesForMouseEvent instead\n  const { renderingEngineId, viewportId } = evt.detail;\n  const mouseEvent = evt.detail.event;\n\n  // If any keyboard modifier key is also pressed - get the mouse version\n  // first since it handles combinations, while the key event handles non-modifier\n  // keys.\n  const modifierKey =\n    getMouseModifier(mouseEvent) || keyEventListener.getModifierKey();\n\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return null;\n  }\n\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n  const defaultMousePrimary = toolGroup.getDefaultMousePrimary();\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const toolOptions = toolGroup.toolOptions[toolName];\n\n    // tool has binding that matches the mouse button, if mouseEvent is undefined\n    // it uses the primary button\n    const correctBinding =\n      toolOptions.bindings.length &&\n      toolOptions.bindings.some((binding) => {\n        return (\n          binding.mouseButton ===\n            (mouseEvent ? mouseEvent.buttons : defaultMousePrimary) &&\n          binding.modifierKey === modifierKey\n        );\n      });\n\n    if (toolOptions.mode === Active && correctBinding) {\n      return toolGroup.getToolInstance(toolName);\n    }\n  }\n}\n","import { ToolGroupManager } from '../../store';\nimport { ToolModes } from '../../enums';\nimport { EventTypes } from '../../types';\n\ntype ModesFilter = Array<ToolModes>;\n\n/**\n * Given the normalized mouse event and a filter of modes,\n * find all the tools on the element that are in one of the specified modes.\n * If the evtButton is specified, only tools with a matching binding will be returned.\n * @param evt - The normalized mouseDown event.\n * @param modesFilter - An array of entries from the `ToolModes` enum.\n */\nexport default function getToolsWithModesForMouseEvent(\n  evt: EventTypes.MouseMoveEventType,\n  modesFilter: ModesFilter,\n  evtButton?: any\n) {\n  const { renderingEngineId, viewportId } = evt.detail;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return [];\n  }\n\n  const enabledTools = [];\n\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const tool = toolGroup.toolOptions[toolName];\n\n    // tool has binding that matches the mouse button - we match those with\n    // any modifier keys too since they can be passively interacted with\n    const correctBinding =\n      evtButton != null && // not null or undefined\n      tool.bindings.length &&\n      tool.bindings.some((binding) => binding.mouseButton === evtButton);\n\n    if (\n      modesFilter.includes(tool.mode) &&\n      // Should not filter by event's button\n      // or should, and the tool binding includes the event's button\n      (!evtButton || correctBinding)\n    ) {\n      const toolInstance = toolGroup.getToolInstance(toolName);\n      enabledTools.push(toolInstance);\n    }\n  }\n\n  return enabledTools;\n}\n","import { state } from '../../store';\nimport { ToolModes } from '../../enums';\nimport { EventTypes } from '../../types';\nimport {\n  ToolAnnotationPair,\n  ToolsWithMoveableHandles,\n} from '../../types/InternalToolTypes';\n\nimport {\n  setAnnotationSelected,\n  isAnnotationSelected,\n} from '../../stateManagement/annotation/annotationSelection';\n\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\n\n// Util\nimport filterToolsWithMoveableHandles from '../../store/filterToolsWithMoveableHandles';\nimport filterToolsWithAnnotationsForElement from '../../store/filterToolsWithAnnotationsForElement';\nimport filterMoveableAnnotationTools from '../../store/filterMoveableAnnotationTools';\nimport getActiveToolForMouseEvent from '../shared/getActiveToolForMouseEvent';\nimport getToolsWithModesForMouseEvent from '../shared/getToolsWithModesForMouseEvent';\n\nconst { Active, Passive } = ToolModes;\n\n/**\n * When the mouse is depressed we check which entities can process these events in the following manner:\n *\n * - First we get the `activeTool` for the mouse button pressed.\n * - If the `activeTool` has a `preMouseDownCallback`, this is called. If the callback returns `true`,\n *   the event does not propagate further.\n * - Next we get all tools which are active or passive (`activeAndPassiveTools`), as annotation. for these tools could\n *   possibly catch and handle these events. We then filter the `activeAndPassiveTools` using `filterToolsWithAnnotationsForElement`, which filters tools with annotations\n *   for this frame of reference. Optionally a tool can employ a further filtering (via a\n *   `filterInteractableAnnotationsForElement` callback) for tools interactable within the current camera view\n *   (e.g. tools that only render when viewed from a certain direction).\n * - Next we check if any handles are interactable for each tool (`filterToolsWithMoveableHandles`). If interactable\n *   handles are found, the first tool/handle found consumes the event and the event does not propagate further.\n * - Next we check any tools are interactable (e.g. moving an entire length annotation rather than one of its handles:\n *   `filterMoveableAnnotationTools`). If interactable tools are found, the first tool found consumes the event and the\n *   event does not propagate further.\n * - Finally, if the `activeTool` has `postMouseDownCallback`, this is called.  If the callback returns `true`,\n *   the event does not propagate further.\n *\n * If the event is not consumed the event will bubble to the `mouseDownActivate` handler.\n *\n * @param evt - The normalized mouseDown event.\n */\nexport default function mouseDown(evt: EventTypes.MouseDownEventType) {\n  // If a tool has locked the current state it is dealing with an interaction within its own eventLoop.\n  if (state.isInteractingWithTool) {\n    return;\n  }\n\n  const activeTool = getActiveToolForMouseEvent(evt);\n\n  // Check for preMouseDownCallbacks,\n  // If the tool claims it consumed the event, prevent further checks.\n  if (activeTool && typeof activeTool.preMouseDownCallback === 'function') {\n    const consumedEvent = activeTool.preMouseDownCallback(evt);\n\n    if (consumedEvent) {\n      return;\n    }\n  }\n\n  // Find all tools that might respond to this mouse down\n  const isPrimaryClick = evt.detail.event.buttons === 1;\n  const activeToolsWithEventBinding = getToolsWithModesForMouseEvent(\n    evt,\n    [Active],\n    evt.detail.event.buttons\n  );\n  const passiveToolsIfEventWasPrimaryMouseButton = isPrimaryClick\n    ? getToolsWithModesForMouseEvent(evt, [Passive])\n    : undefined;\n  const applicableTools = [\n    ...(activeToolsWithEventBinding || []),\n    ...(passiveToolsIfEventWasPrimaryMouseButton || []),\n  ];\n\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  // Filter tools with annotations for this element\n  const annotationToolsWithAnnotations = filterToolsWithAnnotationsForElement(\n    element,\n    applicableTools\n  );\n\n  const canvasCoords = eventDetail.currentPoints.canvas;\n\n  // For the canvas coordinates, find all tools that might respond to this mouse down\n  // on their handles. This filter will call getHandleNearImagePoint for each tool\n  // instance (each annotation)\n  const annotationToolsWithMoveableHandles = filterToolsWithMoveableHandles(\n    element,\n    annotationToolsWithAnnotations,\n    canvasCoords,\n    'mouse'\n  );\n\n  // Preserve existing selections when shift key is pressed\n  const isMultiSelect = !!evt.detail.event.shiftKey;\n\n  // If there are annotation tools whose handle is near the mouse, select the first one\n  // that isn't locked. If there's only one annotation tool, select it.\n  if (annotationToolsWithMoveableHandles.length > 0) {\n    const { tool, annotation, handle } = getAnnotationForSelection(\n      annotationToolsWithMoveableHandles\n    ) as ToolsWithMoveableHandles;\n\n    toggleAnnotationSelection(annotation.annotationUID, isMultiSelect);\n    tool.handleSelectedCallback(evt, annotation, handle, 'Mouse');\n\n    return;\n  }\n\n  // If there were no annotation tools whose handle was near the mouse, try to check\n  // if any of the annotation tools are interactable (e.g. moving an entire length annotation)\n  const moveableAnnotationTools = filterMoveableAnnotationTools(\n    element,\n    annotationToolsWithAnnotations,\n    canvasCoords,\n    'mouse'\n  );\n\n  // If there are annotation tools that are interactable, select the first one\n  // that isn't locked. If there's only one annotation tool, select it.\n  if (moveableAnnotationTools.length > 0) {\n    const { tool, annotation } = getAnnotationForSelection(\n      moveableAnnotationTools\n    );\n\n    toggleAnnotationSelection(annotation.annotationUID, isMultiSelect);\n    tool.toolSelectedCallback(evt, annotation, 'Mouse');\n\n    return;\n  }\n\n  // Run the postMouseDownCallback for the active tool if it exists\n  if (activeTool && typeof activeTool.postMouseDownCallback === 'function') {\n    const consumedEvent = activeTool.postMouseDownCallback(evt);\n\n    if (consumedEvent) {\n      // If the tool claims it consumed the event, prevent further checks.\n      return;\n    }\n  }\n\n  // Don't stop propagation so that mouseDownActivate can handle the event\n}\n\n/**\n * If there are multiple annotation tools, return the first one that isn't locked neither hidden.\n * If there's only one annotation tool, return it\n * @param annotationTools - An array of tools and annotation.\n * @returns The candidate for selection\n */\nfunction getAnnotationForSelection(\n  toolsWithMovableHandles: ToolAnnotationPair[]\n): ToolAnnotationPair {\n  return (\n    (toolsWithMovableHandles.length > 1 &&\n      toolsWithMovableHandles.find(\n        (item) =>\n          !isAnnotationLocked(item.annotation) &&\n          isAnnotationVisible(item.annotation.annotationUID)\n      )) ||\n    toolsWithMovableHandles[0]\n  );\n}\n\n/**\n * If the annotation is selected, deselect it. If it's not selected, select it\n * @param annotationUID - The AnnotationUID that we\n * want to toggle the selection of.\n * @param isMultiSelect - If true, the annotation. will be deselected if it is\n * already selected, or deselected if it is selected.\n */\nfunction toggleAnnotationSelection(\n  annotationUID: string,\n  isMultiSelect = false\n): void {\n  if (isMultiSelect) {\n    if (isAnnotationSelected(annotationUID)) {\n      setAnnotationSelected(annotationUID, false);\n    } else {\n      const preserveSelected = true;\n      setAnnotationSelected(annotationUID, true, preserveSelected);\n    }\n  } else {\n    const preserveSelected = false;\n    setAnnotationSelected(annotationUID, true, preserveSelected);\n  }\n}\n","import { state } from '../../store';\nimport getActiveToolForMouseEvent from '../shared/getActiveToolForMouseEvent';\nimport { setAnnotationSelected } from '../../stateManagement/annotation/annotationSelection';\nimport { EventTypes } from '../../types';\n\n/**\n * If the `mouseDown` handler does not consume an event,\n * activate the creation loop of the active tool, if one is found for the\n * mouse button pressed.\n *\n * @param evt - The normalized mouseDown event.\n */\nexport default function mouseDownActivate(\n  evt: EventTypes.MouseDownActivateEventType\n) {\n  // If a tool has locked the current state it is dealing with an interaction within its own eventLoop.\n  if (state.isInteractingWithTool) {\n    return;\n  }\n\n  const activeTool = getActiveToolForMouseEvent(evt);\n\n  if (!activeTool) {\n    return;\n  }\n\n  if (state.isMultiPartToolActive) {\n    return;\n  }\n\n  if (activeTool.addNewAnnotation) {\n    const annotation = activeTool.addNewAnnotation(evt, 'mouse');\n    setAnnotationSelected(annotation.annotationUID);\n  }\n}\n","import getActiveToolForMouseEvent from '../shared/getActiveToolForMouseEvent';\nimport { state } from '../../store';\nimport { MouseDragEventType } from '../../types/EventTypes';\n\n/**\n * mouseDrag - Event handler for mouse drag events. Fires the `mouseDragCallback`\n * function on active tools.\n *\n * @param evt - The normalized mouseDown event.\n */\nexport default function mouseDrag(evt: MouseDragEventType) {\n  if (state.isInteractingWithTool) {\n    return;\n  }\n\n  const activeTool = getActiveToolForMouseEvent(evt);\n\n  const noFoundToolOrDoesNotHaveMouseDragCallback =\n    !activeTool || typeof activeTool.mouseDragCallback !== 'function';\n  if (noFoundToolOrDoesNotHaveMouseDragCallback) {\n    return;\n  }\n\n  activeTool.mouseDragCallback(evt);\n}\n","// // State\nimport { state } from '../../store';\nimport { ToolModes } from '../../enums';\n\n// // Util\nimport filterToolsWithAnnotationsForElement from '../../store/filterToolsWithAnnotationsForElement';\nimport getToolsWithModesForMouseEvent from '../shared/getToolsWithModesForMouseEvent';\nimport triggerAnnotationRender from '../../utilities/triggerAnnotationRender';\nimport { MouseMoveEventType } from '../../types/EventTypes';\n\nconst { Active, Passive } = ToolModes;\n\n/**\n * mouseMove - On mouse move when not dragging, fire tools `mouseMoveCallback`s.\n * This is mostly used to update the [un]hover state\n * of a tool.\n *\n * @param evt - The normalized mouseDown event.\n */\nexport default function mouseMove(evt: MouseMoveEventType) {\n  // Tool interactions when mouse moved are handled inside each tool.\n  // This function is mostly used to update the [un]hover state\n  if (state.isInteractingWithTool || state.isMultiPartToolActive) {\n    return;\n  }\n\n  const activeAndPassiveTools = getToolsWithModesForMouseEvent(evt, [\n    Active,\n    Passive,\n  ]);\n\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  // Annotation tool specific\n  const toolsWithAnnotations = filterToolsWithAnnotationsForElement(\n    element,\n    activeAndPassiveTools\n  );\n\n  const toolsWithoutAnnotations = activeAndPassiveTools.filter((tool) => {\n    const doesNotHaveAnnotations = !toolsWithAnnotations.some(\n      (toolAndAnnotation) =>\n        toolAndAnnotation.tool.getToolName() === tool.getToolName()\n    );\n\n    return doesNotHaveAnnotations;\n  });\n\n  let annotationsNeedToBeRedrawn = false;\n\n  for (const { tool, annotations } of toolsWithAnnotations) {\n    if (typeof tool.mouseMoveCallback === 'function') {\n      annotationsNeedToBeRedrawn =\n        tool.mouseMoveCallback(evt, annotations) || annotationsNeedToBeRedrawn;\n    }\n  }\n\n  // Run mouse move handlers for non-annotation tools\n  toolsWithoutAnnotations.forEach((tool) => {\n    if (typeof tool.mouseMoveCallback === 'function') {\n      tool.mouseMoveCallback(evt);\n    }\n  });\n\n  // Annotation activation status changed, redraw the annotations\n  if (annotationsNeedToBeRedrawn === true) {\n    triggerAnnotationRender(element);\n  }\n}\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * mouseClick - Event handler for mouse up events. Uses `customCallbackHandler` to fire\n * the `mouseUpCallback` function on active tools.\n */\nconst mouseUp = customCallbackHandler.bind(null, 'Mouse', 'mouseUpCallback');\n\nexport default mouseUp;\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * Event handler for mouse wheel events. Uses `customCallbackHandler` to fire\n * the `mouseWheelCallback` function on active tools.\n */\nconst mouseWheel = customCallbackHandler.bind(\n  null,\n  'MouseWheel',\n  'mouseWheelCallback'\n);\n\nexport default mouseWheel;\n","import Events from '../enums/Events';\n\nimport {\n  mouseClick,\n  mouseDown,\n  mouseDownActivate,\n  mouseDoubleClick,\n  mouseDrag,\n  mouseMove,\n  mouseUp,\n  mouseWheel,\n} from './mouseEventHandlers';\n\n/**\n * Enable these listeners are emitted in order, and can be cancelled/prevented from bubbling\n * by any previous event.\n *\n * @param element - The element to add the event listeners to.\n */\nconst enable = function (element: HTMLDivElement): void {\n  element.addEventListener(Events.MOUSE_CLICK, mouseClick as EventListener);\n  element.addEventListener(Events.MOUSE_DOWN, mouseDown as EventListener);\n  element.addEventListener(\n    Events.MOUSE_DOWN_ACTIVATE,\n    mouseDownActivate as EventListener\n  );\n  element.addEventListener(\n    Events.MOUSE_DOUBLE_CLICK,\n    mouseDoubleClick as EventListener\n  );\n  element.addEventListener(Events.MOUSE_DRAG, mouseDrag as EventListener);\n  element.addEventListener(Events.MOUSE_MOVE, mouseMove as EventListener);\n  element.addEventListener(Events.MOUSE_UP, mouseUp as EventListener);\n  element.addEventListener(Events.MOUSE_WHEEL, mouseWheel as EventListener);\n};\n\n/**\n * Disable and Remove the MouseToolEventDispatcher handlers from the element.\n *\n * @param element - HTMLDivElement\n */\nconst disable = function (element: HTMLDivElement) {\n  element.removeEventListener(Events.MOUSE_CLICK, mouseClick as EventListener);\n  element.removeEventListener(Events.MOUSE_DOWN, mouseDown as EventListener);\n  element.removeEventListener(\n    Events.MOUSE_DOWN_ACTIVATE,\n    mouseDownActivate as EventListener\n  );\n  element.removeEventListener(\n    Events.MOUSE_DOUBLE_CLICK,\n    mouseDoubleClick as EventListener\n  );\n  element.removeEventListener(Events.MOUSE_DRAG, mouseDrag as EventListener);\n  element.removeEventListener(Events.MOUSE_MOVE, mouseMove as EventListener);\n  element.removeEventListener(Events.MOUSE_UP, mouseUp as EventListener);\n  element.removeEventListener(Events.MOUSE_WHEEL, mouseWheel as EventListener);\n};\n\nconst mouseToolEventDispatcher = {\n  enable,\n  disable,\n};\n\nexport default mouseToolEventDispatcher;\n","import { ToolGroupManager } from '../../store';\nimport { ToolModes, MouseBindings } from '../../enums';\nimport { keyEventListener } from '../../eventListeners';\nimport { EventTypes } from '../../types';\nimport { getMouseButton } from '../../eventListeners/mouse/mouseDownListener';\n\nconst { Active } = ToolModes;\n\n/**\n * Iterate tool group tools until we find a tool that has a \"ToolBinding\"\n * that matches our Keyboard pressed keys. It's possible there will be no match\n * (no active tool for that mouse button combination).\n *\n * @param evt - The normalized keyboard event.\n *\n * @returns tool\n */\nexport default function getActiveToolForKeyboardEvent(\n  evt: EventTypes.KeyDownEventType\n) {\n  const { renderingEngineId, viewportId } = evt.detail;\n\n  // Get the current mouse button clicked\n  const mouseButton = getMouseButton();\n\n  // If any keyboard modifier key is also pressed\n  const modifierKey = keyEventListener.getModifierKey();\n\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return null;\n  }\n\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n  const defaultMousePrimary = toolGroup.getDefaultMousePrimary();\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const toolOptions = toolGroup.toolOptions[toolName];\n\n    // tool has binding that matches the mouse button, if mouseEvent is undefined\n    // it uses the primary button\n    const correctBinding =\n      toolOptions.bindings.length &&\n      toolOptions.bindings.some(\n        (binding) =>\n          binding.mouseButton === (mouseButton ?? defaultMousePrimary) &&\n          binding.modifierKey === modifierKey\n      );\n\n    if (toolOptions.mode === Active && correctBinding) {\n      return toolGroup.getToolInstance(toolName);\n    }\n  }\n}\n","import { ToolGroupManager } from '../../store';\nimport getActiveToolForKeyboardEvent from '../shared/getActiveToolForKeyboardEvent';\nimport { KeyDownEventType } from '../../types/EventTypes';\n\n/**\n * KeyDown event listener to handle viewport cursor icon changes\n *\n * @param evt - The KeyboardEvent\n */\nexport default function keyDown(evt: KeyDownEventType): void {\n  // get the active tool given the key and mouse button\n  const activeTool = getActiveToolForKeyboardEvent(evt);\n\n  if (!activeTool) {\n    return;\n  }\n\n  const { renderingEngineId, viewportId } = evt.detail;\n\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  const toolName = activeTool.getToolName();\n  if (Object.keys(toolGroup.toolOptions).includes(toolName)) {\n    toolGroup.setViewportsCursorByToolName(toolName);\n  }\n}\n","import { resetModifierKey } from '../../eventListeners/keyboard/keyDownListener';\nimport { ToolGroupManager } from '../../store';\nimport getActiveToolForKeyboardEvent from '../shared/getActiveToolForKeyboardEvent';\nimport { KeyDownEventType } from '../../types/EventTypes';\n\n/**\n * KeyDown event listener to handle viewport cursor icon changes\n *\n * @param evt - The KeyboardEvent\n */\nexport default function keyUp(evt: KeyDownEventType): void {\n  // get the active tool for the primary mouse button\n  const activeTool = getActiveToolForKeyboardEvent(evt);\n\n  if (!activeTool) {\n    return;\n  }\n\n  const { renderingEngineId, viewportId } = evt.detail;\n\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  // Reset the modifier key\n  resetModifierKey();\n\n  const toolName = activeTool.getToolName();\n  if (Object.keys(toolGroup.toolOptions).includes(toolName)) {\n    toolGroup.setViewportsCursorByToolName(toolName);\n  }\n}\n","import Events from '../enums/Events';\nimport { keyDown, keyUp } from './keyboardEventHandlers';\n\n/**\n * Enable Key down and key up listeners\n *\n * @param element - The HTML element to attach the event listeners to.\n */\nconst enable = function (element: HTMLDivElement) {\n  element.addEventListener(Events.KEY_DOWN, keyDown as EventListener);\n  element.addEventListener(Events.KEY_UP, keyUp as EventListener);\n};\n\n/**\n * Disable Key down and key up listeners\n * @param element - The HTML element to attach the event listeners to.\n */\nconst disable = function (element: HTMLDivElement) {\n  element.removeEventListener(Events.KEY_DOWN, keyDown as EventListener);\n  element.removeEventListener(Events.KEY_UP, keyUp as EventListener);\n};\n\nconst keyboardToolEventDispatcher = {\n  enable,\n  disable,\n};\n\nexport default keyboardToolEventDispatcher;\n","import { Enums, Types } from '@cornerstonejs/core';\nimport { ToolModes } from '../enums';\nimport getToolsWithModesForMouseEvent from './shared/getToolsWithModesForMouseEvent';\n\nconst { Active, Passive, Enabled } = ToolModes;\n\n/**\n * When the camera is modified, check what tools need to react to this.\n *\n * - First we get all tools which are active, passive or enabled on the element.\n * - If any of these tools have a `onCameraModified` method, we call it.\n *\n * @param evt - The normalized camera modified event.\n */\nconst onCameraModified = function (evt: Types.EventTypes.CameraModifiedEvent) {\n  // @ts-ignore\n  const enabledTools = getToolsWithModesForMouseEvent(evt, [\n    Active,\n    Passive,\n    Enabled,\n  ]);\n\n  enabledTools.forEach((tool) => {\n    if (tool.onCameraModified) {\n      tool.onCameraModified(evt);\n    }\n  });\n};\n\nconst enable = function (element) {\n  element.addEventListener(Enums.Events.CAMERA_MODIFIED, onCameraModified);\n};\n\nconst disable = function (element) {\n  element.removeEventListener(Enums.Events.CAMERA_MODIFIED, onCameraModified);\n};\n\nexport default {\n  enable,\n  disable,\n};\n","import { Enums, Types } from '@cornerstonejs/core';\nimport { ToolModes } from '../enums';\nimport getToolsWithModesForMouseEvent from './shared/getToolsWithModesForMouseEvent';\n\nconst { Active, Passive, Enabled } = ToolModes;\n\n/**\n * When image spacing is calibrated modify the annotations for all of its tools\n * to consider the new calibration info.\n *\n * - First we get all tools which are active, passive or enabled on the element.\n * - If any of these tools have a `onImageSpacingCalibrated` method, we call it.\n *\n * @param evt - The normalized image calibration event.\n */\nconst onImageSpacingCalibrated = function (\n  evt: Types.EventTypes.ImageSpacingCalibratedEvent\n) {\n  // @ts-ignore\n  const enabledTools = getToolsWithModesForMouseEvent(evt, [\n    Active,\n    Passive,\n    Enabled,\n  ]);\n\n  enabledTools.forEach((tool) => {\n    if (tool.onImageSpacingCalibrated) {\n      tool.onImageSpacingCalibrated(evt);\n    }\n  });\n};\n\nconst enable = function (element: HTMLDivElement) {\n  element.addEventListener(\n    Enums.Events.IMAGE_SPACING_CALIBRATED,\n    onImageSpacingCalibrated as EventListener\n  );\n};\n\nconst disable = function (element: HTMLDivElement) {\n  element.removeEventListener(\n    Enums.Events.IMAGE_SPACING_CALIBRATED,\n    onImageSpacingCalibrated as EventListener\n  );\n};\n\nexport default {\n  enable,\n  disable,\n};\n","import { ToolGroupManager } from '../../store';\nimport { MouseBindings, ToolModes } from '../../enums';\nimport { EventTypes } from '../../types';\nimport getMouseModifier from './getMouseModifier';\nimport { keyEventListener } from '../../eventListeners';\n\nconst { Active } = ToolModes;\n\n/**\n * Iterate tool group tools until we find a tool that has a \"ToolBinding\"\n * that matches our TouchEvent's `buttons`. It's possible there will be no match\n * (no active tool for that touch button combination).\n *\n * @param evt - The event dispatcher touch event.\n *\n * @returns tool\n */\nexport default function getActiveToolForTouchEvent(\n  evt: EventTypes.NormalizedTouchEventType\n) {\n  // Todo: we should refactor this to use getToolsWithModesForTouchEvent instead\n  const { renderingEngineId, viewportId } = evt.detail;\n  const touchEvent = evt.detail.event;\n\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return null;\n  }\n\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n\n  const numTouchPoints = Object.keys(touchEvent.touches).length;\n\n  // If any keyboard modifier key is also pressed\n  const modifierKey =\n    getMouseModifier(touchEvent) || keyEventListener.getModifierKey();\n  const defaultMousePrimary = toolGroup.getDefaultMousePrimary();\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const toolOptions = toolGroup.toolOptions[toolName];\n\n    const correctBinding =\n      toolOptions.bindings.length &&\n      /**\n       * TODO: setActiveTool treats MouseBindings.Primary in a special way\n       * which is analgous to numTouchPoints === 1 as the primary interaction\n       * for touch based applications. The ToolGroup set active and get active\n       * logic should be updated to account for numTouchPoints === 1\n       */\n      toolOptions.bindings.some(\n        (binding) =>\n          (binding.numTouchPoints === numTouchPoints ||\n            (numTouchPoints === 1 &&\n              binding.mouseButton === defaultMousePrimary)) &&\n          binding.modifierKey === modifierKey\n      );\n\n    if (toolOptions.mode === Active && correctBinding) {\n      return toolGroup.getToolInstance(toolName);\n    }\n  }\n}\n","import { ToolGroupManager } from '../../store';\nimport { ToolModes } from '../../enums';\nimport { EventTypes } from '../../types';\n\ntype ModesFilter = Array<ToolModes>;\n\n/**\n * Given the normalized touch event and a filter of modes,\n * find all the tools on the element that are in one of the specified modes.\n * If the evtButton is specified, only tools with a matching binding will be returned.\n * @param evt - The normalized touchStart event.\n * @param modesFilter - An array of entries from the `ToolModes` enum.\n */\nexport default function getToolsWithModesForTouchEvent(\n  evt: EventTypes.NormalizedTouchEventType,\n  modesFilter: ModesFilter,\n  numTouchPoints?: number\n) {\n  const { renderingEngineId, viewportId } = evt.detail;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(\n    viewportId,\n    renderingEngineId\n  );\n\n  if (!toolGroup) {\n    return [];\n  }\n\n  const enabledTools = [];\n\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const tool = toolGroup.toolOptions[toolName];\n\n    const correctBinding =\n      numTouchPoints != null &&\n      tool.bindings.length &&\n      tool.bindings.some(\n        (binding) => binding.numTouchPoints === numTouchPoints\n      );\n\n    if (\n      modesFilter.includes(tool.mode) &&\n      (!numTouchPoints || correctBinding)\n    ) {\n      const toolInstance = toolGroup.getToolInstance(toolName);\n      enabledTools.push(toolInstance);\n    }\n  }\n\n  return enabledTools;\n}\n","import { state } from '../../store';\nimport { ToolModes } from '../../enums';\nimport { EventTypes } from '../../types';\nimport {\n  ToolAnnotationPair,\n  ToolsWithMoveableHandles,\n} from '../../types/InternalToolTypes';\n\nimport {\n  setAnnotationSelected,\n  isAnnotationSelected,\n} from '../../stateManagement/annotation/annotationSelection';\n\nimport { isAnnotationLocked } from '../../stateManagement/annotation/annotationLocking';\nimport { isAnnotationVisible } from '../../stateManagement/annotation/annotationVisibility';\n\n// Util\nimport filterToolsWithMoveableHandles from '../../store/filterToolsWithMoveableHandles';\nimport filterToolsWithAnnotationsForElement from '../../store/filterToolsWithAnnotationsForElement';\nimport filterMoveableAnnotationTools from '../../store/filterMoveableAnnotationTools';\nimport getActiveToolForTouchEvent from '../shared/getActiveToolForTouchEvent';\nimport getToolsWithModesForTouchEvent from '../shared/getToolsWithModesForTouchEvent';\n\nconst { Active, Passive } = ToolModes;\n\n/**\n * touchStart - Event handler for touchStart events. Uses `customCallbackHandler` to fire\n * the `touchStartCallback` function on active tools.\n */\nexport default function touchStart(evt: EventTypes.TouchStartEventType) {\n  if (state.isInteractingWithTool) {\n    return;\n  }\n  const activeTool = getActiveToolForTouchEvent(evt);\n\n  // Check for preTouchStartCallbacks,\n  // If the tool claims it consumed the event, prevent further checks.\n  if (activeTool && typeof activeTool.preTouchStartCallback === 'function') {\n    const consumedEvent = activeTool.preTouchStartCallback(evt);\n\n    if (consumedEvent) {\n      return;\n    }\n  }\n\n  const isPrimaryClick = Object.keys(evt.detail.event.touches).length === 1;\n  const activeToolsWithEventBinding = getToolsWithModesForTouchEvent(\n    evt,\n    [Active],\n    Object.keys(evt.detail.event.touches).length\n  );\n  const passiveToolsIfEventWasPrimaryTouchButton = isPrimaryClick\n    ? getToolsWithModesForTouchEvent(evt, [Passive])\n    : undefined;\n  const applicableTools = [\n    ...(activeToolsWithEventBinding || []),\n    ...(passiveToolsIfEventWasPrimaryTouchButton || []),\n    activeTool,\n  ];\n\n  const eventDetail = evt.detail;\n  const { element } = eventDetail;\n\n  // Filter tools with annotations for this element\n  const annotationToolsWithAnnotations = filterToolsWithAnnotationsForElement(\n    element,\n    applicableTools\n  );\n\n  const canvasCoords = eventDetail.currentPoints.canvas;\n\n  // For the canvas coordinates, find all tools that might respond to this touch start\n  // on their handles. This filter will call getHandleNearImagePoint for each tool\n  // instance (each annotation)\n  const annotationToolsWithMoveableHandles = filterToolsWithMoveableHandles(\n    element,\n    annotationToolsWithAnnotations,\n    canvasCoords,\n    'touch'\n  );\n\n  const isMultiSelect = false;\n\n  // If there are annotation tools whose handle is near the touch, select the first one\n  // that isn't locked. If there's only one annotation tool, select it.\n  if (annotationToolsWithMoveableHandles.length > 0) {\n    const { tool, annotation, handle } = getAnnotationForSelection(\n      annotationToolsWithMoveableHandles\n    ) as ToolsWithMoveableHandles;\n\n    toggleAnnotationSelection(annotation.annotationUID, isMultiSelect);\n    tool.handleSelectedCallback(evt, annotation, handle, 'Touch');\n\n    return;\n  }\n\n  // If there were no annotation tools whose handle was near the touch, try to check\n  // if any of the annotation tools are interactable (e.g. moving an entire length annotation)\n  const moveableAnnotationTools = filterMoveableAnnotationTools(\n    element,\n    annotationToolsWithAnnotations,\n    canvasCoords,\n    'touch'\n  );\n\n  // If there are annotation tools that are interactable, select the first one\n  // that isn't locked. If there's only one annotation tool, select it.\n  if (moveableAnnotationTools.length > 0) {\n    const { tool, annotation } = getAnnotationForSelection(\n      moveableAnnotationTools\n    );\n\n    toggleAnnotationSelection(annotation.annotationUID, isMultiSelect);\n    tool.toolSelectedCallback(evt, annotation, 'Touch');\n\n    return;\n  }\n\n  // Run the postTouchStartCallback for the active tool if it exists\n  if (activeTool && typeof activeTool.postTouchStartCallback === 'function') {\n    const consumedEvent = activeTool.postTouchStartCallback(evt);\n\n    if (consumedEvent) {\n      // If the tool claims it consumed the event, prevent further checks.\n      return;\n    }\n  }\n\n  // Don't stop propagation so that touchStartActivate can handle the event\n}\n\n/**\n * If there are multiple annotation tools, return the first one that isn't locked neither hidden.\n * If there's only one annotation tool, return it\n * @param annotationTools - An array of tools and annotation.\n * @returns The candidate for selection\n */\nfunction getAnnotationForSelection(\n  toolsWithMovableHandles: ToolAnnotationPair[]\n): ToolAnnotationPair {\n  return (\n    (toolsWithMovableHandles.length > 1 &&\n      toolsWithMovableHandles.find(\n        (item) =>\n          !isAnnotationLocked(item.annotation) &&\n          isAnnotationVisible(item.annotation.annotationUID)\n      )) ||\n    toolsWithMovableHandles[0]\n  );\n}\n\n/**\n * If the annotation is selected, deselect it. If it's not selected, select it\n * @param annotationUID - The AnnotationUID that we\n * want to toggle the selection of.\n * @param isMultiSelect - If true, the annotation. will be deselected if it is\n * already selected, or deselected if it is selected.\n */\nfunction toggleAnnotationSelection(\n  annotationUID: string,\n  isMultiSelect = false\n): void {\n  if (isMultiSelect) {\n    if (isAnnotationSelected(annotationUID)) {\n      setAnnotationSelected(annotationUID, false);\n    } else {\n      const preserveSelected = true;\n      setAnnotationSelected(annotationUID, true, preserveSelected);\n    }\n  } else {\n    const preserveSelected = false;\n    setAnnotationSelected(annotationUID, true, preserveSelected);\n  }\n}\n","import { state } from '../../store';\nimport { EventTypes } from '../../types';\nimport { setAnnotationSelected } from '../../stateManagement/annotation/annotationSelection';\n\nimport getActiveToolForTouchEvent from '../shared/getActiveToolForTouchEvent';\n\n/**\n * If the `touchStart` handler does not consume an event,\n * activate the creation loop of the active tool, if one is found for the\n * touch button pressed.\n *\n * @param evt - The normalized touchStart event.\n */\nexport default function touchStartActivate(\n  evt: EventTypes.TouchStartActivateEventType\n) {\n  // If a tool has locked the current state it is dealing with an interaction within its own eventLoop.\n  if (state.isInteractingWithTool) {\n    return;\n  }\n\n  const activeTool = getActiveToolForTouchEvent(evt);\n\n  if (!activeTool) {\n    return;\n  }\n\n  if (state.isMultiPartToolActive) {\n    return;\n  }\n\n  if (activeTool.addNewAnnotation) {\n    const annotation = activeTool.addNewAnnotation(evt, 'touch');\n    setAnnotationSelected(annotation.annotationUID);\n  }\n}\n","import getActiveToolForTouchEvent from '../shared/getActiveToolForTouchEvent';\nimport { state } from '../../store';\nimport { TouchDragEventType } from '../../types/EventTypes';\n\n/**\n * touchDrag - Event handler for touchDrag events. Uses `customCallbackHandler` to fire\n * the `touchDragCallback` function on active tools.\n */\nexport default function touchDrag(evt: TouchDragEventType) {\n  if (state.isInteractingWithTool) {\n    return;\n  }\n\n  const activeTool = getActiveToolForTouchEvent(evt);\n\n  const noFoundToolOrDoesNotHaveTouchDragCallback =\n    !activeTool || typeof activeTool.touchDragCallback !== 'function';\n  if (noFoundToolOrDoesNotHaveTouchDragCallback) {\n    return;\n  }\n\n  activeTool.touchDragCallback(evt);\n}\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * touchEnd - Event handler for touchEnd events. Uses `customCallbackHandler` to fire\n * the `touchEndCallback` function on active tools.\n */\nconst touchEnd = customCallbackHandler.bind(null, 'Touch', 'touchEndCallback');\n\nexport default touchEnd;\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * touchTap - Event handler for touch tap events. Uses `customCallbackHandler` to fire\n * the `touchTapCallback` function on active tools.\n */\nconst touchTap = customCallbackHandler.bind(null, 'Touch', 'touchTapCallback');\n\nexport default touchTap;\n","import customCallbackHandler from '../shared/customCallbackHandler';\n\n/**\n * touchPress - Event handler for touch press events. Uses `customCallbackHandler` to fire\n * the `touchPressCallback` function on active tools.\n */\nconst touchPress = customCallbackHandler.bind(\n  null,\n  'Touch',\n  'touchPressCallback'\n);\n\nexport default touchPress;\n","import Events from '../enums/Events';\n\nimport {\n  touchStart,\n  touchStartActivate,\n  touchDrag,\n  touchEnd,\n  touchTap,\n  touchPress,\n} from './touchEventHandlers';\n\n/**\n * Enable these listeners are emitted in order, and can be cancelled/prevented from bubbling\n * by any previous event.\n *\n * @param element - The element to add the event listeners to.\n */\nconst enable = function (element: HTMLDivElement): void {\n  element.addEventListener(Events.TOUCH_START, touchStart as EventListener);\n  element.addEventListener(\n    Events.TOUCH_START_ACTIVATE,\n    touchStartActivate as EventListener\n  );\n  element.addEventListener(Events.TOUCH_DRAG, touchDrag as EventListener);\n  element.addEventListener(Events.TOUCH_END, touchEnd as EventListener);\n  element.addEventListener(Events.TOUCH_TAP, touchTap as EventListener);\n  element.addEventListener(Events.TOUCH_PRESS, touchPress as EventListener);\n};\n\n/**\n * Disable and Remove the MouseToolEventDispatcher handlers from the element.\n *\n * @param element - HTMLDivElement\n */\nconst disable = function (element: HTMLDivElement) {\n  element.removeEventListener(Events.TOUCH_START, touchStart as EventListener);\n  element.removeEventListener(\n    Events.TOUCH_START_ACTIVATE,\n    touchStartActivate as EventListener\n  );\n  element.removeEventListener(Events.TOUCH_DRAG, touchDrag as EventListener);\n  element.removeEventListener(Events.TOUCH_END, touchEnd as EventListener);\n  element.removeEventListener(Events.TOUCH_PRESS, touchPress as EventListener);\n};\n\nconst touchToolEventDispatcher = {\n  enable,\n  disable,\n};\n\nexport default touchToolEventDispatcher;\n","import { Types } from '@cornerstonejs/core';\nimport {\n  mouseEventListeners,\n  wheelEventListener,\n  touchEventListeners,\n  keyEventListener,\n} from '../eventListeners';\nimport {\n  imageRenderedEventDispatcher,\n  cameraModifiedEventDispatcher,\n  mouseToolEventDispatcher,\n  touchToolEventDispatcher,\n  keyboardToolEventDispatcher,\n  imageSpacingCalibratedEventDispatcher,\n} from '../eventDispatchers';\nimport { state } from './state';\n\nimport { annotationRenderingEngine } from '../utilities/triggerAnnotationRender';\n\n/**\n * When an element is \"enabled\", add event listeners and dispatchers to it\n * so we can use interactions to affect tool behaviors\n *\n * @param evt - The ELEMENT_ENABLED event\n */\nexport default function addEnabledElement(\n  evt: Types.EventTypes.ElementEnabledEvent\n): void {\n  const { element, viewportId } = evt.detail;\n  const svgLayer = _createSvgAnnotationLayer(viewportId);\n\n  // Reset/Create svgNodeCache for element\n  _setSvgNodeCache(element);\n  _appendChild(svgLayer, element);\n\n  // Add this element to the annotation rendering engine\n  annotationRenderingEngine.addViewportElement(viewportId, element);\n\n  // Listeners\n  mouseEventListeners.enable(element);\n  wheelEventListener.enable(element);\n  touchEventListeners.enable(element);\n  keyEventListener.enable(element);\n\n  // Dispatchers: renderer\n  imageRenderedEventDispatcher.enable(element);\n  cameraModifiedEventDispatcher.enable(element);\n  imageSpacingCalibratedEventDispatcher.enable(element);\n  // Dispatchers: interaction\n  mouseToolEventDispatcher.enable(element);\n  keyboardToolEventDispatcher.enable(element);\n  touchToolEventDispatcher.enable(element);\n\n  // labelmap\n  // State\n  state.enabledElements.push(element);\n}\n\n/**\n *\n */\nfunction _createSvgAnnotationLayer(viewportId: string): SVGElement {\n  const svgns = 'http://www.w3.org/2000/svg';\n  const svgLayer = document.createElementNS(svgns, 'svg');\n\n  const svgLayerId = `svg-layer-${viewportId}`;\n  svgLayer.classList.add('svg-layer');\n  svgLayer.setAttribute('id', svgLayerId);\n  svgLayer.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n  svgLayer.style.width = '100%';\n  svgLayer.style.height = '100%';\n  svgLayer.style.pointerEvents = 'none';\n  svgLayer.style.position = 'absolute';\n  // TODO: we should test this on high-res monitors\n  //svgLayer.style.textRendering = 'optimizeSpeed'\n\n  // Single dropshadow config for now\n  const defs = document.createElementNS(svgns, 'defs');\n  const filter = document.createElementNS(svgns, 'filter');\n  const feOffset = document.createElementNS(svgns, 'feOffset');\n  const feColorMatrix = document.createElementNS(svgns, 'feColorMatrix');\n  const feBlend = document.createElementNS(svgns, 'feBlend');\n\n  //\n  filter.setAttribute('id', `shadow-${svgLayerId}`);\n  filter.setAttribute('filterUnits', 'userSpaceOnUse');\n\n  //\n  feOffset.setAttribute('result', 'offOut');\n  feOffset.setAttribute('in', 'SourceGraphic');\n  feOffset.setAttribute('dx', '0.5');\n  feOffset.setAttribute('dy', '0.5');\n\n  //\n  feColorMatrix.setAttribute('result', 'matrixOut');\n  feColorMatrix.setAttribute('in', 'offOut');\n  feColorMatrix.setAttribute('in2', 'matrix');\n  feColorMatrix.setAttribute(\n    'values',\n    '0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0'\n  );\n\n  //\n  feBlend.setAttribute('in', 'SourceGraphic');\n  feBlend.setAttribute('in2', 'matrixOut');\n  feBlend.setAttribute('mode', 'normal');\n\n  filter.appendChild(feOffset);\n  filter.appendChild(feColorMatrix);\n  filter.appendChild(feBlend);\n  defs.appendChild(filter);\n  svgLayer.appendChild(defs);\n\n  return svgLayer;\n}\n\nfunction _setSvgNodeCache(element) {\n  const { viewportUid: viewportId, renderingEngineUid: renderingEngineId } =\n    element.dataset;\n  const elementHash = `${viewportId}:${renderingEngineId}`;\n\n  // Create or reset\n  // TODO: If... Reset, we should blow out any nodes in DOM\n  state.svgNodeCache[elementHash] = {};\n}\n\n/**\n *\n * @param newNode\n * @param referenceNode\n */\nfunction _appendChild(\n  newNode: SVGElement,\n  referenceNode: HTMLDivElement\n): void {\n  referenceNode.querySelector('div.viewport-element').appendChild(newNode);\n}\n","import { state } from '../index';\nimport Synchronizer from './Synchronizer';\n\n/**\n * It returns all synchronizers that are not disabled and have a source viewport\n * with the given rendering engine Id and viewport Id\n * @param renderingEngineId - The Id of the rendering engine\n * @param viewportId - The Id of the viewport\n * @returns An array of synchronizers\n */\nfunction getSynchronizersForViewport(\n  viewportId: string,\n  renderingEngineId: string\n): Array<Synchronizer> {\n  const synchronizersFilteredByIds = [];\n\n  if (!renderingEngineId && !viewportId) {\n    throw new Error(\n      'At least one of renderingEngineId or viewportId should be given'\n    );\n  }\n\n  for (let i = 0; i < state.synchronizers.length; i++) {\n    const synchronizer = state.synchronizers[i];\n    const notDisabled = !synchronizer.isDisabled();\n    const hasSourceViewport = synchronizer.hasSourceViewport(\n      renderingEngineId,\n      viewportId\n    );\n\n    const hasTargetViewport = synchronizer.hasTargetViewport(\n      renderingEngineId,\n      viewportId\n    );\n\n    if (notDisabled && (hasSourceViewport || hasTargetViewport)) {\n      synchronizersFilteredByIds.push(synchronizer);\n    }\n  }\n\n  return synchronizersFilteredByIds;\n}\n\nexport default getSynchronizersForViewport;\n","import { state } from '../index';\nimport { IToolGroup } from '../../types';\n\n/**\n * Given a rendering engine Id and a viewport Id, return the tool group that\n * contains that rendering engine and viewport. Note: A viewport can only be\n * associated with a single tool group. You cannot have a viewport that belongs\n * to multiple tool groups. To achieve so, create a new viewport and a new toolGroup\n * for it. This will not impact memory usage much as the volume textures are\n * shared across all viewports rendering the same image.\n *\n * @param viewportId - The Id of the viewport that the tool is being\n * added to.\n * @param renderingEngineId - The Id of the rendering engine that the\n * tool group is associated with.\n * @returns A tool group.\n */\nfunction getToolGroupForViewport(\n  viewportId: string,\n  renderingEngineId: string\n): IToolGroup | undefined {\n  const toolGroupFilteredByIds = state.toolGroups.filter((tg) =>\n    tg.viewportsInfo.some(\n      (vp) =>\n        vp.renderingEngineId === renderingEngineId &&\n        (!vp.viewportId || vp.viewportId === viewportId)\n    )\n  );\n\n  if (!toolGroupFilteredByIds.length) {\n    return;\n  }\n\n  if (toolGroupFilteredByIds.length > 1) {\n    throw new Error(\n      `Multiple tool groups found for renderingEngineId: ${renderingEngineId} and viewportId: ${viewportId}. You should only\n      have one tool group per viewport in a renderingEngine.`\n    );\n  }\n\n  return toolGroupFilteredByIds[0];\n}\n\nexport default getToolGroupForViewport;\n","import { getEnabledElement, Types } from '@cornerstonejs/core';\nimport {\n  mouseEventListeners,\n  wheelEventListener,\n  touchEventListeners,\n  keyEventListener,\n} from '../eventListeners';\nimport {\n  imageRenderedEventDispatcher,\n  cameraModifiedEventDispatcher,\n  mouseToolEventDispatcher,\n  keyboardToolEventDispatcher,\n  imageSpacingCalibratedEventDispatcher,\n  touchToolEventDispatcher,\n} from '../eventDispatchers';\n// ~~\n\nimport filterToolsWithAnnotationsForElement from './filterToolsWithAnnotationsForElement';\nimport { state } from './state';\nimport getToolsWithModesForElement from '../utilities/getToolsWithModesForElement';\nimport { ToolModes } from '../enums';\nimport { removeAnnotation } from '../stateManagement';\nimport getSynchronizersForViewport from './SynchronizerManager/getSynchronizersForViewport';\nimport getToolGroupForViewport from './ToolGroupManager/getToolGroupForViewport';\nimport { annotationRenderingEngine } from '../utilities/triggerAnnotationRender';\n\nconst VIEWPORT_ELEMENT = 'viewport-element';\n\nfunction removeEnabledElement(\n  elementDisabledEvt: Types.EventTypes.ElementDisabledEvent\n): void {\n  // Is DOM element\n  const { element, viewportId } = elementDisabledEvt.detail;\n\n  _resetSvgNodeCache(element);\n  _removeSvgNode(element);\n\n  // Remove this element from the annotation rendering engine\n  annotationRenderingEngine.removeViewportElement(viewportId, element);\n\n  // Listeners\n  mouseEventListeners.disable(element);\n  wheelEventListener.disable(element);\n  touchEventListeners.disable(element);\n  keyEventListener.disable(element);\n  // labelmap\n\n  // Dispatchers: renderer\n  imageRenderedEventDispatcher.disable(element);\n  cameraModifiedEventDispatcher.disable(element);\n  imageSpacingCalibratedEventDispatcher.disable(element);\n  // Dispatchers: interaction\n  mouseToolEventDispatcher.disable(element);\n  keyboardToolEventDispatcher.disable(element);\n  touchToolEventDispatcher.disable(element);\n\n  // State\n  // @TODO: We used to \"disable\" the tool before removal. Should we preserve the hook that would call on tools?\n  _removeViewportFromSynchronizers(element);\n  _removeViewportFromToolGroup(element);\n\n  // _removeAllToolsForElement(canvas)\n  _removeEnabledElement(element);\n}\n\nconst _removeViewportFromSynchronizers = (element: HTMLDivElement) => {\n  const enabledElement = getEnabledElement(element);\n\n  const synchronizers = getSynchronizersForViewport(\n    enabledElement.viewportId,\n    enabledElement.renderingEngineId\n  );\n  synchronizers.forEach((sync) => {\n    sync.remove(enabledElement);\n  });\n};\n\nconst _removeViewportFromToolGroup = (element: HTMLDivElement) => {\n  const { renderingEngineId, viewportId } = getEnabledElement(element);\n\n  const toolGroup = getToolGroupForViewport(viewportId, renderingEngineId);\n\n  if (toolGroup) {\n    toolGroup.removeViewports(renderingEngineId, viewportId);\n  }\n};\n\nconst _removeAllToolsForElement = function (element) {\n  const tools = getToolsWithModesForElement(element, [\n    ToolModes.Active,\n    ToolModes.Passive,\n  ]);\n\n  const toolsWithData = filterToolsWithAnnotationsForElement(element, tools);\n  toolsWithData.forEach(({ annotations }) => {\n    annotations.forEach((annotation) => {\n      removeAnnotation(annotation.annotationUID);\n    });\n  });\n};\n\nfunction _resetSvgNodeCache(element: HTMLDivElement) {\n  const { viewportUid: viewportId, renderingEngineUid: renderingEngineId } =\n    element.dataset;\n  const elementHash = `${viewportId}:${renderingEngineId}`;\n\n  delete state.svgNodeCache[elementHash];\n}\n\nfunction _removeSvgNode(element: HTMLDivElement) {\n  const internalViewportNode = element.querySelector(`div.${VIEWPORT_ELEMENT}`);\n  const svgLayer = internalViewportNode.querySelector('svg');\n  if (svgLayer) {\n    internalViewportNode.removeChild(svgLayer);\n  }\n}\n\n/**\n * @private\n * @param enabledElement\n */\nconst _removeEnabledElement = function (element: HTMLDivElement) {\n  const foundElementIndex = state.enabledElements.findIndex(\n    (el) => el === element\n  );\n\n  if (foundElementIndex > -1) {\n    state.enabledElements.splice(foundElementIndex, 1);\n  }\n};\n\nexport default removeEnabledElement;\n","import { ToolModes } from '../enums';\nimport getToolsWithModesForElement from '../utilities/getToolsWithModesForElement';\nimport filterToolsWithAnnotationsForElement from './filterToolsWithAnnotationsForElement';\n\n/**\n * Cancel the current active manipulation that is being performed on the provided\n * element. It filters all the active and passive tools for the enabledElement\n * and calls cancel() method for all of them, and returns the tool that has executed its\n * cancellation (returned its annotationUID), since tools that are not being manipulated will\n * short circuit early. Note: not all tools currently implement a cancel method.\n *\n * @param element - canvas element\n * @returns annotationUID that is cancelled\n */\nexport default function cancelActiveManipulations(\n  element: HTMLDivElement\n): string | undefined {\n  const tools = getToolsWithModesForElement(element, [\n    ToolModes.Active,\n    ToolModes.Passive,\n  ]);\n\n  const toolsWithData = filterToolsWithAnnotationsForElement(element, tools);\n  for (const { tool } of toolsWithData) {\n    const annotationUID = tool.cancel(element);\n    if (annotationUID) {\n      return annotationUID;\n    }\n  }\n}\n","import {\n  getRenderingEngine,\n  getEnabledElement,\n  Enums,\n  Types,\n} from '@cornerstonejs/core';\n\nimport { ISynchronizerEventHandler } from '../../types';\n\n/**\n * Synchronizer is a class that listens to a specific event on a specific source\n * targets and fires a specific event on a specific target elements. Use cases\n * include: synchronizing a camera between two viewports, synchronizing a\n * windowLevel between various viewports.\n */\nclass Synchronizer {\n  //\n  private _enabled: boolean;\n  private _eventName: string;\n  private _eventHandler: ISynchronizerEventHandler;\n  private _ignoreFiredEvents: boolean;\n  private _sourceViewports: Array<Types.IViewportId>;\n  private _targetViewports: Array<Types.IViewportId>;\n  private _viewportOptions: Record<string, Record<string, unknown>> = {};\n  private _options: any;\n  public id: string;\n\n  constructor(\n    synchronizerId: string,\n    eventName: string,\n    eventHandler: ISynchronizerEventHandler,\n    options?: any\n  ) {\n    this._enabled = true;\n    this._eventName = eventName;\n    this._eventHandler = eventHandler;\n    this._ignoreFiredEvents = false;\n    this._sourceViewports = [];\n    this._targetViewports = [];\n    this._options = options || {};\n\n    //\n    this.id = synchronizerId;\n  }\n\n  /**\n   * \"Returns true if the synchronizer is disabled.\"\n   * @returns A boolean value.\n   */\n  public isDisabled(): boolean {\n    return !this._enabled || !this._hasSourceElements();\n  }\n\n  /**\n   * Sets the options for the viewport id.  This can be used to\n   * provide configuration on a viewport basis for things like offsets\n   * to the general synchronization, or turn on/off synchronization of certain\n   * attributes.\n   */\n  public setOptions(\n    viewportId: string,\n    options: Record<string, unknown> = {}\n  ): void {\n    this._viewportOptions[viewportId] = options;\n  }\n\n  /** Gets the options for the given viewport id */\n  public getOptions(viewportId: string): Record<string, unknown> | undefined {\n    return this._viewportOptions[viewportId];\n  }\n\n  /**\n   * Add a viewport to the list of targets and sources both.\n   * @param viewportInfo - The viewportId and its renderingEngineId to add to the list of targets and sources.\n   */\n  public add(viewportInfo: Types.IViewportId): void {\n    this.addTarget(viewportInfo);\n    this.addSource(viewportInfo);\n  }\n\n  /**\n   * Add a viewport to the list of sources (source ONLY)\n   * @param viewportInfo - The viewportId and its renderingEngineId to add to the list of targets and sources.\n   */\n  public addSource(viewportInfo: Types.IViewportId): void {\n    if (_containsViewport(this._sourceViewports, viewportInfo)) {\n      return;\n    }\n\n    const { renderingEngineId, viewportId } = viewportInfo;\n\n    const { element } =\n      getRenderingEngine(renderingEngineId).getViewport(viewportId);\n\n    // @ts-ignore\n    element.addEventListener(this._eventName, this._onEvent.bind(this));\n    this._updateDisableHandlers();\n\n    this._sourceViewports.push(viewportInfo);\n  }\n\n  /**\n   * Add a viewport to the list of viewports that will get the eventHandler\n   * executed when the event is fired on the source viewport.\n   * @param viewportInfo - The viewportId and its renderingEngineId to add to the list of targets and sources.\n   */\n  public addTarget(viewportInfo: Types.IViewportId): void {\n    if (_containsViewport(this._targetViewports, viewportInfo)) {\n      return;\n    }\n\n    this._targetViewports.push(viewportInfo);\n    this._updateDisableHandlers();\n  }\n\n  /**\n   * Get the list of source viewports (as {viewportId, renderingEngineId} objects)\n   * @returns An array of {viewportId, renderingEngineId} objects.\n   */\n  public getSourceViewports(): Array<Types.IViewportId> {\n    return this._sourceViewports;\n  }\n\n  /**\n   * Get the list of target viewports (as {viewportId, renderingEngineId} objects)\n   * @returns An array of {viewportId, renderingEngineId} objects.\n   */\n  public getTargetViewports(): Array<Types.IViewportId> {\n    return this._targetViewports;\n  }\n\n  public destroy(): void {\n    this._sourceViewports.forEach((s) => this.removeSource(s));\n    this._targetViewports.forEach((t) => this.removeTarget(t));\n  }\n\n  /**\n   * Remove the viewport from the list of targets and sources\n   * @param viewportInfo - The viewport info including viewportId and renderingEngineId.\n   */\n  public remove(viewportInfo: Types.IViewportId): void {\n    this.removeTarget(viewportInfo);\n    this.removeSource(viewportInfo);\n  }\n\n  /**\n   * Remove the viewport from the list of source viewports\n   * @param viewportInfo - The viewport info including viewportId and renderingEngineId.\n   */\n  public removeSource(viewportInfo: Types.IViewportId): void {\n    const index = _getViewportIndex(this._sourceViewports, viewportInfo);\n\n    if (index === -1) {\n      return;\n    }\n\n    const element = _getViewportElement(viewportInfo);\n\n    this._sourceViewports.splice(index, 1);\n    // @ts-ignore\n    element.removeEventListener(this._eventName, this._eventHandler);\n    this._updateDisableHandlers();\n  }\n\n  /**\n   * Remove the viewport from the list of viewports that are currently targeted by\n   * this handler\n   * @param viewportInfo - The viewport info including viewportId and renderingEngineId.\n   *\n   */\n  public removeTarget(viewportInfo: Types.IViewportId): void {\n    const index = _getViewportIndex(this._targetViewports, viewportInfo);\n\n    if (index === -1) {\n      return;\n    }\n\n    this._targetViewports.splice(index, 1);\n    this._updateDisableHandlers();\n  }\n\n  public hasSourceViewport(\n    renderingEngineId: string,\n    viewportId: string\n  ): boolean {\n    return _containsViewport(this._sourceViewports, {\n      renderingEngineId,\n      viewportId,\n    });\n  }\n\n  public hasTargetViewport(\n    renderingEngineId: string,\n    viewportId: string\n  ): boolean {\n    return _containsViewport(this._targetViewports, {\n      renderingEngineId,\n      viewportId,\n    });\n  }\n\n  private fireEvent(sourceViewport: Types.IViewportId, sourceEvent: any): void {\n    if (this.isDisabled() || this._ignoreFiredEvents) {\n      return;\n    }\n\n    this._ignoreFiredEvents = true;\n    const promises = [];\n    try {\n      for (let i = 0; i < this._targetViewports.length; i++) {\n        const targetViewport = this._targetViewports[i];\n        const targetIsSource =\n          sourceViewport.viewportId === targetViewport.viewportId;\n\n        if (targetIsSource) {\n          continue;\n        }\n        promises.push(\n          this._eventHandler(\n            this,\n            sourceViewport,\n            targetViewport,\n            sourceEvent,\n            this._options\n          )\n        );\n      }\n    } catch (ex) {\n      console.warn(`Synchronizer, for: ${this._eventName}`, ex);\n    } finally {\n      if (promises.length) {\n        Promise.allSettled(promises).then(() => {\n          this._ignoreFiredEvents = false;\n        });\n      } else {\n        this._ignoreFiredEvents = false;\n      }\n    }\n  }\n\n  private _onEvent = (evt: any): void => {\n    if (this._ignoreFiredEvents === true) {\n      return;\n    }\n\n    // If no target viewports, then return immediately, this is useful\n    // when switching between layouts, when previous layout has disabled\n    // its viewports, and the new layout has not yet enabled them.\n    // Right now we don't \"delete\" the synchronizer if all source and targets\n    // are removed, but we may want to do that in the future.\n    if (!this._targetViewports.length) {\n      return;\n    }\n\n    const enabledElement = getEnabledElement(evt.currentTarget);\n\n    if (!enabledElement) {\n      return;\n    }\n\n    const { renderingEngineId, viewportId } = enabledElement;\n\n    // If the viewport has been removed from the synchronizer before the event is\n    // fired, then return immediately.\n    if (!this._sourceViewports.find((s) => s.viewportId === viewportId)) {\n      return;\n    }\n\n    this.fireEvent(\n      {\n        renderingEngineId,\n        viewportId,\n      },\n      evt\n    );\n  };\n\n  private _hasSourceElements(): boolean {\n    return this._sourceViewports.length !== 0;\n  }\n\n  private _updateDisableHandlers(): void {\n    const viewports = _getUniqueViewports(\n      this._sourceViewports,\n      this._targetViewports\n    );\n    const _remove = this.remove;\n    const disableHandler = (elementDisabledEvent) => {\n      _remove(elementDisabledEvent.detail.element);\n    };\n\n    viewports.forEach(function (vUid) {\n      const renderingEngine = getRenderingEngine(\n        vUid.renderingEngineId\n      ).getViewport(vUid.viewportId);\n\n      if (!renderingEngine) {\n        return;\n      }\n\n      const { element } = renderingEngine;\n\n      element.removeEventListener(\n        Enums.Events.ELEMENT_DISABLED,\n        disableHandler\n      );\n      element.addEventListener(Enums.Events.ELEMENT_DISABLED, disableHandler);\n    });\n  }\n}\n\nfunction _getUniqueViewports(\n  vp1: Array<Types.IViewportId>,\n  vp2: Array<Types.IViewportId>\n): Array<Types.IViewportId> {\n  const unique = [];\n\n  const vps = vp1.concat(vp2);\n\n  for (let i = 0; i < vps.length; i++) {\n    const vp = vps[i];\n    if (\n      !unique.some(\n        (u) =>\n          vp.renderingEngineId === u.renderingEngineId &&\n          vp.viewportId === u.viewportId\n      )\n    ) {\n      unique.push(vp);\n    }\n  }\n\n  return unique;\n}\n\nfunction _getViewportIndex(\n  arr: Array<Types.IViewportId>,\n  vp: Types.IViewportId\n): number {\n  return arr.findIndex(\n    (ar) =>\n      vp.renderingEngineId === ar.renderingEngineId &&\n      vp.viewportId === ar.viewportId\n  );\n}\n\nfunction _containsViewport(\n  arr: Array<Types.IViewportId>,\n  vp: Types.IViewportId\n) {\n  return arr.some(\n    (ar) =>\n      ar.renderingEngineId === vp.renderingEngineId &&\n      ar.viewportId === vp.viewportId\n  );\n}\n\nfunction _getViewportElement(vp: Types.IViewportId): HTMLDivElement {\n  const renderingEngine = getRenderingEngine(vp.renderingEngineId);\n  if (!renderingEngine) {\n    throw new Error(`No RenderingEngine for Id: ${vp.renderingEngineId}`);\n  }\n\n  return renderingEngine.getViewport(vp.viewportId).element;\n}\n\nexport default Synchronizer;\n","import { state } from '../index';\nimport Synchronizer from './Synchronizer';\nimport { ISynchronizerEventHandler } from '../../types';\n\n/**\n * Create a new synchronizer instance from Synchronizer class\n * @param synchronizerId - The id of the synchronizer.\n * @param eventName - The name of the event that will be emitted by the\n * synchronizer.\n * @param eventHandler - The event handler that will be\n * called when the event is emitted.\n * @param options - Options for the synchronizer.\n * @returns A reference to the synchronizer.\n */\nfunction createSynchronizer(\n  synchronizerId: string,\n  eventName: string,\n  eventHandler: ISynchronizerEventHandler,\n  options?: any\n): Synchronizer {\n  const synchronizerWithSameIdExists = state.synchronizers.some(\n    (sync) => sync.id === synchronizerId\n  );\n\n  if (synchronizerWithSameIdExists) {\n    throw new Error(`Synchronizer with id '${synchronizerId}' already exists.`);\n  }\n\n  // Create\n  const synchronizer = new Synchronizer(\n    synchronizerId,\n    eventName,\n    eventHandler,\n    options\n  );\n\n  // Update state\n  state.synchronizers.push(synchronizer);\n\n  // Return reference\n  return synchronizer;\n}\n\nexport default createSynchronizer;\n","import { state } from '../index';\n\n/**\n * \"Destroy all synchronizers.\"\n */\nfunction destroy(): void {\n  while (state.synchronizers.length > 0) {\n    const synchronizer = state.synchronizers.pop();\n\n    synchronizer.destroy();\n  }\n}\n\nexport default destroy;\n","import { state } from '../index';\nimport Synchronizer from './Synchronizer';\n\n/**\n * Get the synchronizer with the given id from the state.\n * @param synchronizerId - The id of the synchronizer to be retrieved.\n * @returns A synchronizer object.\n */\nfunction getSynchronizer(synchronizerId: string): Synchronizer | void {\n  return state.synchronizers.find((s) => s.id === synchronizerId);\n}\n\nexport default getSynchronizer;\n","import { state } from '../index';\nimport Synchronizer from './Synchronizer';\n\n/**\n * Return the array of synchronizers\n * @returns An array of synchronizers.\n */\nfunction getAllSynchronizers(): Array<Synchronizer> {\n  return state.synchronizers;\n}\n\nexport default getAllSynchronizers;\n","import { state } from '../index';\n\n// Synchronizers are a bit more tenacious. We need to make sure we remove\n// any attached events\n// We should probably just have a destroySynchronizer call\n// then use getByX to allow versatility in how we can call destroy\n\n/**\n * Destroy a synchronizer by its ID.\n * @param synchronizerId - The id of the synchronizer to destroy.\n */\nfunction destroySynchronizer(synchronizerId: string): void {\n  const synchronizerIndex = state.synchronizers.findIndex(\n    (sync) => sync.id === synchronizerId\n  );\n\n  if (synchronizerIndex > -1) {\n    const synchronizer = state.synchronizers[synchronizerIndex];\n\n    synchronizer.destroy();\n    state.synchronizers.splice(synchronizerIndex, 1);\n  }\n}\n\nexport default destroySynchronizer;\n","import { MouseBindings, ToolModes } from '../../enums';\nimport cloneDeep from 'lodash.clonedeep';\nimport get from 'lodash.get';\nimport {\n  triggerEvent,\n  eventTarget,\n  getRenderingEngine,\n  getRenderingEngines,\n  getEnabledElementByIds,\n  Settings,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport type { Types } from '@cornerstonejs/core';\nimport { Events } from '../../enums';\nimport { ToolActivatedEventDetail } from '../../types/EventTypes';\nimport { state } from '../index';\nimport {\n  IToolBinding,\n  IToolClassReference,\n  IToolGroup,\n  SetToolBindingsType,\n  ToolOptionsType,\n  ToolConfiguration,\n} from '../../types';\n\nimport { MouseCursor, SVGMouseCursor } from '../../cursors';\nimport { initElementCursor } from '../../cursors/elementCursor';\n\nconst { Active, Passive, Enabled, Disabled } = ToolModes;\n\n/**\n * ToolGroup class which is a container for tools and their modes and states.\n * In Cornerstone3DTools, you need to create a tool group in order to use the\n * tools. ToolGroup is a way to share tool configuration, state (enabled, disabled, etc.)\n * across a set of viewports. Tools can set to be activated, enabled or disabled\n * in a toolGroup. You should not directly instantiate a ToolGroup. You need to use\n * ToolGroupManager helpers to create a new toolGroup or get a reference to an existing toolGroup.\n *\n * ```js\n * const toolGroup = csTools.ToolGroupManager.createToolGroup('toolGroupId')\n * ```\n */\nexport default class ToolGroup implements IToolGroup {\n  id: string;\n  viewportsInfo = [];\n  toolOptions = {};\n  _toolInstances = {};\n\n  constructor(id: string) {\n    this.id = id;\n  }\n\n  /**\n   * Get the viewport IDs of all the viewports in the current viewport\n   * @returns An array of viewport IDs.\n   */\n  getViewportIds(): string[] {\n    return this.viewportsInfo.map(({ viewportId }) => viewportId);\n  }\n\n  /**\n   * Returns the toolGroup viewports info which is an array of {viewportId, renderingEngineId}\n   */\n  getViewportsInfo(): Array<Types.IViewportId> {\n    return this.viewportsInfo.slice();\n  }\n\n  /**\n   * Get the tool instance for a given tool name in the toolGroup\n   * @param toolName - The name of the tool.\n   * @returns A tool instance.\n   */\n  public getToolInstance(toolInstanceName: string) {\n    const toolInstance = this._toolInstances[toolInstanceName];\n    if (!toolInstance) {\n      console.warn(\n        `'${toolInstanceName}' is not registered with this toolGroup (${this.id}).`\n      );\n      return;\n    }\n\n    return toolInstance;\n  }\n  /**\n   * Add a tool to the tool group with the given tool name and tool configuration.\n   * Note that adding a tool to a tool group will not automatically set the tool\n   * to be active. You must call setToolActive or setToolPassive and other methods\n   * to set the tool to be active or passive or in other states.\n   *\n   * @param toolName - string\n   * @param configuration - Tool configuration objects and a custom statistics calculator if needed\n   */\n  addTool(toolName: string, configuration: ToolConfiguration = {}): void {\n    const toolDefinition = state.tools[toolName];\n    const hasToolName = typeof toolName !== 'undefined' && toolName !== '';\n    const localToolInstance = this.toolOptions[toolName];\n\n    if (!hasToolName) {\n      console.warn(\n        'Tool with configuration did not produce a toolName: ',\n        configuration\n      );\n      return;\n    }\n\n    if (!toolDefinition) {\n      console.warn(\n        `'${toolName}' is not registered with the library. You need to use cornerstoneTools.addTool to register it.`\n      );\n      return;\n    }\n\n    if (localToolInstance) {\n      console.warn(\n        `'${toolName}' is already registered for ToolGroup ${this.id}.`\n      );\n      return;\n    }\n\n    // Should these be renamed higher up, so we don't have to alias?\n    // Wrap in try-catch so 3rd party tools don't explode?\n    const { toolClass: ToolClass } = toolDefinition;\n\n    const toolProps = {\n      name: toolName,\n      toolGroupId: this.id,\n      configuration,\n    };\n\n    const instantiatedTool = new ToolClass(toolProps);\n\n    // API instead of directly exposing schema?\n    // Maybe not here, but feels like a \"must\" for any method outside of the ToolGroup itself\n    this._toolInstances[toolName] = instantiatedTool;\n  }\n\n  public addToolInstance(\n    toolName: string,\n    parentClassName: string,\n    configuration = {}\n  ): void {\n    let ToolClassToUse = state.tools[toolName]\n      ?.toolClass as IToolClassReference;\n\n    if (!ToolClassToUse) {\n      // get parent class constructor\n      const ParentClass = state.tools[parentClassName]\n        .toolClass as IToolClassReference;\n\n      // Todo: could not find a way to make this work with typescript\n      // @ts-ignore\n      class ToolInstance extends ParentClass {}\n      // @ts-ignore\n      ToolInstance.toolName = toolName;\n      // @ts-ignore\n      ToolClassToUse = ToolInstance;\n\n      state.tools[toolName] = {\n        toolClass: ToolInstance as IToolClassReference,\n      };\n    }\n\n    // add the tool to the toolGroup\n    // @ts-ignore\n    this.addTool(ToolClassToUse.toolName, configuration);\n  }\n\n  //   class InstanceTool extends parentClass;\n  // InstanceTool.constructor.toolName = name;\n  // addTool(InstanceTool,configuration)\n  /**\n   * Add a viewport to the ToolGroup. It accepts viewportId and optional\n   * renderingEngineId parameter. If renderingEngineId is not provided,\n   * it checks if cornerstone-core has more than one renderingEngine; If so,\n   * it will throw an error. If cornerstone-core has only one renderingEngine,\n   * it will use that renderingEngine.\n   *\n   * @param viewportId - The unique identifier for the viewport.\n   * @param renderingEngineId - The rendering engine to use.\n   */\n  public addViewport(viewportId: string, renderingEngineId?: string): void {\n    const renderingEngines = getRenderingEngines();\n\n    if (!renderingEngineId && renderingEngines.length > 1) {\n      throw new Error(\n        'You must specify a renderingEngineId when there are multiple rendering engines.'\n      );\n    }\n\n    const renderingEngineUIDToUse = renderingEngineId || renderingEngines[0].id;\n\n    // Don't overwrite if it already exists\n    if (\n      !this.viewportsInfo.some(({ viewportId: vpId }) => vpId === viewportId)\n    ) {\n      this.viewportsInfo.push({\n        viewportId,\n        renderingEngineId: renderingEngineUIDToUse,\n      });\n    }\n\n    // Handle the newly added viewport's mouse cursor\n    const toolName = this.getActivePrimaryMouseButtonTool();\n\n    const runtimeSettings = Settings.getRuntimeSettings();\n    if (runtimeSettings.get('useCursors')) {\n      this.setViewportsCursorByToolName(toolName);\n    }\n  }\n\n  /**\n   * Removes viewport from the toolGroup. If only renderingEngineId is defined\n   * it removes all the viewports with the same renderingEngineId, if viewportId\n   * is also provided, it will remove that specific viewport from the ToolGroup.\n   *\n   * @param renderingEngineId - renderingEngine id\n   * @param viewportId - viewport id\n   */\n  public removeViewports(renderingEngineId: string, viewportId?: string): void {\n    const indices = [];\n\n    this.viewportsInfo.forEach((vpInfo, index) => {\n      let match = false;\n      if (vpInfo.renderingEngineId === renderingEngineId) {\n        match = true;\n\n        if (viewportId && vpInfo.viewportId !== viewportId) {\n          match = false;\n        }\n      }\n      if (match) {\n        indices.push(index);\n      }\n    });\n\n    if (indices.length) {\n      // Note: Traverse the array backwards, such that when we remove items we\n      // do not immediately mess up our loop indicies.\n      for (let i = indices.length - 1; i >= 0; i--) {\n        this.viewportsInfo.splice(indices[i], 1);\n      }\n    }\n  }\n\n  public setActiveStrategy(toolName: string, strategyName: string) {\n    const toolInstance = this._toolInstances[toolName];\n\n    if (toolInstance === undefined) {\n      console.warn(\n        `Tool ${toolName} not added to toolGroup, can't set tool configuration.`\n      );\n\n      return;\n    }\n\n    toolInstance.setActiveStrategy(strategyName);\n  }\n\n  setToolMode(\n    toolName: string,\n    mode: ToolModes,\n    options = {} as SetToolBindingsType\n  ): void {\n    if (!toolName) {\n      console.warn('setToolMode: toolName must be defined');\n      return;\n    }\n\n    if (mode === ToolModes.Active) {\n      this.setToolActive(toolName, options);\n      return;\n    }\n\n    if (mode === ToolModes.Passive) {\n      this.setToolPassive(toolName);\n      return;\n    }\n\n    if (mode === ToolModes.Enabled) {\n      this.setToolEnabled(toolName);\n      return;\n    }\n\n    if (mode === ToolModes.Disabled) {\n      this.setToolDisabled(toolName);\n      return;\n    }\n\n    console.warn('setToolMode: mode must be defined');\n  }\n\n  /**\n   * Set the tool mode on the toolGroup to be Active. This means the tool\n   * can be actively used by the defined bindings (e.g., Mouse primary click)\n   *\n   * - Can be actively used by mouse/touch events mapped to its `ToolBinding`s.\n   * - Can add data if an annotation tool.\n   * - Can be passively interacted by grabbing a tool or its handles.\n   * - Renders data if the tool has a `renderAnnotation` method.\n   *\n   * @param toolName - tool name\n   * @param toolBindingsOptions - tool bindings\n   */\n  public setToolActive(\n    toolName: string,\n    toolBindingsOptions = {} as SetToolBindingsType\n  ): void {\n    const toolInstance = this._toolInstances[toolName];\n\n    if (toolInstance === undefined) {\n      console.warn(\n        `Tool ${toolName} not added to toolGroup, can't set tool mode.`\n      );\n\n      return;\n    }\n\n    if (!toolInstance) {\n      console.warn(\n        `'${toolName}' instance ${toolInstance} is not registered with this toolGroup, can't set tool mode.`\n      );\n      return;\n    }\n\n    const prevBindings: IToolBinding[] = this.toolOptions[toolName]\n      ? this.toolOptions[toolName].bindings\n      : [];\n\n    const newBindings = toolBindingsOptions.bindings\n      ? toolBindingsOptions.bindings\n      : [];\n\n    // combine the new bindings with the previous bindings to avoid duplicates\n    // it allows duplicated mouse buttons as long as they don't have same\n    // modifier keys.\n    const bindingsToUse = [...prevBindings, ...newBindings].reduce(\n      (unique, binding) => {\n        const TouchBinding = binding.numTouchPoints !== undefined;\n        const MouseBinding = binding.mouseButton !== undefined;\n\n        if (\n          !unique.some((obj) => hasSameBinding(obj, binding)) &&\n          (TouchBinding || MouseBinding)\n        ) {\n          unique.push(binding);\n        }\n        return unique;\n      },\n      []\n    );\n\n    // We should not override the bindings if they are already set\n    const toolOptions: ToolOptionsType = {\n      bindings: bindingsToUse,\n      mode: Active,\n    };\n\n    this.toolOptions[toolName] = toolOptions;\n    this._toolInstances[toolName].mode = Active;\n\n    // reset the mouse cursor if tool has left click binding\n    const runtimeSettings = Settings.getRuntimeSettings();\n    const useCursor = runtimeSettings.get('useCursors');\n\n    if (this._hasMousePrimaryButtonBinding(toolBindingsOptions) && useCursor) {\n      this.setViewportsCursorByToolName(toolName);\n    } else {\n      // reset to default cursor only if there is no other tool with primary binding\n      const activeToolIdentifier = this.getActivePrimaryMouseButtonTool();\n      if (!activeToolIdentifier && useCursor) {\n        const cursor = MouseCursor.getDefinedCursor('default');\n        this._setCursorForViewports(cursor);\n      }\n    }\n\n    if (typeof toolInstance.onSetToolActive === 'function') {\n      toolInstance.onSetToolActive();\n    }\n    this._renderViewports();\n\n    const eventDetail: ToolActivatedEventDetail = {\n      toolGroupId: this.id,\n      toolName,\n      toolBindingsOptions,\n    };\n\n    triggerEvent(eventTarget, Events.TOOL_ACTIVATED, eventDetail);\n  }\n\n  /**\n   * Set the tool mode on the toolGroup to be Passive.\n   *\n   * - Can be passively interacted by grabbing a tool or its handles.\n   * - Renders data if the tool has a `renderAnnotation` method.\n   *\n   * @param toolName - tool name\n   */\n  public setToolPassive(toolName: string): void {\n    const toolInstance = this._toolInstances[toolName];\n\n    if (toolInstance === undefined) {\n      console.warn(\n        `Tool ${toolName} not added to toolGroup, can't set tool mode.`\n      );\n\n      return;\n    }\n\n    // We should only remove the primary button bindings and keep\n    // the other ones (Zoom on right click)\n    const prevToolOptions = this.getToolOptions(toolName);\n    const toolOptions = Object.assign(\n      {\n        bindings: prevToolOptions ? prevToolOptions.bindings : [],\n      },\n      prevToolOptions,\n      {\n        mode: Passive,\n      }\n    );\n\n    const defaultMousePrimary = this.getDefaultMousePrimary();\n\n    // Remove the primary button bindings without modifiers, if they exist\n    toolOptions.bindings = toolOptions.bindings.filter(\n      (binding) =>\n        binding.mouseButton !== defaultMousePrimary || binding.modifierKey\n    );\n    // If there are other bindings, set the tool to be active\n    let mode = Passive;\n    if (toolOptions.bindings.length !== 0) {\n      mode = Active;\n      toolOptions.mode = mode;\n    }\n\n    this.toolOptions[toolName] = toolOptions;\n    toolInstance.mode = mode;\n\n    if (typeof toolInstance.onSetToolPassive === 'function') {\n      toolInstance.onSetToolPassive();\n    }\n    this._renderViewports();\n  }\n\n  /**\n   * Set the tool mode on the toolGroup to be Enabled.\n   *\n   * - Renders data if the tool has a `renderAnnotation` method..\n   *\n   * @param toolName - tool name\n   */\n  public setToolEnabled(toolName: string): void {\n    const toolInstance = this._toolInstances[toolName];\n\n    if (toolInstance === undefined) {\n      console.warn(\n        `Tool ${toolName} not added to toolGroup, can't set tool mode.`\n      );\n\n      return;\n    }\n\n    const toolOptions = {\n      bindings: [],\n      mode: Enabled,\n    };\n\n    this.toolOptions[toolName] = toolOptions;\n    toolInstance.mode = Enabled;\n\n    if (typeof toolInstance.onSetToolEnabled === 'function') {\n      toolInstance.onSetToolEnabled();\n    }\n\n    this._renderViewports();\n  }\n\n  /**\n   * Set the tool mode on the toolGroup to be Disabled.\n   *\n   * - Annotation does not render.\n   *\n   * @param toolName - tool name\n   */\n  public setToolDisabled(toolName: string): void {\n    const toolInstance = this._toolInstances[toolName];\n\n    if (toolInstance === undefined) {\n      console.warn(\n        `Tool ${toolName} not added to toolGroup, can't set tool mode.`\n      );\n\n      return;\n    }\n\n    const toolOptions = {\n      bindings: [],\n      mode: Disabled,\n    };\n\n    this.toolOptions[toolName] = toolOptions;\n    toolInstance.mode = Disabled;\n\n    if (typeof toolInstance.onSetToolDisabled === 'function') {\n      toolInstance.onSetToolDisabled();\n    }\n    this._renderViewports();\n  }\n\n  /**\n   * Get the options for a given tool\n   * @param toolName - The name of the tool.\n   * @returns the tool options\n   */\n  public getToolOptions(toolName: string): ToolOptionsType {\n    const toolOptionsForTool = this.toolOptions[toolName];\n\n    if (toolOptionsForTool === undefined) {\n      return;\n    }\n\n    return toolOptionsForTool;\n  }\n\n  /**\n   * Find the name of the tool that is Active and has a primary button binding\n   * (Mouse primary click)\n   *\n   * @returns The name of the tool\n   */\n  public getActivePrimaryMouseButtonTool(): string {\n    return Object.keys(this.toolOptions).find((toolName) => {\n      const toolOptions = this.toolOptions[toolName];\n      return (\n        toolOptions.mode === Active &&\n        this._hasMousePrimaryButtonBinding(toolOptions)\n      );\n    });\n  }\n\n  public setViewportsCursorByToolName(\n    toolName: string,\n    strategyName?: string\n  ): void {\n    const cursor = this._getCursor(toolName, strategyName);\n\n    this._setCursorForViewports(cursor);\n  }\n\n  private _getCursor(toolName: string, strategyName?: string): MouseCursor {\n    let cursorName;\n    let cursor;\n\n    if (strategyName) {\n      // Try combinations with strategyName first:\n      // Try with toolName and toolInstanceName first.\n      cursorName = `${toolName}.${strategyName}`;\n\n      cursor = SVGMouseCursor.getDefinedCursor(cursorName, true);\n\n      if (cursor) {\n        return cursor;\n      }\n    }\n\n    // Try with toolName and toolInstanceName first.\n    cursorName = `${toolName}`;\n\n    cursor = SVGMouseCursor.getDefinedCursor(cursorName, true);\n\n    if (cursor) {\n      return cursor;\n    }\n\n    // Try with just toolName.\n    cursorName = toolName;\n\n    cursor = SVGMouseCursor.getDefinedCursor(cursorName, true);\n\n    if (cursor) {\n      return cursor;\n    }\n\n    return MouseCursor.getDefinedCursor('default');\n  }\n\n  _setCursorForViewports(cursor: MouseCursor): void {\n    this.viewportsInfo.forEach(({ renderingEngineId, viewportId }) => {\n      const enabledElement = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n\n      if (!enabledElement) {\n        return;\n      }\n\n      const { viewport } = enabledElement;\n      initElementCursor(viewport.element, cursor);\n    });\n  }\n\n  /**\n   * Set a configuration of a tool by the given toolName.\n   * Use overwrite as true in case you want to overwrite any existing configuration (be careful, depending on config change it might break the annotation flow).\n   */\n  public setToolConfiguration(\n    toolName: string,\n    configuration: ToolConfiguration,\n    overwrite?: boolean\n  ): boolean {\n    if (this._toolInstances[toolName] === undefined) {\n      console.warn(\n        `Tool ${toolName} not present, can't set tool configuration.`\n      );\n      return false;\n    }\n\n    let _configuration;\n\n    if (overwrite) {\n      _configuration = configuration;\n    } else {\n      // We should not deep copy here, it is the job of the application to\n      // deep copy the configuration before passing it to the toolGroup, otherwise\n      // some strange appending behaviour happens for the arrays\n      _configuration = Object.assign(\n        this._toolInstances[toolName].configuration,\n        configuration\n      );\n    }\n\n    this._toolInstances[toolName].configuration = _configuration;\n\n    this._renderViewports();\n\n    return true;\n  }\n\n  /**\n   * Returns the default mouse primary button.\n   *\n   */\n  public getDefaultMousePrimary(): MouseBindings {\n    return MouseBindings.Primary;\n  }\n\n  /**\n   * Get the configuration of tool. It returns only the config for the given path (in case exists).\n   * ConfigurationPath is the the path of the property to get separated by '.'.\n   *\n   * @example\n   * getToolConfiguration('LengthTool', 'firstLevel.secondLevel')\n   * // get from LengthTool instance the configuration value as being LengthToolInstance[configuration][firstLevel][secondLevel]\n   */\n  getToolConfiguration(toolName: string, configurationPath: string): any {\n    if (this._toolInstances[toolName] === undefined) {\n      console.warn(\n        `Tool ${toolName} not present, can't set tool configuration.`\n      );\n      return;\n    }\n\n    const _configuration = get(\n      this._toolInstances[toolName].configuration,\n      configurationPath\n    );\n\n    return cloneDeep(_configuration);\n  }\n\n  /**\n   * Check if the tool binding is set to be primary mouse button.\n   * @param toolOptions - The options for the tool mode.\n   * @returns A boolean value.\n   */\n  private _hasMousePrimaryButtonBinding(toolOptions) {\n    const defaultMousePrimary = this.getDefaultMousePrimary();\n\n    return toolOptions?.bindings?.some(\n      (binding) =>\n        binding.mouseButton === defaultMousePrimary &&\n        binding.modifierKey === undefined\n    );\n  }\n\n  /**\n   * It re-renders the viewports in the toolGroup\n   */\n  private _renderViewports(): void {\n    this.viewportsInfo.forEach(({ renderingEngineId, viewportId }) => {\n      getRenderingEngine(renderingEngineId).renderViewport(viewportId);\n    });\n  }\n}\n\nfunction hasSameBinding(\n  binding1: IToolBinding,\n  binding2: IToolBinding\n): boolean {\n  if (binding1.mouseButton !== binding2.mouseButton) {\n    return false;\n  }\n\n  return binding1.modifierKey === binding2.modifierKey;\n}\n","import { state } from '../index';\nimport ToolGroup from './ToolGroup';\nimport { IToolGroup } from '../../types';\n\n/**\n * Create a new tool group with the given name. ToolGroups are the new way\n * in Cornerstone3DTools to share tool configuration, state (enabled, disabled, etc.)\n * across a set of viewports.\n *\n * @param toolGroupId - The unique ID of the tool group.\n * @returns A reference to the tool group that was created.\n */\nfunction createToolGroup(toolGroupId: string): IToolGroup | undefined {\n  // Exit early if ID conflict\n  const toolGroupWithIdExists = state.toolGroups.some(\n    (tg) => tg.id === toolGroupId\n  );\n\n  if (toolGroupWithIdExists) {\n    console.warn(`'${toolGroupId}' already exists.`);\n    return;\n  }\n\n  const toolGroup = new ToolGroup(toolGroupId);\n\n  // Update state\n  state.toolGroups.push(toolGroup);\n\n  // Return reference\n  return toolGroup;\n}\n\nexport default createToolGroup;\n","import { state } from '../index';\nimport { removeSegmentationsFromToolGroup } from '../../stateManagement/segmentation';\nimport { segmentationRenderingEngine } from '../../utilities/segmentation/triggerSegmentationRender';\n// ToolGroups function entirely by their \"state\" being queried and leveraged\n// removing a ToolGroup from state is equivalent to killing it\n\n/**\n * Given a tool group Id, destroy the toolGroup. It will also cleanup all segmentations\n * associated with that tool group too\n *\n * @param toolGroupId - The Id of the tool group to be destroyed.\n */\nfunction destroyToolGroup(toolGroupId: string): void {\n  const toolGroupIndex = state.toolGroups.findIndex(\n    (tg) => tg.id === toolGroupId\n  );\n\n  if (toolGroupIndex > -1) {\n    segmentationRenderingEngine.removeToolGroup(toolGroupId);\n    // Todo: this should not happen here)\n    removeSegmentationsFromToolGroup(toolGroupId);\n    state.toolGroups.splice(toolGroupIndex, 1);\n  }\n}\n\nexport default destroyToolGroup;\n","// `BaseManager` or IManager interface for duplicate API between ToolGroup/Synchronizer?\nimport { state as csToolsState } from '../index';\nimport destroyToolGroup from './destroyToolGroup';\n\n// ToolGroups function entirely by their \"state\" being queried and leveraged\n// removing a ToolGroup from state is equivalent to killing it. Calling\n// destroyToolGroup() to make sure the SegmentationDisplayTools\n// have been removed from the toolGroup Viewports. //Todo: this makes more sense\n// to be based on events, but we don't have any toolGroup created/removed events\n\n/**\n * Destroy all tool groups\n */\nfunction destroy(): void {\n  const toolGroups = [...csToolsState.toolGroups];\n\n  for (const toolGroup of toolGroups) {\n    destroyToolGroup(toolGroup.id);\n  }\n\n  csToolsState.toolGroups = [];\n}\n\nexport default destroy;\n","import { state } from '../index';\nimport { IToolGroup } from '../../types';\n\n/**\n * Given a tool group Id, return the tool group\n * @param toolGroupId - The Id of the tool group to be retrieved.\n * @returns The tool group that has the same id as the tool group id that was\n * passed in.\n */\nfunction getToolGroup(toolGroupId: string): IToolGroup | undefined {\n  return state.toolGroups.find((s) => s.id === toolGroupId);\n}\n\nexport default getToolGroup;\n","import { state } from '../index';\nimport { IToolGroup } from '../../types';\n\n/**\n * Return the array of tool groups\n * @returns An array of tool groups.\n */\nfunction getAllToolGroups(): Array<IToolGroup> {\n  return state.toolGroups;\n}\n\nexport default getAllToolGroups;\n","import { state } from '../index';\nimport { IToolGroup } from '../../types';\nimport { ToolModes } from '../../enums';\n\nconst MODES = [ToolModes.Active, ToolModes.Passive, ToolModes.Enabled];\n\n/**\n * Returns the toolGroups that has the given toolName as active, passive\n * or enabled.\n * @param toolName - The name of the tool\n * @returns An array of tool groups.\n */\nfunction getToolGroupsWithToolName(toolName: string): IToolGroup[] | [] {\n  return state.toolGroups.filter(({ toolOptions }) => {\n    const toolGroupToolNames = Object.keys(toolOptions);\n\n    for (let i = 0; i < toolGroupToolNames.length; i++) {\n      if (toolName !== toolGroupToolNames[i]) {\n        continue;\n      }\n\n      /* filter out tools that don't have options */\n      if (!toolOptions[toolName]) {\n        continue;\n      }\n\n      if (MODES.includes(toolOptions[toolName].mode)) {\n        return true;\n      }\n    }\n    return false;\n  });\n}\n\nexport default getToolGroupsWithToolName;\n","import {\n  triggerEvent,\n  eventTarget,\n  utilities as csUtils,\n} from '@cornerstonejs/core';\nimport { Events } from '../../enums';\nimport { defaultFrameOfReferenceSpecificAnnotationManager } from './FrameOfReferenceSpecificAnnotationManager';\nimport { Annotations, Annotation } from '../../types/AnnotationTypes';\nimport { AnnotationRemovedEventDetail } from '../../types/EventTypes';\nimport { AnnotationGroupSelector } from '../../types';\nimport {\n  triggerAnnotationAddedForElement,\n  triggerAnnotationAddedForFOR,\n} from './helpers/state';\n\n// our default annotation manager\nlet defaultManager = defaultFrameOfReferenceSpecificAnnotationManager;\n\n/**\n * It returns the default annotations manager.\n * @returns the singleton default annotations manager.\n */\nfunction getAnnotationManager() {\n  return defaultManager;\n}\n\n/**\n * Set the annotation manager to be used for rendering, adding, removing, etc.\n * @param annotationManager - The annotation manager to be used\n */\nfunction setAnnotationManager(annotationManager) {\n  defaultManager = annotationManager;\n}\n\n// set back to default frameOfReferenceSpecificAnnotationManager\nfunction resetAnnotationManager() {\n  defaultManager = defaultFrameOfReferenceSpecificAnnotationManager;\n}\n\n/**\n * Returns the annotations for a given tool with the provided options that is\n * used to filter annotations based on the annotation manager.\n *\n * In our default implementation, the options are the element and/or the FrameOfReferenceUID.\n * Hence, the getAnnotations function will return the annotations for the given tool\n * that are associated with the FrameOfReferenceUID.\n *\n * @param toolName - The name of the tool.\n * @param annotationGroupSelector - element or FrameOfReferenceUID that is used\n * to group annotations in the annotation manager.\n * @returns The annotations corresponding to the Frame of Reference and the toolName.\n */\nfunction getAnnotations(\n  toolName: string,\n  annotationGroupSelector: AnnotationGroupSelector\n): Annotations {\n  const manager = getAnnotationManager();\n  const groupKey = manager.getGroupKey(annotationGroupSelector);\n  return manager.getAnnotations(groupKey, toolName) as Annotations;\n}\n\n/**\n * Add the annotation to the annotation manager along with the options that is\n * used to filter the annotation manager and the annotation group that\n * the annotation belongs to.\n *\n * As a result, our default implementation will add the annotation to the\n * default manager using the FrameOfReferenceUID as the group key.\n *\n * @param annotation - The annotation that is being added to the annotations manager.\n * @param annotationGroupSelector - element or FrameOfReferenceUID that is used\n * to group annotations in the annotation manager.\n */\nfunction addAnnotation(\n  annotation: Annotation,\n  annotationGroupSelector: AnnotationGroupSelector\n): string {\n  if (annotation.annotationUID === undefined) {\n    annotation.annotationUID = csUtils.uuidv4() as string;\n  }\n\n  const manager = getAnnotationManager();\n  const groupKey = manager.getGroupKey(annotationGroupSelector);\n\n  manager.addAnnotation(annotation, groupKey);\n\n  // if the annotation manager selector is an element, trigger the\n  // annotation added event for that element.\n  if (annotationGroupSelector instanceof HTMLDivElement) {\n    triggerAnnotationAddedForElement(annotation, annotationGroupSelector);\n  } else {\n    // if no element is provided, render all viewports that have the\n    // same frame of reference.\n    // Todo: we should do something else here for other types of annotation managers.\n    triggerAnnotationAddedForFOR(annotation);\n  }\n\n  return annotation.annotationUID;\n}\n\n/**\n * Get the number of annotations for a given tool with the provided options that is\n * used to filter annotations based on the annotation manager.\n *\n * In our default implementation, the options are the element and/or the FrameOfReferenceUID.\n * Hence, the getNumberOfAnnotations function will return the number of annotations for the given tool\n * that are associated with the FrameOfReferenceUID.\n *\n * @param toolName - The name of the tool\n * @param annotationGroupSelector - element or FrameOfReferenceUID that is used\n * to group annotations in the annotation manager.\n *\n */\nfunction getNumberOfAnnotations(\n  toolName: string,\n  annotationGroupSelector: AnnotationGroupSelector\n): number {\n  const manager = getAnnotationManager();\n  const groupKey = manager.getGroupKey(annotationGroupSelector);\n\n  return manager.getNumberOfAnnotations(groupKey, toolName);\n}\n\n/**\n * Remove the annotation by UID of the annotation.\n * @param annotationUID - The unique identifier for the annotation.\n */\nfunction removeAnnotation(annotationUID: string): void {\n  const manager = getAnnotationManager();\n  const annotation = manager.getAnnotation(annotationUID);\n\n  // no need to continue in case there is no annotation.\n  if (!annotation) {\n    return;\n  }\n\n  manager.removeAnnotation(annotationUID);\n\n  // trigger annotation removed\n  const eventType = Events.ANNOTATION_REMOVED;\n\n  const eventDetail: AnnotationRemovedEventDetail = {\n    annotation,\n    annotationManagerUID: manager.uid,\n  };\n\n  triggerEvent(eventTarget, eventType, eventDetail);\n}\n\n/**\n * Get the Annotation object by its UID\n * @param annotationUID - The unique identifier of the annotation.\n */\nfunction getAnnotation(annotationUID: string): Annotation {\n  const manager = getAnnotationManager();\n  const annotation = manager.getAnnotation(annotationUID);\n\n  return annotation;\n}\n\n/**\n * It removes all annotations from the default annotation manager\n */\nfunction removeAllAnnotations(): void {\n  const manager = getAnnotationManager();\n  manager.removeAllAnnotations();\n}\n\nexport {\n  getAnnotations,\n  getNumberOfAnnotations,\n  addAnnotation,\n  getAnnotation,\n  removeAnnotation,\n  removeAllAnnotations,\n  // annotation manager\n  setAnnotationManager,\n  getAnnotationManager,\n  resetAnnotationManager,\n};\n","import {\n  getEnabledElement,\n  triggerEvent,\n  eventTarget,\n  getEnabledElementByIds,\n} from '@cornerstonejs/core';\nimport { Events } from '../../../enums';\nimport { Annotation } from '../../../types/AnnotationTypes';\nimport { getToolGroupsWithToolName } from '../../../store/ToolGroupManager';\nimport { AnnotationAddedEventDetail } from '../../../types/EventTypes';\n\n/**\n * It triggers an event for the element when an annotation is added\n * @param annotation - Annotation - The annotation that was added.\n * @param element - The element that the annotation was added to.\n */\nfunction triggerAnnotationAddedForElement(\n  annotation: Annotation,\n  element: HTMLDivElement\n) {\n  const enabledElement = getEnabledElement(element);\n  const { renderingEngine, viewportId } = enabledElement;\n\n  const eventType = Events.ANNOTATION_ADDED;\n\n  const eventDetail: AnnotationAddedEventDetail = {\n    annotation,\n    viewportId,\n    renderingEngineId: renderingEngine.id,\n  };\n\n  triggerEvent(eventTarget, eventType, eventDetail);\n}\n\n/**\n * If the annotation has a FrameOfReferenceUID, it triggers the ANNOTATION_ADDED\n * event for all the viewports that has the same FrameOfReferenceUID.\n * @param annotation -  Annotation - The annotation that was added\n */\nfunction triggerAnnotationAddedForFOR(annotation: Annotation) {\n  const { toolName } = annotation.metadata;\n\n  const toolGroups = getToolGroupsWithToolName(toolName);\n\n  if (!toolGroups.length) {\n    return;\n  }\n\n  // Find the viewports in the toolGroups who has the same FrameOfReferenceUID\n  const viewportsToRender = [];\n\n  toolGroups.forEach((toolGroup) => {\n    toolGroup.viewportsInfo.forEach((viewportInfo) => {\n      const { renderingEngineId, viewportId } = viewportInfo;\n      const { FrameOfReferenceUID } = getEnabledElementByIds(\n        viewportId,\n        renderingEngineId\n      );\n\n      if (annotation.metadata.FrameOfReferenceUID === FrameOfReferenceUID) {\n        viewportsToRender.push(viewportInfo);\n      }\n    });\n  });\n\n  if (!viewportsToRender.length) {\n    return;\n  }\n\n  const eventType = Events.ANNOTATION_ADDED;\n\n  viewportsToRender.forEach(({ renderingEngineId, viewportId }) => {\n    const eventDetail: AnnotationAddedEventDetail = {\n      annotation,\n      viewportId,\n      renderingEngineId,\n    };\n\n    triggerEvent(eventTarget, eventType, eventDetail);\n  });\n}\n\nexport { triggerAnnotationAddedForElement, triggerAnnotationAddedForFOR };\n","import { eventTarget, Enums } from '@cornerstonejs/core';\nimport { getAnnotationManager } from './stateManagement/annotation/annotationState';\nimport { getDefaultSegmentationStateManager } from './stateManagement/segmentation/segmentationState';\nimport { Events as TOOLS_EVENTS } from './enums';\nimport { addEnabledElement, removeEnabledElement } from './store';\nimport { resetCornerstoneToolsState } from './store/state';\nimport {\n  annotationSelectionListener,\n  segmentationDataModifiedEventListener,\n  segmentationRepresentationModifiedEventListener,\n  segmentationRepresentationRemovedEventListener,\n  segmentationModifiedListener,\n  annotationModifiedListener,\n} from './eventListeners';\n\nimport * as ToolGroupManager from './store/ToolGroupManager';\n\nlet csToolsInitialized = false;\n\n/**\n * Initialize the cornerstoneTools package. It will add event listeners for mouse\n * and keyboard events.\n * @param defaultConfiguration - A configuration object that will be used to\n * initialize the tool.\n */\nexport function init(defaultConfiguration = {}): void {\n  if (csToolsInitialized) {\n    return;\n  }\n\n  _addCornerstoneEventListeners();\n  _addCornerstoneToolsEventListeners();\n\n  csToolsInitialized = true;\n}\n\n/**\n * It destroys and cleanup state for cornerstone3DTools. It removes all the tools\n * that were added to the tool groups and restore states. It also removes all\n * event listeners.\n */\nexport function destroy(): void {\n  _removeCornerstoneEventListeners();\n  _removeCornerstoneToolsEventListeners();\n\n  // Important: destroy ToolGroups first, in order for cleanup to work correctly for the\n  // added tools.\n  ToolGroupManager.destroy();\n\n  // Remove all tools\n  resetCornerstoneToolsState();\n\n  // remove all annotation.\n  const annotationManager = getAnnotationManager();\n  const segmentationStateManager = getDefaultSegmentationStateManager();\n\n  annotationManager.restoreAnnotations({});\n  segmentationStateManager.resetState();\n  csToolsInitialized = false;\n}\n\n/**\n * Wires up event listeners for the Cornerstone#ElementDisabled and\n * Cornerstone#ElementEnabled events.\n *\n * @internal\n */\nfunction _addCornerstoneEventListeners(): void {\n  // Clear any listeners that may already be set\n  _removeCornerstoneEventListeners();\n\n  const elementEnabledEvent = Enums.Events.ELEMENT_ENABLED;\n  const elementDisabledEvent = Enums.Events.ELEMENT_DISABLED;\n\n  eventTarget.addEventListener(elementEnabledEvent, addEnabledElement);\n  eventTarget.addEventListener(elementDisabledEvent, removeEnabledElement);\n}\n\n/**\n * Removes event listeners for the Cornerstone#ElementDisabled and\n * Cornerstone#ElementEnabled events.\n *\n */\nfunction _removeCornerstoneEventListeners(): void {\n  const elementEnabledEvent = Enums.Events.ELEMENT_ENABLED;\n  const elementDisabledEvent = Enums.Events.ELEMENT_DISABLED;\n\n  eventTarget.removeEventListener(elementEnabledEvent, addEnabledElement);\n  eventTarget.removeEventListener(elementDisabledEvent, removeEnabledElement);\n}\n\n/**\n * It adds an event listener to the event target (the cornerstoneTools object) for\n * the annotation selected and annotation modified events.\n */\nfunction _addCornerstoneToolsEventListeners() {\n  // Clear any listeners that may already be set\n  _removeCornerstoneToolsEventListeners();\n\n  /**\n   * Annotation\n   */\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.ANNOTATION_MODIFIED,\n    annotationModifiedListener\n  );\n\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.ANNOTATION_SELECTION_CHANGE,\n    annotationSelectionListener\n  );\n\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.ANNOTATION_SELECTION_CHANGE,\n    annotationSelectionListener\n  );\n\n  /**\n   * Segmentation\n   */\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.SEGMENTATION_MODIFIED,\n    segmentationModifiedListener\n  );\n\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.SEGMENTATION_DATA_MODIFIED,\n    segmentationDataModifiedEventListener\n  );\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.SEGMENTATION_REPRESENTATION_MODIFIED,\n    segmentationRepresentationModifiedEventListener\n  );\n\n  eventTarget.addEventListener(\n    TOOLS_EVENTS.SEGMENTATION_REPRESENTATION_REMOVED,\n    segmentationRepresentationRemovedEventListener\n  );\n}\n\n/**\n * Remove the event listener for the the annotation selected and annotation modified events.\n */\nfunction _removeCornerstoneToolsEventListeners() {\n  /**\n   * Annotation\n   */\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.ANNOTATION_MODIFIED,\n    annotationModifiedListener\n  );\n\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.ANNOTATION_SELECTION_CHANGE,\n    annotationSelectionListener\n  );\n\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.ANNOTATION_SELECTION_CHANGE,\n    annotationSelectionListener\n  );\n\n  /**\n   * Segmentation\n   */\n\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.SEGMENTATION_MODIFIED,\n    segmentationModifiedListener\n  );\n\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.SEGMENTATION_DATA_MODIFIED,\n    segmentationDataModifiedEventListener\n  );\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.SEGMENTATION_REPRESENTATION_MODIFIED,\n    segmentationRepresentationModifiedEventListener\n  );\n\n  eventTarget.removeEventListener(\n    TOOLS_EVENTS.SEGMENTATION_REPRESENTATION_REMOVED,\n    segmentationRepresentationRemovedEventListener\n  );\n}\n\nexport default init;\n","import { getRenderingEngine, Types } from '@cornerstonejs/core';\nimport { Synchronizer } from '../../store';\n\n/**\n * Synchronizer callback to synchronize the camera by updating all camera\n * values.  See also zoomPanSyncCallback\n *\n * @param synchronizerInstance - The Instance of the Synchronizer\n * @param sourceViewport - The list of IDs defining the source viewport.\n * @param targetViewport - The list of IDs defining the target viewport, never\n *   the same as sourceViewport.\n * @param cameraModifiedEvent - The CAMERA_MODIFIED event.\n */\nexport default function cameraSyncCallback(\n  synchronizerInstance: Synchronizer,\n  sourceViewport: Types.IViewportId,\n  targetViewport: Types.IViewportId,\n  cameraModifiedEvent: CustomEvent\n): void {\n  const { camera } = cameraModifiedEvent.detail;\n\n  const renderingEngine = getRenderingEngine(targetViewport.renderingEngineId);\n  if (!renderingEngine) {\n    throw new Error(\n      `No RenderingEngine for Id: ${targetViewport.renderingEngineId}`\n    );\n  }\n\n  const tViewport = renderingEngine.getViewport(targetViewport.viewportId);\n\n  tViewport.setCamera(camera);\n  tViewport.render();\n}\n","import { createSynchronizer } from '../../store/SynchronizerManager';\nimport { Enums } from '@cornerstonejs/core';\nimport cameraSyncCallback from '../callbacks/cameraSyncCallback';\nimport Synchronizer from '../../store/SynchronizerManager/Synchronizer';\n\nconst { CAMERA_MODIFIED } = Enums.Events;\n\n/**\n * A helper that creates a new `Synchronizer` which listens to the `CAMERA_MODIFIED`\n * rendering event and calls the `cameraSyncCallback`.\n *\n * @param synchronizerName - The name of the synchronizer.\n * @returns A new `Synchronizer` instance.\n */\nexport default function createCameraPositionSynchronizer(\n  synchronizerName: string\n): Synchronizer {\n  const cameraPositionSynchronizer = createSynchronizer(\n    synchronizerName,\n    CAMERA_MODIFIED,\n    cameraSyncCallback\n  );\n\n  return cameraPositionSynchronizer;\n}\n","import {\n  BaseVolumeViewport,\n  getRenderingEngine,\n  StackViewport,\n  Types,\n} from '@cornerstonejs/core';\n\n/**\n * Synchronizer callback to synchronize the voi of volumeActors of identical volumes\n * in different viewports.\n *\n * @param synchronizerInstance - The Instance of the Synchronizer\n * @param sourceViewport - The list of IDs defining the source viewport.\n * @param targetViewport - The list of IDs defining the target viewport.\n * @param voiModifiedEvent - The VOI_MODIFIED event.\n * @param options - Options for the synchronizer.\n */\nexport default function voiSyncCallback(\n  synchronizerInstance,\n  sourceViewport: Types.IViewportId,\n  targetViewport: Types.IViewportId,\n  voiModifiedEvent: Types.EventTypes.VoiModifiedEvent,\n  options?: any\n): void {\n  const eventDetail = voiModifiedEvent.detail;\n  const { volumeId, range, invertStateChanged, invert } = eventDetail;\n\n  const renderingEngine = getRenderingEngine(targetViewport.renderingEngineId);\n  if (!renderingEngine) {\n    throw new Error(\n      `Rendering Engine does not exist: ${targetViewport.renderingEngineId}`\n    );\n  }\n\n  const tViewport = renderingEngine.getViewport(targetViewport.viewportId);\n  const tProperties:\n    | Types.VolumeViewportProperties\n    | Types.StackViewportProperties = {\n    voiRange: range,\n  };\n\n  if (options?.syncInvertState && invertStateChanged) {\n    tProperties.invert = invert;\n  }\n\n  if (tViewport instanceof BaseVolumeViewport) {\n    tViewport.setProperties(tProperties, volumeId);\n  } else if (tViewport instanceof StackViewport) {\n    tViewport.setProperties(tProperties);\n  } else {\n    throw new Error('Viewport type not supported.');\n  }\n\n  tViewport.render();\n}\n","import { createSynchronizer } from '../../store/SynchronizerManager';\nimport { Enums } from '@cornerstonejs/core';\nimport voiSyncCallback from '../callbacks/voiSyncCallback';\nimport Synchronizer from '../../store/SynchronizerManager/Synchronizer';\n\ntype VOISynchronizerOptions = {\n  syncInvertState: boolean;\n};\n\n/**\n * A helper that creates a new `Synchronizer`\n * which listens to the `VOI_MODIFIED` rendering event and calls the `voiSyncCallback`.\n *\n * @param synchronizerName - The name of the synchronizer.\n * @param options - The options for the synchronizer. By default the voi\n * synchronizer will also sync the invert state of the volume, but this can be\n * disabled by setting `syncInvertState` to false.\n *\n * @returns A new `Synchronizer` instance.\n */\nexport default function createVOISynchronizer(\n  synchronizerName: string,\n  options = { syncInvertState: true } as VOISynchronizerOptions\n): Synchronizer {\n  const VOISynchronizer = createSynchronizer(\n    synchronizerName,\n    Enums.Events.VOI_MODIFIED,\n    voiSyncCallback,\n    options\n  );\n\n  return VOISynchronizer;\n}\n","import { getRenderingEngine, Types } from '@cornerstonejs/core';\nimport { Synchronizer } from '../../store';\n\n/**\n * Synchronizer callback to synchronize the camera. Synchronization\n *\n * targetViewport.options.syncZoom set to false to not sync the zoom\n * targetViewport.options.syncPan set to false to not sync the pan\n\n * @param synchronizerInstance - The Instance of the Synchronizer\n * @param sourceViewport - The list of IDs defining the source viewport.\n * @param targetViewport - The list of IDs defining the target viewport, different\n *   from sourceViewport\n */\nexport default function zoomPanSyncCallback(\n  synchronizerInstance: Synchronizer,\n  sourceViewport: Types.IViewportId,\n  targetViewport: Types.IViewportId\n): void {\n  const renderingEngine = getRenderingEngine(targetViewport.renderingEngineId);\n  if (!renderingEngine) {\n    throw new Error(\n      `No RenderingEngine for Id: ${targetViewport.renderingEngineId}`\n    );\n  }\n\n  const options = synchronizerInstance.getOptions(targetViewport.viewportId);\n\n  const tViewport = renderingEngine.getViewport(targetViewport.viewportId);\n  const sViewport = renderingEngine.getViewport(sourceViewport.viewportId);\n\n  if (options?.syncZoom !== false) {\n    const srcZoom = sViewport.getZoom();\n    // Do the zoom first, as the pan is relative to the zoom level\n    tViewport.setZoom(srcZoom);\n  }\n  if (options?.syncPan !== false) {\n    const srcPan = sViewport.getPan();\n    tViewport.setPan(srcPan);\n  }\n\n  tViewport.render();\n}\n","import { createSynchronizer } from '../../store/SynchronizerManager';\nimport { Enums } from '@cornerstonejs/core';\nimport zoomPanSyncCallback from '../callbacks/zoomPanSyncCallback';\nimport Synchronizer from '../../store/SynchronizerManager/Synchronizer';\n\nconst { CAMERA_MODIFIED } = Enums.Events;\n\n/**\n * A helper that creates a new `Synchronizer` which listens to the `CAMERA_MODIFIED`\n * rendering event and calls the `cameraSyncCallback`.\n *\n * @param synchronizerName - The name of the synchronizer.\n * @returns A new `Synchronizer` instance.\n */\nexport default function createZoomPanSynchronizer(\n  synchronizerName: string\n): Synchronizer {\n  const zoomPanSynchronizer = createSynchronizer(\n    synchronizerName,\n    CAMERA_MODIFIED,\n    zoomPanSyncCallback\n  );\n\n  return zoomPanSynchronizer;\n}\n","import { vec3, mat4 } from 'gl-matrix';\nimport {\n  getRenderingEngine,\n  Types,\n  metaData,\n  utilities,\n} from '@cornerstonejs/core';\nimport { Synchronizer } from '../../store';\nimport { jumpToSlice } from '../../utilities';\nimport areViewportsCoplanar from './areViewportsCoplanar ';\n\nconst getSpatialRegistration = (targetId, sourceId) =>\n  utilities.spatialRegistrationMetadataProvider.get(\n    'spatialRegistrationModule',\n    [targetId, sourceId]\n  );\n\n/**\n * Synchronizer callback to synchronize the source viewport image to the\n * target viewports closest image in its stack.\n *\n * This synchronizer does a setup (which can already be predefined as required)\n * to register the target and soruce viewports.  The registration will default\n * to the identity registration if the same FOR is present in both viewports,\n * unless the option `useInitialPosition` is set in the target viewport.\n *\n * The consuming apps using Cornerstone3D (OHIF, etc) MAY provide such data in\n * the registrationMetadataProvider to override the data here. This can be done\n * by various methods 1) Using spatialRegistrationModule inside dicom 2) assuming\n * the user has actually manually scrolled the target viewport to the correct\n * slice before initiating the synchronization 3) using some other method\n *\n * @param synchronizerInstance - The Instance of the Synchronizer\n * @param sourceViewport - The list of IDs defining the source viewport.\n * @param targetViewport - The list of IDs defining the target viewport, never\n *   the same as sourceViewport.\n * @param cameraModifiedEvent - The CAMERA_MODIFIED event.\n */\nexport default async function stackImageSyncCallback(\n  synchronizerInstance: Synchronizer,\n  sourceViewport: Types.IViewportId,\n  targetViewport: Types.IViewportId\n): Promise<void> {\n  const renderingEngine = getRenderingEngine(targetViewport.renderingEngineId);\n  if (!renderingEngine) {\n    throw new Error(\n      `No RenderingEngine for Id: ${targetViewport.renderingEngineId}`\n    );\n  }\n\n  const sViewport = renderingEngine.getViewport(\n    sourceViewport.viewportId\n  ) as Types.IStackViewport;\n\n  const options = synchronizerInstance.getOptions(targetViewport.viewportId);\n\n  if (options?.disabled) {\n    return;\n  }\n\n  const tViewport = renderingEngine.getViewport(\n    targetViewport.viewportId\n  ) as Types.IStackViewport;\n\n  const imageId1 = sViewport.getCurrentImageId();\n  const imagePlaneModule1 = metaData.get('imagePlaneModule', imageId1);\n  const sourceImagePositionPatient = imagePlaneModule1.imagePositionPatient;\n\n  const targetImageIds = tViewport.getImageIds();\n\n  if (!areViewportsCoplanar(sViewport, tViewport)) {\n    return;\n  }\n\n  // if the frame of reference is different we need to use the registrationMetadataProvider\n  // and add that to the imagePositionPatient of the source viewport to get the\n  // imagePositionPatient of the target viewport's closest image in its stack\n  let registrationMatrixMat4 = getSpatialRegistration(\n    targetViewport.viewportId,\n    sourceViewport.viewportId\n  );\n\n  if (!registrationMatrixMat4) {\n    const frameOfReferenceUID1 = sViewport.getFrameOfReferenceUID();\n    const frameOfReferenceUID2 = tViewport.getFrameOfReferenceUID();\n    if (\n      frameOfReferenceUID1 === frameOfReferenceUID2 &&\n      options?.useInitialPosition !== false\n    ) {\n      registrationMatrixMat4 = mat4.identity(mat4.create());\n    } else {\n      utilities.calculateViewportsSpatialRegistration(sViewport, tViewport);\n      registrationMatrixMat4 = getSpatialRegistration(\n        targetViewport.viewportId,\n        sourceViewport.viewportId\n      );\n    }\n    if (!registrationMatrixMat4) {\n      return;\n    }\n  }\n\n  // apply the registration matrix to the source viewport's imagePositionPatient\n  // to get the target viewport's imagePositionPatient\n  const targetImagePositionPatientWithRegistrationMatrix = vec3.transformMat4(\n    vec3.create(),\n    sourceImagePositionPatient,\n    registrationMatrixMat4\n  );\n\n  // find the closest image in the target viewport's stack to the\n  // targetImagePositionPatientWithRegistrationMatrix\n  const closestImageIdIndex2 = _getClosestImageIdIndex(\n    targetImagePositionPatientWithRegistrationMatrix,\n    targetImageIds\n  );\n\n  if (\n    closestImageIdIndex2.index !== -1 &&\n    tViewport.getCurrentImageIdIndex() !== closestImageIdIndex2.index\n  ) {\n    await jumpToSlice(tViewport.element, {\n      imageIndex: closestImageIdIndex2.index,\n    });\n  }\n}\n\nfunction _getClosestImageIdIndex(targetPoint, imageIds) {\n  // todo: this does not assume orientation yet, but that can be added later\n  // todo: handle multiframe images\n  return imageIds.reduce(\n    (closestImageIdIndex, imageId, index) => {\n      const { imagePositionPatient } = metaData.get(\n        'imagePlaneModule',\n        imageId\n      );\n      const distance = vec3.distance(imagePositionPatient, targetPoint);\n\n      if (distance < closestImageIdIndex.distance) {\n        return {\n          distance,\n          index,\n        };\n      }\n      return closestImageIdIndex;\n    },\n    {\n      distance: Infinity,\n      index: -1,\n    }\n  );\n}\n","import { vec3 } from 'gl-matrix';\nimport { Types } from '@cornerstonejs/core';\n\nexport default function areViewportsCoplanar(\n  viewport1: Types.IStackViewport,\n  viewport2: Types.IStackViewport\n): boolean {\n  const { viewPlaneNormal: viewPlaneNormal1 } = viewport1.getCamera();\n  const { viewPlaneNormal: viewPlaneNormal2 } = viewport2.getCamera();\n  const dotProducts = vec3.dot(viewPlaneNormal1, viewPlaneNormal2);\n  return Math.abs(dotProducts) > 0.9;\n}\n","import { createSynchronizer } from '../../store/SynchronizerManager';\nimport { Enums } from '@cornerstonejs/core';\nimport stackImageSyncCallback from '../callbacks/stackImageSyncCallback';\nimport Synchronizer from '../../store/SynchronizerManager/Synchronizer';\n\nconst { STACK_NEW_IMAGE } = Enums.Events;\n\n/**\n * A helper that creates a new `Synchronizer` which listens to the `STACK_NEW_IMAGE`\n * rendering event and calls the `stackImageSyncCallback`.\n *\n * @param synchronizerName - The name of the synchronizer.\n * @returns A new `Synchronizer` instance.\n */\nexport default function createStackImageSynchronizer(\n  synchronizerName: string\n): Synchronizer {\n  const stackImageSynchronizer = createSynchronizer(\n    synchronizerName,\n    STACK_NEW_IMAGE,\n    stackImageSyncCallback\n  );\n\n  return stackImageSynchronizer;\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.xmlbuilder2=t():e.xmlbuilder2=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=184)}([function(e,t,r){\"use strict\";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,\"__esModule\",{value:!0}),n(r(240)),n(r(251)),n(r(175)),n(r(107)),n(r(29)),n(r(73)),n(r(106)),n(r(30)),n(r(252)),n(r(52)),n(r(97)),n(r(253)),n(r(37)),n(r(51)),n(r(173)),n(r(176)),n(r(172)),n(r(108)),n(r(254)),n(r(255)),n(r(256)),n(r(72)),n(r(177)),n(r(105)),n(r(17)),n(r(257)),n(r(12)),n(r(174))},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(212);t.FixedSizeSet=i.FixedSizeSet;var o=r(213);t.ObjectCache=o.ObjectCache;var a=r(214);t.CompareCache=a.CompareCache;var s=r(215);t.Lazy=s.Lazy;var u=r(216);function l(e,t,r){if(m(e))e.forEach((function(e,n){return t.call(r,n,e)}));else for(var n in e)e.hasOwnProperty(n)&&t.call(r,n,e[n])}function c(e){var t,r;if(h(e))return e;if(f(e)){var i=[];try{for(var o=n(e),a=o.next();!a.done;a=o.next()){var s=a.value;i.push(c(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}if(p(e)){i={};for(var u in e)if(e.hasOwnProperty(u)){var l=e[u];i[u]=c(l)}return i}return e}function h(e){return!!e&&\"[object Function]\"===Object.prototype.toString.call(e)}function p(e){var t=typeof e;return!!e&&(\"function\"===t||\"object\"===t)}function f(e){return Array.isArray(e)}function d(e){return e instanceof Set}function m(e){return e instanceof Map}function y(e){if(p(e)){var t=Object.getPrototypeOf(e),r=t.constructor;return t&&r&&\"function\"==typeof r&&r instanceof r&&Function.prototype.toString.call(r)===Function.prototype.toString.call(Object)}return!1}t.StringWalker=u.StringWalker,t.applyMixin=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];Object.getOwnPropertyNames(t.prototype).forEach((function(n){if(\"constructor\"!==n){if(-1!==r.indexOf(n)){var i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&Object.defineProperty(e.prototype,\"_\"+n,i)}var o=Object.getOwnPropertyDescriptor(t.prototype,n);o&&Object.defineProperty(e.prototype,n,o)}}))},t.applyDefaults=function e(t,r,n){void 0===n&&(n=!1);var i=c(t||{});return l(r,(function(t,r){y(r)?i[t]=e(i[t],r,n):(n||void 0===i[t])&&(i[t]=r)})),i},t.forEachArray=function(e,t,r){e.forEach(t,r)},t.forEachObject=l,t.arrayLength=function(e){return d(e)?e.size:e.length},t.objectLength=function(e){return m(e)?e.size:Object.keys(e).length},t.getObjectValue=function(e,t){return m(e)?e.get(t):e[t]},t.removeObjectValue=function(e,t){m(e)?e.delete(t):delete e[t]},t.clone=c,t.isBoolean=function(e){return\"boolean\"==typeof e},t.isNumber=function(e){return\"number\"==typeof e},t.isString=function(e){return\"string\"==typeof e},t.isFunction=h,t.isObject=p,t.isArray=f,t.isSet=d,t.isMap=m,t.isEmpty=function(e){if(f(e))return!e.length;if(d(e))return!e.size;if(m(e))return!e.size;if(p(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1},t.isPlainObject=y,t.isIterable=function(e){return e&&\"function\"==typeof e[Symbol.iterator]},t.getValue=function(e){return h(e.valueOf)?e.valueOf():e},t.utf8Encode=function(e){for(var t=new Uint8Array(4*e.length),r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t[r++]=i;else{if(i<2048)t[r++]=i>>6|192;else{if(i>55295&&i<56320){if(++n>=e.length)throw new Error(\"Incomplete surrogate pair.\");var o=e.charCodeAt(n);if(o<56320||o>57343)throw new Error(\"Invalid surrogate character.\");i=65536+((1023&i)<<10)+(1023&o),t[r++]=i>>18|240,t[r++]=i>>12&63|128}else t[r++]=i>>12|224;t[r++]=i>>6&63|128}t[r++]=63&i|128}}return t.subarray(0,r)},t.utf8Decode=function(e){for(var t=\"\",r=0;r<e.length;){var n=e[r++];if(n>127)if(n>191&&n<224){if(r>=e.length)throw new Error(\"Incomplete 2-byte sequence.\");n=(31&n)<<6|63&e[r++]}else if(n>223&&n<240){if(r+1>=e.length)throw new Error(\"Incomplete 3-byte sequence.\");n=(15&n)<<12|(63&e[r++])<<6|63&e[r++]}else{if(!(n>239&&n<248))throw new Error(\"Unknown multi-byte start.\");if(r+2>=e.length)throw new Error(\"Incomplete 4-byte sequence.\");n=(7&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++]}if(n<=65535)t+=String.fromCharCode(n);else{if(!(n<=1114111))throw new Error(\"Code point exceeds UTF-16 limit.\");n-=65536,t+=String.fromCharCode(n>>10|55296),t+=String.fromCharCode(1023&n|56320)}}return t}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e[e.Before=0]=\"Before\",e[e.Equal=1]=\"Equal\",e[e.After=2]=\"After\"}(t.BoundaryPosition||(t.BoundaryPosition={})),function(e){e[e.None=0]=\"None\",e[e.Capturing=1]=\"Capturing\",e[e.AtTarget=2]=\"AtTarget\",e[e.Bubbling=3]=\"Bubbling\"}(t.EventPhase||(t.EventPhase={})),function(e){e[e.Element=1]=\"Element\",e[e.Attribute=2]=\"Attribute\",e[e.Text=3]=\"Text\",e[e.CData=4]=\"CData\",e[e.EntityReference=5]=\"EntityReference\",e[e.Entity=6]=\"Entity\",e[e.ProcessingInstruction=7]=\"ProcessingInstruction\",e[e.Comment=8]=\"Comment\",e[e.Document=9]=\"Document\",e[e.DocumentType=10]=\"DocumentType\",e[e.DocumentFragment=11]=\"DocumentFragment\",e[e.Notation=12]=\"Notation\"}(t.NodeType||(t.NodeType={})),function(e){e[e.Disconnected=1]=\"Disconnected\",e[e.Preceding=2]=\"Preceding\",e[e.Following=4]=\"Following\",e[e.Contains=8]=\"Contains\",e[e.ContainedBy=16]=\"ContainedBy\",e[e.ImplementationSpecific=32]=\"ImplementationSpecific\"}(t.Position||(t.Position={})),function(e){e[e.Accept=1]=\"Accept\",e[e.Reject=2]=\"Reject\",e[e.Skip=3]=\"Skip\"}(t.FilterResult||(t.FilterResult={})),function(e){e[e.All=4294967295]=\"All\",e[e.Element=1]=\"Element\",e[e.Attribute=2]=\"Attribute\",e[e.Text=4]=\"Text\",e[e.CDataSection=8]=\"CDataSection\",e[e.EntityReference=16]=\"EntityReference\",e[e.Entity=32]=\"Entity\",e[e.ProcessingInstruction=64]=\"ProcessingInstruction\",e[e.Comment=128]=\"Comment\",e[e.Document=256]=\"Document\",e[e.DocumentType=512]=\"DocumentType\",e[e.DocumentFragment=1024]=\"DocumentFragment\",e[e.Notation=2048]=\"Notation\"}(t.WhatToShow||(t.WhatToShow={})),function(e){e[e.StartToStart=0]=\"StartToStart\",e[e.StartToEnd=1]=\"StartToEnd\",e[e.EndToEnd=2]=\"EndToEnd\",e[e.EndToStart=3]=\"EndToStart\"}(t.HowToCompare||(t.HowToCompare={}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(241);t.Cast=n.Cast;var i=r(150);t.Guard=i.Guard;var o=r(242);t.EmptySet=o.EmptySet},function(e,t,r){var n=r(11),i=r(55).f,o=r(21),a=r(25),s=r(80),u=r(119),l=r(123);e.exports=function(e,t){var r,c,h,p,f,d=e.target,m=e.global,y=e.stat;if(r=m?n:y?n[d]||s(d,{}):(n[d]||{}).prototype)for(c in t){if(p=t[c],h=e.noTargetGet?(f=i(r,c))&&f.value:r[c],!l(m?c:d+(y?\".\":\"#\")+c,e.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(e.sham||h&&h.sham)&&o(p,\"sham\",!0),a(r,c,p,e)}}},function(e,t,r){var n=r(11),i=r(81),o=r(14),a=r(58),s=r(86),u=r(124),l=i(\"wks\"),c=n.Symbol,h=u?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(s&&o(c,e)?l[e]=c[e]:l[e]=h(\"Symbol.\"+e)),l[e]}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(1),i=r(29),o=function(){function e(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new n.CompareCache,this._rangeList=new n.FixedSizeSet}return e.prototype.setFeatures=function(e){if(void 0===e&&(e=!0),n.isObject(e))for(var t in e)this._features[t]=e[t]||!1;else for(var t in this._features)this._features[t]=e},Object.defineProperty(e.prototype,\"features\",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"window\",{get:function(){return null===this._window&&(this._window=i.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"compareCache\",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rangeList\",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"instance\",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e}();t.dom=o.instance},function(e,t,r){\"use strict\";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(r(228));t.base64=i;var o=n(r(146));t.byte=o;var a=n(r(147));t.byteSequence=a;var s=n(r(96));t.codePoint=s;var u=n(r(232));t.json=u;var l=n(r(233));t.list=l;var c=n(r(234));t.map=c;var h=n(r(235));t.namespace=h;var p=n(r(236));t.queue=p;var f=n(r(237));t.set=f;var d=n(r(238));t.stack=d;var m=n(r(239));t.string=m},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t,r){void 0===r&&(r=\"\");var n=e.call(this,r)||this;return n.name=t,n}return i(t,e),t}(Error);t.DOMException=o;var a=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"DOMStringSizeError\",t)||this}return i(t,e),t}(o);t.DOMStringSizeError=a;var s=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"WrongDocumentError\",\"The object is in the wrong document. \"+t)||this}return i(t,e),t}(o);t.WrongDocumentError=s;var u=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NoDataAllowedError\",t)||this}return i(t,e),t}(o);t.NoDataAllowedError=u;var l=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NoModificationAllowedError\",\"The object can not be modified. \"+t)||this}return i(t,e),t}(o);t.NoModificationAllowedError=l;var c=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NotSupportedError\",\"The operation is not supported. \"+t)||this}return i(t,e),t}(o);t.NotSupportedError=c;var h=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"InUseAttributeError\",t)||this}return i(t,e),t}(o);t.InUseAttributeError=h;var p=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"InvalidStateError\",\"The object is in an invalid state. \"+t)||this}return i(t,e),t}(o);t.InvalidStateError=p;var f=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"InvalidModificationError\",\"The object can not be modified in this way. \"+t)||this}return i(t,e),t}(o);t.InvalidModificationError=f;var d=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NamespaceError\",\"The operation is not allowed by Namespaces in XML. [XMLNS] \"+t)||this}return i(t,e),t}(o);t.NamespaceError=d;var m=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"InvalidAccessError\",\"The object does not support the operation or argument. \"+t)||this}return i(t,e),t}(o);t.InvalidAccessError=m;var y=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"ValidationError\",t)||this}return i(t,e),t}(o);t.ValidationError=y;var v=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"TypeMismatchError\",t)||this}return i(t,e),t}(o);t.TypeMismatchError=v;var _=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"SecurityError\",\"The operation is insecure. \"+t)||this}return i(t,e),t}(o);t.SecurityError=_;var g=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NetworkError\",\"A network error occurred. \"+t)||this}return i(t,e),t}(o);t.NetworkError=g;var b=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"AbortError\",\"The operation was aborted. \"+t)||this}return i(t,e),t}(o);t.AbortError=b;var x=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"URLMismatchError\",\"The given URL does not match another URL. \"+t)||this}return i(t,e),t}(o);t.URLMismatchError=x;var w=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"QuotaExceededError\",\"The quota has been exceeded. \"+t)||this}return i(t,e),t}(o);t.QuotaExceededError=w;var E=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"TimeoutError\",\"The operation timed out. \"+t)||this}return i(t,e),t}(o);t.TimeoutError=E;var D=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"InvalidNodeTypeError\",\"The supplied node is incorrect or has an incorrect ancestor for this operation. \"+t)||this}return i(t,e),t}(o);t.InvalidNodeTypeError=D;var S=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"DataCloneError\",\"The object can not be cloned. \"+t)||this}return i(t,e),t}(o);t.DataCloneError=S;var C=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NotImplementedError\",\"The DOM method is not implemented by this module. \"+t)||this}return i(t,e),t}(o);t.NotImplementedError=C;var A=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"HierarchyRequestError\",\"The operation would yield an incorrect node tree. \"+t)||this}return i(t,e),t}(o);t.HierarchyRequestError=A;var N=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"NotFoundError\",\"The object can not be found here. \"+t)||this}return i(t,e),t}(o);t.NotFoundError=N;var T=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"IndexSizeError\",\"The index is not in the allowed range. \"+t)||this}return i(t,e),t}(o);t.IndexSizeError=T;var O=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"SyntaxError\",\"The string did not match the expected pattern. \"+t)||this}return i(t,e),t}(o);t.SyntaxError=O;var F=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,\"InvalidCharacterError\",\"The string contains invalid characters. \"+t)||this}return i(t,e),t}(o);t.InvalidCharacterError=F},function(e,t,r){\"use strict\";var n=r(53),i=[\"kind\",\"resolve\",\"construct\",\"instanceOf\",\"predicate\",\"represent\",\"defaultStyle\",\"styleAliases\"],o=[\"scalar\",\"sequence\",\"mapping\"];e.exports=function(e,t){var r,a;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===i.indexOf(t))throw new n('Unknown option \"'+t+'\" is met in definition of \"'+e+'\" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(r=t.styleAliases||null,a={},null!==r&&Object.keys(r).forEach((function(e){r[e].forEach((function(t){a[String(t)]=e}))})),a),-1===o.indexOf(this.kind))throw new n('Unknown kind \"'+this.kind+'\" is specified for \"'+e+'\" YAML type.')}},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r(\"object\"==typeof globalThis&&globalThis)||r(\"object\"==typeof window&&window)||r(\"object\"==typeof self&&self)||r(\"object\"==typeof t&&t)||Function(\"return this\")()}).call(this,r(78))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.idl_defineConst=function(e,t,r){Object.defineProperty(e,t,{writable:!1,enumerable:!0,configurable:!1,value:r})}},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(16),i=r(115),o=r(18),a=r(56),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if(\"get\"in r||\"set\"in r)throw TypeError(\"Accessors not supported\");return\"value\"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(8);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(3),o=r(2);function a(e,t,r){if(void 0===r&&(r=!1),r&&i.Guard.isElementNode(t)&&i.Guard.isShadowRoot(t.shadowRoot)&&t.shadowRoot._firstChild)return t.shadowRoot._firstChild;if(t._firstChild)return t._firstChild;if(t===e)return null;if(t._nextSibling)return t._nextSibling;for(var n=t._parent;n&&n!==e;){if(n._nextSibling)return n._nextSibling;n=n._parent}return null}function s(){var e;return(e={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},e}function u(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);for(var i=t?e:a(e,e,r);i&&n&&!n(i);)i=a(e,i,r);return i}function l(e,t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var o=a(e,t,n);o&&i&&!i(o);)o=a(e,o,n);return o}function c(e,t,r,n){var i;return void 0===t&&(t=!1),void 0===r&&(r=!1),t||0!==e._children.size?((i={})[Symbol.iterator]=function(){var i=t?e:a(e,e,r);return{next:function(){for(;i&&n&&!n(i);)i=a(e,i,r);if(null===i)return{done:!0,value:null};var t={done:!1,value:i};return i=a(e,i,r),t}}},i):s()}function h(e,t,r){void 0===t&&(t=!1);for(var n=t?e:e._parent;n&&r&&!r(n);)n=n._parent;return n}function p(e,t,r,n){void 0===r&&(r=!1);for(var i=t._parent;i&&n&&!n(i);)i=i._parent;return i}function f(e){return i.Guard.isDocumentTypeNode(e)?0:i.Guard.isCharacterDataNode(e)?e._data.length:e._children.size}function d(e,t){if(void 0===t&&(t=!1),t){var r=d(e,!1);return i.Guard.isShadowRoot(r)?d(r._host,!0):r}return e._parent?d(e._parent):e}function m(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var o=r?e:n&&i.Guard.isShadowRoot(e)?e._host:e._parent;null!==o;){if(o===t)return!0;o=n&&i.Guard.isShadowRoot(o)?o._host:o._parent}return!1}function y(e){for(var t=d(e),r=0,n=u(t);null!==n;){if(r++,n===e)return r;n=l(t,n)}return-1}t.tree_getFirstDescendantNode=u,t.tree_getNextDescendantNode=l,t.tree_getDescendantNodes=c,t.tree_getDescendantElements=function(e,t,r,n){var o;return void 0===t&&(t=!1),void 0===r&&(r=!1),t||0!==e._children.size?((o={})[Symbol.iterator]=function(){var o=c(e,t,r,(function(e){return i.Guard.isElementNode(e)}))[Symbol.iterator](),a=o.next().value;return{next:function(){for(;a&&n&&!n(a);)a=o.next().value;if(null===a)return{done:!0,value:null};var e={done:!1,value:a};return a=o.next().value,e}}},o):s()},t.tree_getSiblingNodes=function(e,t,r){var n;return void 0===t&&(t=!1),e._parent&&0!==e._parent._children.size?((n={})[Symbol.iterator]=function(){var n=e._parent?e._parent._firstChild:null;return{next:function(){for(;n&&(r&&!r(n)||!t&&n===e);)n=n._nextSibling;if(null===n)return{done:!0,value:null};var i={done:!1,value:n};return n=n._nextSibling,i}}},n):s()},t.tree_getFirstAncestorNode=h,t.tree_getNextAncestorNode=p,t.tree_getAncestorNodes=function(e,t,r){var n;return void 0===t&&(t=!1),t||e._parent?((n={})[Symbol.iterator]=function(){var n=h(e,t,r);return{next:function(){if(null===n)return{done:!0,value:null};var e={done:!1,value:n};return n=p(0,n,t,r),e}}},n):s()},t.tree_getCommonAncestor=function(e,t){if(e===t)return e._parent;for(var r=[],n=[],i=h(e,!0);null!==i;)r.push(i),i=p(0,i,!0);for(var o=h(t,!0);null!==o;)n.push(o),o=p(0,o,!0);for(var a=r.length,s=n.length,u=null,l=Math.min(a,s);l>0;l--){var c=r[--a];if(c!==n[--s])break;u=c}return u},t.tree_getFollowingNode=function(e,t){if(t._firstChild)return t._firstChild;if(t._nextSibling)return t._nextSibling;for(;;){var r=t._parent;if(null===r||r===e)return null;if(r._nextSibling)return r._nextSibling;t=r}},t.tree_getPrecedingNode=function(e,t){return t===e?null:t._previousSibling?(t=t._previousSibling)._lastChild?t._lastChild:t:t._parent},t.tree_isConstrained=function e(t){var r,i,a,s,u,l;switch(t._nodeType){case o.NodeType.Document:var c=!1,h=!1;try{for(var p=n(t._children),f=p.next();!f.done;f=p.next()){switch(f.value._nodeType){case o.NodeType.ProcessingInstruction:case o.NodeType.Comment:break;case o.NodeType.DocumentType:if(c||h)return!1;c=!0;break;case o.NodeType.Element:if(h)return!1;h=!0;break;default:return!1}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}break;case o.NodeType.DocumentFragment:case o.NodeType.Element:try{for(var d=n(t._children),m=d.next();!m.done;m=d.next()){switch(m.value._nodeType){case o.NodeType.Element:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:break;default:return!1}}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}break;case o.NodeType.DocumentType:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:return!t.hasChildNodes()}try{for(var y=n(t._children),v=y.next();!v.done;v=y.next()){if(!e(v.value))return!1}}catch(e){u={error:e}}finally{try{v&&!v.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return!0},t.tree_nodeLength=f,t.tree_isEmpty=function(e){return 0===f(e)},t.tree_rootNode=d,t.tree_isDescendantOf=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var i=u(e,r,n);null!==i;){if(i===t)return!0;i=l(e,i,r,n)}return!1},t.tree_isAncestorOf=m,t.tree_isHostIncludingAncestorOf=function e(t,r,n){if(void 0===n&&(n=!1),m(t,r,n))return!0;var o=d(t);return!(!i.Guard.isDocumentFragmentNode(o)||null===o._host||!e(o._host,r,n))},t.tree_isSiblingOf=function(e,t,r){return void 0===r&&(r=!1),e!==t?null!==e._parent&&e._parent===t._parent:!!r},t.tree_isPreceding=function(e,t){var r=y(e),n=y(t);return-1!==r&&-1!==n&&(d(e)===d(t)&&n<r)},t.tree_isFollowing=function(e,t){var r=y(e),n=y(t);return-1!==r&&-1!==n&&(d(e)===d(t)&&n>r)},t.tree_isParentOf=function(e,t){return e._parent===t},t.tree_isChildOf=function(e,t){return t._parent===e},t.tree_previousSibling=function(e){return e._previousSibling},t.tree_nextSibling=function(e){return e._nextSibling},t.tree_firstChild=function(e){return e._firstChild},t.tree_lastChild=function(e){return e._lastChild},t.tree_treePosition=y,t.tree_index=function(e){for(var t=0;null!==e._previousSibling;)t++,e=e._previousSibling;return t},t.tree_retarget=function(e,t){for(;;){if(!e||!i.Guard.isNode(e))return e;var r=d(e);if(!i.Guard.isShadowRoot(r))return e;if(t&&i.Guard.isNode(t)&&m(r,t,!0,!0))return e;e=r.host}}},function(e,t,r){var n=r(13);e.exports=function(e){if(!n(e))throw TypeError(String(e)+\" is not an object\");return e}},function(e,t,r){\"use strict\";var n=r(24),i=r(130),o=r(49),a=r(43),s=r(88),u=a.set,l=a.getterFor(\"Array Iterator\");e.exports=s(Array,\"Array\",(function(e,t){u(this,{type:\"Array Iterator\",target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):\"keys\"==r?{value:n,done:!1}:\"values\"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),\"values\"),o.Arguments=o.Array,i(\"keys\"),i(\"values\"),i(\"entries\")},function(e,t,r){var n=r(90),i=r(25),o=r(202);n||i(Object.prototype,\"toString\",o,{unsafe:!0})},function(e,t,r){var n=r(16),i=r(15),o=r(40);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){\"use strict\";var n=r(137).charAt,i=r(43),o=r(88),a=i.set,s=i.getterFor(\"String Iterator\");o(String,\"String\",(function(e){a(this,{type:\"String Iterator\",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(11),i=r(203),o=r(19),a=r(21),s=r(5),u=s(\"iterator\"),l=s(\"toStringTag\"),c=o.values;for(var h in i){var p=n[h],f=p&&p.prototype;if(f){if(f[u]!==c)try{a(f,u,c)}catch(e){f[u]=c}if(f[l]||a(f,l,h),i[h])for(var d in o)if(f[d]!==o[d])try{a(f,d,o[d])}catch(e){f[d]=o[d]}}}},function(e,t,r){var n=r(41),i=r(35);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(11),i=r(21),o=r(14),a=r(80),s=r(117),u=r(43),l=u.get,c=u.enforce,h=String(String).split(\"String\");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;\"function\"==typeof r&&(\"string\"!=typeof t||o(r,\"name\")||i(r,\"name\",t),c(r).source=h.join(\"string\"==typeof t?t:\"\")),e!==n?(u?!p&&e[t]&&(l=!0):delete e[t],l?e[t]=r:i(e,t,r)):l?e[t]=r:a(t,r)})(Function.prototype,\"toString\",(function(){return\"function\"==typeof this&&l(this).source||s(this)}))},function(e,t,r){var n=r(47),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(35);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(16),i=r(8),o=r(14),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var r=[][e],l=!!o(t,\"ACCESSORS\")&&t.ACCESSORS,c=o(t,0)?t[0]:u,h=o(t,1)?t[1]:void 0;return s[e]=!!r&&!i((function(){if(l&&!n)return!0;var e={length:-1};l?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,c,h)}))}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(148),i=r(149),o=r(151),a=r(98),s=r(153),u=r(154),l=r(155),c=r(99),h=r(100),p=r(156),f=r(157),d=r(101),m=r(158),y=r(159),v=r(160),_=r(161),g=r(162),b=r(163),x=r(164),w=r(165),E=r(166),D=r(167),S=r(168),C=r(169),A=r(170);t.create_domImplementation=function(e){return n.DOMImplementationImpl._create(e)},t.create_window=function(){return i.WindowImpl._create()},t.create_xmlDocument=function(){return new o.XMLDocumentImpl},t.create_document=function(){return new a.DocumentImpl},t.create_abortController=function(){return new s.AbortControllerImpl},t.create_abortSignal=function(){return u.AbortSignalImpl._create()},t.create_documentType=function(e,t,r,n){return l.DocumentTypeImpl._create(e,t,r,n)},t.create_element=function(e,t,r,n){return c.ElementImpl._create(e,t,r,n)},t.create_htmlElement=function(e,t,r,n){return c.ElementImpl._create(e,t,r,n)},t.create_htmlUnknownElement=function(e,t,r,n){return c.ElementImpl._create(e,t,r,n)},t.create_documentFragment=function(e){return h.DocumentFragmentImpl._create(e)},t.create_shadowRoot=function(e,t){return p.ShadowRootImpl._create(e,t)},t.create_attr=function(e,t){return f.AttrImpl._create(e,t)},t.create_text=function(e,t){return d.TextImpl._create(e,t)},t.create_cdataSection=function(e,t){return m.CDATASectionImpl._create(e,t)},t.create_comment=function(e,t){return y.CommentImpl._create(e,t)},t.create_processingInstruction=function(e,t,r){return v.ProcessingInstructionImpl._create(e,t,r)},t.create_htmlCollection=function(e,t){return void 0===t&&(t=function(){return!0}),_.HTMLCollectionImpl._create(e,t)},t.create_nodeList=function(e){return g.NodeListImpl._create(e)},t.create_nodeListStatic=function(e,t){return b.NodeListStaticImpl._create(e,t)},t.create_namedNodeMap=function(e){return x.NamedNodeMapImpl._create(e)},t.create_range=function(e,t){return w.RangeImpl._create(e,t)},t.create_nodeIterator=function(e,t,r){return E.NodeIteratorImpl._create(e,t,r)},t.create_treeWalker=function(e,t){return D.TreeWalkerImpl._create(e,t)},t.create_nodeFilter=function(){return S.NodeFilterImpl._create()},t.create_mutationRecord=function(e,t,r,n,i,o,a,s,u){return C.MutationRecordImpl._create(e,t,r,n,i,o,a,s,u)},t.create_domTokenList=function(e,t){return A.DOMTokenListImpl._create(e,t)}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(17),a=r(3),s=r(72),u=new Map;function l(e,t){if(t!==e._root&&o.tree_isAncestorOf(e._reference,t,!0)){if(e._pointerBeforeReference)for(;;){var r=o.tree_getFollowingNode(e._root,t);if(null!==r&&o.tree_isDescendantOf(e._root,r,!0)&&!o.tree_isDescendantOf(t,r,!0))return void(e._reference=r);if(null===r)return void(e._pointerBeforeReference=!1)}if(null===t._previousSibling)null!==t._parent&&(e._reference=t._parent);else{for(var n=t._previousSibling,i=o.tree_getFirstDescendantNode(t._previousSibling,!0,!1);null!==i;)null!==i&&(n=i),i=o.tree_getNextDescendantNode(t._previousSibling,i,!0,!1);e._reference=n}}}function c(e,t,r,n,i){if(a.Guard.isSlot(e)&&\"name\"===t&&null===i){if(n===r)return;if(null===n&&\"\"===r)return;if(\"\"===n&&null===r)return;e._name=null===n||\"\"===n?\"\":n,s.shadowTree_assignSlotablesForATree(o.tree_rootNode(e))}}function h(e,t,r,n,i){if(a.Guard.isSlotable(e)&&\"slot\"===t&&null===i){if(n===r)return;if(null===n&&\"\"===r)return;if(\"\"===n&&null===r)return;e._name=null===n||\"\"===n?\"\":n,s.shadowTree_isAssigned(e)&&s.shadowTree_assignSlotables(e._assignedSlot),s.shadowTree_assignASlot(e)}}function p(e,t,r,n){\"id\"===t&&null===n&&(e._uniqueIdentifier=r||void 0)}t.dom_runRemovingSteps=function(e,t){},t.dom_runCloningSteps=function(e,t,r,n){},t.dom_runAdoptingSteps=function(e,t){},t.dom_runAttributeChangeSteps=function(e,t,r,o,a){var s,u;i.dom.features.slots&&(h.call(e,e,t,r,o,a),c.call(e,e,t,r,o,a)),p.call(e,e,t,o,a);try{for(var l=n(e._attributeChangeSteps),f=l.next();!f.done;f=l.next()){f.value.call(e,e,t,r,o,a)}}catch(e){s={error:e}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}},t.dom_runInsertionSteps=function(e){},t.dom_runNodeIteratorPreRemovingSteps=function(e,t){l.call(e,e,t)},t.dom_hasSupportedTokens=function(e){return u.has(e)},t.dom_getSupportedTokens=function(e){return u.get(e)||new Set},t.dom_runEventConstructingSteps=function(e){},t.dom_runChildTextContentChangeSteps=function(e){}},function(e,t,r){\"use strict\";var n=r(4),i=r(11),o=r(46),a=r(44),s=r(16),u=r(86),l=r(124),c=r(8),h=r(14),p=r(59),f=r(13),d=r(18),m=r(27),y=r(24),v=r(56),_=r(40),g=r(60),b=r(61),x=r(82),w=r(190),E=r(85),D=r(55),S=r(15),C=r(79),A=r(21),N=r(25),T=r(81),O=r(57),F=r(45),k=r(58),P=r(5),I=r(125),L=r(126),M=r(62),B=r(43),j=r(36).forEach,R=O(\"hidden\"),z=P(\"toPrimitive\"),U=B.set,G=B.getterFor(\"Symbol\"),X=Object.prototype,q=i.Symbol,W=o(\"JSON\",\"stringify\"),H=D.f,J=S.f,Y=w.f,V=C.f,K=T(\"symbols\"),$=T(\"op-symbols\"),Q=T(\"string-to-symbol-registry\"),Z=T(\"symbol-to-string-registry\"),ee=T(\"wks\"),te=i.QObject,re=!te||!te.prototype||!te.prototype.findChild,ne=s&&c((function(){return 7!=g(J({},\"a\",{get:function(){return J(this,\"a\",{value:7}).a}})).a}))?function(e,t,r){var n=H(X,t);n&&delete X[t],J(e,t,r),n&&e!==X&&J(X,t,n)}:J,ie=function(e,t){var r=K[e]=g(q.prototype);return U(r,{type:\"Symbol\",tag:e,description:t}),s||(r.description=t),r},oe=l?function(e){return\"symbol\"==typeof e}:function(e){return Object(e)instanceof q},ae=function(e,t,r){e===X&&ae($,t,r),d(e);var n=v(t,!0);return d(r),h(K,n)?(r.enumerable?(h(e,R)&&e[R][n]&&(e[R][n]=!1),r=g(r,{enumerable:_(0,!1)})):(h(e,R)||J(e,R,_(1,{})),e[R][n]=!0),ne(e,n,r)):J(e,n,r)},se=function(e,t){d(e);var r=y(t),n=b(r).concat(he(r));return j(n,(function(t){s&&!ue.call(r,t)||ae(e,t,r[t])})),e},ue=function(e){var t=v(e,!0),r=V.call(this,t);return!(this===X&&h(K,t)&&!h($,t))&&(!(r||!h(this,t)||!h(K,t)||h(this,R)&&this[R][t])||r)},le=function(e,t){var r=y(e),n=v(t,!0);if(r!==X||!h(K,n)||h($,n)){var i=H(r,n);return!i||!h(K,n)||h(r,R)&&r[R][n]||(i.enumerable=!0),i}},ce=function(e){var t=Y(y(e)),r=[];return j(t,(function(e){h(K,e)||h(F,e)||r.push(e)})),r},he=function(e){var t=e===X,r=Y(t?$:y(e)),n=[];return j(r,(function(e){!h(K,e)||t&&!h(X,e)||n.push(K[e])})),n};(u||(N((q=function(){if(this instanceof q)throw TypeError(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=k(e),r=function(e){this===X&&r.call($,e),h(this,R)&&h(this[R],t)&&(this[R][t]=!1),ne(this,t,_(1,e))};return s&&re&&ne(X,t,{configurable:!0,set:r}),ie(t,e)}).prototype,\"toString\",(function(){return G(this).tag})),N(q,\"withoutSetter\",(function(e){return ie(k(e),e)})),C.f=ue,S.f=ae,D.f=le,x.f=w.f=ce,E.f=he,I.f=function(e){return ie(P(e),e)},s&&(J(q.prototype,\"description\",{configurable:!0,get:function(){return G(this).description}}),a||N(X,\"propertyIsEnumerable\",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),j(b(ee),(function(e){L(e)})),n({target:\"Symbol\",stat:!0,forced:!u},{for:function(e){var t=String(e);if(h(Q,t))return Q[t];var r=q(t);return Q[t]=r,Z[r]=t,r},keyFor:function(e){if(!oe(e))throw TypeError(e+\" is not a symbol\");if(h(Z,e))return Z[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:\"Object\",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?g(e):se(g(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:le}),n({target:\"Object\",stat:!0,forced:!u},{getOwnPropertyNames:ce,getOwnPropertySymbols:he}),n({target:\"Object\",stat:!0,forced:c((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(m(e))}}),W)&&n({target:\"JSON\",stat:!0,forced:!u||c((function(){var e=q();return\"[null]\"!=W([e])||\"{}\"!=W({a:e})||\"{}\"!=W(Object(e))}))},{stringify:function(e,t,r){for(var n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=t,(f(t)||void 0!==e)&&!oe(e))return p(t)||(t=function(e,t){if(\"function\"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),i[1]=t,W.apply(null,i)}});q.prototype[z]||A(q.prototype,z,q.prototype.valueOf),M(q,\"Symbol\"),F[R]=!0},function(e,t,r){\"use strict\";var n=r(4),i=r(16),o=r(11),a=r(14),s=r(13),u=r(15).f,l=r(119),c=o.Symbol;if(i&&\"function\"==typeof c&&(!(\"description\"in c.prototype)||void 0!==c().description)){var h={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return\"\"===e&&(h[t]=!0),t};l(p,c);var f=p.prototype=c.prototype;f.constructor=p;var d=f.toString,m=\"Symbol(test)\"==String(c(\"test\")),y=/^Symbol\\((.*)\\)[^)]+$/;u(f,\"description\",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=d.call(e);if(a(h,e))return\"\";var r=m?t.slice(7,-1):t.replace(y,\"$1\");return\"\"===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(e,t,r){r(126)(\"iterator\")},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(6),s=r(2),u=r(70),l=r(3),c=r(9),h=r(0),p=r(152),f=r(12),d=function(e){function t(){var t=e.call(this)||this;return t._parent=null,t._firstChild=null,t._lastChild=null,t._previousSibling=null,t._nextSibling=null,t}return i(t,e),Object.defineProperty(t.prototype,\"_childNodes\",{get:function(){return this.__childNodes||(this.__childNodes=h.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"_nodeDocument\",{get:function(){return this._nodeDocumentOverride||a.dom.window._associatedDocument},set:function(e){this._nodeDocumentOverride=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"_registeredObserverList\",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nodeType\",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nodeName\",{get:function(){return l.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:l.Guard.isAttrNode(this)?this._qualifiedName:l.Guard.isExclusiveTextNode(this)?\"#text\":l.Guard.isCDATASectionNode(this)?\"#cdata-section\":l.Guard.isProcessingInstructionNode(this)?this._target:l.Guard.isCommentNode(this)?\"#comment\":l.Guard.isDocumentNode(this)?\"#document\":l.Guard.isDocumentTypeNode(this)?this._name:l.Guard.isDocumentFragmentNode(this)?\"#document-fragment\":\"\"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"baseURI\",{get:function(){return p.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isConnected\",{get:function(){return l.Guard.isElementNode(this)&&h.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ownerDocument\",{get:function(){return this._nodeType===s.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),t.prototype.getRootNode=function(e){return h.tree_rootNode(this,!!e&&e.composed)},Object.defineProperty(t.prototype,\"parentNode\",{get:function(){return this._nodeType===s.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parentElement\",{get:function(){return this._parent&&l.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),t.prototype.hasChildNodes=function(){return null!==this._firstChild},Object.defineProperty(t.prototype,\"childNodes\",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstChild\",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"lastChild\",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"previousSibling\",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nextSibling\",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nodeValue\",{get:function(){return l.Guard.isAttrNode(this)?this._value:l.Guard.isCharacterDataNode(this)?this._data:null},set:function(e){null===e&&(e=\"\"),l.Guard.isAttrNode(this)?h.attr_setAnExistingAttributeValue(this,e):l.Guard.isCharacterDataNode(this)&&h.characterData_replaceData(this,0,this._data.length,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"textContent\",{get:function(){return l.Guard.isDocumentFragmentNode(this)||l.Guard.isElementNode(this)?h.text_descendantTextContent(this):l.Guard.isAttrNode(this)?this._value:l.Guard.isCharacterDataNode(this)?this._data:null},set:function(e){null===e&&(e=\"\"),l.Guard.isDocumentFragmentNode(this)||l.Guard.isElementNode(this)?h.node_stringReplaceAll(e,this):l.Guard.isAttrNode(this)?h.attr_setAnExistingAttributeValue(this,e):l.Guard.isCharacterDataNode(this)&&h.characterData_replaceData(this,0,h.tree_nodeLength(this),e)},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){for(var e,t,r,n,i=[],s=h.tree_getFirstDescendantNode(this,!1,!1,(function(e){return l.Guard.isExclusiveTextNode(e)}));null!==s;)i.push(s),s=h.tree_getNextDescendantNode(this,s,!1,!1,(function(e){return l.Guard.isExclusiveTextNode(e)}));for(var u=0;u<i.length;u++){var c=i[u];if(null!==c._parent){var p=h.tree_nodeLength(c);if(0!==p){var f=[],d=\"\";try{for(var m=(e=void 0,o(h.text_contiguousExclusiveTextNodes(c))),y=m.next();!y.done;y=m.next()){var v=y.value;f.push(v),d+=v._data}}catch(t){e={error:t}}finally{try{y&&!y.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}if(h.characterData_replaceData(c,p,0,d),0!==a.dom.rangeList.size)for(var _=c._nextSibling;null!==_&&l.Guard.isExclusiveTextNode(_);){var g=_,b=h.tree_index(g);try{for(var x=(r=void 0,o(a.dom.rangeList)),w=x.next();!w.done;w=x.next()){var E=w.value;E._start[0]===g&&(E._start[0]=c,E._start[1]+=p),E._end[0]===g&&(E._end[0]=c,E._end[1]+=p),E._start[0]===g._parent&&E._start[1]===b&&(E._start[0]=c,E._start[1]=p),E._end[0]===g._parent&&E._end[1]===b&&(E._end[0]=c,E._end[1]=p)}}catch(e){r={error:e}}finally{try{w&&!w.done&&(n=x.return)&&n.call(x)}finally{if(r)throw r.error}}p+=h.tree_nodeLength(_),_=_._nextSibling}for(var D=0;D<f.length;D++){null!==(v=f[D])._parent&&h.mutation_remove(v,v._parent)}}else h.mutation_remove(c,c._parent)}}},t.prototype.cloneNode=function(e){if(void 0===e&&(e=!1),l.Guard.isShadowRoot(this))throw new c.NotSupportedError;return h.node_clone(this,null,e)},t.prototype.isEqualNode=function(e){return void 0===e&&(e=null),null!==e&&h.node_equals(this,e)},t.prototype.isSameNode=function(e){return void 0===e&&(e=null),this===e},t.prototype.compareDocumentPosition=function(e){if(e===this)return 0;var t=e,r=this,n=null,i=null;if(l.Guard.isAttrNode(t)&&(t=(n=t)._element),l.Guard.isAttrNode(r)&&(r=(i=r)._element,n&&t&&t===r))for(var o=0;o<r._attributeList.length;o++){var u=r._attributeList[o];if(h.node_equals(u,n))return s.Position.ImplementationSpecific|s.Position.Preceding;if(h.node_equals(u,i))return s.Position.ImplementationSpecific|s.Position.Following}return null===t||null===r||h.tree_rootNode(t)!==h.tree_rootNode(r)?s.Position.Disconnected|s.Position.ImplementationSpecific|(a.dom.compareCache.check(this,e)?s.Position.Preceding:s.Position.Following):!n&&h.tree_isAncestorOf(r,t)||i&&t===r?s.Position.Contains|s.Position.Preceding:!i&&h.tree_isDescendantOf(r,t)||n&&t===r?s.Position.ContainedBy|s.Position.Following:h.tree_isPreceding(r,t)?s.Position.Preceding:s.Position.Following},t.prototype.contains=function(e){return null!==e&&h.tree_isDescendantOf(this,e,!0)},t.prototype.lookupPrefix=function(e){return e?l.Guard.isElementNode(this)?h.node_locateANamespacePrefix(this,e):l.Guard.isDocumentNode(this)?null===this.documentElement?null:h.node_locateANamespacePrefix(this.documentElement,e):l.Guard.isDocumentTypeNode(this)||l.Guard.isDocumentFragmentNode(this)?null:l.Guard.isAttrNode(this)?null===this._element?null:h.node_locateANamespacePrefix(this._element,e):null!==this._parent&&l.Guard.isElementNode(this._parent)?h.node_locateANamespacePrefix(this._parent,e):null:null},t.prototype.lookupNamespaceURI=function(e){return h.node_locateANamespace(this,e||null)},t.prototype.isDefaultNamespace=function(e){return e||(e=null),h.node_locateANamespace(this,null)===e},t.prototype.insertBefore=function(e,t){return h.mutation_preInsert(e,this,t)},t.prototype.appendChild=function(e){return h.mutation_append(e,this)},t.prototype.replaceChild=function(e,t){return h.mutation_replace(t,e,this)},t.prototype.removeChild=function(e){return h.mutation_preRemove(e,this)},t.prototype._getTheParent=function(e){return l.Guard.isSlotable(this)&&h.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},t.ELEMENT_NODE=1,t.ATTRIBUTE_NODE=2,t.TEXT_NODE=3,t.CDATA_SECTION_NODE=4,t.ENTITY_REFERENCE_NODE=5,t.ENTITY_NODE=6,t.PROCESSING_INSTRUCTION_NODE=7,t.COMMENT_NODE=8,t.DOCUMENT_NODE=9,t.DOCUMENT_TYPE_NODE=10,t.DOCUMENT_FRAGMENT_NODE=11,t.NOTATION_NODE=12,t.DOCUMENT_POSITION_DISCONNECTED=1,t.DOCUMENT_POSITION_PRECEDING=2,t.DOCUMENT_POSITION_FOLLOWING=4,t.DOCUMENT_POSITION_CONTAINS=8,t.DOCUMENT_POSITION_CONTAINED_BY=16,t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,t}(u.EventTargetImpl);t.NodeImpl=d,d.prototype._children=new l.EmptySet,f.idl_defineConst(d.prototype,\"ELEMENT_NODE\",1),f.idl_defineConst(d.prototype,\"ATTRIBUTE_NODE\",2),f.idl_defineConst(d.prototype,\"TEXT_NODE\",3),f.idl_defineConst(d.prototype,\"CDATA_SECTION_NODE\",4),f.idl_defineConst(d.prototype,\"ENTITY_REFERENCE_NODE\",5),f.idl_defineConst(d.prototype,\"ENTITY_NODE\",6),f.idl_defineConst(d.prototype,\"PROCESSING_INSTRUCTION_NODE\",7),f.idl_defineConst(d.prototype,\"COMMENT_NODE\",8),f.idl_defineConst(d.prototype,\"DOCUMENT_NODE\",9),f.idl_defineConst(d.prototype,\"DOCUMENT_TYPE_NODE\",10),f.idl_defineConst(d.prototype,\"DOCUMENT_FRAGMENT_NODE\",11),f.idl_defineConst(d.prototype,\"NOTATION_NODE\",12),f.idl_defineConst(d.prototype,\"DOCUMENT_POSITION_DISCONNECTED\",1),f.idl_defineConst(d.prototype,\"DOCUMENT_POSITION_PRECEDING\",2),f.idl_defineConst(d.prototype,\"DOCUMENT_POSITION_FOLLOWING\",4),f.idl_defineConst(d.prototype,\"DOCUMENT_POSITION_CONTAINS\",8),f.idl_defineConst(d.prototype,\"DOCUMENT_POSITION_CONTAINED_BY\",16),f.idl_defineConst(d.prototype,\"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC\",32)},function(e,t){e.exports=function(e){if(null==e)throw TypeError(\"Can't call method on \"+e);return e}},function(e,t,r){var n=r(87),i=r(41),o=r(27),a=r(26),s=r(128),u=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,c=4==e,h=6==e,p=5==e||h;return function(f,d,m,y){for(var v,_,g=o(f),b=i(g),x=n(d,m,3),w=a(b.length),E=0,D=y||s,S=t?D(f,w):r?D(f,0):void 0;w>E;E++)if((p||E in b)&&(_=x(v=b[E],E,g),e))if(t)S[E]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return E;case 2:u.call(S,v)}else if(c)return!1;return h?-1:l||c?c:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(6),s=r(9),u=r(2),l=r(3),c=r(1),h=r(7),p=r(73),f=r(17),d=r(172),m=r(72),y=r(51),v=r(30),_=r(106);function g(e,t,r){var i,o,a,l,c,h,p,d,m=t._nodeType,y=e._nodeType,v=r?r._nodeType:null;if(m!==u.NodeType.Document&&m!==u.NodeType.DocumentFragment&&m!==u.NodeType.Element)throw new s.HierarchyRequestError(\"Only document, document fragment and element nodes can contain child nodes. Parent node is \"+t.nodeName+\".\");if(f.tree_isHostIncludingAncestorOf(t,e,!0))throw new s.HierarchyRequestError(\"The node to be inserted cannot be an inclusive ancestor of parent node. Node is \"+e.nodeName+\", parent node is \"+t.nodeName+\".\");if(null!==r&&r._parent!==t)throw new s.NotFoundError(\"The reference child node cannot be found under parent node. Child node is \"+r.nodeName+\", parent node is \"+t.nodeName+\".\");if(y!==u.NodeType.DocumentFragment&&y!==u.NodeType.DocumentType&&y!==u.NodeType.Element&&y!==u.NodeType.Text&&y!==u.NodeType.ProcessingInstruction&&y!==u.NodeType.CData&&y!==u.NodeType.Comment)throw new s.HierarchyRequestError(\"Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is \"+e.nodeName+\".\");if(y===u.NodeType.Text&&m===u.NodeType.Document)throw new s.HierarchyRequestError(\"Cannot insert a text node as a child of a document node. Node is \"+e.nodeName+\".\");if(y===u.NodeType.DocumentType&&m!==u.NodeType.Document)throw new s.HierarchyRequestError(\"A document type node can only be inserted under a document node. Parent node is \"+t.nodeName+\".\");if(m===u.NodeType.Document)if(y===u.NodeType.DocumentFragment){var _=0;try{for(var g=n(e._children),b=g.next();!b.done;b=g.next()){var x=b.value;if(x._nodeType===u.NodeType.Element)_++;else if(x._nodeType===u.NodeType.Text)throw new s.HierarchyRequestError(\"Cannot insert text a node as a child of a document node. Node is \"+x.nodeName+\".\")}}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}if(_>1)throw new s.HierarchyRequestError(\"A document node can only have one document element node. Document fragment to be inserted has \"+_+\" element nodes.\");if(1===_){try{for(var w=n(t._children),E=w.next();!E.done;E=w.next()){if(E.value._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError(\"The document node already has a document element node.\")}}catch(e){a={error:e}}finally{try{E&&!E.done&&(l=w.return)&&l.call(w)}finally{if(a)throw a.error}}if(r){if(v===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Cannot insert an element node before a document type node.\");for(var D=r._nextSibling;D;){if(D._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Cannot insert an element node before a document type node.\");D=D._nextSibling}}}}else if(y===u.NodeType.Element){try{for(var S=n(t._children),C=S.next();!C.done;C=S.next()){if(C.value._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError(\"Document already has a document element node. Node is \"+e.nodeName+\".\")}}catch(e){c={error:e}}finally{try{C&&!C.done&&(h=S.return)&&h.call(S)}finally{if(c)throw c.error}}if(r){if(v===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Cannot insert an element node before a document type node. Node is \"+e.nodeName+\".\");for(D=r._nextSibling;D;){if(D._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Cannot insert an element node before a document type node. Node is \"+e.nodeName+\".\");D=D._nextSibling}}}else if(y===u.NodeType.DocumentType){try{for(var A=n(t._children),N=A.next();!N.done;N=A.next()){if(N.value._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Document already has a document type node. Node is \"+e.nodeName+\".\")}}catch(e){p={error:e}}finally{try{N&&!N.done&&(d=A.return)&&d.call(A)}finally{if(p)throw p.error}}if(r)for(var T=r._previousSibling;T;){if(T._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError(\"Cannot insert a document type node before an element node. Node is \"+e.nodeName+\".\");T=T._previousSibling}else for(T=t._firstChild;T;){if(T._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError(\"Cannot insert a document type node before an element node. Node is \"+e.nodeName+\".\");T=T._nextSibling}}}function b(e,t,r){g(e,t,r);var n=r;return n===e&&(n=e._nextSibling),_.document_adopt(e,t._nodeDocument),x(e,t,n),e}function x(e,t,r,i){var s,d;if(null!==r||e._nodeType===u.NodeType.DocumentFragment){var _=e._nodeType===u.NodeType.DocumentFragment?e._children.size:1;if(null!==r&&0!==a.dom.rangeList.size){var g=f.tree_index(r);try{for(var b=n(a.dom.rangeList),x=b.next();!x.done;x=b.next()){var E=x.value;E._start[0]===t&&E._start[1]>g&&(E._start[1]+=_),E._end[0]===t&&E._end[1]>g&&(E._end[1]+=_)}}catch(e){s={error:e}}finally{try{x&&!x.done&&(d=b.return)&&d.call(b)}finally{if(s)throw s.error}}}var D=e._nodeType===u.NodeType.DocumentFragment?new(Array.bind.apply(Array,o([void 0],e._children))):[e];if(e._nodeType===u.NodeType.DocumentFragment)for(;e._firstChild;)w(e._firstChild,e,!0);a.dom.features.mutationObservers&&e._nodeType===u.NodeType.DocumentFragment&&y.observer_queueTreeMutationRecord(e,[],D,null,null);for(var S=r?r._previousSibling:t._lastChild,C=null===r?-1:f.tree_index(r),A=0;A<D.length;A++){var N=D[A];if(l.Guard.isElementNode(N)&&(l.Guard.isDocumentNode(t)&&(t._documentElement=N),N._nodeDocument._hasNamespaces||null===N._namespace&&null===N._namespacePrefix||(N._nodeDocument._hasNamespaces=!0)),N._parent=t,null===r?h.set.append(t._children,N):(h.set.insert(t._children,N,C),C++),null===t._firstChild)N._previousSibling=null,N._nextSibling=null,t._firstChild=N,t._lastChild=N;else{var T=r?r._previousSibling:t._lastChild,O=r||null;N._previousSibling=T,N._nextSibling=O,T&&(T._nextSibling=N),O&&(O._previousSibling=N),T||(t._firstChild=N),O||(t._lastChild=N)}a.dom.features.slots&&null!==t._shadowRoot&&l.Guard.isSlotable(N)&&m.shadowTree_assignASlot(N),a.dom.features.steps&&l.Guard.isTextNode(N)&&v.dom_runChildTextContentChangeSteps(t),a.dom.features.slots&&l.Guard.isShadowRoot(f.tree_rootNode(t))&&l.Guard.isSlot(t)&&c.isEmpty(t._assignedNodes)&&m.shadowTree_signalASlotChange(t),a.dom.features.slots&&m.shadowTree_assignSlotablesForATree(f.tree_rootNode(N));for(var F=f.tree_getFirstDescendantNode(N,!0,!0);null!==F;)a.dom.features.steps&&v.dom_runInsertionSteps(F),a.dom.features.customElements&&l.Guard.isElementNode(F)&&m.shadowTree_isConnected(F)&&(l.Guard.isCustomElementNode(F)?p.customElement_enqueueACustomElementCallbackReaction(F,\"connectedCallback\",[]):p.customElement_tryToUpgrade(F)),F=f.tree_getNextDescendantNode(N,F,!0,!0)}a.dom.features.mutationObservers&&(i||y.observer_queueTreeMutationRecord(t,D,[],S,r))}else!function(e,t,r){var n=t._lastChild;l.Guard.isElementNode(e)&&(l.Guard.isDocumentNode(t)&&(t._documentElement=e),e._nodeDocument._hasNamespaces||null===e._namespace&&null===e._namespacePrefix||(e._nodeDocument._hasNamespaces=!0));if(e._parent=t,t._children.add(e),null===t._firstChild)e._previousSibling=null,e._nextSibling=null,t._firstChild=e,t._lastChild=e;else{var i=t._lastChild;e._previousSibling=i,e._nextSibling=null,i&&(i._nextSibling=e),i||(t._firstChild=e),t._lastChild=e}a.dom.features.slots&&null!==t._shadowRoot&&l.Guard.isSlotable(e)&&m.shadowTree_assignASlot(e);a.dom.features.steps&&l.Guard.isTextNode(e)&&v.dom_runChildTextContentChangeSteps(t);a.dom.features.slots&&l.Guard.isShadowRoot(f.tree_rootNode(t))&&l.Guard.isSlot(t)&&c.isEmpty(t._assignedNodes)&&m.shadowTree_signalASlotChange(t);a.dom.features.slots&&m.shadowTree_assignSlotablesForATree(f.tree_rootNode(e));a.dom.features.steps&&v.dom_runInsertionSteps(e);a.dom.features.customElements&&l.Guard.isElementNode(e)&&m.shadowTree_isConnected(e)&&(l.Guard.isCustomElementNode(e)?p.customElement_enqueueACustomElementCallbackReaction(e,\"connectedCallback\",[]):p.customElement_tryToUpgrade(e));a.dom.features.mutationObservers&&(r||y.observer_queueTreeMutationRecord(t,[e],[],n,null))}(e,t,i)}function w(e,t,r){var i,o,s,u,h,_,g,b;if(0!==a.dom.rangeList.size){var x=f.tree_index(e);try{for(var w=n(a.dom.rangeList),E=w.next();!E.done;E=w.next()){var D=E.value;f.tree_isDescendantOf(e,D._start[0],!0)&&(D._start=[t,x]),f.tree_isDescendantOf(e,D._end[0],!0)&&(D._end=[t,x]),D._start[0]===t&&D._start[1]>x&&D._start[1]--,D._end[0]===t&&D._end[1]>x&&D._end[1]--}}catch(e){i={error:e}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}try{for(var S=n(a.dom.rangeList),C=S.next();!C.done;C=S.next()){(D=C.value)._start[0]===t&&D._start[1]>x&&(D._start[1]-=1),D._end[0]===t&&D._end[1]>x&&(D._end[1]-=1)}}catch(e){s={error:e}}finally{try{C&&!C.done&&(u=S.return)&&u.call(S)}finally{if(s)throw s.error}}}if(a.dom.features.steps)try{for(var A=n(d.nodeIterator_iteratorList()),N=A.next();!N.done;N=A.next()){var T=N.value;T._root._nodeDocument===e._nodeDocument&&v.dom_runNodeIteratorPreRemovingSteps(T,e)}}catch(e){h={error:e}}finally{try{N&&!N.done&&(_=A.return)&&_.call(A)}finally{if(h)throw h.error}}var O=e._previousSibling,F=e._nextSibling;l.Guard.isDocumentNode(t)&&l.Guard.isElementNode(e)&&(t._documentElement=null),e._parent=null,t._children.delete(e);var k=e._previousSibling,P=e._nextSibling;(e._previousSibling=null,e._nextSibling=null,k&&(k._nextSibling=P),P&&(P._previousSibling=k),k||(t._firstChild=P),P||(t._lastChild=k),a.dom.features.slots&&l.Guard.isSlotable(e)&&null!==e._assignedSlot&&m.shadowTree_isAssigned(e)&&m.shadowTree_assignSlotables(e._assignedSlot),a.dom.features.slots&&l.Guard.isShadowRoot(f.tree_rootNode(t))&&l.Guard.isSlot(t)&&c.isEmpty(t._assignedNodes)&&m.shadowTree_signalASlotChange(t),a.dom.features.slots)&&(null!==f.tree_getFirstDescendantNode(e,!0,!1,(function(e){return l.Guard.isSlot(e)}))&&(m.shadowTree_assignSlotablesForATree(f.tree_rootNode(t)),m.shadowTree_assignSlotablesForATree(e)));a.dom.features.steps&&v.dom_runRemovingSteps(e,t),a.dom.features.customElements&&l.Guard.isCustomElementNode(e)&&p.customElement_enqueueACustomElementCallbackReaction(e,\"disconnectedCallback\",[]);for(var I=f.tree_getFirstDescendantNode(e,!1,!0);null!==I;)a.dom.features.steps&&v.dom_runRemovingSteps(I,e),a.dom.features.customElements&&l.Guard.isCustomElementNode(I)&&p.customElement_enqueueACustomElementCallbackReaction(I,\"disconnectedCallback\",[]),I=f.tree_getNextDescendantNode(e,I,!1,!0);if(a.dom.features.mutationObservers)for(var L=f.tree_getFirstAncestorNode(t,!0);null!==L;){try{for(var M=(g=void 0,n(L._registeredObserverList)),B=M.next();!B.done;B=M.next()){var j=B.value;j.options.subtree&&e._registeredObserverList.push({observer:j.observer,options:j.options,source:j})}}catch(e){g={error:e}}finally{try{B&&!B.done&&(b=M.return)&&b.call(M)}finally{if(g)throw g.error}}L=f.tree_getNextAncestorNode(t,L,!0)}a.dom.features.mutationObservers&&(r||y.observer_queueTreeMutationRecord(t,[],[e],O,F)),a.dom.features.steps&&l.Guard.isTextNode(e)&&v.dom_runChildTextContentChangeSteps(t)}t.mutation_ensurePreInsertionValidity=g,t.mutation_preInsert=b,t.mutation_insert=x,t.mutation_append=function(e,t){return b(e,t,null)},t.mutation_replace=function(e,t,r){var i,o,l,c,h,p,d,m;if(r._nodeType!==u.NodeType.Document&&r._nodeType!==u.NodeType.DocumentFragment&&r._nodeType!==u.NodeType.Element)throw new s.HierarchyRequestError(\"Only document, document fragment and element nodes can contain child nodes. Parent node is \"+r.nodeName+\".\");if(f.tree_isHostIncludingAncestorOf(r,t,!0))throw new s.HierarchyRequestError(\"The node to be inserted cannot be an ancestor of parent node. Node is \"+t.nodeName+\", parent node is \"+r.nodeName+\".\");if(e._parent!==r)throw new s.NotFoundError(\"The reference child node cannot be found under parent node. Child node is \"+e.nodeName+\", parent node is \"+r.nodeName+\".\");if(t._nodeType!==u.NodeType.DocumentFragment&&t._nodeType!==u.NodeType.DocumentType&&t._nodeType!==u.NodeType.Element&&t._nodeType!==u.NodeType.Text&&t._nodeType!==u.NodeType.ProcessingInstruction&&t._nodeType!==u.NodeType.CData&&t._nodeType!==u.NodeType.Comment)throw new s.HierarchyRequestError(\"Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is \"+t.nodeName+\".\");if(t._nodeType===u.NodeType.Text&&r._nodeType===u.NodeType.Document)throw new s.HierarchyRequestError(\"Cannot insert a text node as a child of a document node. Node is \"+t.nodeName+\".\");if(t._nodeType===u.NodeType.DocumentType&&r._nodeType!==u.NodeType.Document)throw new s.HierarchyRequestError(\"A document type node can only be inserted under a document node. Parent node is \"+r.nodeName+\".\");if(r._nodeType===u.NodeType.Document)if(t._nodeType===u.NodeType.DocumentFragment){var v=0;try{for(var g=n(t._children),b=g.next();!b.done;b=g.next()){var E=b.value;if(E._nodeType===u.NodeType.Element)v++;else if(E._nodeType===u.NodeType.Text)throw new s.HierarchyRequestError(\"Cannot insert text a node as a child of a document node. Node is \"+E.nodeName+\".\")}}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}if(v>1)throw new s.HierarchyRequestError(\"A document node can only have one document element node. Document fragment to be inserted has \"+v+\" element nodes.\");if(1===v){try{for(var D=n(r._children),S=D.next();!S.done;S=D.next()){if((F=S.value)._nodeType===u.NodeType.Element&&F!==e)throw new s.HierarchyRequestError(\"The document node already has a document element node.\")}}catch(e){l={error:e}}finally{try{S&&!S.done&&(c=D.return)&&c.call(D)}finally{if(l)throw l.error}}for(var C=e._nextSibling;C;){if(C._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Cannot insert an element node before a document type node.\");C=C._nextSibling}}}else if(t._nodeType===u.NodeType.Element){try{for(var A=n(r._children),N=A.next();!N.done;N=A.next()){if((F=N.value)._nodeType===u.NodeType.Element&&F!==e)throw new s.HierarchyRequestError(\"Document already has a document element node. Node is \"+t.nodeName+\".\")}}catch(e){h={error:e}}finally{try{N&&!N.done&&(p=A.return)&&p.call(A)}finally{if(h)throw h.error}}for(C=e._nextSibling;C;){if(C._nodeType===u.NodeType.DocumentType)throw new s.HierarchyRequestError(\"Cannot insert an element node before a document type node. Node is \"+t.nodeName+\".\");C=C._nextSibling}}else if(t._nodeType===u.NodeType.DocumentType){try{for(var T=n(r._children),O=T.next();!O.done;O=T.next()){var F;if((F=O.value)._nodeType===u.NodeType.DocumentType&&F!==e)throw new s.HierarchyRequestError(\"Document already has a document type node. Node is \"+t.nodeName+\".\")}}catch(e){d={error:e}}finally{try{O&&!O.done&&(m=T.return)&&m.call(T)}finally{if(d)throw d.error}}for(var k=e._previousSibling;k;){if(k._nodeType===u.NodeType.Element)throw new s.HierarchyRequestError(\"Cannot insert a document type node before an element node. Node is \"+t.nodeName+\".\");k=k._previousSibling}}var P=e._nextSibling;P===t&&(P=t._nextSibling);var I=e._previousSibling;_.document_adopt(t,r._nodeDocument);var L=[];null!==e._parent&&(L.push(e),w(e,e._parent,!0));var M=[];return t._nodeType===u.NodeType.DocumentFragment?M=Array.from(t._children):M.push(t),x(t,r,P,!0),a.dom.features.mutationObservers&&y.observer_queueTreeMutationRecord(r,M,L,I,P),e},t.mutation_replaceAll=function(e,t){var r,i;null!==e&&_.document_adopt(e,t._nodeDocument);var o=Array.from(t._children),s=[];e&&e._nodeType===u.NodeType.DocumentFragment?s=Array.from(e._children):null!==e&&s.push(e);try{for(var l=n(o),c=l.next();!c.done;c=l.next()){w(c.value,t,!0)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}null!==e&&x(e,t,null,!0),a.dom.features.mutationObservers&&y.observer_queueTreeMutationRecord(t,s,o,null,null)},t.mutation_preRemove=function(e,t){if(e._parent!==t)throw new s.NotFoundError(\"The child node cannot be found under parent node. Child node is \"+e.nodeName+\", parent node is \"+t.nodeName+\".\");return w(e,t),e},t.mutation_remove=w},function(e,t,r){\"use strict\";function n(e){return null==e}e.exports.isNothing=n,e.exports.isObject=function(e){return\"object\"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:n(e)?[]:[e]},e.exports.repeat=function(e,t){var r,n=\"\";for(r=0;r<t;r+=1)n+=e;return n},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var r,n,i,o;if(t)for(r=0,n=(o=Object.keys(t)).length;r<n;r+=1)e[i=o[r]]=t[i];return e}},function(e,t,r){\"use strict\";var n=r(38),i=r(53),o=r(10);function a(e,t,r){var n=[];return e.include.forEach((function(e){r=a(e,t,r)})),e[t].forEach((function(e){r.forEach((function(t,r){t.tag===e.tag&&t.kind===e.kind&&n.push(r)})),r.push(e)})),r.filter((function(e,t){return-1===n.indexOf(t)}))}function s(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&\"scalar\"!==e.loadKind)throw new i(\"There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.\")})),this.compiledImplicit=a(this,\"implicit\",[]),this.compiledExplicit=a(this,\"explicit\",[]),this.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{}};function n(e){r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var e,t;switch(arguments.length){case 1:e=s.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new i(\"Wrong number of arguments for Schema.create function\")}if(e=n.toArray(e),t=n.toArray(t),!e.every((function(e){return e instanceof s})))throw new i(\"Specified list of super schemas (or a single Schema object) contains a non-Schema object.\");if(!t.every((function(e){return e instanceof o})))throw new i(\"Specified list of YAML types (or a single Type object) contains a non-Type object.\");return new s({include:e,explicit:t})},e.exports=s},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(8),i=r(42),o=\"\".split;e.exports=n((function(){return!Object(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==i(e)?o.call(e,\"\"):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n,i,o,a=r(186),s=r(11),u=r(13),l=r(21),c=r(14),h=r(57),p=r(45),f=s.WeakMap;if(a){var d=new f,m=d.get,y=d.has,v=d.set;n=function(e,t){return v.call(d,e,t),t},i=function(e){return m.call(d,e)||{}},o=function(e){return y.call(d,e)}}else{var _=h(\"state\");p[_]=!0,n=function(e,t){return l(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},o=function(e){return c(e,_)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError(\"Incompatible receiver, \"+e+\" required\");return r}}}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,r){var n=r(120),i=r(11),o=function(e){return\"function\"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){\"use strict\";var n=r(8);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports={}},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(220),r(64),r(19),r(65),r(20),r(68),r(66),r(92),r(144),r(22),r(94),r(23);var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(2),s=r(69),u=r(95),l=r(7),c=r(0),h=function(){function e(e){this.level=0,this._builderOptions=e}return e.prototype.declaration=function(e,t,r){},e.prototype.docType=function(e,t,r){},e.prototype.comment=function(e){},e.prototype.text=function(e){},e.prototype.instruction=function(e,t){},e.prototype.cdata=function(e){},e.prototype.openTagBegin=function(e){},e.prototype.openTagEnd=function(e,t,r){},e.prototype.closeTag=function(e){},e.prototype.attributes=function(e){var t,r;try{for(var i=n(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.attribute(null===a[1]?a[2]:a[1]+\":\"+a[2],a[3])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.attribute=function(e,t){},e.prototype.beginElement=function(e){},e.prototype.endElement=function(e){},e.prototype.serializeNode=function(e,t){var r=void 0!==e._nodeDocument&&e._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=e,r){var n=new u.NamespacePrefixMap;n.set(\"xml\",l.namespace.XML);this._serializeNodeNS(e,null,n,{value:1},t)}else this._serializeNode(e,t)},e.prototype._serializeNodeNS=function(e,t,r,n,i){switch(this.currentNode=e,e.nodeType){case a.NodeType.Element:this._serializeElementNS(e,t,r,n,i);break;case a.NodeType.Document:this._serializeDocumentNS(e,t,r,n,i);break;case a.NodeType.Comment:this._serializeComment(e,i);break;case a.NodeType.Text:this._serializeText(e,i);break;case a.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(e,t,r,n,i);break;case a.NodeType.DocumentType:this._serializeDocumentType(e,i);break;case a.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(e,i);break;case a.NodeType.CData:this._serializeCData(e,i);break;default:throw new Error(\"Unknown node type: \"+e.nodeType)}},e.prototype._serializeNode=function(e,t){switch(this.currentNode=e,e.nodeType){case a.NodeType.Element:this._serializeElement(e,t);break;case a.NodeType.Document:this._serializeDocument(e,t);break;case a.NodeType.Comment:this._serializeComment(e,t);break;case a.NodeType.Text:this._serializeText(e,t);break;case a.NodeType.DocumentFragment:this._serializeDocumentFragment(e,t);break;case a.NodeType.DocumentType:this._serializeDocumentType(e,t);break;case a.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(e,t);break;case a.NodeType.CData:this._serializeCData(e,t);break;default:throw new Error(\"Unknown node type: \"+e.nodeType)}},e.prototype._serializeElementNS=function(t,r,i,a,s){var u,h,p=[];if(s&&(-1!==t.localName.indexOf(\":\")||!c.xml_isName(t.localName)))throw new Error(\"Node local name contains invalid characters (well-formed required).\");var f=\"\",d=!1,m=!1,y=i.copy(),v={},_=this._recordNamespaceInformation(t,y,v),g=r,b=t.namespaceURI;if(g===b)null!==_&&(m=!0),f=b===l.namespace.XML?\"xml:\"+t.localName:t.localName,this.beginElement(f),this.openTagBegin(f);else{var x=t.prefix,w=null;if(null===x&&b===_||(w=y.get(x,b)),\"xmlns\"===x){if(s)throw new Error(\"An element cannot have the 'xmlns' prefix (well-formed required).\");w=x}null!==w?(f=w+\":\"+t.localName,null!==_&&_!==l.namespace.XML&&(g=_||null),this.beginElement(f),this.openTagBegin(f)):null!==x?(x in v&&(x=this._generatePrefix(b,y,a)),y.set(x,b),f+=x+\":\"+t.localName,this.beginElement(f),this.openTagBegin(f),p.push([null,\"xmlns\",x,this._serializeAttributeValue(b,s)]),null!==_&&(g=_||null)):null===_||null!==_&&_!==b?(m=!0,f+=t.localName,g=b,this.beginElement(f),this.openTagBegin(f),p.push([null,null,\"xmlns\",this._serializeAttributeValue(b,s)])):(f+=t.localName,g=b,this.beginElement(f),this.openTagBegin(f))}p.push.apply(p,o(this._serializeAttributesNS(t,y,a,v,m,s))),this.attributes(p);var E=b===l.namespace.HTML;if(E&&0===t.childNodes.length&&e._VoidElementNames.has(t.localName)?(this.openTagEnd(f,!0,!0),this.endElement(f),d=!0):E||0!==t.childNodes.length?this.openTagEnd(f,!1,!1):(this.openTagEnd(f,!0,!1),this.endElement(f),d=!0),!d){if(E&&\"template\"===t.localName);else try{for(var D=n(t.childNodes),S=D.next();!S.done;S=D.next()){var C=S.value;this.level++,this._serializeNodeNS(C,g,y,a,s),this.level--}}catch(e){u={error:e}}finally{try{S&&!S.done&&(h=D.return)&&h.call(D)}finally{if(u)throw u.error}}this.closeTag(f),this.endElement(f)}},e.prototype._serializeElement=function(e,t){var r,i;if(t&&(-1!==e.localName.indexOf(\":\")||!c.xml_isName(e.localName)))throw new Error(\"Node local name contains invalid characters (well-formed required).\");var o=!1,a=e.localName;this.beginElement(a),this.openTagBegin(a);var s=this._serializeAttributes(e,t);if(this.attributes(s),e.hasChildNodes()?this.openTagEnd(a,!1,!1):(this.openTagEnd(a,!0,!1),this.endElement(a),o=!0),!o){try{for(var u=n(e._children),l=u.next();!l.done;l=u.next()){var h=l.value;this.level++,this._serializeNode(h,t),this.level--}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}this.closeTag(a),this.endElement(a)}},e.prototype._serializeDocumentNS=function(e,t,r,i,o){var a,s;if(o&&null===e.documentElement)throw new Error(\"Missing document element (well-formed required).\");try{for(var u=n(e.childNodes),l=u.next();!l.done;l=u.next()){var c=l.value;this._serializeNodeNS(c,t,r,i,o)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},e.prototype._serializeDocument=function(e,t){var r,i;if(t&&null===e.documentElement)throw new Error(\"Missing document element (well-formed required).\");try{for(var o=n(e._children),a=o.next();!a.done;a=o.next()){var s=a.value;this._serializeNode(s,t)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._serializeComment=function(e,t){if(t&&(!c.xml_isLegalChar(e.data)||-1!==e.data.indexOf(\"--\")||e.data.endsWith(\"-\")))throw new Error(\"Comment data contains invalid characters (well-formed required).\");this.comment(e.data)},e.prototype._serializeText=function(e,t){if(t&&!c.xml_isLegalChar(e.data))throw new Error(\"Text data contains invalid characters (well-formed required).\");var r=e.data.replace(/(?!&([^&;]*);)&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");this.text(r)},e.prototype._serializeDocumentFragmentNS=function(e,t,r,i,o){var a,s;try{for(var u=n(e.childNodes),l=u.next();!l.done;l=u.next()){var c=l.value;this._serializeNodeNS(c,t,r,i,o)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},e.prototype._serializeDocumentFragment=function(e,t){var r,i;try{for(var o=n(e._children),a=o.next();!a.done;a=o.next()){var s=a.value;this._serializeNode(s,t)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype._serializeDocumentType=function(e,t){if(t&&!c.xml_isPubidChar(e.publicId))throw new Error(\"DocType public identifier does not match PubidChar construct (well-formed required).\");if(t&&(!c.xml_isLegalChar(e.systemId)||-1!==e.systemId.indexOf('\"')&&-1!==e.systemId.indexOf(\"'\")))throw new Error(\"DocType system identifier contains invalid characters (well-formed required).\");this.docType(e.name,e.publicId,e.systemId)},e.prototype._serializeProcessingInstruction=function(e,t){if(t&&(-1!==e.target.indexOf(\":\")||/^xml$/i.test(e.target)))throw new Error(\"Processing instruction target contains invalid characters (well-formed required).\");if(t&&(!c.xml_isLegalChar(e.data)||-1!==e.data.indexOf(\"?>\")))throw new Error(\"Processing instruction data contains invalid characters (well-formed required).\");this.instruction(e.target,e.data)},e.prototype._serializeCData=function(e,t){if(t&&-1!==e.data.indexOf(\"]]>\"))throw new Error(\"CDATA contains invalid characters (well-formed required).\");this.cdata(e.data)},e.prototype._serializeAttributesNS=function(e,t,r,i,o,a){var u,h,p=[],f=a?new s.LocalNameSet:void 0;try{for(var d=n(e.attributes),m=d.next();!m.done;m=d.next()){var y=m.value;if(a||o||null!==y.namespaceURI){if(a&&f&&f.has(y.namespaceURI,y.localName))throw new Error(\"Element contains duplicate attributes (well-formed required).\");a&&f&&f.set(y.namespaceURI,y.localName);var v=y.namespaceURI,_=null;if(null!==v)if(_=t.get(y.prefix,v),v===l.namespace.XMLNS){if(y.value===l.namespace.XML||null===y.prefix&&o||null!==y.prefix&&(!(y.localName in i)||i[y.localName]!==y.value)&&t.has(y.localName,y.value))continue;if(a&&y.value===l.namespace.XMLNS)throw new Error(\"XMLNS namespace is reserved (well-formed required).\");if(a&&\"\"===y.value)throw new Error(\"Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).\");\"xmlns\"===y.prefix&&(_=\"xmlns\")}else null===_&&(_=null===y.prefix||t.hasPrefix(y.prefix)&&!t.has(y.prefix,v)?this._generatePrefix(v,t,r):y.prefix,p.push([null,\"xmlns\",_,this._serializeAttributeValue(v,a)]));if(null!==_&&_,a&&(-1!==y.localName.indexOf(\":\")||!c.xml_isName(y.localName)||\"xmlns\"===y.localName&&null===v))throw new Error(\"Attribute local name contains invalid characters (well-formed required).\");p.push([v,_,y.localName,this._serializeAttributeValue(y.value,a)])}else p.push([null,null,y.localName,this._serializeAttributeValue(y.value,a)])}}catch(e){u={error:e}}finally{try{m&&!m.done&&(h=d.return)&&h.call(d)}finally{if(u)throw u.error}}return p},e.prototype._serializeAttributes=function(e,t){var r,i,o=[],a=t?{}:void 0;try{for(var s=n(e.attributes),u=s.next();!u.done;u=s.next()){var l=u.value;if(t){if(t&&a&&l.localName in a)throw new Error(\"Element contains duplicate attributes (well-formed required).\");if(t&&a&&(a[l.localName]=!0),t&&(-1!==l.localName.indexOf(\":\")||!c.xml_isName(l.localName)))throw new Error(\"Attribute local name contains invalid characters (well-formed required).\");o.push([null,null,l.localName,this._serializeAttributeValue(l.value,t)])}else o.push([null,null,l.localName,this._serializeAttributeValue(l.value,t)])}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},e.prototype._recordNamespaceInformation=function(e,t,r){var i,o,a=null;try{for(var s=n(e.attributes),u=s.next();!u.done;u=s.next()){var c=u.value,h=c.namespaceURI,p=c.prefix;if(h===l.namespace.XMLNS){if(null===p){a=c.value;continue}var f=c.localName,d=c.value;if(d===l.namespace.XML)continue;if(\"\"===d&&(d=null),t.has(f,d))continue;t.set(f,d),r[f]=d||\"\"}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a},e.prototype._generatePrefix=function(e,t,r){var n=\"ns\"+r.value.toString();return r.value++,t.set(n,e),n},e.prototype._serializeAttributeValue=function(e,t){if(t&&null!==e&&!c.xml_isLegalChar(e))throw new Error(\"Invalid characters in attribute value.\");return null===e?\"\":e.replace(/(?!&([^&;]*);)&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")},e._VoidElementNames=new Set([\"area\",\"base\",\"basefont\",\"bgsound\",\"br\",\"col\",\"embed\",\"frame\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"]),e}();t.BaseWriter=h},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(6),a=r(3),s=r(7),u=r(29),l=r(17),c=r(97);function h(){var e=o.dom.window;e._mutationObserverMicrotaskQueued||(e._mutationObserverMicrotaskQueued=!0,Promise.resolve().then((function(){p()})))}function p(){var e,t,r,i,u=o.dom.window;u._mutationObserverMicrotaskQueued=!1;var l=s.set.clone(u._mutationObservers),h=s.set.clone(u._signalSlots);s.set.empty(u._signalSlots);var p=function(e){var t=s.list.clone(e._recordQueue);s.list.empty(e._recordQueue);for(var r=0;r<e._nodeList.length;r++){var n=e._nodeList[r];s.list.remove(n._registeredObserverList,(function(t){return a.Guard.isTransientRegisteredObserver(t)&&t.observer===e}))}if(!s.list.isEmpty(t))try{e._callback.call(e,t,e)}catch(e){}};try{for(var f=n(l),d=f.next();!d.done;d=f.next()){p(d.value)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(o.dom.features.slots)try{for(var m=n(h),y=m.next();!y.done;y=m.next()){var v=y.value;c.event_fireAnEvent(\"slotchange\",v,void 0,{bubbles:!0})}}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}function f(e,t,r,o,a,s,c,p,f){for(var d,m,y=new Map,v=l.tree_getFirstAncestorNode(t,!0);null!==v;){for(var _=0;_<v._registeredObserverList.length;_++){var g=v._registeredObserverList[_],b=g.options;if((v===t||b.subtree)&&((\"attributes\"!==e||b.attributes)&&(\"attributes\"!==e||!b.attributeFilter||b.attributeFilter.indexOf(r||\"\")&&null===o)&&(\"characterData\"!==e||b.characterData)&&(\"childList\"!==e||b.childList))){var x=g.observer;y.has(x)||y.set(x,null),(\"attributes\"===e&&b.attributeOldValue||\"characterData\"===e&&b.characterDataOldValue)&&y.set(x,a)}}v=l.tree_getNextAncestorNode(t,v,!0)}try{for(var w=n(y),E=w.next();!E.done;E=w.next()){var D=i(E.value,2),S=D[0],C=D[1],A=u.create_mutationRecord(e,t,u.create_nodeListStatic(t,s),u.create_nodeListStatic(t,c),p,f,r,o,C);S._recordQueue.push(A)}}catch(e){d={error:e}}finally{try{E&&!E.done&&(m=w.return)&&m.call(w)}finally{if(d)throw d.error}}h()}t.observer_queueAMutationObserverMicrotask=h,t.observer_notifyMutationObservers=p,t.observer_queueMutationRecord=f,t.observer_queueTreeMutationRecord=function(e,t,r,n,i){f(\"childList\",e,null,null,null,t,r,n,i)},t.observer_queueAttributeMutationRecord=function(e,t,r,n){f(\"attributes\",e,t,r,n,[],[],null,null)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(6),i=r(7),o=r(3),a=r(9),s=r(29),u=r(73),l=r(51),c=r(30),h=r(37),p=r(106);function f(e,t,r){n.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,e._value),n.dom.features.customElements&&o.Guard.isCustomElementNode(t)&&u.customElement_enqueueACustomElementCallbackReaction(t,\"attributeChangedCallback\",[e._localName,e._value,r,e._namespace]),n.dom.features.steps&&c.dom_runAttributeChangeSteps(t,e._localName,e._value,r,e._namespace),e._value=r}function d(e,t){n.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,null),n.dom.features.customElements&&o.Guard.isCustomElementNode(t)&&u.customElement_enqueueACustomElementCallbackReaction(t,\"attributeChangedCallback\",[e._localName,null,e._value,e._namespace]),n.dom.features.steps&&c.dom_runAttributeChangeSteps(t,e._localName,null,e._value,e._namespace),t._attributeList._asArray().push(e),e._element=t,t._nodeDocument._hasNamespaces||null===e._namespace&&null===e._namespacePrefix&&\"xmlns\"!==e._localName||(t._nodeDocument._hasNamespaces=!0)}function m(e,t){n.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,e._value),n.dom.features.customElements&&o.Guard.isCustomElementNode(t)&&u.customElement_enqueueACustomElementCallbackReaction(t,\"attributeChangedCallback\",[e._localName,e._value,null,e._namespace]),n.dom.features.steps&&c.dom_runAttributeChangeSteps(t,e._localName,e._value,null,e._namespace);var r=t._attributeList._asArray().indexOf(e);t._attributeList._asArray().splice(r,1),e._element=null}function y(e,t,r){n.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(r,e._localName,e._namespace,e._value),n.dom.features.customElements&&o.Guard.isCustomElementNode(r)&&u.customElement_enqueueACustomElementCallbackReaction(r,\"attributeChangedCallback\",[e._localName,e._value,t._value,e._namespace]),n.dom.features.steps&&c.dom_runAttributeChangeSteps(r,e._localName,e._value,t._value,e._namespace);var i=r._attributeList._asArray().indexOf(e);-1!==i&&(r._attributeList._asArray()[i]=t),e._element=null,t._element=r,r._nodeDocument._hasNamespaces||null===t._namespace&&null===t._namespacePrefix&&\"xmlns\"!==t._localName||(r._nodeDocument._hasNamespaces=!0)}function v(e,t){return t._namespace===i.namespace.HTML&&\"html\"===t._nodeDocument._type&&(e=e.toLowerCase()),t._attributeList._asArray().find((function(t){return t._qualifiedName===e}))||null}function _(e,t,r){var n=e||null;return r._attributeList._asArray().find((function(e){return e._namespace===n&&e._localName===t}))||null}t.element_has=function(e,t){return-1!==t._attributeList._asArray().indexOf(e)},t.element_change=f,t.element_append=d,t.element_remove=m,t.element_replace=y,t.element_getAnAttributeByName=v,t.element_getAnAttributeByNamespaceAndLocalName=_,t.element_getAnAttributeValue=function(e,t,r){void 0===r&&(r=\"\");var n=_(r,t,e);return null===n?\"\":n._value},t.element_setAnAttribute=function(e,t){if(null!==e._element&&e._element!==t)throw new a.InUseAttributeError(\"This attribute already exists in the document: \"+e._qualifiedName+\" as a child of \"+e._element._qualifiedName+\".\");var r=_(e._namespace||\"\",e._localName,t);return r===e?e:(null!==r?y(r,e,t):d(e,t),r)},t.element_setAnAttributeValue=function(e,t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=_(i||\"\",t,e);if(null===o){var a=s.create_attr(e._nodeDocument,t);return a._namespace=i,a._namespacePrefix=n,a._value=r,void d(a,e)}f(o,e,r)},t.element_removeAnAttributeByName=function(e,t){var r=v(e,t);return null!==r&&m(r,t),r},t.element_removeAnAttributeByNamespaceAndLocalName=function(e,t,r){var n=_(e,t,r);return null!==n&&m(n,r),n},t.element_createAnElement=function(e,t,r,o,l,c){void 0===o&&(o=null),void 0===l&&(l=null),void 0===c&&(c=!1);var h=null;if(!n.dom.features.customElements)return(h=s.create_element(e,t,r,o))._customElementState=\"uncustomized\",h._customElementDefinition=null,h._is=l,h;var f=u.customElement_lookUpACustomElementDefinition(e,r,t,l);if(null!==f&&f.name!==f.localName)(h=new(p.document_elementInterface(t,i.namespace.HTML)))._localName=t,h._namespace=i.namespace.HTML,h._namespacePrefix=o,h._customElementState=\"undefined\",h._customElementDefinition=null,h._is=l,h._nodeDocument=e,c?u.customElement_upgrade(f,h):u.customElement_enqueueACustomElementUpgradeReaction(h,f);else if(null!==f)if(c)try{var d=new(0,f.constructor);if(console.assert(void 0!==d._customElementState),console.assert(void 0!==d._customElementDefinition),console.assert(d._namespace===i.namespace.HTML),0!==d._attributeList.length)throw new a.NotSupportedError(\"Custom element already has attributes.\");if(0!==d._children.size)throw new a.NotSupportedError(\"Custom element already has child nodes.\");if(null!==d._parent)throw new a.NotSupportedError(\"Custom element already has a parent node.\");if(d._nodeDocument!==e)throw new a.NotSupportedError(\"Custom element is already in a document.\");if(d._localName!==t)throw new a.NotSupportedError(\"Custom element has a different local name.\");d._namespacePrefix=o,d._is=null}catch(r){(h=s.create_htmlUnknownElement(e,t,i.namespace.HTML,o))._customElementState=\"failed\",h._customElementDefinition=null,h._is=null}else(h=s.create_htmlElement(e,t,i.namespace.HTML,o))._customElementState=\"undefined\",h._customElementDefinition=null,h._is=null,u.customElement_enqueueACustomElementUpgradeReaction(h,f);else{(h=new(p.document_elementInterface(t,r)))._localName=t,h._namespace=r,h._namespacePrefix=o,h._customElementState=\"uncustomized\",h._customElementDefinition=null,h._is=l,h._nodeDocument=e,r!==i.namespace.HTML||null===l&&!u.customElement_isValidCustomElementName(t)||(h._customElementState=\"undefined\")}if(null===h)throw new Error(\"Unable to create element.\");return h},t.element_insertAdjacent=function(e,t,r){switch(t.toLowerCase()){case\"beforebegin\":return null===e._parent?null:h.mutation_preInsert(r,e._parent,e);case\"afterbegin\":return h.mutation_preInsert(r,e,e._firstChild);case\"beforeend\":return h.mutation_preInsert(r,e,null);case\"afterend\":return null===e._parent?null:h.mutation_preInsert(r,e._parent,e._nextSibling);default:throw new a.SyntaxError('Invalid \\'where\\' argument. \"beforebegin\", \"afterbegin\", \"beforeend\" or \"afterend\" expected')}}},function(e,t,r){\"use strict\";function n(e,t){Error.call(this),this.name=\"YAMLException\",this.reason=e,this.mark=t,this.message=(this.reason||\"(unknown reason)\")+(this.mark?\" \"+this.mark.toString():\"\"),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||\"\"}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.toString=function(e){var t=this.name+\": \";return t+=this.reason||\"(unknown reason)\",!e&&this.mark&&(t+=\" \"+this.mark.toString()),t},e.exports=n},function(e,t,r){\"use strict\";var n=r(39);e.exports=new n({include:[r(181)],implicit:[r(293),r(294)],explicit:[r(295),r(296),r(297),r(298)]})},function(e,t,r){var n=r(16),i=r(79),o=r(40),a=r(24),s=r(56),u=r(14),l=r(115),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,r){var n=r(13);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&\"function\"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if(\"function\"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&\"function\"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t,r){var n=r(81),i=r(58),o=n(\"keys\");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return\"Symbol(\"+String(void 0===e?\"\":e)+\")_\"+(++r+n).toString(36)}},function(e,t,r){var n=r(42);e.exports=Array.isArray||function(e){return\"Array\"==n(e)}},function(e,t,r){var n,i=r(18),o=r(188),a=r(84),s=r(45),u=r(189),l=r(116),c=r(57),h=c(\"IE_PROTO\"),p=function(){},f=function(e){return\"<script>\"+e+\"<\\/script>\"},d=function(){try{n=document.domain&&new ActiveXObject(\"htmlfile\")}catch(e){}var e,t;d=n?function(e){e.write(f(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=l(\"iframe\")).style.display=\"none\",u.appendChild(t),t.src=String(\"javascript:\"),(e=t.contentWindow.document).open(),e.write(f(\"document.F=Object\")),e.close(),e.F);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=i(e),r=new p,p.prototype=null,r[h]=e):r=d(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(121),i=r(84);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(15).f,i=r(14),o=r(5)(\"toStringTag\");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(8),i=r(5),o=r(129),a=i(\"species\");e.exports=function(e){return o>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){\"use strict\";var n=r(4),i=r(122).indexOf,o=r(48),a=r(28),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=o(\"indexOf\"),c=a(\"indexOf\",{ACCESSORS:!0,1:0});n({target:\"Array\",proto:!0,forced:u||!l||!c},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(16),i=r(15).f,o=Function.prototype,a=o.toString,s=/^\\s*function ([^ (]*)/;n&&!(\"name\"in o)&&i(o,\"name\",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return\"\"}}})},function(e,t,r){\"use strict\";var n=r(25),i=r(18),o=r(8),a=r(136),s=RegExp.prototype,u=s.toString,l=o((function(){return\"/a/b\"!=u.call({source:\"a\",flags:\"b\"})})),c=\"toString\"!=u.name;(l||c)&&n(RegExp.prototype,\"toString\",(function(){var e=i(this),t=String(e.source),r=e.flags;return\"/\"+t+\"/\"+String(void 0===r&&e instanceof RegExp&&!(\"flags\"in s)?a.call(e):r)}),{unsafe:!0})},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(19),r(138),r(20),r(66),r(22),r(23);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(1),s=r(2),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n._writerOptions=a.applyDefaults(r,{format:\"object\",wellFormed:!1,group:!1,verbose:!1}),n}return i(t,e),t.prototype.serialize=function(e){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(e,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},t.prototype._process=function(e,t){var r,n,i,o,u,l,c;if(0===e.length)return{};for(var h={},p=!1,f=0,d=0,m=0,y=0,v=0;v<e.length;v++){var _=e[v];switch(I=Object.keys(_)[0]){case\"@\":continue;case\"#\":f++;break;case\"!\":d++;break;case\"?\":m++;break;case\"$\":y++;break;default:h[I]?p=!0:h[I]=!0}}var g=this._getAttrKey(),b=this._getNodeKey(s.NodeType.Text),x=this._getNodeKey(s.NodeType.Comment),w=this._getNodeKey(s.NodeType.ProcessingInstruction),E=this._getNodeKey(s.NodeType.CData);if(1===f&&1===e.length&&a.isString(e[0][\"#\"]))return e[0][\"#\"];if(p){var D={};for(v=0;v<e.length;v++){_=e[v];if(\"@\"===(I=Object.keys(_)[0])){var S=_[\"@\"];1===(L=Object.keys(S)).length?D[g+L[0]]=S[L[0]]:D[g]=_[\"@\"]}}var C=[];for(v=0;v<e.length;v++){_=e[v];switch(I=Object.keys(_)[0]){case\"@\":break;case\"#\":C.push(((r={})[b]=_[\"#\"],r));break;case\"!\":C.push(((n={})[x]=_[\"!\"],n));break;case\"?\":C.push(((i={})[w]=_[\"?\"],i));break;case\"$\":C.push(((o={})[E]=_.$,o));break;default:if(0!==(B=_)[I].length&&a.isArray(B[I][0])){for(var A=[],N=B[I],T=0;T<N.length;T++)A.push(this._process(N[T],t));C.push(((u={})[I]=A,u))}else t.verbose?C.push(((l={})[I]=[this._process(B[I],t)],l)):C.push(((c={})[I]=this._process(B[I],t),c))}}return D[b]=C,D}var O=1,F=1,k=1,P=1;for(D={},v=0;v<e.length;v++){var I;_=e[v];switch(I=Object.keys(_)[0]){case\"@\":S=_[\"@\"];var L=Object.keys(S);if(t.group&&1!==L.length)D[g]=S;else for(var M in S)D[g+M]=S[M];break;case\"#\":O=this._processSpecItem(_[\"#\"],D,t.group,b,f,O);break;case\"!\":F=this._processSpecItem(_[\"!\"],D,t.group,x,d,F);break;case\"?\":k=this._processSpecItem(_[\"?\"],D,t.group,w,m,k);break;case\"$\":P=this._processSpecItem(_.$,D,t.group,E,y,P);break;default:var B;if(0!==(B=_)[I].length&&a.isArray(B[I][0])){A=[],N=B[I];for(var j=0;j<N.length;j++)A.push(this._process(N[j],t));D[I]=A}else t.verbose?D[I]=[this._process(B[I],t)]:D[I]=this._process(B[I],t)}}return D},t.prototype._processSpecItem=function(e,t,r,n,i,s){var u,l;if(!r&&a.isArray(e)&&i+e.length>2)try{for(var c=o(e),h=c.next();!h.done;h=c.next()){var p=h.value;t[n+(s++).toString()]=p}}catch(e){u={error:e}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(u)throw u.error}}else t[i>1?n+(s++).toString():n]=e;return s},t.prototype.beginElement=function(e){var t,r,n=[];if(0===this._currentList.length)this._currentList.push(((t={})[e]=n,t));else{var i=this._currentList[this._currentList.length-1];if(this._isElementNode(i,e))if(0!==i[e].length&&a.isArray(i[e][0]))i[e].push(n);else i[e]=[i[e],n];else this._currentList.push(((r={})[e]=n,r))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=n:this._listRegister.push(n),this._currentList=n},t.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},t.prototype.attribute=function(e,t){var r,n;if(0===this._currentList.length)this._currentList.push({\"@\":(r={},r[e]=t,r)});else{var i=this._currentList[this._currentList.length-1];this._isAttrNode(i)?i[\"@\"][e]=t:this._currentList.push({\"@\":(n={},n[e]=t,n)})}},t.prototype.comment=function(e){if(0===this._currentList.length)this._currentList.push({\"!\":e});else{var t=this._currentList[this._currentList.length-1];this._isCommentNode(t)?a.isArray(t[\"!\"])?t[\"!\"].push(e):t[\"!\"]=[t[\"!\"],e]:this._currentList.push({\"!\":e})}},t.prototype.text=function(e){if(0===this._currentList.length)this._currentList.push({\"#\":e});else{var t=this._currentList[this._currentList.length-1];this._isTextNode(t)?a.isArray(t[\"#\"])?t[\"#\"].push(e):t[\"#\"]=[t[\"#\"],e]:this._currentList.push({\"#\":e})}},t.prototype.instruction=function(e,t){var r=\"\"===t?e:e+\" \"+t;if(0===this._currentList.length)this._currentList.push({\"?\":r});else{var n=this._currentList[this._currentList.length-1];this._isInstructionNode(n)?a.isArray(n[\"?\"])?n[\"?\"].push(r):n[\"?\"]=[n[\"?\"],r]:this._currentList.push({\"?\":r})}},t.prototype.cdata=function(e){if(0===this._currentList.length)this._currentList.push({$:e});else{var t=this._currentList[this._currentList.length-1];this._isCDATANode(t)?a.isArray(t.$)?t.$.push(e):t.$=[t.$,e]:this._currentList.push({$:e})}},t.prototype._isAttrNode=function(e){return\"@\"in e},t.prototype._isTextNode=function(e){return\"#\"in e},t.prototype._isCommentNode=function(e){return\"!\"in e},t.prototype._isInstructionNode=function(e){return\"?\"in e},t.prototype._isCDATANode=function(e){return\"$\"in e},t.prototype._isElementNode=function(e,t){return t in e},t.prototype._getAttrKey=function(){return this._builderOptions.convert.att},t.prototype._getNodeKey=function(e){switch(e){case s.NodeType.Comment:return this._builderOptions.convert.comment;case s.NodeType.Text:return this._builderOptions.convert.text;case s.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case s.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error(\"Invalid node type.\")}},t}(r(50).BaseWriter);t.ObjectWriter=u},function(e,t,r){\"use strict\";var n=r(4),i=r(93);n({target:\"RegExp\",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){this._items={},this._nullItems={}}return e.prototype.set=function(e,t){null===e?this._nullItems[t]=!0:(this._items[e]||(this._items[e]={}),this._items[e][t]=!0)},e.prototype.has=function(e,t){return null===e?!0===this._nullItems[t]:!!this._items[e]&&!0===this._items[e][t]},e}();t.LocalNameSet=n},function(e,t,r){\"use strict\";var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(9),o=r(3),a=r(0),s=function(){function e(){}return Object.defineProperty(e.prototype,\"_eventListenerList\",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_eventHandlerMap\",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t,r){void 0===r&&(r={passive:!1,once:!1,capture:!1});var i,s=n(a.eventTarget_flattenMore(r),3),u=s[0],l=s[1],c=s[2];t&&(i=o.Guard.isEventListener(t)?t:{handleEvent:t},a.eventTarget_addEventListener(this,{type:e,callback:i,capture:u,passive:l,once:c,removed:!1}))},e.prototype.removeEventListener=function(e,t,r){void 0===r&&(r={capture:!1});var n=a.eventTarget_flatten(r);if(t)for(var i=0;i<this._eventListenerList.length;i++){var s=this._eventListenerList[i];if(s.type===e&&s.capture===n){if(o.Guard.isEventListener(t)&&s.callback===t){a.eventTarget_removeEventListener(this,s,i);break}if(t&&s.callback.handleEvent===t){a.eventTarget_removeEventListener(this,s,i);break}}}},e.prototype.dispatchEvent=function(e){if(e._dispatchFlag||!e._initializedFlag)throw new i.InvalidStateError;return e._isTrusted=!1,a.event_dispatch(e,this)},e.prototype._getTheParent=function(e){return null},e}();t.EventTargetImpl=s},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(34),a=r(0),s=function(e){function t(t){var r=e.call(this)||this;return r._data=t,r}return i(t,e),Object.defineProperty(t.prototype,\"data\",{get:function(){return this._data},set:function(e){a.characterData_replaceData(this,0,this._data.length,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"length\",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),t.prototype.substringData=function(e,t){return a.characterData_substringData(this,e,t)},t.prototype.appendData=function(e){return a.characterData_replaceData(this,this._data.length,0,e)},t.prototype.insertData=function(e,t){a.characterData_replaceData(this,e,0,t)},t.prototype.deleteData=function(e,t){a.characterData_replaceData(this,e,t,\"\")},t.prototype.replaceData=function(e,t,r){a.characterData_replaceData(this,e,t,r)},Object.defineProperty(t.prototype,\"previousElementSibling\",{get:function(){throw new Error(\"Mixin: NonDocumentTypeChildNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nextElementSibling\",{get:function(){throw new Error(\"Mixin: NonDocumentTypeChildNode not implemented.\")},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.remove=function(){throw new Error(\"Mixin: ChildNode not implemented.\")},t}(o.NodeImpl);t.CharacterDataImpl=s},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(6),s=r(3),u=r(1),l=r(17),c=r(51);function h(e){a.dom.window._signalSlots.add(e),c.observer_queueAMutationObserverMicrotask()}function p(e,t){void 0===t&&(t=!1);var r=s.Cast.asNode(e)._parent;if(null===r)return null;var n=r._shadowRoot||null;if(null===n)return null;if(t&&\"open\"!==n._mode)return null;for(var i=l.tree_getFirstDescendantNode(n,!1,!0,(function(e){return s.Guard.isSlot(e)}));null!==i;){if(i._name===e._name)return i;i=l.tree_getNextDescendantNode(n,i,!1,!0,(function(e){return s.Guard.isSlot(e)}))}return null}function f(e){var t,r,i=[],o=l.tree_rootNode(e);if(!s.Guard.isShadowRoot(o))return i;var a=o._host;try{for(var u=n(a._children),c=u.next();!c.done;c=u.next()){var h=c.value;if(s.Guard.isSlotable(h))p(h)===e&&i.push(h)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return i}function d(e){var t,r,i=f(e);if(i.length===e._assignedNodes.length){for(var o=!0,a=0;a<i.length;a++)if(i[a]!==e._assignedNodes[a]){o=!1;break}o||h(e)}e._assignedNodes=i;try{for(var s=n(i),u=s.next();!u.done;u=s.next()){u.value._assignedSlot=e}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}t.shadowTree_signalASlotChange=h,t.shadowTree_isConnected=function(e){return s.Guard.isDocumentNode(l.tree_rootNode(e,!0))},t.shadowTree_isAssigned=function(e){return null!==e._assignedSlot},t.shadowTree_findASlot=p,t.shadowTree_findSlotables=f,t.shadowTree_findFlattenedSlotables=function e(t){var r,i,a,c,h=[],p=l.tree_rootNode(t);if(!s.Guard.isShadowRoot(p))return h;var d=f(t);if(u.isEmpty(d))try{for(var m=n(t._children),y=m.next();!y.done;y=m.next()){var v=y.value;s.Guard.isSlotable(v)&&d.push(v)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}try{for(var _=n(d),g=_.next();!g.done;g=_.next()){var b=g.value;if(s.Guard.isSlot(b)&&s.Guard.isShadowRoot(l.tree_rootNode(b))){var x=e(b);h.push.apply(h,o(x))}else h.push(b)}}catch(e){a={error:e}}finally{try{g&&!g.done&&(c=_.return)&&c.call(_)}finally{if(a)throw a.error}}return h},t.shadowTree_assignSlotables=d,t.shadowTree_assignSlotablesForATree=function(e){for(var t=l.tree_getFirstDescendantNode(e,!0,!1,(function(e){return s.Guard.isSlot(e)}));null!==t;)d(t),t=l.tree_getNextDescendantNode(e,t,!0,!1,(function(e){return s.Guard.isSlot(e)}))},t.shadowTree_assignASlot=function(e){var t=p(e);null!==t&&d(t)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=/[a-z]([\\0-\\t\\x2D\\._a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*-([\\0-\\t\\x2D\\._a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*/,i=new Set([\"annotation-xml\",\"color-profile\",\"font-face\",\"font-face-src\",\"font-face-uri\",\"font-face-format\",\"font-face-name\",\"missing-glyph\"]),o=new Set([\"article\",\"aside\",\"blockquote\",\"body\",\"div\",\"footer\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"header\",\"main\",\"nav\",\"p\",\"section\",\"span\"]),a=new Set([\"area\",\"base\",\"basefont\",\"bgsound\",\"br\",\"col\",\"embed\",\"frame\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"]),s=new Set([\"article\",\"aside\",\"blockquote\",\"body\",\"div\",\"footer\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"header\",\"main\",\"nav\",\"p\",\"section\",\"span\"]);t.customElement_isValidCustomElementName=function(e){return!!n.test(e)&&!i.has(e)},t.customElement_isValidElementName=function(e){return o.has(e)},t.customElement_isVoidElementName=function(e){return a.has(e)},t.customElement_isValidShadowHostName=function(e){return s.has(e)},t.customElement_enqueueACustomElementUpgradeReaction=function(e,t){},t.customElement_enqueueACustomElementCallbackReaction=function(e,t,r){},t.customElement_upgrade=function(e,t){},t.customElement_tryToUpgrade=function(e){},t.customElement_lookUpACustomElementDefinition=function(e,t,r,n){return null}},function(e,t,r){r(4)({target:\"String\",proto:!0},{repeat:r(259)})},function(e,t,r){\"use strict\";r(278),r(68),r(179),r(94),Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(109),i=function(){function e(e){this._builderOptions=e,e.parser&&Object.assign(this,e.parser)}return e.prototype._docType=function(e,t,r,n){return e.dtd({name:t,pubID:r,sysID:n})},e.prototype._comment=function(e,t){return e.com(t)},e.prototype._text=function(e,t){return e.txt(t)},e.prototype._instruction=function(e,t,r){return e.ins(t,r)},e.prototype._cdata=function(e,t){return e.dat(t)},e.prototype._element=function(e,t,r){return void 0===t?e.ele(r):e.ele(t,r)},e.prototype._attribute=function(e,t,r,n){return void 0===t?e.att(r,n):e.att(t,r,n)},e.prototype._sanitize=function(e){return n.sanitizeInput(e,this._builderOptions.invalidCharReplacement)},e.prototype._decodeText=function(t){return null==t?t:t.replace(/&(quot|amp|apos|lt|gt);/g,(function(t,r){return e._entityTable[r]})).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,(function(e,t,r){return String.fromCodePoint(parseInt(t||r,t?16:10))}))},e.prototype._decodeAttributeValue=function(e){return this._decodeText(e)},e.prototype.parse=function(e,t){return this._parse(e,t)},e.prototype.docType=function(e,t,r,n){return this._docType(e,t,r,n)},e.prototype.comment=function(e,t){return this._comment(e,t)},e.prototype.text=function(e,t){return this._text(e,t)},e.prototype.instruction=function(e,t,r){return this._instruction(e,t,r)},e.prototype.cdata=function(e,t){return this._cdata(e,t)},e.prototype.element=function(e,t,r){return this._element(e,t,r)},e.prototype.attribute=function(e,t,r,n){return this._attribute(e,t,r,n)},e.prototype.sanitize=function(e){return this._sanitize(e)},e._entityTable={lt:\"<\",gt:\">\",amp:\"&\",quot:'\"',apos:\"'\"},e}();t.BaseReader=i},function(e,t,r){\"use strict\";var n=r(39);e.exports=n.DEFAULT=new n({include:[r(54)],explicit:[r(299),r(300),r(301)]})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(185);t.XMLBuilderImpl=n.XMLBuilderImpl;var i=r(304);t.XMLBuilderCBImpl=i.XMLBuilderCBImpl;var o=r(183);t.builder=o.builder,t.create=o.create,t.fragment=o.fragment,t.convert=o.convert;var a=r(309);t.createCB=a.createCB,t.fragmentCB=a.fragmentCB},function(e,t){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},function(e,t,r){\"use strict\";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(11),i=r(21);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(44),i=r(118);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.6.5\",mode:n?\"pure\":\"global\",copyright:\" 2020 Denis Pushkarev (zloirock.ru)\"})},function(e,t,r){var n=r(121),i=r(84).concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(47),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},function(e,t){e.exports=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(8);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){var n=r(127);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){\"use strict\";var n=r(4),i=r(195),o=r(132),a=r(133),s=r(62),u=r(21),l=r(25),c=r(5),h=r(44),p=r(49),f=r(131),d=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,y=c(\"iterator\"),v=function(){return this};e.exports=function(e,t,r,c,f,_,g){i(r,t,c);var b,x,w,E=function(e){if(e===f&&N)return N;if(!m&&e in C)return C[e];switch(e){case\"keys\":case\"values\":case\"entries\":return function(){return new r(this,e)}}return function(){return new r(this)}},D=t+\" Iterator\",S=!1,C=e.prototype,A=C[y]||C[\"@@iterator\"]||f&&C[f],N=!m&&A||E(f),T=\"Array\"==t&&C.entries||A;if(T&&(b=o(T.call(new e)),d!==Object.prototype&&b.next&&(h||o(b)===d||(a?a(b,d):\"function\"!=typeof b[y]&&u(b,y,v)),s(b,D,!0,!0),h&&(p[D]=v))),\"values\"==f&&A&&\"values\"!==A.name&&(S=!0,N=function(){return A.call(this)}),h&&!g||C[y]===N||u(C,y,N),p[t]=N,f)if(x={values:E(\"values\"),keys:_?N:E(\"keys\"),entries:E(\"entries\")},g)for(w in x)(m||S||!(w in C))&&l(C,w,x[w]);else n({target:t,proto:!0,forced:m||S},x);return x}},function(e,t,r){\"use strict\";var n=r(4),i=r(13),o=r(59),a=r(83),s=r(26),u=r(24),l=r(134),c=r(5),h=r(63),p=r(28),f=h(\"slice\"),d=p(\"slice\",{ACCESSORS:!0,0:0,1:2}),m=c(\"species\"),y=[].slice,v=Math.max;n({target:\"Array\",proto:!0,forced:!f||!d},{slice:function(e,t){var r,n,c,h=u(this),p=s(h.length),f=a(e,p),d=a(void 0===t?p:t,p);if(o(h)&&(\"function\"!=typeof(r=h.constructor)||r!==Array&&!o(r.prototype)?i(r)&&null===(r=r[m])&&(r=void 0):r=void 0,r===Array||void 0===r))return y.call(h,f,d);for(n=new(void 0===r?Array:r)(v(d-f,0)),c=0;f<d;f++,c++)f in h&&l(n,c,h[f]);return n.length=c,n}})},function(e,t,r){var n={};n[r(5)(\"toStringTag\")]=\"z\",e.exports=\"[object z]\"===String(n)},function(e,t,r){\"use strict\";r(19),r(138),r(20),r(92),r(22),r(23),Object.defineProperty(t,\"__esModule\",{value:!0}),t.DefaultBuilderOptions={version:\"1.0\",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:\"@\",ins:\"?\",text:\"#\",cdata:\"$\",comment:\"!\"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:\"http://www.w3.org/1999/xhtml\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\",xlink:\"http://www.w3.org/1999/xlink\"},invalidCharReplacement:void 0,parser:void 0},t.XMLBuilderOptionKeys=new Set(Object.keys(t.DefaultBuilderOptions)),t.DefaultXMLBuilderCBOptions={format:\"xml\",wellFormed:!1,prettyPrint:!1,indent:\"  \",newline:\"\\n\",offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:\"@\",ins:\"?\",text:\"#\",cdata:\"$\",comment:\"!\"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:\"http://www.w3.org/1999/xhtml\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\",xlink:\"http://www.w3.org/1999/xlink\"}}},function(e,t,r){\"use strict\";var n=r(139),i=r(143);e.exports=n(\"Set\",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,r){\"use strict\";var n,i,o=r(136),a=r(221),s=RegExp.prototype.exec,u=String.prototype.replace,l=s,c=(n=/a/,i=/b*/g,s.call(n,\"a\"),s.call(i,\"a\"),0!==n.lastIndex||0!==i.lastIndex),h=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec(\"\")[1];(c||p||h)&&(l=function(e){var t,r,n,i,a=this,l=h&&a.sticky,f=o.call(a),d=a.source,m=0,y=e;return l&&(-1===(f=f.replace(\"y\",\"\")).indexOf(\"g\")&&(f+=\"g\"),y=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&\"\\n\"!==e[a.lastIndex-1])&&(d=\"(?: \"+d+\")\",y=\" \"+y,m++),r=new RegExp(\"^(?:\"+d+\")\",f)),p&&(r=new RegExp(\"^\"+d+\"$(?!\\\\s)\",f)),c&&(t=a.lastIndex),n=s.call(l?r:a,y),l?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:c&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),p&&n&&n.length>1&&u.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=l},function(e,t,r){\"use strict\";var n=r(225),i=r(18),o=r(27),a=r(26),s=r(47),u=r(35),l=r(226),c=r(227),h=Math.max,p=Math.min,f=Math.floor,d=/\\$([$&'`]|\\d\\d?|<[^>]*>)/g,m=/\\$([$&'`]|\\d\\d?)/g;n(\"replace\",2,(function(e,t,r,n){var y=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,_=y?\"$\":\"$0\";return[function(r,n){var i=u(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!y&&v||\"string\"==typeof n&&-1===n.indexOf(_)){var o=r(t,e,this,n);if(o.done)return o.value}var u=i(e),f=String(this),d=\"function\"==typeof n;d||(n=String(n));var m=u.global;if(m){var b=u.unicode;u.lastIndex=0}for(var x=[];;){var w=c(u,f);if(null===w)break;if(x.push(w),!m)break;\"\"===String(w[0])&&(u.lastIndex=l(f,a(u.lastIndex),b))}for(var E,D=\"\",S=0,C=0;C<x.length;C++){w=x[C];for(var A=String(w[0]),N=h(p(s(w.index),f.length),0),T=[],O=1;O<w.length;O++)T.push(void 0===(E=w[O])?E:String(E));var F=w.groups;if(d){var k=[A].concat(T,N,f);void 0!==F&&k.push(F);var P=String(n.apply(void 0,k))}else P=g(A,f,N,T,F,n);N>=S&&(D+=f.slice(S,N)+P,S=N+A.length)}return D+f.slice(S)}];function g(e,r,n,i,a,s){var u=n+e.length,l=i.length,c=m;return void 0!==a&&(a=o(a),c=d),t.call(s,c,(function(t,o){var s;switch(o.charAt(0)){case\"$\":return\"$\";case\"&\":return e;case\"`\":return r.slice(0,n);case\"'\":return r.slice(u);case\"<\":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>l){var h=f(c/10);return 0===h?t:h<=l?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?\"\":s}))}}))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){this._items={},this._nullItems=[]}return e.prototype.copy=function(){var t=new e;for(var r in this._items)t._items[r]=this._items[r].slice(0);return t._nullItems=this._nullItems.slice(0),t},e.prototype.get=function(e,t){var r=null===t?this._nullItems:this._items[t]||null;if(null===r)return null;for(var n=null,i=0;i<r.length;i++)if((n=r[i])===e)return n;return n},e.prototype.has=function(e,t){var r=null===t?this._nullItems:this._items[t]||null;return null!==r&&-1!==r.indexOf(e)},e.prototype.hasPrefix=function(e){if(-1!==this._nullItems.indexOf(e))return!0;for(var t in this._items)if(-1!==this._items[t].indexOf(e))return!0;return!1},e.prototype.set=function(e,t){var r=null===t?this._nullItems:this._items[t]||null;null!==t&&null===r?this._items[t]=[e]:r.push(e)},e}();t.NamespacePrefixMap=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Surrogate=/[\\uD800-\\uDFFF]/,t.ScalarValue=/[\\uD800-\\uDFFF]/,t.NonCharacter=/[\\uFDD0-\\uFDEF\\uFFFE\\uFFFF]|[\\uD83F\\uD87F\\uD8BF\\uD8FF\\uD93F\\uD97F\\uD9BF\\uD9FF\\uDA3F\\uDA7F\\uDABF\\uDAFF\\uDB3F\\uDB7F\\uDBBF\\uDBFF][\\uDFFE\\uDFFF]/,t.ASCIICodePoint=/[\\u0000-\\u007F]/,t.ASCIITabOrNewLine=/[\\t\\n\\r]/,t.ASCIIWhiteSpace=/[\\t\\n\\f\\r ]/,t.C0Control=/[\\u0000-\\u001F]/,t.C0ControlOrSpace=/[\\u0000-\\u001F ]/,t.Control=/[\\u0000-\\u001F\\u007F-\\u009F]/,t.ASCIIDigit=/[0-9]/,t.ASCIIUpperHexDigit=/[0-9A-F]/,t.ASCIILowerHexDigit=/[0-9a-f]/,t.ASCIIHexDigit=/[0-9A-Fa-f]/,t.ASCIIUpperAlpha=/[A-Z]/,t.ASCIILowerAlpha=/[a-z]/,t.ASCIIAlpha=/[A-Za-z]/,t.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(6),s=r(2),u=r(3),l=r(171),c=r(104),h=r(9),p=r(17),f=r(72),d=r(30);function m(e,t){void 0===t&&(t=void 0),void 0===t&&(t=null);var r=y(e,t,new Date,{});return r._isTrusted=!0,r}function y(e,t,r,n){var i=new e(\"\");return i._initializedFlag=!0,i._timeStamp=r.getTime(),Object.assign(i,n),a.dom.features.steps&&d.dom_runEventConstructingSteps(i),i}function v(e,t,r,i){var o,a,l,c;void 0===r&&(r=!1),void 0===i&&(i={value:!1});var h=!1;e._dispatchFlag=!0;var d=t;if(r){var m=t._associatedDocument;u.Guard.isDocumentNode(m)&&(d=m)}var y=null,v=p.tree_retarget(e._relatedTarget,t);if(t!==v||t===e._relatedTarget){var b=[];try{for(var x=n(e._touchTargetList),w=x.next();!w.done;w=x.next()){var E=w.value;b.push(p.tree_retarget(E,t))}}catch(e){o={error:e}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}_(e,t,d,v,b,!1);var D=u.Guard.isMouseEvent(e)&&\"click\"===e._type;D&&void 0!==t._activationBehavior&&(y=t);for(var S=u.Guard.isSlotable(t)&&f.shadowTree_isAssigned(t)?t:null,C=!1,A=t._getTheParent(e);null!==A&&u.Guard.isNode(A);){if(null!==S){if(!u.Guard.isSlot(A))throw new Error(\"Parent node of a slotable should be a slot.\");S=null;var N=p.tree_rootNode(A,!0);u.Guard.isShadowRoot(N)&&\"closed\"===N._mode&&(C=!0)}u.Guard.isSlotable(A)&&f.shadowTree_isAssigned(A)&&(S=A),v=p.tree_retarget(e._relatedTarget,A),b=[];try{for(var T=(l=void 0,n(e._touchTargetList)),O=T.next();!O.done;O=T.next()){E=O.value;b.push(p.tree_retarget(E,A))}}catch(e){l={error:e}}finally{try{O&&!O.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}u.Guard.isWindow(A)||u.Guard.isNode(A)&&u.Guard.isNode(t)&&p.tree_isAncestorOf(p.tree_rootNode(t,!0),A,!0,!0)?(D&&e._bubbles&&null===y&&A._activationBehavior&&(y=A),_(e,A,null,v,b,C)):A===v?A=null:(t=A,D&&null===y&&t._activationBehavior&&(y=t),_(e,A,t,v,b,C)),null!==A&&(A=A._getTheParent(e)),C=!1}for(var F=null,k=e._path,P=k.length-1;P>=0;P--){if(null!==(L=k[P]).shadowAdjustedTarget){F=L;break}}if(null!==F)if(u.Guard.isNode(F.shadowAdjustedTarget)&&u.Guard.isShadowRoot(p.tree_rootNode(F.shadowAdjustedTarget,!0)))h=!0;else if(u.Guard.isNode(F.relatedTarget)&&u.Guard.isShadowRoot(p.tree_rootNode(F.relatedTarget,!0)))h=!0;else for(var I=0;I<F.touchTargetList.length;I++){var L=F.touchTargetList[I];if(u.Guard.isNode(L)&&u.Guard.isShadowRoot(p.tree_rootNode(L,!0))){h=!0;break}}null!==y&&void 0!==y._legacyPreActivationBehavior&&y._legacyPreActivationBehavior(e);for(P=k.length-1;P>=0;P--){null!==(L=k[P]).shadowAdjustedTarget?e._eventPhase=s.EventPhase.AtTarget:e._eventPhase=s.EventPhase.Capturing,g(L,e,\"capturing\",i)}for(P=0;P<k.length;P++){if(null!==(L=k[P]).shadowAdjustedTarget)e._eventPhase=s.EventPhase.AtTarget;else{if(!e._bubbles)continue;e._eventPhase=s.EventPhase.Bubbling}g(L,e,\"bubbling\",i)}}return e._eventPhase=s.EventPhase.None,e._currentTarget=null,e._path=[],e._dispatchFlag=!1,e._stopPropagationFlag=!1,e._stopImmediatePropagationFlag=!1,h&&(e._target=null,e._relatedTarget=null,e._touchTargetList=[]),null!==y&&(e._canceledFlag||void 0===y._activationBehavior?void 0!==y._legacyCanceledActivationBehavior&&y._legacyCanceledActivationBehavior(e):y._activationBehavior(e)),!e._canceledFlag}function _(e,t,r,n,i,o){var a=!1;u.Guard.isNode(t)&&u.Guard.isShadowRoot(p.tree_rootNode(t))&&(a=!0);var s=!1;u.Guard.isShadowRoot(t)&&\"closed\"===t._mode&&(s=!0),e._path.push({invocationTarget:t,invocationTargetInShadowTree:a,shadowAdjustedTarget:r,relatedTarget:n,touchTargetList:i,rootOfClosedTree:s,slotInClosedTree:o})}function g(e,t,r,n){void 0===n&&(n={value:!1});for(var i=t._path,a=-1,s=0;s<i.length;s++)if(i[s]===e){a=s;break}if(-1!==a){var u=i[a];(null!==u.shadowAdjustedTarget||a>0&&null!==(u=i[a-1]).shadowAdjustedTarget)&&(t._target=u.shadowAdjustedTarget)}if(t._relatedTarget=e.relatedTarget,t._touchTargetList=e.touchTargetList,!t._stopPropagationFlag){t._currentTarget=e.invocationTarget;var l=t._currentTarget._eventListenerList,c=new(Array.bind.apply(Array,o([void 0],l)));if(!b(t,c,r,e,n)&&t._isTrusted){var h=t._type;\"animationend\"===h?t._type=\"webkitAnimationEnd\":\"animationiteration\"===h?t._type=\"webkitAnimationIteration\":\"animationstart\"===h?t._type=\"webkitAnimationStart\":\"transitionend\"===h&&(t._type=\"webkitTransitionEnd\"),b(t,c,r,e,n),t._type=h}}}function b(e,t,r,n,i){void 0===i&&(i={value:!1});for(var o=!1,a=0;a<t.length;a++){var s=t[a];if(!s.removed){if(e._type!==s.type)continue;if(o=!0,\"capturing\"===r&&!s.capture)continue;if(\"bubbling\"===r&&s.capture)continue;if(s.once&&null!==e._currentTarget){for(var l=e._currentTarget,c=-1,h=0;h<l._eventListenerList.length;h++)if(l._eventListenerList[h]===s){c=h;break}-1!==c&&l._eventListenerList.splice(c,1)}var p=void 0,f=void 0;u.Guard.isWindow(p)&&(f=p._currentEvent,!1===n.invocationTargetInShadowTree&&(p._currentEvent=e)),s.passive&&(e._inPassiveListenerFlag=!0);try{s.callback.handleEvent.call(e._currentTarget,e)}catch(e){i.value=!0}if(s.passive&&(e._inPassiveListenerFlag=!1),u.Guard.isWindow(p)&&(p._currentEvent=f),e._stopImmediatePropagationFlag)return o}}return o}function x(e,t){return null}function w(e,t){return null}function E(e,t){}function D(e,t){}t.event_setTheCanceledFlag=function(e){e._cancelable&&!e._inPassiveListenerFlag&&(e._canceledFlag=!0)},t.event_initialize=function(e,t,r,n){e._initializedFlag=!0,e._stopPropagationFlag=!1,e._stopImmediatePropagationFlag=!1,e._canceledFlag=!1,e._isTrusted=!1,e._target=null,e._type=t,e._bubbles=r,e._cancelable=n},t.event_createAnEvent=m,t.event_innerEventCreationSteps=y,t.event_dispatch=v,t.event_appendToAnEventPath=_,t.event_invoke=g,t.event_innerInvoke=b,t.event_fireAnEvent=function(e,t,r,n,i){void 0===r&&(r=c.EventImpl);var o=m(r);if(o._type=e,n)for(var a in n){o[a]=n[a]}return v(o,t,i)},t.event_createLegacyEvent=function(e){var t=null;switch(e.toLowerCase()){case\"beforeunloadevent\":case\"compositionevent\":break;case\"customevent\":t=l.CustomEventImpl;break;case\"devicemotionevent\":case\"deviceorientationevent\":case\"dragevent\":break;case\"event\":case\"events\":t=c.EventImpl}if(null===t)throw new h.NotSupportedError(\"Event constructor not found for interface \"+e+\".\");var r=new t(\"\");return r._type=\"\",r._timeStamp=(new Date).getTime(),r._isTrusted=!1,r._initializedFlag=!1,r},t.event_getterEventHandlerIDLAttribute=function(e,t){return null},t.event_setterEventHandlerIDLAttribute=function(e,t,r){},t.event_determineTheTargetOfAnEventHandler=x,t.event_getTheCurrentValueOfAnEventHandler=w,t.event_activateAnEventHandler=E,t.event_deactivateAnEventHandler=D},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},a=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(6),u=r(2),l=r(9),c=r(34),h=r(3),p=r(1),f=r(7),d=r(152),m=r(0),y=r(12),v=function(e){function t(){var t=e.call(this)||this;return t._children=new Set,t._encoding={name:\"UTF-8\",labels:[\"unicode-1-1-utf-8\",\"utf-8\",\"utf8\"]},t._contentType=\"application/xml\",t._URL={scheme:\"about\",username:\"\",password:\"\",host:null,port:null,path:[\"blank\"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},t._origin=null,t._type=\"xml\",t._mode=\"no-quirks\",t._documentElement=null,t._hasNamespaces=!1,t._nodeDocumentOverwrite=null,t}return i(t,e),Object.defineProperty(t.prototype,\"_nodeDocument\",{get:function(){return this._nodeDocumentOverwrite||this},set:function(e){this._nodeDocumentOverwrite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"implementation\",{get:function(){return this._implementation||(this._implementation=m.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"URL\",{get:function(){return d.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"documentURI\",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"origin\",{get:function(){return\"null\"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"compatMode\",{get:function(){return\"quirks\"===this._mode?\"BackCompat\":\"CSS1Compat\"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"characterSet\",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"charset\",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"inputEncoding\",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"contentType\",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"doctype\",{get:function(){var e,t;try{for(var r=o(this._children),n=r.next();!n.done;n=r.next()){var i=n.value;if(h.Guard.isDocumentTypeNode(i))return i}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"documentElement\",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),t.prototype.getElementsByTagName=function(e){return m.node_listOfElementsWithQualifiedName(e,this)},t.prototype.getElementsByTagNameNS=function(e,t){return m.node_listOfElementsWithNamespace(e,t,this)},t.prototype.getElementsByClassName=function(e){return m.node_listOfElementsWithClassNames(e,this)},t.prototype.createElement=function(e,t){if(!m.xml_isName(e))throw new l.InvalidCharacterError;\"html\"===this._type&&(e=e.toLowerCase());var r=null;void 0!==t&&(r=p.isString(t)?t:t.is);var n=\"html\"===this._type||\"application/xhtml+xml\"===this._contentType?f.namespace.HTML:null;return m.element_createAnElement(this,e,n,null,r,!0)},t.prototype.createElementNS=function(e,t,r){return m.document_internalCreateElementNS(this,e,t,r)},t.prototype.createDocumentFragment=function(){return m.create_documentFragment(this)},t.prototype.createTextNode=function(e){return m.create_text(this,e)},t.prototype.createCDATASection=function(e){if(\"html\"===this._type)throw new l.NotSupportedError;if(-1!==e.indexOf(\"]]>\"))throw new l.InvalidCharacterError;return m.create_cdataSection(this,e)},t.prototype.createComment=function(e){return m.create_comment(this,e)},t.prototype.createProcessingInstruction=function(e,t){if(!m.xml_isName(e))throw new l.InvalidCharacterError;if(-1!==t.indexOf(\"?>\"))throw new l.InvalidCharacterError;return m.create_processingInstruction(this,e,t)},t.prototype.importNode=function(e,t){if(void 0===t&&(t=!1),h.Guard.isDocumentNode(e)||h.Guard.isShadowRoot(e))throw new l.NotSupportedError;return m.node_clone(e,this,t)},t.prototype.adoptNode=function(e){if(h.Guard.isDocumentNode(e))throw new l.NotSupportedError;if(h.Guard.isShadowRoot(e))throw new l.HierarchyRequestError;return m.document_adopt(e,this),e},t.prototype.createAttribute=function(e){if(!m.xml_isName(e))throw new l.InvalidCharacterError;return\"html\"===this._type&&(e=e.toLowerCase()),m.create_attr(this,e)},t.prototype.createAttributeNS=function(e,t){var r=a(m.namespace_validateAndExtract(e,t),3),n=r[0],i=r[1],o=r[2],s=m.create_attr(this,o);return s._namespace=n,s._namespacePrefix=i,s},t.prototype.createEvent=function(e){return m.event_createLegacyEvent(e)},t.prototype.createRange=function(){var e=m.create_range();return e._start=[this,0],e._end=[this,0],e},t.prototype.createNodeIterator=function(e,t,r){void 0===t&&(t=u.WhatToShow.All),void 0===r&&(r=null);var n=m.create_nodeIterator(e,e,!0);return n._whatToShow=t,n._iteratorCollection=m.create_nodeList(e),p.isFunction(r)?(n._filter=m.create_nodeFilter(),n._filter.acceptNode=r):n._filter=r,n},t.prototype.createTreeWalker=function(e,t,r){void 0===t&&(t=u.WhatToShow.All),void 0===r&&(r=null);var n=m.create_treeWalker(e,e);return n._whatToShow=t,p.isFunction(r)?(n._filter=m.create_nodeFilter(),n._filter.acceptNode=r):n._filter=r,n},t.prototype._getTheParent=function(e){return\"load\"===e._type?null:s.dom.window},t.prototype.getElementById=function(e){throw new Error(\"Mixin: NonElementParentNode not implemented.\")},Object.defineProperty(t.prototype,\"children\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstElementChild\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"lastElementChild\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"childElementCount\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.querySelector=function(e){throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.querySelectorAll=function(e){throw new Error(\"Mixin: ParentNode not implemented.\")},t}(c.NodeImpl);t.DocumentImpl=v,y.idl_defineConst(v.prototype,\"_nodeType\",u.NodeType.Document)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},a=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(2),u=r(34),l=r(9),c=r(7),h=r(0),p=r(12),f=function(e){function t(){var t=e.call(this)||this;return t._children=new Set,t._namespace=null,t._namespacePrefix=null,t._localName=\"\",t._customElementState=\"undefined\",t._customElementDefinition=null,t._is=null,t._shadowRoot=null,t._attributeList=h.create_namedNodeMap(t),t._attributeChangeSteps=[],t._name=\"\",t._assignedSlot=null,t}return i(t,e),Object.defineProperty(t.prototype,\"namespaceURI\",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"prefix\",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"localName\",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"tagName\",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"id\",{get:function(){return h.element_getAnAttributeValue(this,\"id\")},set:function(e){h.element_setAnAttributeValue(this,\"id\",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"className\",{get:function(){return h.element_getAnAttributeValue(this,\"class\")},set:function(e){h.element_setAnAttributeValue(this,\"class\",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"classList\",{get:function(){var e=h.element_getAnAttributeByName(\"class\",this);return null===e&&(e=h.create_attr(this._nodeDocument,\"class\")),h.create_domTokenList(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"slot\",{get:function(){return h.element_getAnAttributeValue(this,\"slot\")},set:function(e){h.element_setAnAttributeValue(this,\"slot\",e)},enumerable:!0,configurable:!0}),t.prototype.hasAttributes=function(){return 0!==this._attributeList.length},Object.defineProperty(t.prototype,\"attributes\",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),t.prototype.getAttributeNames=function(){var e,t,r=[];try{for(var n=o(this._attributeList),i=n.next();!i.done;i=n.next()){var a=i.value;r.push(a._qualifiedName)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},t.prototype.getAttribute=function(e){var t=h.element_getAnAttributeByName(e,this);return t?t._value:null},t.prototype.getAttributeNS=function(e,t){var r=h.element_getAnAttributeByNamespaceAndLocalName(e,t,this);return r?r._value:null},t.prototype.setAttribute=function(e,t){if(!h.xml_isName(e))throw new l.InvalidCharacterError;this._namespace===c.namespace.HTML&&\"html\"===this._nodeDocument._type&&(e=e.toLowerCase());for(var r=null,n=0;n<this._attributeList.length;n++){var i=this._attributeList[n];if(i._qualifiedName===e){r=i;break}}if(null===r)return(r=h.create_attr(this._nodeDocument,e))._value=t,void h.element_append(r,this);h.element_change(r,this,t)},t.prototype.setAttributeNS=function(e,t,r){var n=a(h.namespace_validateAndExtract(e,t),3),i=n[0],o=n[1],s=n[2];h.element_setAnAttributeValue(this,s,r,o,i)},t.prototype.removeAttribute=function(e){h.element_removeAnAttributeByName(e,this)},t.prototype.removeAttributeNS=function(e,t){h.element_removeAnAttributeByNamespaceAndLocalName(e,t,this)},t.prototype.hasAttribute=function(e){this._namespace===c.namespace.HTML&&\"html\"===this._nodeDocument._type&&(e=e.toLowerCase());for(var t=0;t<this._attributeList.length;t++){if(this._attributeList[t]._qualifiedName===e)return!0}return!1},t.prototype.toggleAttribute=function(e,t){if(!h.xml_isName(e))throw new l.InvalidCharacterError;this._namespace===c.namespace.HTML&&\"html\"===this._nodeDocument._type&&(e=e.toLowerCase());for(var r=null,n=0;n<this._attributeList.length;n++){var i=this._attributeList[n];if(i._qualifiedName===e){r=i;break}}return null===r?(void 0===t||!0===t)&&((r=h.create_attr(this._nodeDocument,e))._value=\"\",h.element_append(r,this),!0):void 0!==t&&!1!==t||(h.element_removeAnAttributeByName(e,this),!1)},t.prototype.hasAttributeNS=function(e,t){for(var r=e||null,n=0;n<this._attributeList.length;n++){var i=this._attributeList[n];if(i._namespace===r&&i._localName===t)return!0}return!1},t.prototype.getAttributeNode=function(e){return h.element_getAnAttributeByName(e,this)},t.prototype.getAttributeNodeNS=function(e,t){return h.element_getAnAttributeByNamespaceAndLocalName(e,t,this)},t.prototype.setAttributeNode=function(e){return h.element_setAnAttribute(e,this)},t.prototype.setAttributeNodeNS=function(e){return h.element_setAnAttribute(e,this)},t.prototype.removeAttributeNode=function(e){for(var t=!1,r=0;r<this._attributeList.length;r++){if(this._attributeList[r]===e){t=!0;break}}if(!t)throw new l.NotFoundError;return h.element_remove(e,this),e},t.prototype.attachShadow=function(e){if(this._namespace!==c.namespace.HTML)throw new l.NotSupportedError;if(!h.customElement_isValidCustomElementName(this._localName)&&!h.customElement_isValidShadowHostName(this._localName))throw new l.NotSupportedError;if(h.customElement_isValidCustomElementName(this._localName)||null!==this._is){var t=h.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(null!==t&&!0===t.disableShadow)throw new l.NotSupportedError}if(null!==this._shadowRoot)throw new l.NotSupportedError;var r=h.create_shadowRoot(this._nodeDocument,this);return r._mode=e.mode,this._shadowRoot=r,r},Object.defineProperty(t.prototype,\"shadowRoot\",{get:function(){var e=this._shadowRoot;return null===e||\"closed\"===e.mode?null:e},enumerable:!0,configurable:!0}),t.prototype.closest=function(e){throw new l.NotImplementedError},t.prototype.matches=function(e){throw new l.NotImplementedError},t.prototype.webkitMatchesSelector=function(e){return this.matches(e)},t.prototype.getElementsByTagName=function(e){return h.node_listOfElementsWithQualifiedName(e,this)},t.prototype.getElementsByTagNameNS=function(e,t){return h.node_listOfElementsWithNamespace(e,t,this)},t.prototype.getElementsByClassName=function(e){return h.node_listOfElementsWithClassNames(e,this)},t.prototype.insertAdjacentElement=function(e,t){return h.element_insertAdjacent(this,e,t)},t.prototype.insertAdjacentText=function(e,t){var r=h.create_text(this._nodeDocument,t);h.element_insertAdjacent(this,e,r)},Object.defineProperty(t.prototype,\"_qualifiedName\",{get:function(){return this._namespacePrefix?this._namespacePrefix+\":\"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"_htmlUppercasedQualifiedName\",{get:function(){var e=this._qualifiedName;return this._namespace===c.namespace.HTML&&\"html\"===this._nodeDocument._type&&(e=e.toUpperCase()),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"children\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstElementChild\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"lastElementChild\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"childElementCount\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.querySelector=function(e){throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.querySelectorAll=function(e){throw new Error(\"Mixin: ParentNode not implemented.\")},Object.defineProperty(t.prototype,\"previousElementSibling\",{get:function(){throw new Error(\"Mixin: NonDocumentTypeChildNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nextElementSibling\",{get:function(){throw new Error(\"Mixin: NonDocumentTypeChildNode not implemented.\")},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.remove=function(){throw new Error(\"Mixin: ChildNode not implemented.\")},Object.defineProperty(t.prototype,\"assignedSlot\",{get:function(){throw new Error(\"Mixin: Slotable not implemented.\")},enumerable:!0,configurable:!0}),t._create=function(e,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=new t;return o._localName=r,o._namespace=n,o._namespacePrefix=i,o._nodeDocument=e,o},t}(u.NodeImpl);t.ElementImpl=f,p.idl_defineConst(f.prototype,\"_nodeType\",s.NodeType.Element)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),a=r(34),s=r(12),u=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r._children=new Set,r._host=t,r}return i(t,e),t.prototype.getElementById=function(e){throw new Error(\"Mixin: NonElementParentNode not implemented.\")},Object.defineProperty(t.prototype,\"children\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstElementChild\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"lastElementChild\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"childElementCount\",{get:function(){throw new Error(\"Mixin: ParentNode not implemented.\")},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.querySelector=function(e){throw new Error(\"Mixin: ParentNode not implemented.\")},t.prototype.querySelectorAll=function(e){throw new Error(\"Mixin: ParentNode not implemented.\")},t._create=function(e,r){void 0===r&&(r=null);var n=new t(r);return n._nodeDocument=e,n},t}(a.NodeImpl);t.DocumentFragmentImpl=u,s.idl_defineConst(u.prototype,\"_nodeType\",o.NodeType.DocumentFragment)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(2),s=r(71),u=r(0),l=r(12),c=function(e){function t(t){void 0===t&&(t=\"\");var r=e.call(this,t)||this;return r._name=\"\",r._assignedSlot=null,r}return i(t,e),Object.defineProperty(t.prototype,\"wholeText\",{get:function(){var e,t,r=\"\";try{for(var n=o(u.text_contiguousTextNodes(this,!0)),i=n.next();!i.done;i=n.next()){r+=i.value._data}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!0,configurable:!0}),t.prototype.splitText=function(e){return u.text_split(this,e)},Object.defineProperty(t.prototype,\"assignedSlot\",{get:function(){throw new Error(\"Mixin: Slotable not implemented.\")},enumerable:!0,configurable:!0}),t._create=function(e,r){void 0===r&&(r=\"\");var n=new t(r);return n._nodeDocument=e,n},t}(s.CharacterDataImpl);t.TextImpl=c,l.idl_defineConst(c.prototype,\"_nodeType\",a.NodeType.Text)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){}return Object.defineProperty(e.prototype,\"_startNode\",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_startOffset\",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_endNode\",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_endOffset\",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_collapsed\",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"startContainer\",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"startOffset\",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"endContainer\",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"endOffset\",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"collapsed\",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),e}();t.AbstractRangeImpl=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=function(){function e(e){this._activeFlag=!1,this._root=e,this._whatToShow=n.WhatToShow.All,this._filter=null}return Object.defineProperty(e.prototype,\"root\",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"whatToShow\",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"filter\",{get:function(){return this._filter},enumerable:!0,configurable:!0}),e}();t.TraverserImpl=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=r(0),o=r(12),a=function(){function e(e,t){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=n.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=e,t&&(this._bubbles=t.bubbles||!1,this._cancelable=t.cancelable||!1,this._composedFlag=t.composed||!1),this._initializedFlag=!0,this._timeStamp=(new Date).getTime()}return Object.defineProperty(e.prototype,\"type\",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"target\",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"srcElement\",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"currentTarget\",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),e.prototype.composedPath=function(){var e=[],t=this._path;if(0===t.length)return e;var r=this._currentTarget;if(null===r)throw new Error(\"Event currentTarget is null.\");e.push(r);for(var n=0,i=0,o=t.length-1;o>=0;){if(t[o].rootOfClosedTree&&i++,t[o].invocationTarget===r){n=o;break}t[o].slotInClosedTree&&i--,o--}var a=i,s=i;for(o=n-1;o>=0;)t[o].rootOfClosedTree&&a++,a<=s&&e.unshift(t[o].invocationTarget),t[o].slotInClosedTree&&--a<s&&(s=a),o--;for(a=i,s=i,o=n+1;o<t.length;)t[o].slotInClosedTree&&a++,a<=s&&e.push(t[o].invocationTarget),t[o].rootOfClosedTree&&--a<s&&(s=a),o++;return e},Object.defineProperty(e.prototype,\"eventPhase\",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(e.prototype,\"cancelBubble\",{get:function(){return this._stopPropagationFlag},set:function(e){e&&this.stopPropagation()},enumerable:!0,configurable:!0}),e.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(e.prototype,\"bubbles\",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cancelable\",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"returnValue\",{get:function(){return!this._canceledFlag},set:function(e){e||i.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){i.event_setTheCanceledFlag(this)},Object.defineProperty(e.prototype,\"defaultPrevented\",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"composed\",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isTrusted\",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"timeStamp\",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),e.prototype.initEvent=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1),this._dispatchFlag||i.event_initialize(this,e,t,r)},e.NONE=0,e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,e}();t.EventImpl=a,o.idl_defineConst(a.prototype,\"NONE\",0),o.idl_defineConst(a.prototype,\"CAPTURING_PHASE\",1),o.idl_defineConst(a.prototype,\"AT_TARGET\",2),o.idl_defineConst(a.prototype,\"BUBBLING_PHASE\",3)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=r(9);t.traversal_filter=function(e,t){if(e._activeFlag)throw new i.InvalidStateError;var r=1<<t._nodeType-1;if(0==(e.whatToShow&r))return n.FilterResult.Skip;if(!e.filter)return n.FilterResult.Accept;e._activeFlag=!0;var o=n.FilterResult.Reject;try{o=e.filter.acceptNode(t)}catch(t){throw e._activeFlag=!1,t}return e._activeFlag=!1,o}},function(e,t,r){\"use strict\";var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(6),a=r(3),s=r(1),u=r(99),l=r(73),c=r(17),h=r(173),p=r(30),f=r(52),d=r(37);t.document_elementInterface=function(e,t){return u.ElementImpl},t.document_internalCreateElementNS=function(e,t,r,i){var o=n(h.namespace_validateAndExtract(t,r),3),a=o[0],u=o[1],l=o[2],c=null;return void 0!==i&&(c=s.isString(i)?i:i.is),f.element_createAnElement(e,l,a,u,c,!0)},t.document_adopt=function(e,t){var r,n;if(e._nodeDocument!==t||null!==e._parent){var s=e._nodeDocument;if(e._parent&&d.mutation_remove(e,e._parent),t!==s)for(var u=c.tree_getFirstDescendantNode(e,!0,!0);null!==u;){if(u._nodeDocument=t,a.Guard.isElementNode(u))try{for(var h=(r=void 0,i(u._attributeList._asArray())),f=h.next();!f.done;f=h.next()){f.value._nodeDocument=t}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}o.dom.features.customElements&&a.Guard.isElementNode(u)&&\"custom\"===u._customElementState&&l.customElement_enqueueACustomElementCallbackReaction(u,\"adoptedCallback\",[s,t]),o.dom.features.steps&&p.dom_runAdoptingSteps(u,s),u=c.tree_getNextDescendantNode(e,u,!0,!0)}}}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(3),a=r(9),s=r(17),u=r(51),l=r(30);t.characterData_replaceData=function(e,t,r,c){var h,p,f=s.tree_nodeLength(e);if(t>f)throw new a.IndexSizeError(\"Offset exceeds character data length. Offset: \"+t+\", Length: \"+f+\", Node is \"+e.nodeName+\".\");t+r>f&&(r=f-t),i.dom.features.mutationObservers&&u.observer_queueMutationRecord(\"characterData\",e,null,null,e._data,[],[],null,null);var d=e._data.substring(0,t)+c+e._data.substring(t+r);e._data=d;try{for(var m=n(i.dom.rangeList),y=m.next();!y.done;y=m.next()){var v=y.value;v._start[0]===e&&v._start[1]>t&&v._start[1]<=t+r&&(v._start[1]=t),v._end[0]===e&&v._end[1]>t&&v._end[1]<=t+r&&(v._end[1]=t),v._start[0]===e&&v._start[1]>t+r&&(v._start[1]+=c.length-r),v._end[0]===e&&v._end[1]>t+r&&(v._end[1]+=c.length-r)}}catch(e){h={error:e}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}i.dom.features.steps&&o.Guard.isTextNode(e)&&null!==e._parent&&l.dom_runChildTextContentChangeSteps(e._parent)},t.characterData_substringData=function(e,t,r){var n=s.tree_nodeLength(e);if(t>n)throw new a.IndexSizeError(\"Offset exceeds character data length. Offset: \"+t+\", Length: \"+n+\", Node is \"+e.nodeName+\".\");return t+r>n?e._data.substr(t):e._data.substr(t,r)}},function(e,t,r){\"use strict\";var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(7);function s(e){var t=a.string.splitAStringOnASCIIWhitespace(e);return new Set(t)}function u(e){return i(e).join(\" \")}t.orderedSet_parse=s,t.orderedSet_serialize=u,t.orderedSet_sanitize=function(e){return u(s(e))},t.orderedSet_contains=function(e,t,r){var n,i,a,s;try{for(var u=o(t),l=u.next();!l.done;l=u.next()){var c=l.value,h=!1;try{for(var p=(a=void 0,o(e)),f=p.next();!f.done;f=p.next()){var d=f.value;if(r){if(d===c){h=!0;break}}else if(d.toUpperCase()===c.toUpperCase()){h=!0;break}}}catch(e){a={error:e}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}if(!h)return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return!0}},function(e,t,r){\"use strict\";r(179),Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(262),i=r(110),o=r(1);i.dom.setFeatures(!1),t.createDocument=function(){var e=(new n.DOMImplementation).createDocument(null,\"root\",null);return e.documentElement&&e.removeChild(e.documentElement),e},t.sanitizeInput=function(e,t){if(null==e)return e;if(void 0===t)return e+\"\";var r=\"\";e+=\"\";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(9===i||10===i||13===i||i>=32&&i<=55295||i>=57344&&i<=65533)r+=e.charAt(n);else if(i>=55296&&i<=56319&&n<e.length-1){var a=e.charCodeAt(n+1);a>=56320&&a<=57343?(i=1024*(i-55296)+a-56320+65536,r+=String.fromCodePoint(i),n++):r+=o.isString(t)?t:t(e.charAt(n),n,e)}else r+=o.isString(t)?t:t(e.charAt(n),n,e)}return r}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(1),i=r(153);t.AbortController=i.AbortControllerImpl;var o=r(154);t.AbortSignal=o.AbortSignalImpl;var a=r(102);t.AbstractRange=a.AbstractRangeImpl;var s=r(157);t.Attr=s.AttrImpl;var u=r(158);t.CDATASection=u.CDATASectionImpl;var l=r(71);t.CharacterData=l.CharacterDataImpl;var c=r(263),h=r(159);t.Comment=h.CommentImpl;var p=r(171);t.CustomEvent=p.CustomEventImpl;var f=r(100);t.DocumentFragment=f.DocumentFragmentImpl;var d=r(98);t.Document=d.DocumentImpl;var m=r(264),y=r(155);t.DocumentType=y.DocumentTypeImpl;var v=r(6);t.dom=v.dom;var _=r(148);t.DOMImplementation=_.DOMImplementationImpl;var g=r(170);t.DOMTokenList=g.DOMTokenListImpl;var b=r(99);t.Element=b.ElementImpl;var x=r(104);t.Event=x.EventImpl;var w=r(70);t.EventTarget=w.EventTargetImpl;var E=r(161);t.HTMLCollection=E.HTMLCollectionImpl;var D=r(265);t.MutationObserver=D.MutationObserverImpl;var S=r(169);t.MutationRecord=S.MutationRecordImpl;var C=r(164);t.NamedNodeMap=C.NamedNodeMapImpl;var A=r(168);t.NodeFilter=A.NodeFilterImpl;var N=r(34);t.Node=N.NodeImpl;var T=r(166);t.NodeIterator=T.NodeIteratorImpl;var O=r(162);t.NodeList=O.NodeListImpl;var F=r(163);t.NodeListStatic=F.NodeListStaticImpl;var k=r(266),P=r(267),I=r(268),L=r(160);t.ProcessingInstruction=L.ProcessingInstructionImpl;var M=r(165);t.Range=M.RangeImpl;var B=r(156);t.ShadowRoot=B.ShadowRootImpl;var j=r(269),R=r(270);t.StaticRange=R.StaticRangeImpl;var z=r(101);t.Text=z.TextImpl;var U=r(103);t.Traverser=U.TraverserImpl;var G=r(167);t.TreeWalker=G.TreeWalkerImpl;var X=r(149);t.Window=X.WindowImpl;var q=r(151);t.XMLDocument=q.XMLDocumentImpl,n.applyMixin(b.ElementImpl,c.ChildNodeImpl),n.applyMixin(l.CharacterDataImpl,c.ChildNodeImpl),n.applyMixin(y.DocumentTypeImpl,c.ChildNodeImpl),n.applyMixin(d.DocumentImpl,m.DocumentOrShadowRootImpl),n.applyMixin(B.ShadowRootImpl,m.DocumentOrShadowRootImpl),n.applyMixin(b.ElementImpl,k.NonDocumentTypeChildNodeImpl),n.applyMixin(l.CharacterDataImpl,k.NonDocumentTypeChildNodeImpl),n.applyMixin(d.DocumentImpl,P.NonElementParentNodeImpl),n.applyMixin(f.DocumentFragmentImpl,P.NonElementParentNodeImpl),n.applyMixin(d.DocumentImpl,I.ParentNodeImpl),n.applyMixin(f.DocumentFragmentImpl,I.ParentNodeImpl),n.applyMixin(b.ElementImpl,I.ParentNodeImpl),n.applyMixin(z.TextImpl,j.SlotableImpl),n.applyMixin(b.ElementImpl,j.SlotableImpl)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e[e.EOF=0]=\"EOF\",e[e.Declaration=1]=\"Declaration\",e[e.DocType=2]=\"DocType\",e[e.Element=3]=\"Element\",e[e.Text=4]=\"Text\",e[e.CDATA=5]=\"CDATA\",e[e.PI=6]=\"PI\",e[e.Comment=7]=\"Comment\",e[e.ClosingTag=8]=\"ClosingTag\"}(t.TokenType||(t.TokenType={}))},function(e,t,r){\"use strict\";r(64),r(20),r(66);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){var r=this,n=this._builderOptions,i=null;return o.isFunction(t)?i=this.parse(e,t.apply(this)):o.isArray(t)||o.isSet(t)?o.forEachArray(t,(function(t){return i=r.parse(e,t)}),this):o.isMap(t)||o.isObject(t)?o.forEachObject(t,(function(t,a){if(o.isFunction(a)&&(a=a.apply(r)),n.ignoreConverters||0!==t.indexOf(n.convert.att))if(n.ignoreConverters||0!==t.indexOf(n.convert.text))if(n.ignoreConverters||0!==t.indexOf(n.convert.cdata))if(n.ignoreConverters||0!==t.indexOf(n.convert.comment))if(n.ignoreConverters||0!==t.indexOf(n.convert.ins))if((o.isArray(a)||o.isSet(a))&&o.isEmpty(a));else if((o.isMap(a)||o.isObject(a))&&o.isEmpty(a))i=r.element(e,void 0,r.sanitize(t))||i;else if(n.keepNullNodes||null!=a)if(o.isArray(a)||o.isSet(a))o.forEachArray(a,(function(n){var o={};o[t]=n,i=r.parse(e,o)}),r);else if(o.isMap(a)||o.isObject(a)){(s=r.element(e,void 0,r.sanitize(t)))&&(i=s,r.parse(s,a))}else if(null!=a&&\"\"!==a){var s;(s=r.element(e,void 0,r.sanitize(t)))&&(i=s,r.text(s,r._decodeText(r.sanitize(a))))}else i=r.element(e,void 0,r.sanitize(t))||i;else;else if(o.isString(a)){var u=a.indexOf(\" \"),l=-1===u?a:a.substr(0,u),c=-1===u?\"\":a.substr(u+1);i=r.instruction(e,r.sanitize(l),r.sanitize(c))||i}else o.isArray(a)||o.isSet(a)?o.forEachArray(a,(function(t){var n=t.indexOf(\" \"),o=-1===n?t:t.substr(0,n),a=-1===n?\"\":t.substr(n+1);i=r.instruction(e,r.sanitize(o),r.sanitize(a))||i}),r):o.forEachObject(a,(function(t,n){return i=r.instruction(e,r.sanitize(t),r.sanitize(n))||i}),r);else o.isArray(a)||o.isSet(a)?o.forEachArray(a,(function(t){return i=r.comment(e,r.sanitize(t))||i}),r):i=r.comment(e,r.sanitize(a))||i;else o.isArray(a)||o.isSet(a)?o.forEachArray(a,(function(t){return i=r.cdata(e,r.sanitize(t))||i}),r):i=r.cdata(e,r.sanitize(a))||i;else i=o.isMap(a)||o.isObject(a)?r.parse(e,a):r.text(e,r._decodeText(r.sanitize(a)))||i;else if(t===n.convert.att){if(o.isArray(a)||o.isSet(a))throw new Error(\"Invalid attribute: \"+a.toString()+\". \"+e._debugInfo());o.forEachObject(a,(function(t,n){i=r.attribute(e,void 0,r.sanitize(t),r._decodeAttributeValue(r.sanitize(n)))||i}))}else i=r.attribute(e,void 0,r.sanitize(t.substr(n.convert.att.length)),r._decodeAttributeValue(r.sanitize(a)))||i}),this):(n.keepNullNodes||null!=t)&&(i=this.text(e,this._decodeText(this.sanitize(t)))||i),i||e},t}(r(75).BaseReader);t.ObjectReader=a},function(e,t,r){\"use strict\";var n=r(39);e.exports=new n({explicit:[r(286),r(287),r(288)]})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){this.level=0,this._builderOptions=e,this._writerOptions=e};t.BaseCBWriter=n},function(e,t,r){var n=r(16),i=r(8),o=r(116);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o(\"div\"),\"a\",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(11),i=r(13),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,r){var n=r(118),i=Function.toString;\"function\"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(11),i=r(80),o=n[\"__core-js_shared__\"]||i(\"__core-js_shared__\",{});e.exports=o},function(e,t,r){var n=r(14),i=r(187),o=r(55),a=r(15);e.exports=function(e,t){for(var r=i(t),s=a.f,u=o.f,l=0;l<r.length;l++){var c=r[l];n(e,c)||s(e,c,u(t,c))}}},function(e,t,r){var n=r(11);e.exports=n},function(e,t,r){var n=r(14),i=r(24),o=r(122).indexOf,a=r(45);e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)!n(a,r)&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(24),i=r(26),o=r(83),a=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){var n=r(8),i=/#|\\.prototype\\./,o=function(e,t){var r=s[a(e)];return r==l||r!=u&&(\"function\"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,\".\").toLowerCase()},s=o.data={},u=o.NATIVE=\"N\",l=o.POLYFILL=\"P\";e.exports=o},function(e,t,r){var n=r(86);e.exports=n&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator},function(e,t,r){var n=r(5);t.f=n},function(e,t,r){var n=r(120),i=r(14),o=r(125),a=r(15).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(String(e)+\" is not a function\");return e}},function(e,t,r){var n=r(13),i=r(59),o=r(5)(\"species\");e.exports=function(e,t){var r;return i(e)&&(\"function\"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n,i,o=r(11),a=r(193),s=o.process,u=s&&s.versions,l=u&&u.v8;l?i=(n=l.split(\".\"))[0]+n[1]:a&&(!(n=a.match(/Edge\\/(\\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\\/(\\d+)/))&&(i=n[1]),e.exports=i&&+i},function(e,t,r){var n=r(5),i=r(60),o=r(15),a=n(\"unscopables\"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){\"use strict\";var n,i,o,a=r(132),s=r(21),u=r(14),l=r(5),c=r(44),h=l(\"iterator\"),p=!1;[].keys&&(\"next\"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(n=i):p=!0),null==n&&(n={}),c||u(n,h)||s(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(e,t,r){var n=r(14),i=r(27),o=r(57),a=r(196),s=o(\"IE_PROTO\"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(18),i=r(197);e.exports=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},function(e,t,r){\"use strict\";var n=r(56),i=r(15),o=r(40);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},function(e,t,r){var n=r(90),i=r(42),o=r(5)(\"toStringTag\"),a=\"Arguments\"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:a?i(t):\"Object\"==(n=i(t))&&\"function\"==typeof t.callee?\"Arguments\":n}},function(e,t,r){\"use strict\";var n=r(18);e.exports=function(){var e=n(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.dotAll&&(t+=\"s\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t}},function(e,t,r){var n=r(47),i=r(35),o=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?\"\":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,r){var n=r(4),i=r(27),o=r(61);n({target:\"Object\",stat:!0,forced:r(8)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},function(e,t,r){\"use strict\";var n=r(4),i=r(11),o=r(123),a=r(25),s=r(140),u=r(141),l=r(142),c=r(13),h=r(8),p=r(208),f=r(62),d=r(209);e.exports=function(e,t,r){var m=-1!==e.indexOf(\"Map\"),y=-1!==e.indexOf(\"Weak\"),v=m?\"set\":\"add\",_=i[e],g=_&&_.prototype,b=_,x={},w=function(e){var t=g[e];a(g,e,\"add\"==e?function(e){return t.call(this,0===e?0:e),this}:\"delete\"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:\"get\"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:\"has\"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(o(e,\"function\"!=typeof _||!(y||g.forEach&&!h((function(){(new _).entries().next()})))))b=r.getConstructor(t,e,m,v),s.REQUIRED=!0;else if(o(e,!0)){var E=new b,D=E[v](y?{}:-0,1)!=E,S=h((function(){E.has(1)})),C=p((function(e){new _(e)})),A=!y&&h((function(){for(var e=new _,t=5;t--;)e[v](t,t);return!e.has(-0)}));C||((b=t((function(t,r){l(t,b,e);var n=d(new _,t,b);return null!=r&&u(r,n[v],n,m),n}))).prototype=g,g.constructor=b),(S||A)&&(w(\"delete\"),w(\"has\"),m&&w(\"get\")),(A||D)&&w(v),y&&g.clear&&delete g.clear}return x[e]=b,n({global:!0,forced:b!=_},x),f(b,e),y||r.setStrong(b,e,m),b}},function(e,t,r){var n=r(45),i=r(13),o=r(14),a=r(15).f,s=r(58),u=r(204),l=s(\"meta\"),c=0,h=Object.isExtensible||function(){return!0},p=function(e){a(e,l,{value:{objectID:\"O\"+ ++c,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!o(e,l)){if(!h(e))return\"F\";if(!t)return\"E\";p(e)}return e[l].objectID},getWeakData:function(e,t){if(!o(e,l)){if(!h(e))return!0;if(!t)return!1;p(e)}return e[l].weakData},onFreeze:function(e){return u&&f.REQUIRED&&h(e)&&!o(e,l)&&p(e),e}};n[l]=!0},function(e,t,r){var n=r(18),i=r(205),o=r(26),a=r(87),s=r(206),u=r(207),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,c,h){var p,f,d,m,y,v,_,g=a(t,r,c?2:1);if(h)p=e;else{if(\"function\"!=typeof(f=s(e)))throw TypeError(\"Target is not iterable\");if(i(f)){for(d=0,m=o(e.length);m>d;d++)if((y=c?g(n(_=e[d])[0],_[1]):g(e[d]))&&y instanceof l)return y;return new l(!1)}p=f.call(e)}for(v=p.next;!(_=v.call(p)).done;)if(\"object\"==typeof(y=u(p,g,_.value,c))&&y&&y instanceof l)return y;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(\"Incorrect \"+(r?r+\" \":\"\")+\"invocation\");return e}},function(e,t,r){\"use strict\";var n=r(15).f,i=r(60),o=r(210),a=r(87),s=r(142),u=r(141),l=r(88),c=r(211),h=r(16),p=r(140).fastKey,f=r(43),d=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,r,l){var c=e((function(e,n){s(e,c,t),d(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=n&&u(n,e[l],e,r)})),f=m(t),y=function(e,t,r){var n,i,o=f(e),a=v(e,t);return a?a.value=r:(o.last=a={index:i=p(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),h?o.size++:e.size++,\"F\"!==i&&(o.index[i]=a)),e},v=function(e,t){var r,n=f(e),i=p(t);if(\"F\"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(c.prototype,{clear:function(){for(var e=f(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=f(this),r=v(this,e);if(r){var n=r.next,i=r.previous;delete t.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),t.first==r&&(t.first=n),t.last==r&&(t.last=i),h?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=f(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(c.prototype,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),h&&n(c.prototype,\"size\",{get:function(){return f(this).size}}),c},setStrong:function(e,t,r){var n=t+\" Iterator\",i=m(t),o=m(n);l(e,t,(function(e,t){d(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?\"keys\"==t?{value:r.key,done:!1}:\"values\"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?\"entries\":\"values\",!r,!0),c(t)}}},function(e,t,r){\"use strict\";var n,i=r(4),o=r(55).f,a=r(26),s=r(222),u=r(35),l=r(224),c=r(44),h=\"\".endsWith,p=Math.min,f=l(\"endsWith\");i({target:\"String\",proto:!0,forced:!!(c||f||(n=o(String.prototype,\"endsWith\"),!n||n.writable))&&!f},{endsWith:function(e){var t=String(u(this));s(e);var r=arguments.length>1?arguments[1]:void 0,n=a(t.length),i=void 0===r?n:p(a(r),n),o=String(e);return h?h.call(t,o,i):t.slice(i-o.length,i)===o}})},function(e,t,r){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar n=r(229),i=r(230),o=r(231);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return h(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):\"string\"==typeof t?function(e,t,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if(\"Buffer\"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function c(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=a())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a().toString(16)+\" bytes\");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return z(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return U(e).length;default:if(n)return z(e).length;t=(\"\"+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return T(this,t,r);case\"utf8\":case\"utf-8\":return C(this,t,r);case\"ascii\":return A(this,t,r);case\"latin1\":case\"binary\":return N(this,t,r);case\"base64\":return S(this,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return O(this,t,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if(\"number\"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function _(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var h=!0,p=0;p<u;p++)if(l(e,o+p)!==l(t,p)){h=!1;break}if(h)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return G(z(t,e.length-r),e,r,n)}function x(e,t,r,n){return G(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return x(e,t,r,n)}function E(e,t,r,n){return G(U(t),e,r,n)}function D(e,t,r,n){return G(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r=\"\",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?\"string\"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?C(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e=\"\",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,r).match(/.{2}/g).join(\" \"),this.length>r&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n=\"utf8\",r=this.length,t=0;else if(void 0===r&&\"string\"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(r)?(r|=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return g(this,e,t,r);case\"utf8\":case\"utf-8\":return b(this,e,t,r);case\"ascii\":return x(this,e,t,r);case\"latin1\":case\"binary\":return w(this,e,t,r);case\"base64\":return E(this,e,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return D(this,e,t,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function A(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function N(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=t;o<r;++o)i+=R(e[o]);return i}function O(e,t,r){for(var n=e.slice(t,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function F(e,t,r){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>r)throw new RangeError(\"Trying to access beyond buffer length\")}function k(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>e.length)throw new RangeError(\"Index out of range\")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function M(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if(\"string\"==typeof e){if(\"string\"==typeof t?(n=t,t=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!u.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError(\"Out of range index\");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:z(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\\/0-9A-Za-z-_]/g;function R(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(j,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function G(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(78))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isASCIIByte=function(e){return e>=0&&e<=127}},function(e,t,r){\"use strict\";var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0}),t.length=function(e){return e.length},t.byteLowercase=function(e){for(var t=0;t<e.length;t++){var r=e[t];r>=65&&r<=90&&(e[t]=r+32)}},t.byteUppercase=function(e){for(var t=0;t<e.length;t++){var r=e[t];r>=97&&r<=122&&(e[t]=r-32)}},t.byteCaseInsensitiveMatch=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],i=t[r];if(n>=65&&n<=90&&(n+=32),i>=65&&i<=90&&(i+=32),n!==i)return!1}return!0},t.startsWith=function(e,t){for(var r=0;;){if(r>=e.length)return!1;if(r>=t.length)return!0;if(e[r]!==t[r])return!1;r++}},t.byteLessThan=function(e,t){for(var r=0;;){if(r>=e.length)return!1;if(r>=t.length)return!0;var n=e[r],i=t[r];if(n<i)return!0;if(n>i)return!1;r++}},t.isomorphicDecode=function(e){return String.fromCodePoint.apply(String,i(e))}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(6),i=r(7),o=r(0),a=r(12),s=function(){function e(e){this._associatedDocument=e||n.dom.window.document}return e.prototype.createDocumentType=function(e,t,r){return o.namespace_validate(e),o.create_documentType(this._associatedDocument,e,t,r)},e.prototype.createDocument=function(e,t,r){void 0===r&&(r=null);var n=o.create_xmlDocument(),a=null;return t&&(a=o.document_internalCreateElementNS(n,e,t)),r&&n.appendChild(r),a&&n.appendChild(a),n._origin=this._associatedDocument._origin,e===i.namespace.HTML?n._contentType=\"application/xhtml+xml\":e===i.namespace.SVG?n._contentType=\"image/svg+xml\":n._contentType=\"application/xml\",n},e.prototype.createHTMLDocument=function(e){var t=o.create_document();t._type=\"html\",t._contentType=\"text/html\",t.appendChild(o.create_documentType(t,\"html\",\"\",\"\"));var r=o.element_createAnElement(t,\"html\",i.namespace.HTML);t.appendChild(r);var n=o.element_createAnElement(t,\"head\",i.namespace.HTML);if(r.appendChild(n),void 0!==e){var a=o.element_createAnElement(t,\"title\",i.namespace.HTML);n.appendChild(a);var s=o.create_text(t,e);a.appendChild(s)}var u=o.element_createAnElement(t,\"body\",i.namespace.HTML);return r.appendChild(u),t._origin=this._associatedDocument._origin,t},e.prototype.hasFeature=function(){return!0},e._create=function(t){return new e(t)},e}();t.DOMImplementationImpl=s,a.idl_defineConst(s.prototype,\"_ID\",\"@oozcitak/dom\")},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(70),a=r(1),s=r(0),u=function(e){function t(){var t=e.call(this)||this;return t._signalSlots=new Set,t._mutationObserverMicrotaskQueued=!1,t._mutationObservers=new Set,t._iteratorList=new a.FixedSizeSet,t._associatedDocument=s.create_document(),t}return i(t,e),Object.defineProperty(t.prototype,\"document\",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"event\",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(o.EventTargetImpl);t.WindowImpl=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=function(){function e(){}return e.isNode=function(e){return!!e&&void 0!==e._nodeType},e.isDocumentNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.Document},e.isDocumentTypeNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.DocumentType},e.isDocumentFragmentNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.DocumentFragment},e.isAttrNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.Attribute},e.isCharacterDataNode=function(t){if(!e.isNode(t))return!1;var r=t._nodeType;return r===n.NodeType.Text||r===n.NodeType.ProcessingInstruction||r===n.NodeType.Comment||r===n.NodeType.CData},e.isTextNode=function(t){return e.isNode(t)&&(t._nodeType===n.NodeType.Text||t._nodeType===n.NodeType.CData)},e.isExclusiveTextNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.Text},e.isCDATASectionNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.CData},e.isCommentNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.Comment},e.isProcessingInstructionNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.ProcessingInstruction},e.isElementNode=function(t){return e.isNode(t)&&t._nodeType===n.NodeType.Element},e.isCustomElementNode=function(t){return e.isElementNode(t)&&\"custom\"===t._customElementState},e.isShadowRoot=function(e){return!!e&&void 0!==e.host},e.isMouseEvent=function(e){return!!e&&void 0!==e.screenX&&null!=e.screenY},e.isSlotable=function(t){return!!t&&void 0!==t._name&&void 0!==t._assignedSlot&&(e.isTextNode(t)||e.isElementNode(t))},e.isSlot=function(t){return!!t&&void 0!==t._name&&void 0!==t._assignedNodes&&e.isElementNode(t)},e.isWindow=function(e){return!!e&&void 0!==e.navigator},e.isEventListener=function(e){return!!e&&void 0!==e.handleEvent},e.isRegisteredObserver=function(e){return!!e&&void 0!==e.observer&&void 0!==e.options},e.isTransientRegisteredObserver=function(t){return!!t&&void 0!==t.source&&e.isRegisteredObserver(t)},e}();t.Guard=i},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(r(98).DocumentImpl);t.XMLDocumentImpl=o},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var o,a=r(1),s=r(243),u=r(7),l=r(244),c={ftp:21,file:null,http:80,https:443,ws:80,wss:443},h=/[\\0-\\x1F\\x7F-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,p=/[ \"<>`]|[\\0-\\x1F\\x7F-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,f=/[ \"<>`#?{}]|[\\0-\\x1F\\x7F-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,d=/[ \"<>`#?{}/:;=@\\[\\]\\\\\\^\\|]|[\\0-\\x1F\\x7F-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,m=/[0-9A-Za-z!\\$&-\\/:;=\\?@_~\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uD83E\\uD840-\\uD87E\\uD880-\\uD8BE\\uD8C0-\\uD8FE\\uD900-\\uD93E\\uD940-\\uD97E\\uD980-\\uD9BE\\uD9C0-\\uD9FE\\uDA00-\\uDA3E\\uDA40-\\uDA7E\\uDA80-\\uDABE\\uDAC0-\\uDAFE\\uDB00-\\uDB3E\\uDB40-\\uDB7E\\uDB80-\\uDBBE\\uDBC0-\\uDBFE][\\uDC00-\\uDFFF]|[\\uD83F\\uD87F\\uD8BF\\uD8FF\\uD93F\\uD97F\\uD9BF\\uD9FF\\uDA3F\\uDA7F\\uDABF\\uDAFF\\uDB3F\\uDB7F\\uDBBF\\uDBFF][\\uDC00-\\uDFFD]/,y=/[\\0\\t\\f\\r #%/:?@\\[\\\\\\]]/;function v(e){void 0!==o&&o.call(null,\"Validation Error: \"+e)}function _(){return{scheme:\"\",username:\"\",password:\"\",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function g(e){return e in c}function b(e){return g(e.scheme)}function x(e){return c[e]||null}function w(e){return\"\"!==e.username||\"\"!==e.password}function E(e,t){var r,i;void 0===t&&(t=!1);var o=e.scheme+\":\";if(null!==e.host?(o+=\"//\",w(e)&&(o+=e.username,\"\"!==e.password&&(o+=\":\"+e.password),o+=\"@\"),o+=D(e.host),null!==e.port&&(o+=\":\"+e.port)):null===e.host&&\"file\"===e.scheme&&(o+=\"//\"),e._cannotBeABaseURLFlag)o+=e.path[0];else try{for(var a=n(e.path),s=a.next();!s.done;s=a.next()){o+=\"/\"+s.value}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null!==e.query&&(o+=\"?\"+e.query),t||null===e.fragment||(o+=\"#\"+e.fragment),o}function D(e){return a.isNumber(e)?S(e):a.isArray(e)?\"[\"+C(e)+\"]\":e}function S(e){for(var t=\"\",r=e,n=1;n<=4;n++)t=(r%256).toString()+t,4!==n&&(t=\".\"+t),r=Math.floor(r/256);return t}function C(e){for(var t=\"\",r=null,n=-1,i=0,o=0,a=0;a<8;a++)if(0===e[a]){i=1;for(var s=a+1;s<8&&0===e[s];s++)i++;i>o&&(o=i,n=a)}o>1&&(r=n);for(var u=!1,l=0;l<8;l++)u&&0===e[l]||(u&&(u=!1),r!==l?(t+=e[l].toString(16),7!==l&&(t+=\":\")):(t+=0===l?\"::\":\":\",u=!0));return t}function A(e,t,r,i,o){var l,c,y,_;if(void 0===i){i={scheme:\"\",username:\"\",password:\"\",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var E=/^[\\u0000-\\u001F\\u0020]+/,D=/[\\u0000-\\u001F\\u0020]+$/;(E.test(e)||D.test(e))&&v(\"Input string contains leading or trailing control characters or space.\"),e=(e=e.replace(E,\"\")).replace(D,\"\")}var S=/[\\u0009\\u000A\\u000D]/g;S.test(e)&&v(\"Input string contains tab or newline characters.\"),e=e.replace(S,\"\");var C=void 0===o?s.ParserState.SchemeStart:o;void 0===t&&(t=null);for(var A=void 0===r||\"replacement\"===r||\"UTF-16BE\"===r||\"UTF-16LE\"===r?\"UTF-8\":r,L=\"\",M=!1,B=!1,j=!1,R=new a.StringWalker(e);;){switch(C){case s.ParserState.SchemeStart:if(u.codePoint.ASCIIAlpha.test(R.c()))L+=R.c().toLowerCase(),C=s.ParserState.Scheme;else{if(void 0!==o)return v(\"Invalid scheme start character.\"),null;C=s.ParserState.NoScheme,R.pointer--}break;case s.ParserState.Scheme:if(u.codePoint.ASCIIAlphanumeric.test(R.c())||\"+\"===R.c()||\"-\"===R.c()||\".\"===R.c())L+=R.c().toLowerCase();else{if(\":\"!==R.c()){if(void 0===o){L=\"\",C=s.ParserState.NoScheme,R.pointer=0;continue}return v(\"Invalid input string.\"),null}if(void 0!==o){if(g(i.scheme)&&!g(L))return i;if(!g(i.scheme)&&g(L))return i;if((w(i)||null!==i.port)&&\"file\"===L)return i;if(\"file\"===i.scheme&&(\"\"===i.host||null===i.host))return i}if(i.scheme=L,void 0!==o)return i.port===x(i.scheme)&&(i.port=null),i;L=\"\",\"file\"===i.scheme?(R.remaining().startsWith(\"//\")||v(\"Invalid file URL scheme, '//' expected.\"),C=s.ParserState.File):b(i)&&null!==t&&t.scheme===i.scheme?C=s.ParserState.SpecialRelativeOrAuthority:b(i)?C=s.ParserState.SpecialAuthoritySlashes:R.remaining().startsWith(\"/\")?(C=s.ParserState.PathOrAuthority,R.pointer++):(i._cannotBeABaseURLFlag=!0,i.path.push(\"\"),C=s.ParserState.CannotBeABaseURLPath)}break;case s.ParserState.NoScheme:if(null===t||t._cannotBeABaseURLFlag&&\"#\"!==R.c())return v(\"Invalid input string.\"),null;t._cannotBeABaseURLFlag&&\"#\"===R.c()?(i.scheme=t.scheme,i.path=u.list.clone(t.path),i.query=t.query,i.fragment=\"\",i._cannotBeABaseURLFlag=!0,C=s.ParserState.Fragment):\"file\"!==t.scheme?(C=s.ParserState.Relative,R.pointer--):(C=s.ParserState.File,R.pointer--);break;case s.ParserState.SpecialRelativeOrAuthority:\"/\"===R.c()&&R.remaining().startsWith(\"/\")?(C=s.ParserState.SpecialAuthorityIgnoreSlashes,R.pointer++):(v(\"Invalid input string.\"),C=s.ParserState.Relative,R.pointer--);break;case s.ParserState.PathOrAuthority:\"/\"===R.c()?C=s.ParserState.Authority:(C=s.ParserState.Path,R.pointer--);break;case s.ParserState.Relative:if(null===t)throw new Error(\"Invalid parser state. Base URL is null.\");switch(i.scheme=t.scheme,R.c()){case\"\":i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=u.list.clone(t.path),i.query=t.query;break;case\"/\":C=s.ParserState.RelativeSlash;break;case\"?\":i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=u.list.clone(t.path),i.query=\"\",C=s.ParserState.Query;break;case\"#\":i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=u.list.clone(t.path),i.query=t.query,i.fragment=\"\",C=s.ParserState.Fragment;break;default:b(i)&&\"\\\\\"===R.c()?(v(\"Invalid input string.\"),C=s.ParserState.RelativeSlash):(i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=u.list.clone(t.path),0!==i.path.length&&i.path.splice(i.path.length-1,1),C=s.ParserState.Path,R.pointer--)}break;case s.ParserState.RelativeSlash:if(!b(i)||\"/\"!==R.c()&&\"\\\\\"!==R.c())if(\"/\"===R.c())C=s.ParserState.Authority;else{if(null===t)throw new Error(\"Invalid parser state. Base URL is null.\");i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,C=s.ParserState.Path,R.pointer--}else\"\\\\\"===R.c()&&v(\"Invalid input string.\"),C=s.ParserState.SpecialAuthorityIgnoreSlashes;break;case s.ParserState.SpecialAuthoritySlashes:\"/\"===R.c()&&R.remaining().startsWith(\"/\")?(C=s.ParserState.SpecialAuthorityIgnoreSlashes,R.pointer++):(v(\"Expected '//'.\"),C=s.ParserState.SpecialAuthorityIgnoreSlashes,R.pointer--);break;case s.ParserState.SpecialAuthorityIgnoreSlashes:\"/\"!==R.c()&&\"\\\\\"!==R.c()?(C=s.ParserState.Authority,R.pointer--):v(\"Unexpected '/' or '\\\\'.\");break;case s.ParserState.Authority:if(\"@\"===R.c()){v(\"Unexpected '@'.\"),M&&(L=\"%40\"+L),M=!0;try{for(var U=(l=void 0,n(L)),G=U.next();!G.done;G=U.next()){var q=G.value;if(\":\"!==q||j){var W=X(q,d);j?i.password+=W:i.username+=W}else j=!0}}catch(e){l={error:e}}finally{try{G&&!G.done&&(c=U.return)&&c.call(U)}finally{if(l)throw l.error}}L=\"\"}else if(\"\"===R.c()||\"/\"===R.c()||\"?\"===R.c()||\"#\"===R.c()||b(i)&&\"\\\\\"===R.c()){if(M&&\"\"===L)return v(\"Invalid input string.\"),null;R.pointer-=L.length+1,L=\"\",C=s.ParserState.Host}else L+=R.c();break;case s.ParserState.Host:case s.ParserState.Hostname:if(void 0!==o&&\"file\"===i.scheme)R.pointer--,C=s.ParserState.FileHost;else if(\":\"!==R.c()||B)if(\"\"===R.c()||\"/\"===R.c()||\"?\"===R.c()||\"#\"===R.c()||b(i)&&\"\\\\\"===R.c()){if(R.pointer--,b(i)&&\"\"===L)return v(\"Invalid input string.\"),null;if(void 0!==o&&\"\"===L&&(w(i)||null!==i.port))return v(\"Invalid input string.\"),i;if(null===(J=I(L,!b(i))))return null;if(i.host=J,L=\"\",C=s.ParserState.PathStart,void 0!==o)return i}else\"[\"===R.c()&&(B=!0),\"]\"===R.c()&&(B=!1),L+=R.c();else{if(\"\"===L)return v(\"Invalid input string.\"),null;if(null===(J=I(L,!b(i))))return null;if(i.host=J,L=\"\",C=s.ParserState.Port,o===s.ParserState.Hostname)return i}break;case s.ParserState.Port:if(u.codePoint.ASCIIDigit.test(R.c()))L+=R.c();else{if(!(\"\"===R.c()||\"/\"===R.c()||\"?\"===R.c()||\"#\"===R.c()||b(i)&&\"\\\\\"===R.c()||o))return v(\"Invalid input string.\"),null;if(\"\"!==L&&\"\"!==L){var H=parseInt(L,10);if(H>Math.pow(2,16)-1)return v(\"Invalid port number.\"),null;i.port=H===x(i.scheme)?null:H,L=\"\"}if(void 0!==o)return i;C=s.ParserState.PathStart,R.pointer--}break;case s.ParserState.File:if(i.scheme=\"file\",\"/\"===R.c()||\"\\\\\"===R.c())\"\\\\\"===R.c()&&v(\"Invalid input string.\"),C=s.ParserState.FileSlash;else if(null!==t&&\"file\"===t.scheme)switch(R.c()){case\"\":i.host=t.host,i.path=u.list.clone(t.path),i.query=t.query;break;case\"?\":i.host=t.host,i.path=u.list.clone(t.path),i.query=\"\",C=s.ParserState.Query;break;case\"#\":i.host=t.host,i.path=u.list.clone(t.path),i.query=t.query,i.fragment=\"\",C=s.ParserState.Fragment;break;default:P(R.substring())?v(\"Unexpected windows drive letter in input string.\"):(i.host=t.host,i.path=u.list.clone(t.path),O(i)),C=s.ParserState.Path,R.pointer--}else C=s.ParserState.Path,R.pointer--;break;case s.ParserState.FileSlash:\"/\"===R.c()||\"\\\\\"===R.c()?(\"\\\\\"===R.c()&&v(\"Invalid input string.\"),C=s.ParserState.FileHost):(null===t||\"file\"!==t.scheme||P(R.substring())||(F(t.path[0])?i.path.push(t.path[0]):i.host=t.host),C=s.ParserState.Path,R.pointer--);break;case s.ParserState.FileHost:if(\"\"===R.c()||\"/\"===R.c()||\"\\\\\"===R.c()||\"?\"===R.c()||\"#\"===R.c())if(R.pointer--,void 0===o&&k(L))v(\"Unexpected windows drive letter in input string.\"),C=s.ParserState.Path;else if(\"\"===L){if(i.host=\"\",void 0!==o)return i;C=s.ParserState.PathStart}else{var J;if(null===(J=I(L,!b(i))))return null;if(\"localhost\"===J&&(J=\"\"),i.host=J,void 0!==o)return i;L=\"\",C=s.ParserState.PathStart}else L+=R.c();break;case s.ParserState.PathStart:b(i)?(\"\\\\\"===R.c()&&v(\"Invalid input string.\"),C=s.ParserState.Path,\"/\"!==R.c()&&\"\\\\\"!==R.c()&&R.pointer--):void 0===o&&\"?\"===R.c()?(i.query=\"\",C=s.ParserState.Query):void 0===o&&\"#\"===R.c()?(i.fragment=\"\",C=s.ParserState.Fragment):\"\"!==R.c()&&(C=s.ParserState.Path,\"/\"!==R.c()&&R.pointer--);break;case s.ParserState.Path:if(\"\"===R.c()||\"/\"===R.c()||b(i)&&\"\\\\\"===R.c()||void 0===o&&(\"?\"===R.c()||\"#\"===R.c())){if(b(i)&&\"\\\\\"===R.c()&&v(\"Invalid input string.\"),T(L))O(i),\"/\"===R.c()||b(i)&&\"\\\\\"===R.c()||i.path.push(\"\");else if(!N(L)||\"/\"===R.c()||b(i)&&\"\\\\\"===R.c()){if(!N(L)){if(\"file\"===i.scheme&&0===i.path.length&&k(L)){null!==i.host&&\"\"!==i.host&&(v(\"Invalid input string.\"),i.host=\"\");var Y=Array.from(L);L=Y.slice(0,1)+\":\"+Y.slice(2)}i.path.push(L)}}else i.path.push(\"\");if(L=\"\",\"file\"===i.scheme&&(\"\"===R.c()||\"?\"===R.c()||\"#\"===R.c()))for(;i.path.length>1&&\"\"===i.path[0];)v(\"Invalid input string.\"),i.path.splice(0,1);\"?\"===R.c()&&(i.query=\"\",C=s.ParserState.Query),\"#\"===R.c()&&(i.fragment=\"\",C=s.ParserState.Fragment)}else m.test(R.c())||\"%\"===R.c()||v(\"Character is not a URL code point or a percent encoded character.\"),\"%\"!==R.c()||/^[0-9a-fA-F][0-9a-fA-F]/.test(R.remaining())||v(\"Percent encoded character must be followed by two hex digits.\"),L+=X(R.c(),f);break;case s.ParserState.CannotBeABaseURLPath:\"?\"===R.c()?(i.query=\"\",C=s.ParserState.Query):\"#\"===R.c()?(i.fragment=\"\",C=s.ParserState.Fragment):(\"\"===R.c()||m.test(R.c())||\"%\"===R.c()||v(\"Character is not a URL code point or a percent encoded character.\"),\"%\"!==R.c()||/^[0-9a-fA-F][0-9a-fA-F]/.test(R.remaining())||v(\"Percent encoded character must be followed by two hex digits.\"),\"\"!==R.c()&&(i.path[0]+=X(R.c(),h)));break;case s.ParserState.Query:if(\"UTF-8\"===A||b(i)&&\"ws\"!==i.scheme&&\"wss\"!==i.scheme||(A=\"UTF-8\"),void 0===o&&\"#\"===R.c())i.fragment=\"\",C=s.ParserState.Fragment;else if(\"\"!==R.c()){if(m.test(R.c())||\"%\"===R.c()||v(\"Character is not a URL code point or a percent encoded character.\"),\"%\"!==R.c()||/^[0-9a-fA-F][0-9a-fA-F]/.test(R.remaining())||v(\"Percent encoded character must be followed by two hex digits.\"),\"UTF-8\"!==A.toUpperCase())throw new Error(\"Only UTF-8 encoding is supported.\");var V=a.utf8Encode(R.c());if(V.length>=3&&38===V[0]&&35===V[1]&&59===V[V.length-1])V=V.subarray(2,V.length-1),i.query+=\"%26%23\"+u.byteSequence.isomorphicDecode(V)+\"%3B\";else try{for(var K=(y=void 0,n(V)),$=K.next();!$.done;$=K.next()){var Q=$.value;Q<33||Q>126||34===Q||35===Q||60===Q||62===Q||39===Q&&b(i)?i.query+=z(Q):i.query+=String.fromCharCode(Q)}}catch(e){y={error:e}}finally{try{$&&!$.done&&(_=K.return)&&_.call(K)}finally{if(y)throw y.error}}}break;case s.ParserState.Fragment:\"\"===R.c()||(\"\\0\"===R.c()?v(\"NULL character in input string.\"):(m.test(R.c())||\"%\"===R.c()||v(\"Unexpected character in fragment string.\"),\"%\"!==R.c()||/^[A-Za-z0-9][A-Za-z0-9]/.test(R.remaining())||v(\"Unexpected character in fragment string.\"),i.fragment+=X(R.c(),p)))}if(R.eof)break;R.pointer++}return i}function N(e){return\".\"===e||\"%2e\"===e.toLowerCase()}function T(e){var t=e.toLowerCase();return\"..\"===t||\".%2e\"===t||\"%2e.\"===t||\"%2e%2e\"===t}function O(e){var t=e.path;0!==t.length&&(\"file\"===e.scheme&&1===t.length&&F(t[0])||e.path.splice(e.path.length-1,1))}function F(e){return e.length>=2&&u.codePoint.ASCIIAlpha.test(e[0])&&\":\"===e[1]}function k(e){return e.length>=2&&u.codePoint.ASCIIAlpha.test(e[0])&&(\":\"===e[1]||\"|\"===e[1])}function P(e){return e.length>=2&&k(e)&&(2===e.length||\"/\"===e[2]||\"\\\\\"===e[2]||\"?\"===e[2]||\"#\"===e[2])}function I(e,t){if(void 0===t&&(t=!1),e.startsWith(\"[\"))return e.endsWith(\"]\")?B(e.substring(1,e.length-1)):(v(\"Expected ']' after '['.\"),null);if(t)return j(e);var r=H(a.utf8Decode(G(e)));if(null===r)return v(\"Invalid domain.\"),null;if(y.test(r))return v(\"Invalid domain.\"),null;var n=M(r);return null===n||a.isNumber(n)?n:r}function L(e,t){void 0===t&&(t={value:!1});var r=10;return e.startsWith(\"0x\")||e.startsWith(\"0X\")?(t.value=!0,e=e.substr(2),r=16):e.length>=2&&\"0\"===e[0]&&(t.value=!0,e=e.substr(1),r=8),\"\"===e?0:(10===r?/^[0-9]+$/:16===r?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(e)?parseInt(e,r):null}function M(e){var t,r,i,o,a={value:!1},s=e.split(\".\");if(\"\"===s[s.length-1]&&(a.value=!0,s.length>1&&s.pop()),s.length>4)return e;var u=[];try{for(var l=n(s),c=l.next();!c.done;c=l.next()){var h=c.value;if(\"\"===h)return e;if(null===(_=L(h,a)))return e;u.push(_)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}a.value&&v(\"Invalid IP v4 address.\");for(var p=0;p<u.length;p++){if(u[p]>255&&(v(\"Invalid IP v4 address.\"),p<u.length-1))return null}if(u[u.length-1]>=Math.pow(256,5-u.length))return v(\"Invalid IP v4 address.\"),null;var f=u[u.length-1];u.pop();var d=0;try{for(var m=n(u),y=m.next();!y.done;y=m.next()){var _;f+=(_=y.value)*Math.pow(256,3-d),d++}}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}return f}function B(e){var t,r=[0,0,0,0,0,0,0,0],n=0,o=null,s=new a.StringWalker(e);if(\":\"===s.c()){if(!s.remaining().startsWith(\":\"))return v(\"Invalid IP v6 address.\"),null;s.pointer+=2,o=n+=1}for(;\"\"!==s.c();){if(8===n)return v(\"Invalid IP v6 address.\"),null;if(\":\"!==s.c()){for(var l=0,c=0;c<4&&u.codePoint.ASCIIHexDigit.test(s.c());)l=16*l+parseInt(s.c(),16),s.pointer++,c++;if(\".\"===s.c()){if(0===c)return v(\"Invalid IP v6 address.\"),null;if(s.pointer-=c,n>6)return v(\"Invalid IP v6 address.\"),null;for(var h=0;\"\"!==s.c();){var p=null;if(h>0){if(!(\".\"===s.c()&&h<4))return v(\"Invalid IP v6 address.\"),null;s.pointer++}if(!u.codePoint.ASCIIDigit.test(s.c()))return v(\"Invalid IP v6 address.\"),null;for(;u.codePoint.ASCIIDigit.test(s.c());){var f=parseInt(s.c(),10);if(null===p)p=f;else{if(0===p)return v(\"Invalid IP v6 address.\"),null;p=10*p+f}if(p>255)return v(\"Invalid IP v6 address.\"),null;s.pointer++}if(null===p)return v(\"Invalid IP v6 address.\"),null;r[n]=256*r[n]+p,2!==++h&&4!==h||n++}if(4!==h)return v(\"Invalid IP v6 address.\"),null;break}if(\":\"===s.c()){if(s.pointer++,\"\"===s.c())return v(\"Invalid IP v6 address.\"),null}else if(\"\"!==s.c())return v(\"Invalid IP v6 address.\"),null;r[n]=l,n++}else{if(null!==o)return v(\"Invalid IP v6 address.\"),null;s.pointer++,o=++n}}if(null!==o){var d=n-o;for(n=7;0!==n&&d>0;)t=i([r[o+d-1],r[n]],2),r[n]=t[0],r[o+d-1]=t[1],n--,d--}else if(null===o&&8!==n)return v(\"Invalid IP v6 address.\"),null;return r}function j(e){var t,r;if(/[\\x00\\t\\f\\r #/:?@\\[\\\\\\]]/.test(e))return v(\"Invalid host string.\"),null;var i=\"\";try{for(var o=n(e),a=o.next();!a.done;a=o.next()){i+=X(a.value,h)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function R(e){return null}function z(e){return\"%\"+(\"00\"+e.toString(16).toUpperCase()).slice(-2)}function U(e){for(var t=function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},r=new Uint8Array(e.length),n=0,i=0;i<e.length;i++){var o=e[i];if(37!==o)r[n]=o,n++;else if(37===o&&i>=e.length-2)r[n]=o,n++;else if(37!==o||t(e[i+1])&&t(e[i+2])){var s=parseInt(a.utf8Decode(Uint8Array.of(e[i+1],e[i+2])),16);r[n]=s,n++,i+=2}else r[n]=o,n++}return r.subarray(0,n)}function G(e){return U(a.utf8Encode(e))}function X(e,t){var r,i;if(!t.test(e))return e;var o=a.utf8Encode(e),s=\"\";try{for(var u=n(o),l=u.next();!l.done;l=u.next()){s+=z(l.value)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s}function q(e){var t,r,i,o,s=[],u=[];try{for(var l=n(e),c=l.next();!c.done;c=l.next()){var h=c.value;38===h?(s.push(Uint8Array.from(u)),u=[]):u.push(h)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}0!==u.length&&s.push(Uint8Array.from(u));var p=[];try{for(var f=n(s),d=f.next();!d.done;d=f.next()){var m=d.value;if(0!==m.length){for(var y=m.indexOf(61),v=-1!==y?m.slice(0,y):m,_=-1!==y?m.slice(y+1):new Uint8Array,g=0;g<v.length;g++)43===v[g]&&(v[g]=32);for(g=0;g<_.length;g++)43===_[g]&&(_[g]=32);var b=a.utf8Decode(v),x=a.utf8Decode(_);p.push([b,x])}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return p}function W(e){var t,r,i=\"\";try{for(var o=n(e),a=o.next();!a.done;a=o.next()){var s=a.value;i+=32===s?\"+\":42===s||45===s||46===s||s>=48&&s<=57||s>=65&&s<=90||95===s||s>=97&&s<=122?String.fromCodePoint(s):z(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function H(e,t){void 0===t&&(t=!1);var r=l.domainToASCII(e);return\"\"===r?(v(\"Invalid domain name.\"),null):r}t.setValidationErrorCallback=function(e){o=e},t.newURL=_,t.isSpecialScheme=g,t.isSpecial=b,t.defaultPort=x,t.includesCredentials=w,t.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||\"\"===e.host||e._cannotBeABaseURLFlag||\"file\"===e.scheme},t.urlSerializer=E,t.hostSerializer=D,t.iPv4Serializer=S,t.iPv6Serializer=C,t.urlParser=function(e,t,r){var n=A(e,t,r);return null===n?null:(\"blob\"!==n.scheme||(n._blobURLEntry=null),n)},t.basicURLParser=A,t.setTheUsername=function(e,t){var r,i,o=\"\";try{for(var a=n(t),s=a.next();!s.done;s=a.next()){o+=X(s.value,d)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}e.username=o},t.setThePassword=function(e,t){var r,i,o=\"\";try{for(var a=n(t),s=a.next();!s.done;s=a.next()){o+=X(s.value,d)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}e.password=o},t.isSingleDotPathSegment=N,t.isDoubleDotPathSegment=T,t.shorten=O,t.isNormalizedWindowsDriveLetter=F,t.isWindowsDriveLetter=k,t.startsWithAWindowsDriveLetter=P,t.hostParser=I,t.iPv4NumberParser=L,t.iPv4Parser=M,t.iPv6Parser=B,t.opaqueHostParser=j,t.resolveABlobURL=R,t.percentEncode=z,t.percentDecode=U,t.stringPercentDecode=G,t.utf8PercentEncode=X,t.hostEquals=function(e,t){return e===t},t.urlEquals=function(e,t,r){return void 0===r&&(r=!1),E(e,r)===E(t,r)},t.urlEncodedStringParser=function(e){return q(a.utf8Encode(e))},t.urlEncodedParser=q,t.urlEncodedByteSerializer=W,t.urlEncodedSerializer=function(e,t){var r,i;if(\"UTF-8\"!==(void 0===t||\"replacement\"===t||\"UTF-16BE\"===t||\"UTF-16LE\"===t?\"UTF-8\":t).toUpperCase())throw new Error(\"Only UTF-8 encoding is supported.\");var o=\"\";try{for(var s=n(e),u=s.next();!u.done;u=s.next()){var l=u.value,c=W(a.utf8Encode(l[0])),h=l[1];h=W(a.utf8Encode(h)),\"\"!==o&&(o+=\"&\"),o+=c+\"=\"+h}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},t.origin=function e(t){switch(t.scheme){case\"blob\":t._blobURLEntry;var r=A(t.path[0]);return null===r?s.OpaqueOrigin:e(r);case\"ftp\":case\"http\":case\"https\":case\"ws\":case\"wss\":return[t.scheme,null===t.host?\"\":t.host,t.port,null];case\"file\":default:return s.OpaqueOrigin}},t.domainToASCII=H,t.domainToUnicode=function(e,t){void 0===t&&(t=!1);var r=l.domainToUnicode(e);return\"\"===r&&v(\"Invalid domain name.\"),r},t.asciiSerializationOfAnOrigin=function(e){if(\"\"===e[0]&&\"\"===e[1]&&null===e[2]&&null===e[3])return\"null\";var t=e[0]+\"://\"+D(e[1]);return null!==e[2]&&(t+=\":\"+e[2].toString()),t}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),i=function(){function e(){this._signal=n.create_abortSignal()}return Object.defineProperty(e.prototype,\"signal\",{get:function(){return this._signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){n.abort_signalAbort(this._signal)},e}();t.AbortControllerImpl=i},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(70),a=r(0),s=function(e){function t(){var t=e.call(this)||this;return t._abortedFlag=!1,t._abortAlgorithms=new Set,t}return i(t,e),Object.defineProperty(t.prototype,\"aborted\",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"onabort\",{get:function(){return a.event_getterEventHandlerIDLAttribute(this,\"onabort\")},set:function(e){a.event_setterEventHandlerIDLAttribute(this,\"onabort\",e)},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(o.EventTargetImpl);t.AbortSignalImpl=s},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),a=r(34),s=r(12),u=function(e){function t(t,r,n){var i=e.call(this)||this;return i._name=\"\",i._publicId=\"\",i._systemId=\"\",i._name=t,i._publicId=r,i._systemId=n,i}return i(t,e),Object.defineProperty(t.prototype,\"name\",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"publicId\",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"systemId\",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error(\"Mixin: ChildNode not implemented.\")},t.prototype.remove=function(){throw new Error(\"Mixin: ChildNode not implemented.\")},t._create=function(e,r,n,i){void 0===n&&(n=\"\"),void 0===i&&(i=\"\");var o=new t(r,n,i);return o._nodeDocument=e,o},t}(a.NodeImpl);t.DocumentTypeImpl=u,s.idl_defineConst(u.prototype,\"_nodeType\",o.NodeType.DocumentType)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(100),a=r(1),s=r(0),u=function(e){function t(t,r){var n=e.call(this)||this;return n._host=t,n._mode=r,n}return i(t,e),Object.defineProperty(t.prototype,\"mode\",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"host\",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype._getTheParent=function(e){return e._composedFlag||a.isEmpty(e._path)||s.tree_rootNode(e._path[0].invocationTarget)!==this?this._host:null},t._create=function(e,r){return new t(r,\"closed\")},t}(o.DocumentFragmentImpl);t.ShadowRootImpl=u},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),a=r(34),s=r(0),u=r(12),l=function(e){function t(t){var r=e.call(this)||this;return r._namespace=null,r._namespacePrefix=null,r._element=null,r._value=\"\",r._localName=t,r}return i(t,e),Object.defineProperty(t.prototype,\"ownerElement\",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"namespaceURI\",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"prefix\",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"localName\",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"value\",{get:function(){return this._value},set:function(e){s.attr_setAnExistingAttributeValue(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"_qualifiedName\",{get:function(){return null!==this._namespacePrefix?this._namespacePrefix+\":\"+this._localName:this._localName},enumerable:!0,configurable:!0}),t._create=function(e,r){var n=new t(r);return n._nodeDocument=e,n},t}(a.NodeImpl);t.AttrImpl=l,u.idl_defineConst(l.prototype,\"_nodeType\",o.NodeType.Attribute),u.idl_defineConst(l.prototype,\"specified\",!0)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(101),a=r(2),s=r(12),u=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t._create=function(e,r){void 0===r&&(r=\"\");var n=new t(r);return n._nodeDocument=e,n},t}(o.TextImpl);t.CDATASectionImpl=u,s.idl_defineConst(u.prototype,\"_nodeType\",a.NodeType.CData)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),a=r(71),s=r(12),u=function(e){function t(t){return void 0===t&&(t=\"\"),e.call(this,t)||this}return i(t,e),t._create=function(e,r){void 0===r&&(r=\"\");var n=new t(r);return n._nodeDocument=e,n},t}(a.CharacterDataImpl);t.CommentImpl=u,s.idl_defineConst(u.prototype,\"_nodeType\",o.NodeType.Comment)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),a=r(71),s=r(12),u=function(e){function t(t,r){var n=e.call(this,r)||this;return n._target=t,n}return i(t,e),Object.defineProperty(t.prototype,\"target\",{get:function(){return this._target},enumerable:!0,configurable:!0}),t._create=function(e,r,n){var i=new t(r,n);return i._nodeDocument=e,i},t}(a.CharacterDataImpl);t.ProcessingInstructionImpl=u,s.idl_defineConst(u.prototype,\"_nodeType\",o.NodeType.ProcessingInstruction)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(7),i=r(0),o=r(3),a=r(1),s=function(){function e(e,t){return this._live=!0,this._root=e,this._filter=t,new Proxy(this,this)}return Object.defineProperty(e.prototype,\"length\",{get:function(){for(var e=this,t=0,r=i.tree_getFirstDescendantNode(this._root,!1,!1,(function(t){return o.Guard.isElementNode(t)&&e._filter(t)}));null!==r;)t++,r=i.tree_getNextDescendantNode(this._root,r,!1,!1,(function(t){return o.Guard.isElementNode(t)&&e._filter(t)}));return t},enumerable:!0,configurable:!0}),e.prototype.item=function(e){for(var t=this,r=0,n=i.tree_getFirstDescendantNode(this._root,!1,!1,(function(e){return o.Guard.isElementNode(e)&&t._filter(e)}));null!==n;){if(r===e)return n;r++,n=i.tree_getNextDescendantNode(this._root,n,!1,!1,(function(e){return o.Guard.isElementNode(e)&&t._filter(e)}))}return null},e.prototype.namedItem=function(e){var t=this;if(\"\"===e)return null;for(var r=i.tree_getFirstDescendantNode(this._root,!1,!1,(function(e){return o.Guard.isElementNode(e)&&t._filter(e)}));null!=r;){if(r._uniqueIdentifier===e)return r;if(r._namespace===n.namespace.HTML)for(var a=0;a<r._attributeList.length;a++){var s=r._attributeList[a];if(\"name\"===s._localName&&null===s._namespace&&null===s._namespacePrefix&&s._value===e)return r}r=i.tree_getNextDescendantNode(this._root,r,!1,!1,(function(e){return o.Guard.isElementNode(e)&&t._filter(e)}))}return null},e.prototype[Symbol.iterator]=function(){var e=this._root,t=this._filter,r=i.tree_getFirstDescendantNode(e,!1,!1,(function(e){return o.Guard.isElementNode(e)&&t(e)}));return{next:function(){if(null===r)return{done:!0,value:null};var n={done:!1,value:r};return r=i.tree_getNextDescendantNode(e,r,!1,!1,(function(e){return o.Guard.isElementNode(e)&&t(e)})),n}}},e.prototype.get=function(t,r,n){if(!a.isString(r)||-1!==e.reservedNames.indexOf(r))return Reflect.get(t,r,n);var i=Number(r);return isNaN(i)?t.namedItem(r)||void 0:t.item(i)||void 0},e.prototype.set=function(t,r,n,o){if(!a.isString(r)||-1!==e.reservedNames.indexOf(r))return Reflect.set(t,r,n,o);var s=Number(r),u=isNaN(s)?t.namedItem(r)||void 0:t.item(s)||void 0;return!(!u||!u._parent)&&(i.mutation_replace(u,n,u._parent),!0)},e._create=function(t,r){return void 0===r&&(r=function(){return!0}),new e(t,r)},e.reservedNames=[\"_root\",\"_live\",\"_filter\",\"length\",\"item\",\"namedItem\",\"get\",\"set\"],e}();t.HTMLCollectionImpl=s},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(1),a=r(0),s=function(){function e(e){return this._live=!0,this._filter=null,this._length=0,this._root=e,new Proxy(this,this)}return Object.defineProperty(e.prototype,\"length\",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),e.prototype.item=function(e){if(e<0||e>this.length-1)return null;if(e<this.length/2){for(var t=0,r=this._root._firstChild;null!==r&&t!==e;)r=r._nextSibling,t++;return r}for(t=this.length-1,r=this._root._lastChild;null!==r&&t!==e;)r=r._previousSibling,t--;return r},e.prototype.keys=function(){var e;return(e={})[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.length?{done:!0,value:null}:{done:!1,value:e++}}.bind(this)}}.bind(this),e},e.prototype.values=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator]();return{next:function(){return e.next()}}}.bind(this),e},e.prototype.entries=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator](),t=0;return{next:function(){var r=e.next();return r.done?{done:!0,value:null}:{done:!1,value:[t++,r.value]}}}}.bind(this),e},e.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},e.prototype.forEach=function(e,t){var r,o;void 0===t&&(t=i.dom.window);var a=0;try{for(var s=n(this._root._children),u=s.next();!u.done;u=s.next()){var l=u.value;e.call(t,l,a++,this)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},e.prototype.get=function(e,t,r){if(!o.isString(t))return Reflect.get(e,t,r);var n=Number(t);return isNaN(n)?Reflect.get(e,t,r):e.item(n)||void 0},e.prototype.set=function(e,t,r,n){if(!o.isString(t))return Reflect.set(e,t,r,n);var i=Number(t);if(isNaN(i))return Reflect.set(e,t,r,n);var s=e.item(i)||void 0;return!!s&&(!!s._parent&&(a.mutation_replace(s,r,s._parent),!0))},e._create=function(t){return new e(t)},e}();t.NodeListImpl=s},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(1),a=function(){function e(e){return this._live=!1,this._items=[],this._length=0,this._root=e,this._items=[],this._filter=function(e){return!0},new Proxy(this,this)}return Object.defineProperty(e.prototype,\"length\",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),e.prototype.item=function(e){return e<0||e>this.length-1?null:this._items[e]},e.prototype.keys=function(){var e;return(e={})[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.length?{done:!0,value:null}:{done:!1,value:e++}}.bind(this)}}.bind(this),e},e.prototype.values=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator]();return{next:function(){return e.next()}}}.bind(this),e},e.prototype.entries=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator](),t=0;return{next:function(){var r=e.next();return r.done?{done:!0,value:null}:{done:!1,value:[t++,r.value]}}}}.bind(this),e},e.prototype[Symbol.iterator]=function(){var e=this._items[Symbol.iterator]();return{next:function(){return e.next()}}},e.prototype.forEach=function(e,t){var r,o;void 0===t&&(t=i.dom.window);var a=0;try{for(var s=n(this._items),u=s.next();!u.done;u=s.next()){var l=u.value;e.call(t,l,a++,this)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},e.prototype.get=function(e,t,r){if(!o.isString(t))return Reflect.get(e,t,r);var n=Number(t);return isNaN(n)?Reflect.get(e,t,r):e._items[n]||void 0},e.prototype.set=function(e,t,r,n){if(!o.isString(t))return Reflect.set(e,t,r,n);var i=Number(t);return isNaN(i)?Reflect.set(e,t,r,n):i>=0&&i<e._items.length&&(e._items[i]=r,!0)},e._create=function(t,r){var n=new e(t);return n._items=r,n},e}();t.NodeListStaticImpl=a},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(9),a=r(0),s=function(e){function t(r){var n=e.call(this)||this;return n._element=r,Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t.prototype._asArray=function(){return this},t.prototype.item=function(e){return this[e]||null},t.prototype.getNamedItem=function(e){return a.element_getAnAttributeByName(e,this._element)},t.prototype.getNamedItemNS=function(e,t){return a.element_getAnAttributeByNamespaceAndLocalName(e||\"\",t,this._element)},t.prototype.setNamedItem=function(e){return a.element_setAnAttribute(e,this._element)},t.prototype.setNamedItemNS=function(e){return a.element_setAnAttribute(e,this._element)},t.prototype.removeNamedItem=function(e){var t=a.element_removeAnAttributeByName(e,this._element);if(null===t)throw new o.NotFoundError;return t},t.prototype.removeNamedItemNS=function(e,t){var r=a.element_removeAnAttributeByNamespaceAndLocalName(e||\"\",t,this._element);if(null===r)throw new o.NotFoundError;return r},t._create=function(e){return new t(e)},t}(Array);t.NamedNodeMapImpl=s},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(6),s=r(2),u=r(102),l=r(9),c=r(0),h=r(12),p=r(3),f=function(e){function t(){var t=e.call(this)||this,r=a.dom.window._associatedDocument;return t._start=[r,0],t._end=[r,0],a.dom.rangeList.add(t),t}return i(t,e),Object.defineProperty(t.prototype,\"commonAncestorContainer\",{get:function(){for(var e=this._start[0];!c.tree_isAncestorOf(this._end[0],e,!0);){if(null===e._parent)throw new Error(\"Parent node  is null.\");e=e._parent}return e},enumerable:!0,configurable:!0}),t.prototype.setStart=function(e,t){c.range_setTheStart(this,e,t)},t.prototype.setEnd=function(e,t){c.range_setTheEnd(this,e,t)},t.prototype.setStartBefore=function(e){var t=e._parent;if(null===t)throw new l.InvalidNodeTypeError;c.range_setTheStart(this,t,c.tree_index(e))},t.prototype.setStartAfter=function(e){var t=e._parent;if(null===t)throw new l.InvalidNodeTypeError;c.range_setTheStart(this,t,c.tree_index(e)+1)},t.prototype.setEndBefore=function(e){var t=e._parent;if(null===t)throw new l.InvalidNodeTypeError;c.range_setTheEnd(this,t,c.tree_index(e))},t.prototype.setEndAfter=function(e){var t=e._parent;if(null===t)throw new l.InvalidNodeTypeError;c.range_setTheEnd(this,t,c.tree_index(e)+1)},t.prototype.collapse=function(e){e?this._end=this._start:this._start=this._end},t.prototype.selectNode=function(e){c.range_select(e,this)},t.prototype.selectNodeContents=function(e){if(p.Guard.isDocumentTypeNode(e))throw new l.InvalidNodeTypeError;var t=c.tree_nodeLength(e);this._start=[e,0],this._end=[e,t]},t.prototype.compareBoundaryPoints=function(e,t){if(e!==s.HowToCompare.StartToStart&&e!==s.HowToCompare.StartToEnd&&e!==s.HowToCompare.EndToEnd&&e!==s.HowToCompare.EndToStart)throw new l.NotSupportedError;if(c.range_root(this)!==c.range_root(t))throw new l.WrongDocumentError;var r,n;switch(e){case s.HowToCompare.StartToStart:r=this._start,n=t._start;break;case s.HowToCompare.StartToEnd:r=this._end,n=t._start;break;case s.HowToCompare.EndToEnd:r=this._end,n=t._end;break;case s.HowToCompare.EndToStart:r=this._start,n=t._end;break;default:throw new l.NotSupportedError}var i=c.boundaryPoint_position(r,n);return i===s.BoundaryPosition.Before?-1:i===s.BoundaryPosition.After?1:0},t.prototype.deleteContents=function(){var e,t,r,n;if(!c.range_collapsed(this)){var i=this._startNode,a=this._startOffset,s=this._endNode,u=this._endOffset;if(i===s&&p.Guard.isCharacterDataNode(i))c.characterData_replaceData(i,a,u-a,\"\");else{var l,h,f=[];try{for(var d=o(c.range_getContainedNodes(this)),m=d.next();!m.done;m=d.next()){var y=(b=m.value)._parent;null!==y&&c.range_isContained(y,this)||f.push(b)}}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}if(c.tree_isAncestorOf(s,i,!0))l=i,h=a;else{for(var v=i;null!==v._parent&&!c.tree_isAncestorOf(s,v._parent,!0);)v=v._parent;if(null===v._parent)throw new Error(\"Parent node is null.\");l=v._parent,h=c.tree_index(v)+1}p.Guard.isCharacterDataNode(i)&&c.characterData_replaceData(i,a,c.tree_nodeLength(i)-a,\"\");try{for(var _=o(f),g=_.next();!g.done;g=_.next()){var b;(b=g.value)._parent&&c.mutation_remove(b,b._parent)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(n=_.return)&&n.call(_)}finally{if(r)throw r.error}}p.Guard.isCharacterDataNode(s)&&c.characterData_replaceData(s,0,u,\"\"),this._start=[l,h],this._end=[l,h]}}},t.prototype.extractContents=function(){return c.range_extract(this)},t.prototype.cloneContents=function(){return c.range_cloneTheContents(this)},t.prototype.insertNode=function(e){return c.range_insert(e,this)},t.prototype.surroundContents=function(e){var t,r;try{for(var n=o(c.range_getPartiallyContainedNodes(this)),i=n.next();!i.done;i=n.next()){var a=i.value;if(!p.Guard.isTextNode(a))throw new l.InvalidStateError}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}if(p.Guard.isDocumentNode(e)||p.Guard.isDocumentTypeNode(e)||p.Guard.isDocumentFragmentNode(e))throw new l.InvalidNodeTypeError;var s=c.range_extract(this);0!==e._children.size&&c.mutation_replaceAll(null,e),c.range_insert(e,this),c.mutation_append(s,e),c.range_select(e,this)},t.prototype.cloneRange=function(){return c.create_range(this._start,this._end)},t.prototype.detach=function(){a.dom.rangeList.delete(this)},t.prototype.isPointInRange=function(e,t){if(c.tree_rootNode(e)!==c.range_root(this))return!1;if(p.Guard.isDocumentTypeNode(e))throw new l.InvalidNodeTypeError;if(t>c.tree_nodeLength(e))throw new l.IndexSizeError;var r=[e,t];return c.boundaryPoint_position(r,this._start)!==s.BoundaryPosition.Before&&c.boundaryPoint_position(r,this._end)!==s.BoundaryPosition.After},t.prototype.comparePoint=function(e,t){if(c.tree_rootNode(e)!==c.range_root(this))throw new l.WrongDocumentError;if(p.Guard.isDocumentTypeNode(e))throw new l.InvalidNodeTypeError;if(t>c.tree_nodeLength(e))throw new l.IndexSizeError;var r=[e,t];return c.boundaryPoint_position(r,this._start)===s.BoundaryPosition.Before?-1:c.boundaryPoint_position(r,this._end)===s.BoundaryPosition.After?1:0},t.prototype.intersectsNode=function(e){if(c.tree_rootNode(e)!==c.range_root(this))return!1;var t=e._parent;if(null===t)return!0;var r=c.tree_index(e);return c.boundaryPoint_position([t,r],this._end)===s.BoundaryPosition.Before&&c.boundaryPoint_position([t,r+1],this._start)===s.BoundaryPosition.After},t.prototype.toString=function(){var e,t,r=\"\";if(this._startNode===this._endNode&&p.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);p.Guard.isTextNode(this._startNode)&&(r+=this._startNode._data.substring(this._startOffset));try{for(var n=o(c.range_getContainedNodes(this)),i=n.next();!i.done;i=n.next()){var a=i.value;p.Guard.isTextNode(a)&&(r+=a._data)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return p.Guard.isTextNode(this._endNode)&&(r+=this._endNode._data.substring(0,this._endOffset)),r},t._create=function(e,r){var n=new t;return e&&(n._start=e),r&&(n._end=r),n},t.START_TO_START=0,t.START_TO_END=1,t.END_TO_END=2,t.END_TO_START=3,t}(u.AbstractRangeImpl);t.RangeImpl=f,h.idl_defineConst(f.prototype,\"START_TO_START\",0),h.idl_defineConst(f.prototype,\"START_TO_END\",1),h.idl_defineConst(f.prototype,\"END_TO_END\",2),h.idl_defineConst(f.prototype,\"END_TO_START\",3)},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(103),a=r(0),s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i._iteratorCollection=void 0,i._reference=r,i._pointerBeforeReference=n,a.nodeIterator_iteratorList().add(i),i}return i(t,e),Object.defineProperty(t.prototype,\"referenceNode\",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"pointerBeforeReferenceNode\",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),t.prototype.nextNode=function(){return a.nodeIterator_traverse(this,!0)},t.prototype.previousNode=function(){return a.nodeIterator_traverse(this,!1)},t.prototype.detach=function(){a.nodeIterator_iteratorList().delete(this)},t._create=function(e,r,n){return new t(e,r,n)},t}(o.TraverserImpl);t.NodeIteratorImpl=s},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2),a=r(103),s=r(0),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n._current=r,n}return i(t,e),Object.defineProperty(t.prototype,\"currentNode\",{get:function(){return this._current},set:function(e){this._current=e},enumerable:!0,configurable:!0}),t.prototype.parentNode=function(){for(var e=this._current;null!==e&&e!==this._root;)if(null!==(e=e._parent)&&s.traversal_filter(this,e)===o.FilterResult.Accept)return this._current=e,e;return null},t.prototype.firstChild=function(){return s.treeWalker_traverseChildren(this,!0)},t.prototype.lastChild=function(){return s.treeWalker_traverseChildren(this,!1)},t.prototype.nextSibling=function(){return s.treeWalker_traverseSiblings(this,!0)},t.prototype.previousNode=function(){for(var e=this._current;e!==this._root;){for(var t=e._previousSibling;t;){e=t;for(var r=s.traversal_filter(this,e);r!==o.FilterResult.Reject&&e._lastChild;)e=e._lastChild,r=s.traversal_filter(this,e);if(r===o.FilterResult.Accept)return this._current=e,e;t=e._previousSibling}if(e===this._root||null===e._parent)return null;if(e=e._parent,s.traversal_filter(this,e)===o.FilterResult.Accept)return this._current=e,e}return null},t.prototype.previousSibling=function(){return s.treeWalker_traverseSiblings(this,!1)},t.prototype.nextNode=function(){for(var e=this._current,t=o.FilterResult.Accept;;){for(;t!==o.FilterResult.Reject&&e._firstChild;)if(e=e._firstChild,(t=s.traversal_filter(this,e))===o.FilterResult.Accept)return this._current=e,e;for(var r=null,n=e;null!==n;){if(n===this._root)return null;if(null!==(r=n._nextSibling)){e=r;break}n=n._parent}if((t=s.traversal_filter(this,e))===o.FilterResult.Accept)return this._current=e,e}},t._create=function(e,r){return new t(e,r)},t}(a.TraverserImpl);t.TreeWalkerImpl=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=r(12),o=function(){function e(){}return e.prototype.acceptNode=function(e){return n.FilterResult.Accept},e._create=function(){return new e},e.FILTER_ACCEPT=1,e.FILTER_REJECT=2,e.FILTER_SKIP=3,e.SHOW_ALL=4294967295,e.SHOW_ELEMENT=1,e.SHOW_ATTRIBUTE=2,e.SHOW_TEXT=4,e.SHOW_CDATA_SECTION=8,e.SHOW_ENTITY_REFERENCE=16,e.SHOW_ENTITY=32,e.SHOW_PROCESSING_INSTRUCTION=64,e.SHOW_COMMENT=128,e.SHOW_DOCUMENT=256,e.SHOW_DOCUMENT_TYPE=512,e.SHOW_DOCUMENT_FRAGMENT=1024,e.SHOW_NOTATION=2048,e}();t.NodeFilterImpl=o,i.idl_defineConst(o.prototype,\"FILTER_ACCEPT\",1),i.idl_defineConst(o.prototype,\"FILTER_REJECT\",2),i.idl_defineConst(o.prototype,\"FILTER_SKIP\",3),i.idl_defineConst(o.prototype,\"SHOW_ALL\",4294967295),i.idl_defineConst(o.prototype,\"SHOW_ELEMENT\",1),i.idl_defineConst(o.prototype,\"SHOW_ATTRIBUTE\",2),i.idl_defineConst(o.prototype,\"SHOW_TEXT\",4),i.idl_defineConst(o.prototype,\"SHOW_CDATA_SECTION\",8),i.idl_defineConst(o.prototype,\"SHOW_ENTITY_REFERENCE\",16),i.idl_defineConst(o.prototype,\"SHOW_ENTITY\",32),i.idl_defineConst(o.prototype,\"SHOW_PROCESSING_INSTRUCTION\",64),i.idl_defineConst(o.prototype,\"SHOW_COMMENT\",128),i.idl_defineConst(o.prototype,\"SHOW_DOCUMENT\",256),i.idl_defineConst(o.prototype,\"SHOW_DOCUMENT_TYPE\",512),i.idl_defineConst(o.prototype,\"SHOW_DOCUMENT_FRAGMENT\",1024),i.idl_defineConst(o.prototype,\"SHOW_NOTATION\",2048)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e,t,r,n,i,o,a,s,u){this._type=e,this._target=t,this._addedNodes=r,this._removedNodes=n,this._previousSibling=i,this._nextSibling=o,this._attributeName=a,this._attributeNamespace=s,this._oldValue=u}return Object.defineProperty(e.prototype,\"type\",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"target\",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"addedNodes\",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"removedNodes\",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"previousSibling\",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"nextSibling\",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"attributeName\",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"attributeNamespace\",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"oldValue\",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),e._create=function(t,r,n,i,o,a,s,u,l){return new e(t,r,n,i,o,a,s,u,l)},e}();t.MutationRecordImpl=n},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(9),a=r(7),s=r(0),u=function(){function e(e,t){this._element=e,this._attribute=t,this._tokenSet=new Set;var r=t._localName,n=s.element_getAnAttributeValue(e,r),o=this;this._element._attributeChangeSteps.push((function(e,t,r,n,i){t===o._attribute._localName&&null===i&&(n?o._tokenSet=s.orderedSet_parse(n):o._tokenSet.clear())})),i.dom.features.steps&&s.dom_runAttributeChangeSteps(e,r,n,n,null)}return Object.defineProperty(e.prototype,\"length\",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),e.prototype.item=function(e){var t,r,i=0;try{for(var o=n(this._tokenSet),a=o.next();!a.done;a=o.next()){var s=a.value;if(i===e)return s;i++}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return null},e.prototype.contains=function(e){return this._tokenSet.has(e)},e.prototype.add=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var u=n(r),l=u.next();!l.done;l=u.next()){var c=l.value;if(\"\"===c)throw new o.SyntaxError(\"Cannot add an empty token.\");if(a.codePoint.ASCIIWhiteSpace.test(c))throw new o.InvalidCharacterError(\"Token cannot contain whitespace.\");this._tokenSet.add(c)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}s.tokenList_updateSteps(this)},e.prototype.remove=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var u=n(r),l=u.next();!l.done;l=u.next()){var c=l.value;if(\"\"===c)throw new o.SyntaxError(\"Cannot remove an empty token.\");if(a.codePoint.ASCIIWhiteSpace.test(c))throw new o.InvalidCharacterError(\"Token cannot contain whitespace.\");this._tokenSet.delete(c)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}s.tokenList_updateSteps(this)},e.prototype.toggle=function(e,t){if(void 0===t&&(t=void 0),\"\"===e)throw new o.SyntaxError(\"Cannot toggle an empty token.\");if(a.codePoint.ASCIIWhiteSpace.test(e))throw new o.InvalidCharacterError(\"Token cannot contain whitespace.\");return this._tokenSet.has(e)?void 0!==t&&!1!==t||(this._tokenSet.delete(e),s.tokenList_updateSteps(this),!1):(void 0===t||!0===t)&&(this._tokenSet.add(e),s.tokenList_updateSteps(this),!0)},e.prototype.replace=function(e,t){if(\"\"===e||\"\"===t)throw new o.SyntaxError(\"Cannot replace an empty token.\");if(a.codePoint.ASCIIWhiteSpace.test(e)||a.codePoint.ASCIIWhiteSpace.test(t))throw new o.InvalidCharacterError(\"Token cannot contain whitespace.\");return!!this._tokenSet.has(e)&&(a.set.replace(this._tokenSet,e,t),s.tokenList_updateSteps(this),!0)},e.prototype.supports=function(e){return s.tokenList_validationSteps(this,e)},Object.defineProperty(e.prototype,\"value\",{get:function(){return s.tokenList_serializeSteps(this)},set:function(e){s.element_setAnAttributeValue(this._element,this._attribute._localName,e)},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e=this._tokenSet[Symbol.iterator]();return{next:function(){return e.next()}}},e._create=function(t,r){return new e(t,r)},e}();t.DOMTokenListImpl=u},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(104),a=r(0),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n._detail=null,n._detail=r&&r.detail||null,n}return i(t,e),Object.defineProperty(t.prototype,\"detail\",{get:function(){return this._detail},enumerable:!0,configurable:!0}),t.prototype.initCustomEvent=function(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===n&&(n=null),this._dispatchFlag||(a.event_initialize(this,e,t,r),this._detail=n)},t}(o.EventImpl);t.CustomEventImpl=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(6),i=r(2),o=r(105),a=r(17);t.nodeIterator_traverse=function(e,t){for(var r=e._reference,n=e._pointerBeforeReference;;){if(t)if(n)n=!1;else{var s=a.tree_getFollowingNode(e._root,r);if(!s)return null;r=s}else if(n){var u=a.tree_getPrecedingNode(e.root,r);if(!u)return null;r=u}else n=!0;if(o.traversal_filter(e,r)===i.FilterResult.Accept)break}return e._reference=r,e._pointerBeforeReference=n,r},t.nodeIterator_iteratorList=function(){return n.dom.window._iteratorList}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(9),i=r(7),o=r(174);function a(e){if(!o.xml_isName(e))throw new n.InvalidCharacterError(\"Invalid XML name: \"+e);if(!o.xml_isQName(e))throw new n.InvalidCharacterError(\"Invalid XML qualified name: \"+e+\".\")}t.namespace_validate=a,t.namespace_validateAndExtract=function(e,t){e||(e=null),a(t);var r=t.split(\":\"),o=2===r.length?r[0]:null,s=2===r.length?r[1]:t;if(o&&null===e)throw new n.NamespaceError(\"Qualified name includes a prefix but the namespace is null.\");if(\"xml\"===o&&e!==i.namespace.XML)throw new n.NamespaceError('Qualified name includes the \"xml\" prefix but the namespace is not the XML namespace.');if(e!==i.namespace.XMLNS&&(\"xmlns\"===o||\"xmlns\"===t))throw new n.NamespaceError('Qualified name includes the \"xmlns\" prefix but the namespace is not the XMLNS namespace.');if(e===i.namespace.XMLNS&&\"xmlns\"!==o&&\"xmlns\"!==t)throw new n.NamespaceError('Qualified name does not include the \"xmlns\" prefix but the namespace is the XMLNS namespace.');return[e,o,s]},t.namespace_extractQName=function(e){a(e);var t=e.split(\":\");return[2===t.length?t[0]:null,2===t.length?t[1]:e]}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.xml_isName=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!(r>=97&&r<=122||r>=65&&r<=90||58===r||95===r||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533)&&(0===t||!(45===r||46===r||r>=48&&r<=57||183===r||r>=768&&r<=879||r>=8255&&r<=8256))){if(r>=55296&&r<=56319&&t<e.length-1){var n=e.charCodeAt(t+1);if(n>=56320&&n<=57343&&(t++,(r=1024*(r-55296)+n-56320+65536)>=65536&&r<=983039))continue}return!1}}return!0},t.xml_isQName=function(e){for(var t=!1,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(!(n>=97&&n<=122||n>=65&&n<=90||95===n||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533)&&(0===r||!(45===n||46===n||n>=48&&n<=57||183===n||n>=768&&n<=879||n>=8255&&n<=8256))){if(0===r||58!==n){if(n>=55296&&n<=56319&&r<e.length-1){var i=e.charCodeAt(r+1);if(i>=56320&&i<=57343&&(r++,(n=1024*(n-55296)+i-56320+65536)>=65536&&n<=983039))continue}return!1}if(t)return!1;if(r===e.length-1)return!1;t=!0}}return!0},t.xml_isLegalChar=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!(9===r||10===r||13===r||r>=32&&r<=55295||r>=57344&&r<=65533)){if(r>=55296&&r<=56319&&t<e.length-1){var n=e.charCodeAt(t+1);if(n>=56320&&n<=57343&&(t++,(r=1024*(r-55296)+n-56320+65536)>=65536&&r<=1114111))continue}return!1}}return!0},t.xml_isPubidChar=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!(r>=97&&r<=122||r>=65&&r<=90||r>=39&&r<=59||32===r||13===r||10===r||r>=35&&r<=37||33===r||61===r||63===r||64===r||95===r))return!1}return!0}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=r(17);t.boundaryPoint_position=function e(t,r){var o=t[0],a=t[1],s=r[0],u=r[1];if(console.assert(i.tree_rootNode(o)===i.tree_rootNode(s),\"Boundary points must share the same root node.\"),o===s)return a===u?n.BoundaryPosition.Equal:a<u?n.BoundaryPosition.Before:n.BoundaryPosition.After;if(i.tree_isFollowing(s,o)){var l=e([s,u],[o,a]);if(l===n.BoundaryPosition.Before)return n.BoundaryPosition.After;if(l===n.BoundaryPosition.After)return n.BoundaryPosition.Before}if(i.tree_isAncestorOf(s,o)){for(var c=s;!i.tree_isChildOf(o,c);)null!==c._parent&&(c=c._parent);if(i.tree_index(c)<a)return n.BoundaryPosition.After}return n.BoundaryPosition.Before}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(3),a=r(7),s=r(29),u=r(108),l=r(30),c=r(37),h=r(52);t.node_stringReplaceAll=function(e,t){var r=null;\"\"!==e&&(r=s.create_text(t._nodeDocument,e)),c.mutation_replaceAll(r,t)},t.node_clone=function e(t,r,a){var u,p,f,d,m;if(void 0===r&&(r=null),void 0===a&&(a=!1),null===r&&(r=t._nodeDocument),o.Guard.isElementNode(t)){m=h.element_createAnElement(r,t._localName,t._namespace,t._namespacePrefix,t._is,!1);try{for(var y=n(t._attributeList),v=y.next();!v.done;v=y.next()){var _=e(v.value,r);h.element_append(_,m)}}catch(e){u={error:e}}finally{try{v&&!v.done&&(p=y.return)&&p.call(y)}finally{if(u)throw u.error}}}else if(o.Guard.isDocumentNode(t)){var g=s.create_document();g._encoding=t._encoding,g._contentType=t._contentType,g._URL=t._URL,g._origin=t._origin,g._type=t._type,g._mode=t._mode,m=g}else if(o.Guard.isDocumentTypeNode(t)){m=s.create_documentType(r,t._name,t._publicId,t._systemId)}else if(o.Guard.isAttrNode(t)){var b=s.create_attr(r,t.localName);b._namespace=t._namespace,b._namespacePrefix=t._namespacePrefix,b._value=t._value,m=b}else m=o.Guard.isExclusiveTextNode(t)?s.create_text(r,t._data):o.Guard.isCDATASectionNode(t)?s.create_cdataSection(r,t._data):o.Guard.isCommentNode(t)?s.create_comment(r,t._data):o.Guard.isProcessingInstructionNode(t)?s.create_processingInstruction(r,t._target,t._data):o.Guard.isDocumentFragmentNode(t)?s.create_documentFragment(r):Object.create(t);if(o.Guard.isDocumentNode(m)?(m._nodeDocument=m,r=m):m._nodeDocument=r,i.dom.features.steps&&l.dom_runCloningSteps(m,t,r,a),a)try{for(var x=n(t._children),w=x.next();!w.done;w=x.next()){var E=e(w.value,r,!0);c.mutation_append(E,m)}}catch(e){f={error:e}}finally{try{w&&!w.done&&(d=x.return)&&d.call(x)}finally{if(f)throw f.error}}return m},t.node_equals=function e(t,r){var i,a,s,u;if(t._nodeType!==r._nodeType)return!1;if(o.Guard.isDocumentTypeNode(t)&&o.Guard.isDocumentTypeNode(r)){if(t._name!==r._name||t._publicId!==r._publicId||t._systemId!==r._systemId)return!1}else if(o.Guard.isElementNode(t)&&o.Guard.isElementNode(r)){if(t._namespace!==r._namespace||t._namespacePrefix!==r._namespacePrefix||t._localName!==r._localName||t._attributeList.length!==r._attributeList.length)return!1}else if(o.Guard.isAttrNode(t)&&o.Guard.isAttrNode(r)){if(t._namespace!==r._namespace||t._localName!==r._localName||t._value!==r._value)return!1}else if(o.Guard.isProcessingInstructionNode(t)&&o.Guard.isProcessingInstructionNode(r)){if(t._target!==r._target||t._data!==r._data)return!1}else if(o.Guard.isCharacterDataNode(t)&&o.Guard.isCharacterDataNode(r)&&t._data!==r._data)return!1;if(o.Guard.isElementNode(t)&&o.Guard.isElementNode(r)){var l={};try{for(var c=n(t._attributeList),h=c.next();!h.done;h=c.next()){l[(d=h.value)._localName]=d}}catch(e){i={error:e}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}try{for(var p=n(r._attributeList),f=p.next();!f.done;f=p.next()){var d,m=f.value;if(!(d=l[m._localName]))return!1;if(!e(d,m))return!1}}catch(e){s={error:e}}finally{try{f&&!f.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}}if(t._children.size!==r._children.size)return!1;for(var y=t._children[Symbol.iterator](),v=r._children[Symbol.iterator](),_=y.next(),g=v.next();!_.done&&!g.done;){if(!e(_.value,g.value))return!1;_=y.next(),g=v.next()}return!0},t.node_listOfElementsWithQualifiedName=function(e,t){return\"*\"===e?s.create_htmlCollection(t):\"html\"===t._nodeDocument._type?s.create_htmlCollection(t,(function(t){return t._namespace===a.namespace.HTML&&t._qualifiedName===e.toLowerCase()||t._namespace!==a.namespace.HTML&&t._qualifiedName===e})):s.create_htmlCollection(t,(function(t){return t._qualifiedName===e}))},t.node_listOfElementsWithNamespace=function(e,t,r){return\"\"===e&&(e=null),\"*\"===e&&\"*\"===t?s.create_htmlCollection(r):\"*\"===e?s.create_htmlCollection(r,(function(e){return e._localName===t})):\"*\"===t?s.create_htmlCollection(r,(function(t){return t._namespace===e})):s.create_htmlCollection(r,(function(r){return r._localName===t&&r._namespace===e}))},t.node_listOfElementsWithClassNames=function(e,t){var r=u.orderedSet_parse(e);if(0===r.size)return s.create_htmlCollection(t,(function(){return!1}));var n=\"quirks\"!==t._nodeDocument._mode;return s.create_htmlCollection(t,(function(e){var t=e.classList;return u.orderedSet_contains(t._tokenSet,r,n)}))},t.node_locateANamespacePrefix=function e(t,r){if(t._namespace===r&&null!==t._namespacePrefix)return t._namespacePrefix;for(var n=0;n<t._attributeList.length;n++){var i=t._attributeList[n];if(\"xmlns\"===i._namespacePrefix&&i._value===r)return i._localName}return t._parent&&o.Guard.isElementNode(t._parent)?e(t._parent,r):null},t.node_locateANamespace=function e(t,r){if(o.Guard.isElementNode(t)){if(null!==t._namespace&&t._namespacePrefix===r)return t._namespace;for(var n=0;n<t._attributeList.length;n++){var i=t._attributeList[n];if(i._namespace===a.namespace.XMLNS&&\"xmlns\"===i._namespacePrefix&&i._localName===r)return i._value||null;if(null===r&&i._namespace===a.namespace.XMLNS&&null===i._namespacePrefix&&\"xmlns\"===i._localName)return i._value||null}return null===t.parentElement?null:e(t.parentElement,r)}return o.Guard.isDocumentNode(t)?null===t.documentElement?null:e(t.documentElement,r):o.Guard.isDocumentTypeNode(t)||o.Guard.isDocumentFragmentNode(t)?null:o.Guard.isAttrNode(t)?null===t._element?null:e(t._element,r):t._parent&&o.Guard.isElementNode(t._parent)?e(t._parent,r):null}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(3),a=r(9),s=r(29),u=r(17),l=r(107),c=r(37);t.text_contiguousTextNodes=function(e,t){var r;return void 0===t&&(t=!1),(r={})[Symbol.iterator]=function(){for(var r=e;r&&o.Guard.isTextNode(r._previousSibling);)r=r._previousSibling;return{next:function(){if(r&&!t&&r===e&&(r=o.Guard.isTextNode(r._nextSibling)?r._nextSibling:null),null===r)return{done:!0,value:null};var n={done:!1,value:r};return r=o.Guard.isTextNode(r._nextSibling)?r._nextSibling:null,n}}},r},t.text_contiguousExclusiveTextNodes=function(e,t){var r;return void 0===t&&(t=!1),(r={})[Symbol.iterator]=function(){for(var r=e;r&&o.Guard.isExclusiveTextNode(r._previousSibling);)r=r._previousSibling;return{next:function(){if(r&&!t&&r===e&&(r=o.Guard.isExclusiveTextNode(r._nextSibling)?r._nextSibling:null),null===r)return{done:!0,value:null};var n={done:!1,value:r};return r=o.Guard.isExclusiveTextNode(r._nextSibling)?r._nextSibling:null,n}}},r},t.text_descendantTextContent=function(e){for(var t=\"\",r=u.tree_getFirstDescendantNode(e,!1,!1,(function(e){return o.Guard.isTextNode(e)}));null!==r;)t+=r._data,r=u.tree_getNextDescendantNode(e,r,!1,!1,(function(e){return o.Guard.isTextNode(e)}));return t},t.text_split=function(e,t){var r,o,h=e._data.length;if(t>h)throw new a.IndexSizeError;var p=h-t,f=l.characterData_substringData(e,t,p),d=s.create_text(e._nodeDocument,f),m=e._parent;if(null!==m){c.mutation_insert(d,m,e._nextSibling);try{for(var y=n(i.dom.rangeList),v=y.next();!v.done;v=y.next()){var _=v.value;_._start[0]===e&&_._start[1]>t&&(_._start[0]=d,_._start[1]-=t),_._end[0]===e&&_._end[1]>t&&(_._end[0]=d,_._end[1]-=t);var g=u.tree_index(e);_._start[0]===m&&_._start[1]===g+1&&_._start[1]++,_._end[0]===m&&_._end[1]===g+1&&_._end[1]++}}catch(e){r={error:e}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}}return l.characterData_replaceData(e,t,p,\"\"),d}},function(e,t,r){\"use strict\";var n=r(4),i=r(41),o=r(24),a=r(48),s=[].join,u=i!=Object,l=a(\"join\",\",\");n({target:\"Array\",proto:!0,forced:u||!l},{join:function(e){return s.call(o(this),void 0===e?\",\":e)}})},function(e,t,r){var n=r(4),i=r(83),o=String.fromCharCode,a=String.fromCodePoint;n({target:\"String\",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+\" is not a valid code point\");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join(\"\")}})},function(e,t,r){\"use strict\";var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(111),o=function(){function e(e,t){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:\"\"},this._str=e,this._index=0,this._length=e.length,t&&(this._options.skipWhitespaceOnlyText=t.skipWhitespaceOnlyText||!1)}return e.prototype.nextToken=function(){if(this.eof())return{type:i.TokenType.EOF};var t=this.skipIfStartsWith(\"<\")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&t.type===i.TokenType.Text&&e.isWhiteSpaceToken(t)&&(t=this.nextToken()),t},e.prototype.openBracket=function(){return this.skipIfStartsWith(\"?\")?this.skipIfStartsWith(\"xml\")?e.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith(\"!\")?this.skipIfStartsWith(\"--\")?this.comment():this.skipIfStartsWith(\"[CDATA[\")?this.cdata():this.skipIfStartsWith(\"DOCTYPE\")?this.doctype():void this.throwError(\"Invalid '!' in opening tag.\"):this.skipIfStartsWith(\"/\")?this.closeTag():this.openTag()},e.prototype.declaration=function(){for(var e=\"\",t=\"\",r=\"\";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(\"?>\"))return{type:i.TokenType.Declaration,version:e,encoding:t,standalone:r};var o=n(this.attribute(),2),a=o[0],s=o[1];\"version\"===a?e=s:\"encoding\"===a?t=s:\"standalone\"===a?r=s:this.throwError(\"Invalid attribute name: \"+a)}this.throwError(\"Missing declaration end symbol `?>`\")},e.prototype.doctype=function(){var e=\"\",t=\"\";this.skipSpace();var r=this.takeUntil2(\"[\",\">\",!0);return this.skipSpace(),this.skipIfStartsWith(\"PUBLIC\")?(e=this.quotedString(),t=this.quotedString()):this.skipIfStartsWith(\"SYSTEM\")&&(t=this.quotedString()),this.skipSpace(),this.skipIfStartsWith(\"[\")&&(this.skipUntil(\"]\"),this.skipIfStartsWith(\"]\")||this.throwError(\"Missing end bracket of DTD internal subset\")),this.skipSpace(),this.skipIfStartsWith(\">\")||this.throwError(\"Missing doctype end symbol `>`\"),{type:i.TokenType.DocType,name:r,pubId:e,sysId:t}},e.prototype.pi=function(){var e=this.takeUntilStartsWith(\"?>\",!0);if(this.eof()&&this.throwError(\"Missing processing instruction end symbol `?>`\"),this.skipSpace(),this.skipIfStartsWith(\"?>\"))return{type:i.TokenType.PI,target:e,data:\"\"};var t=this.takeUntilStartsWith(\"?>\");return this.eof()&&this.throwError(\"Missing processing instruction end symbol `?>`\"),this.seek(2),{type:i.TokenType.PI,target:e,data:t}},e.prototype.text=function(){var e=this.takeUntil(\"<\");return{type:i.TokenType.Text,data:e}},e.prototype.comment=function(){var e=this.takeUntilStartsWith(\"--\\x3e\");return this.eof()&&this.throwError(\"Missing comment end symbol `--\\x3e`\"),this.seek(3),{type:i.TokenType.Comment,data:e}},e.prototype.cdata=function(){var e=this.takeUntilStartsWith(\"]]>\");return this.eof()&&this.throwError(\"Missing CDATA end symbol `]>`\"),this.seek(3),{type:i.TokenType.CDATA,data:e}},e.prototype.openTag=function(){this.skipSpace();var e=this.takeUntil2(\">\",\"/\",!0);if(this.skipSpace(),this.skipIfStartsWith(\">\"))return{type:i.TokenType.Element,name:e,attributes:[],selfClosing:!1};if(this.skipIfStartsWith(\"/>\"))return{type:i.TokenType.Element,name:e,attributes:[],selfClosing:!0};for(var t=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(\">\"))return{type:i.TokenType.Element,name:e,attributes:t,selfClosing:!1};if(this.skipIfStartsWith(\"/>\"))return{type:i.TokenType.Element,name:e,attributes:t,selfClosing:!0};var r=this.attribute();t.push(r)}this.throwError(\"Missing opening element tag end symbol `>`\")},e.prototype.closeTag=function(){this.skipSpace();var e=this.takeUntil(\">\",!0);return this.skipSpace(),this.skipIfStartsWith(\">\")||this.throwError(\"Missing closing element tag end symbol `>`\"),{type:i.TokenType.ClosingTag,name:e}},e.prototype.attribute=function(){this.skipSpace();var e=this.takeUntil(\"=\",!0);return this.skipSpace(),this.skipIfStartsWith(\"=\")||this.throwError(\"Missing equals sign before attribute value\"),[e,this.quotedString()]},e.prototype.quotedString=function(){this.skipSpace();var t=this.take(1);e.isQuote(t)||this.throwError(\"Missing start quote character before quoted value\");var r=this.takeUntil(t);return this.skipIfStartsWith(t)||this.throwError(\"Missing end quote character after quoted value\"),r},e.prototype.eof=function(){return this._index>=this._length},e.prototype.skipIfStartsWith=function(e){var t=e.length;if(1===t)return this._str[this._index]===e&&(this._index++,!0);for(var r=0;r<t;r++)if(this._str[this._index+r]!==e[r])return!1;return this._index+=t,!0},e.prototype.seek=function(e){this._index+=e,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},e.prototype.skipSpace=function(){for(;!this.eof()&&e.isSpace(this._str[this._index]);)this._index++},e.prototype.take=function(e){if(1===e)return this._str[this._index++];var t=this._index;return this.seek(e),this._str.slice(t,this._index)},e.prototype.takeUntil=function(t,r){void 0===r&&(r=!1);for(var n=this._index;this._index<this._length;){var i=this._str[this._index];if(i===t||r&&e.isSpace(i))break;this._index++}return this._str.slice(n,this._index)},e.prototype.takeUntil2=function(t,r,n){void 0===n&&(n=!1);for(var i=this._index;this._index<this._length;){var o=this._str[this._index];if(o===t||o===r||n&&e.isSpace(o))break;this._index++}return this._str.slice(i,this._index)},e.prototype.takeUntilStartsWith=function(t,r){void 0===r&&(r=!1);for(var n=this._index,i=t.length;this._index<this._length;){for(var o=!0,a=0;a<i;a++){var s=this._str[this._index+a],u=t[a];if(r&&e.isSpace(s))return this._str.slice(n,this._index);if(s!==u){this._index++,o=!1;break}}if(o)return this._str.slice(n,this._index)}return this._index=this._length,this._str.slice(n)},e.prototype.skipUntil=function(e){for(;this._index<this._length;){if(this._str[this._index]===e)break;this._index++}},e.isWhiteSpaceToken=function(e){for(var t=e.data,r=0;r<t.length;r++){var n=t[r];if(\" \"!==n&&\"\\n\"!==n&&\"\\r\"!==n&&\"\\t\"!==n&&\"\\f\"!==n)return!1}return!0},e.isSpace=function(e){return\" \"===e||\"\\n\"===e||\"\\r\"===e||\"\\t\"===e},e.isQuote=function(e){return'\"'===e||\"'\"===e},e.prototype.throwError=function(e){for(var t=/\\r\\n|\\r|\\n/g,r=null,n=0,i=0,o=this._str.length;null!==(r=t.exec(this._str))&&null!==r;)if(n++,r.index<this._index&&(i=t.lastIndex),r.index>this._index){o=r.index;break}throw this.err={line:n,col:this._index-i,index:this._index,str:this._str.substring(i,o)},new Error(e+\"\\nIndex: \"+this.err.index+\"\\nLn: \"+this.err.line+\", Col: \"+this.err.col+\"\\nInput: \"+this.err.str)},e.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var e=this.nextToken();return e.type===i.TokenType.EOF?{done:!0,value:null}:{done:!1,value:e}}.bind(this)}},e}();t.XMLStringLexer=o},function(e,t,r){\"use strict\";var n=r(39);e.exports=new n({include:[r(182)]})},function(e,t,r){\"use strict\";var n=r(39);e.exports=new n({include:[r(113)],implicit:[r(289),r(290),r(291),r(292)]})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(91),i=r(1),o=r(3),a=r(77),s=r(109);function u(e,t){var r=c(void 0===e||l(e)?e:n.DefaultBuilderOptions),i=l(e)?t:e,o=s.createDocument();h(o,r);var u=new a.XMLBuilderImpl(o);return void 0!==i&&u.ele(i),u}function l(e){if(!i.isPlainObject(e))return!1;for(var t in e)if(e.hasOwnProperty(t)&&!n.XMLBuilderOptionKeys.has(t))return!1;return!0}function c(e){void 0===e&&(e={});var t=i.applyDefaults(e,n.DefaultBuilderOptions);if(0===t.convert.att.length||0===t.convert.ins.length||0===t.convert.text.length||0===t.convert.cdata.length||0===t.convert.comment.length)throw new Error(\"JS object converter strings cannot be zero length.\");return t}function h(e,t,r){var n=e;n._xmlBuilderOptions=t,n._isFragment=r}t.builder=function(e,t){var r=c(l(e)?e:n.DefaultBuilderOptions),s=o.Guard.isNode(e)||i.isArray(e)?e:t;if(void 0===s)throw new Error(\"Invalid arguments.\");if(i.isArray(s)){for(var u=[],h=0;h<s.length;h++){var p=new a.XMLBuilderImpl(s[h]);p.set(r),u.push(p)}return u}var f=new a.XMLBuilderImpl(s);return f.set(r),f},t.create=u,t.fragment=function(e,t){var r=c(void 0===e||l(e)?e:n.DefaultBuilderOptions),i=l(e)?t:e,o=s.createDocument();h(o,r,!0);var u=new a.XMLBuilderImpl(o.createDocumentFragment());return void 0!==i&&u.ele(i),u},t.convert=function(e,t,r){var i,o,a;return l(e)&&void 0!==t?(i=e,o=t,a=r):(i=n.DefaultBuilderOptions,o=e,a=t||void 0),u(i,o).end(a)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(77);t.builder=n.builder,t.create=n.create,t.fragment=n.fragment,t.convert=n.convert,t.createCB=n.createCB,t.fragmentCB=n.fragmentCB},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(191),r(192),r(194),r(64),r(19),r(198),r(199),r(89),r(201),r(65),r(20),r(66),r(22),r(23);var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(91),a=r(1),s=r(217),u=r(2),l=r(3),c=r(0),h=r(109),p=r(7),f=r(276),d=function(){function e(e){this._domNode=e}return Object.defineProperty(e.prototype,\"node\",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"options\",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.set=function(e){return this._options=a.applyDefaults(a.applyDefaults(this._options,e,!0),o.DefaultBuilderOptions),this},e.prototype.ele=function(t,r,i){var o,s,u,l,p,d;if(a.isObject(t))return new f.ObjectReader(this._options).parse(this,t);if(null!==t&&/^\\s*</.test(t))return new f.XMLReader(this._options).parse(this,t);if(null!==t&&/^\\s*[\\{\\[]/.test(t))return new f.JSONReader(this._options).parse(this,t);if(null!==t&&/^(\\s*|(#.*)|(%.*))*---/.test(t))return new f.YAMLReader(this._options).parse(this,t);if((null===t||a.isString(t))&&a.isString(r))l=(o=n([t,r,i],3))[0],p=o[1],d=o[2];else{if(null===t)throw new Error(\"Element name cannot be null. \"+this._debugInfo());l=(s=n([void 0,t,a.isObject(r)?r:void 0],3))[0],p=s[1],d=s[2]}if(d&&(d=a.getValue(d)),l=(u=n(this._extractNamespace(h.sanitizeInput(l,this._options.invalidCharReplacement),h.sanitizeInput(p,this._options.invalidCharReplacement),!0),2))[0],p=u[1],void 0===l){var m=n(c.namespace_extractQName(p),1)[0];l=this.node.lookupNamespaceURI(m)}var y=null!=l?this._doc.createElementNS(l,p):this._doc.createElement(p);this.node.appendChild(y);var v=new e(y),_=this._doc.doctype;if(y===this._doc.documentElement&&null!==_){var g=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,_.publicId,_.systemId);this._doc.replaceChild(g,_)}return d&&!a.isEmpty(d)&&v.att(d),v},e.prototype.remove=function(){var e=this.up();return e.node.removeChild(this.node),e},e.prototype.att=function(e,t,r){var i,o,s,u,f,d,m=this;if(a.isMap(e)||a.isObject(e))return a.forEachObject(e,(function(e,t){return m.att(e,t)}),this),this;if(null!=e&&(e=a.getValue(e+\"\")),null!=t&&(t=a.getValue(t+\"\")),null!=r&&(r=a.getValue(r+\"\")),null!==e&&!a.isString(e)||!a.isString(t)||null!==r&&!a.isString(r)){if(!a.isString(e)||null!=t&&!a.isString(t))throw new Error(\"Attribute name and value not specified. \"+this._debugInfo());u=(o=n([void 0,e,t],3))[0],f=o[1],d=o[2]}else u=(i=n([e,t,r],3))[0],f=i[1],d=i[2];if(this._options.keepNullAttributes&&null==d)d=\"\";else if(null==d)return this;if(!l.Guard.isElementNode(this.node))throw new Error(\"An attribute can only be assigned to an element node.\");var y=this.node;u=(s=n(this._extractNamespace(u,f,!1),2))[0],f=s[1],f=h.sanitizeInput(f,this._options.invalidCharReplacement),u=h.sanitizeInput(u,this._options.invalidCharReplacement),d=h.sanitizeInput(d,this._options.invalidCharReplacement);var v=n(c.namespace_extractQName(f),2),_=v[0],g=v[1],b=n(c.namespace_extractQName(y.prefix?y.prefix+\":\"+y.localName:y.localName),1)[0],x=null;return\"xmlns\"===_?(u=p.namespace.XMLNS,null===y.namespaceURI&&b===g&&(x=d)):null===_&&\"xmlns\"===g&&null===b&&(u=p.namespace.XMLNS,x=d),null!==x&&(this._updateNamespace(x),y=this.node),void 0!==u?y.setAttributeNS(u,f,d):y.setAttribute(f,d),this},e.prototype.removeAtt=function(e,t){var r,n,i=this;if(!l.Guard.isElementNode(this.node))throw new Error(\"An attribute can only be removed from an element node.\");if(e=a.getValue(e),void 0!==t&&(t=a.getValue(t)),null!==e&&void 0===t)n=e;else{if(null!==e&&!a.isString(e)||void 0===t)throw new Error(\"Attribute namespace must be a string. \"+this._debugInfo());r=e,n=t}return a.isArray(n)||a.isSet(n)?a.forEachArray(n,(function(e){return void 0===r?i.removeAtt(e):i.removeAtt(r,e)}),this):void 0!==r?(n=h.sanitizeInput(n,this._options.invalidCharReplacement),r=h.sanitizeInput(r,this._options.invalidCharReplacement),this.node.removeAttributeNS(r,n)):(n=h.sanitizeInput(n,this._options.invalidCharReplacement),this.node.removeAttribute(n)),this},e.prototype.txt=function(e){if(null==e){if(!this._options.keepNullNodes)return this;e=\"\"}var t=this._doc.createTextNode(h.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.com=function(e){if(null==e){if(!this._options.keepNullNodes)return this;e=\"\"}var t=this._doc.createComment(h.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.dat=function(e){if(null==e){if(!this._options.keepNullNodes)return this;e=\"\"}var t=this._doc.createCDATASection(h.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.ins=function(e,t){var r=this;if(void 0===t&&(t=\"\"),null==t){if(!this._options.keepNullNodes)return this;t=\"\"}if(a.isArray(e)||a.isSet(e))a.forEachArray(e,(function(e){var t=(e+=\"\").indexOf(\" \"),n=-1===t?e:e.substr(0,t),i=-1===t?\"\":e.substr(t+1);r.ins(n,i)}),this);else if(a.isMap(e)||a.isObject(e))a.forEachObject(e,(function(e,t){return r.ins(e,t)}),this);else{var n=this._doc.createProcessingInstruction(h.sanitizeInput(e,this._options.invalidCharReplacement),h.sanitizeInput(t,this._options.invalidCharReplacement));this.node.appendChild(n)}return this},e.prototype.dec=function(e){return this._options.version=e.version||\"1.0\",this._options.encoding=e.encoding,this._options.standalone=e.standalone,this},e.prototype.dtd=function(e){var t=h.sanitizeInput(e&&e.name||(this._doc.documentElement?this._doc.documentElement.tagName:\"ROOT\"),this._options.invalidCharReplacement),r=h.sanitizeInput(e&&e.pubID||\"\",this._options.invalidCharReplacement),n=h.sanitizeInput(e&&e.sysID||\"\",this._options.invalidCharReplacement);if(null!==this._doc.documentElement&&t!==this._doc.documentElement.tagName)throw new Error(\"DocType name does not match document element name.\");var i=this._doc.implementation.createDocumentType(t,r,n);return null!==this._doc.doctype?this._doc.replaceChild(i,this._doc.doctype):this._doc.insertBefore(i,this._doc.documentElement),this},e.prototype.import=function(t){var r,o,a=this._domNode,s=this._doc,u=t.node;if(l.Guard.isDocumentNode(u)){var h=u.documentElement;if(null===h)throw new Error(\"Imported document has no document element node. \"+this._debugInfo());var p=s.importNode(h,!0);a.appendChild(p);var f=n(c.namespace_extractQName(p.prefix?p.prefix+\":\"+p.localName:p.localName),1)[0],d=a.lookupNamespaceURI(f);new e(p)._updateNamespace(d)}else if(l.Guard.isDocumentFragmentNode(u))try{for(var m=i(u.childNodes),y=m.next();!y.done;y=m.next()){var v=y.value;p=s.importNode(v,!0);if(a.appendChild(p),l.Guard.isElementNode(p)){f=n(c.namespace_extractQName(p.prefix?p.prefix+\":\"+p.localName:p.localName),1)[0],d=a.lookupNamespaceURI(f);new e(p)._updateNamespace(d)}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}else{p=s.importNode(u,!0);if(a.appendChild(p),l.Guard.isElementNode(p)){f=n(c.namespace_extractQName(p.prefix?p.prefix+\":\"+p.localName:p.localName),1)[0],d=a.lookupNamespaceURI(f);new e(p)._updateNamespace(d)}}return this},e.prototype.doc=function(){if(this._doc._isFragment){for(var t=this.node;t&&t.nodeType!==u.NodeType.DocumentFragment;)t=t.parentNode;if(null===t)throw new Error(\"Node has no parent node while searching for document fragment ancestor. \"+this._debugInfo());return new e(t)}return new e(this._doc)},e.prototype.root=function(){var t=this._doc.documentElement;if(!t)throw new Error(\"Document root element is null. \"+this._debugInfo());return new e(t)},e.prototype.up=function(){var t=this._domNode.parentNode;if(!t)throw new Error(\"Parent node is null. \"+this._debugInfo());return new e(t)},e.prototype.prev=function(){var t=this._domNode.previousSibling;if(!t)throw new Error(\"Previous sibling node is null. \"+this._debugInfo());return new e(t)},e.prototype.next=function(){var t=this._domNode.nextSibling;if(!t)throw new Error(\"Next sibling node is null. \"+this._debugInfo());return new e(t)},e.prototype.first=function(){var t=this._domNode.firstChild;if(!t)throw new Error(\"First child node is null. \"+this._debugInfo());return new e(t)},e.prototype.last=function(){var t=this._domNode.lastChild;if(!t)throw new Error(\"Last child node is null. \"+this._debugInfo());return new e(t)},e.prototype.each=function(t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var o=this._getFirstDescendantNode(this._domNode,r,n);o[0];){var a=this._getNextDescendantNode(this._domNode,o[0],n,o[1],o[2]);t.call(i,new e(o[0]),o[1],o[2]),o=a}return this},e.prototype.map=function(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);var i=[];return this.each((function(t,r,o){return i.push(e.call(n,t,r,o))}),t,r),i},e.prototype.reduce=function(e,t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1);var o=t;return this.each((function(t,r,n){return o=e.call(i,o,t,r,n)}),r,n),o},e.prototype.find=function(t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var o=this._getFirstDescendantNode(this._domNode,r,n);o[0];){var a=new e(o[0]);if(t.call(i,a,o[1],o[2]))return a;o=this._getNextDescendantNode(this._domNode,o[0],n,o[1],o[2])}},e.prototype.filter=function(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);var i=[];return this.each((function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),t,r),i},e.prototype.every=function(t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var o=this._getFirstDescendantNode(this._domNode,r,n);o[0];){var a=new e(o[0]);if(!t.call(i,a,o[1],o[2]))return!1;o=this._getNextDescendantNode(this._domNode,o[0],n,o[1],o[2])}return!0},e.prototype.some=function(t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1);for(var o=this._getFirstDescendantNode(this._domNode,r,n);o[0];){var a=new e(o[0]);if(t.call(i,a,o[1],o[2]))return!0;o=this._getNextDescendantNode(this._domNode,o[0],n,o[1],o[2])}return!1},e.prototype.toArray=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=[];return this.each((function(e){return r.push(e)}),e,t),r},e.prototype.toString=function(e){return void 0===(e=e||{}).format&&(e.format=\"xml\"),this._serialize(e)},e.prototype.toObject=function(e){return void 0===(e=e||{}).format&&(e.format=\"object\"),this._serialize(e)},e.prototype.end=function(e){return void 0===(e=e||{}).format&&(e.format=\"xml\"),this.doc()._serialize(e)},e.prototype._getFirstDescendantNode=function(e,t,r){return t?[this._domNode,0,0]:r?this._getNextDescendantNode(e,e,r,0,0):[this._domNode.firstChild,0,1]},e.prototype._getNextDescendantNode=function(e,t,r,n,i){if(!r)return e===t?[t.firstChild,0,i+1]:[t.nextSibling,n+1,i];if(t.firstChild)return[t.firstChild,0,i+1];if(t===e)return[null,-1,-1];if(t.nextSibling)return[t.nextSibling,n+1,i];for(var o=t.parentNode;o&&o!==e;){if(o.nextSibling)return[o.nextSibling,c.tree_index(o.nextSibling),i-1];o=o.parentNode,i--}return[null,-1,-1]},e.prototype._serialize=function(e){if(\"xml\"===e.format)return new s.XMLWriter(this._options,e).serialize(this.node);if(\"map\"===e.format)return new s.MapWriter(this._options,e).serialize(this.node);if(\"object\"===e.format)return new s.ObjectWriter(this._options,e).serialize(this.node);if(\"json\"===e.format)return new s.JSONWriter(this._options,e).serialize(this.node);if(\"yaml\"===e.format)return new s.YAMLWriter(this._options,e).serialize(this.node);throw new Error(\"Invalid writer format: \"+e.format+\". \"+this._debugInfo())},e.prototype._extractNamespace=function(e,t,r){var n=t.indexOf(\"@\");if(n>0&&(void 0===e&&(e=t.slice(n+1)),t=t.slice(0,n)),void 0===e)e=r?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(null!==e&&\"@\"===e[0]){var i=e.slice(1);if(void 0===(e=this._options.namespaceAlias[i]))throw new Error(\"Namespace alias `\"+i+\"` is not defined. \"+this._debugInfo())}return[e,t]},e.prototype._updateNamespace=function(t){var r,o,a,s,u=this._domNode;if(l.Guard.isElementNode(u)&&null!==t&&u.namespaceURI!==t){var h=n(c.namespace_extractQName(u.prefix?u.prefix+\":\"+u.localName:u.localName),2),p=h[0],f=h[1],d=c.create_element(this._doc,f,t,p);try{for(var m=i(u.attributes),y=m.next();!y.done;y=m.next()){var v=y.value,_=v.prefix?v.prefix+\":\"+v.localName:v.localName,g=n(c.namespace_extractQName(_),1)[0],b=v.namespaceURI;null===b&&null!==g&&(b=u.lookupNamespaceURI(g)),null===b?d.setAttribute(_,v.value):d.setAttributeNS(b,_,v.value)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}var x=u.parentNode;if(null===x)throw new Error(\"Parent node is null.\"+this._debugInfo());x.replaceChild(d,u),this._domNode=d;try{for(var w=i(u.childNodes),E=w.next();!E.done;E=w.next()){var D=E.value.cloneNode(!0);if(d.appendChild(D),l.Guard.isElementNode(D)){var S=n(c.namespace_extractQName(D.prefix?D.prefix+\":\"+D.localName:D.localName),1)[0],C=d.lookupNamespaceURI(S);new e(D)._updateNamespace(C)}}}catch(e){a={error:e}}finally{try{E&&!E.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}}},Object.defineProperty(e.prototype,\"_doc\",{get:function(){var e=this.node;if(l.Guard.isDocumentNode(e))return e;var t=e.ownerDocument;if(!t)throw new Error(\"Owner document is null. \"+this._debugInfo());return t},enumerable:!0,configurable:!0}),e.prototype._debugInfo=function(e){var t=this.node,r=t.parentNode;e=e||t.nodeName;var n=r?r.nodeName:\"\";return n?\"node: <\"+e+\">, parent: <\"+n+\">\":\"node: <\"+e+\">\"},Object.defineProperty(e.prototype,\"_options\",{get:function(){var e=this._doc;if(void 0===e._xmlBuilderOptions)throw new Error(\"Builder options is not set.\");return e._xmlBuilderOptions},set:function(e){this._doc._xmlBuilderOptions=e},enumerable:!0,configurable:!0}),e}();t.XMLBuilderImpl=d},function(e,t,r){var n=r(11),i=r(117),o=n.WeakMap;e.exports=\"function\"==typeof o&&/native code/.test(i(o))},function(e,t,r){var n=r(46),i=r(82),o=r(85),a=r(18);e.exports=n(\"Reflect\",\"ownKeys\")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(16),i=r(15),o=r(18),a=r(61);e.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),s=n.length,u=0;s>u;)i.f(e,r=n[u++],t[r]);return e}},function(e,t,r){var n=r(46);e.exports=n(\"document\",\"documentElement\")},function(e,t,r){var n=r(24),i=r(82).f,o={}.toString,a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&\"[object Window]\"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){\"use strict\";var n=r(4),i=r(36).every,o=r(48),a=r(28),s=o(\"every\"),u=a(\"every\");n({target:\"Array\",proto:!0,forced:!s||!u},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){\"use strict\";var n=r(4),i=r(36).filter,o=r(63),a=r(28),s=o(\"filter\"),u=a(\"filter\");n({target:\"Array\",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(46);e.exports=n(\"navigator\",\"userAgent\")||\"\"},function(e,t,r){\"use strict\";var n=r(4),i=r(36).find,o=r(130),a=r(28),s=!0,u=a(\"find\");\"find\"in[]&&Array(1).find((function(){s=!1})),n({target:\"Array\",proto:!0,forced:s||!u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(\"find\")},function(e,t,r){\"use strict\";var n=r(131).IteratorPrototype,i=r(60),o=r(40),a=r(62),s=r(49),u=function(){return this};e.exports=function(e,t,r){var l=t+\" Iterator\";return e.prototype=i(n,{next:o(1,r)}),a(e,l,!1,!0),s[l]=u,e}},function(e,t,r){var n=r(8);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(13);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError(\"Can't set \"+String(e)+\" as a prototype\");return e}},function(e,t,r){\"use strict\";var n=r(4),i=r(36).map,o=r(63),a=r(28),s=o(\"map\"),u=a(\"map\");n({target:\"Array\",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){\"use strict\";var n=r(4),i=r(200).left,o=r(48),a=r(28),s=o(\"reduce\"),u=a(\"reduce\",{1:0});n({target:\"Array\",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(127),i=r(27),o=r(41),a=r(26),s=function(e){return function(t,r,s,u){n(r);var l=i(t),c=o(l),h=a(l.length),p=e?h-1:0,f=e?-1:1;if(s<2)for(;;){if(p in c){u=c[p],p+=f;break}if(p+=f,e?p<0:h<=p)throw TypeError(\"Reduce of empty array with no initial value\")}for(;e?p>=0:h>p;p+=f)p in c&&(u=r(u,c[p],p,l));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,r){\"use strict\";var n=r(4),i=r(36).some,o=r(48),a=r(28),s=o(\"some\"),u=a(\"some\");n({target:\"Array\",proto:!0,forced:!s||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){\"use strict\";var n=r(90),i=r(135);e.exports=n?{}.toString:function(){return\"[object \"+i(this)+\"]\"}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(8);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){var n=r(5),i=r(49),o=n(\"iterator\"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,r){var n=r(135),i=r(49),o=r(5)(\"iterator\");e.exports=function(e){if(null!=e)return e[o]||e[\"@@iterator\"]||i[n(e)]}},function(e,t,r){var n=r(18);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(5)(\"iterator\"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},function(e,t,r){var n=r(13),i=r(133);e.exports=function(e,t,r){var o,a;return i&&\"function\"==typeof(o=t.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(e,a),e}},function(e,t,r){var n=r(25);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){\"use strict\";var n=r(46),i=r(15),o=r(5),a=r(16),s=o(\"species\");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e){void 0===e&&(e=1e3),this._items=new Set,this._limit=e}return e.prototype.add=function(e){if(this._items.add(e),this._items.size>this._limit){var t=this._items.values().next();t.done||this._items.delete(t.value)}return this},e.prototype.delete=function(e){return this._items.delete(e)},e.prototype.has=function(e){return this._items.has(e)},e.prototype.clear=function(){this._items.clear()},Object.defineProperty(e.prototype,\"size\",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var r=this;this._items.forEach((function(n){return e.call(t,n,n,r)}))},e.prototype.keys=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items.keys())];case 1:return e.sent(),[2]}}))},e.prototype.values=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items.values())];case 1:return e.sent(),[2]}}))},e.prototype.entries=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items.entries())];case 1:return e.sent(),[2]}}))},e.prototype[Symbol.iterator]=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items)];case 1:return e.sent(),[2]}}))},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return\"FixedSizeSet\"},enumerable:!0,configurable:!0}),e}();t.FixedSizeSet=o},function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e){void 0===e&&(e=1e3),this._items=new Map,this._limit=e}return e.prototype.get=function(e){return this._items.get(e)},e.prototype.set=function(e,t){if(this._items.set(e,t),this._items.size>this._limit){var r=this._items.keys().next();r.done||this._items.delete(r.value)}},e.prototype.delete=function(e){return this._items.delete(e)},e.prototype.has=function(e){return this._items.has(e)},e.prototype.clear=function(){this._items.clear()},Object.defineProperty(e.prototype,\"size\",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){this._items.forEach((function(r,n){return e.call(t,n,r)}))},e.prototype.keys=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items.keys())];case 1:return e.sent(),[2]}}))},e.prototype.values=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items.values())];case 1:return e.sent(),[2]}}))},e.prototype.entries=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items.entries())];case 1:return e.sent(),[2]}}))},e.prototype[Symbol.iterator]=function(){return n(this,(function(e){switch(e.label){case 0:return[5,i(this._items)];case 1:return e.sent(),[2]}}))},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return\"ObjectCache\"},enumerable:!0,configurable:!0}),e}();t.ObjectCache=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e){void 0===e&&(e=1e3),this._items=new Map,this._limit=e}return e.prototype.check=function(e,t){if(this._items.get(e)===t)return!0;if(this._items.get(t)===e)return!1;var r=Math.random()<.5;if(r?this._items.set(e,t):this._items.set(t,e),this._items.size>this._limit){var n=this._items.keys().next();n.done||this._items.delete(n.value)}return r},e}();t.CompareCache=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e){this._initialized=!1,this._value=void 0,this._initFunc=e}return Object.defineProperty(e.prototype,\"value\",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),e}();t.Lazy=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e){this._pointer=0,this._chars=Array.from(e),this._length=this._chars.length}return Object.defineProperty(e.prototype,\"eof\",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"length\",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.codePoint=function(){if(void 0===this._codePoint)if(this.eof)this._codePoint=-1;else{var e=this._chars[this._pointer].codePointAt(0);this._codePoint=void 0!==e?e:-1}return this._codePoint},e.prototype.c=function(){return void 0===this._c&&(this._c=this.eof?\"\":this._chars[this._pointer]),this._c},e.prototype.remaining=function(){return void 0===this._remaining&&(this._remaining=this.eof?\"\":this._chars.slice(this._pointer+1).join(\"\")),this._remaining},e.prototype.substring=function(){return void 0===this._substring&&(this._substring=this.eof?\"\":this._chars.slice(this._pointer).join(\"\")),this._substring},Object.defineProperty(e.prototype,\"pointer\",{get:function(){return this._pointer},set:function(e){e!==this._pointer&&(this._pointer=e,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),e}();t.StringWalker=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(218);t.MapWriter=n.MapWriter;var i=r(258);t.XMLWriter=i.XMLWriter;var o=r(67);t.ObjectWriter=o.ObjectWriter;var a=r(260);t.JSONWriter=a.JSONWriter;var s=r(261);t.YAMLWriter=s.YAMLWriter},function(e,t,r){\"use strict\";r(19),r(219),r(20),r(22),r(23);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1),a=r(67),s=function(e){function t(t,r){var n=e.call(this,t)||this;return n._writerOptions=o.applyDefaults(r,{format:\"map\",wellFormed:!1,group:!1,verbose:!1}),n}return i(t,e),t.prototype.serialize=function(e){var t=o.applyDefaults(this._writerOptions,{format:\"object\",wellFormed:!1,verbose:!1}),r=new a.ObjectWriter(this._builderOptions,t).serialize(e);return this._convertObject(r)},t.prototype._convertObject=function(e){if(o.isArray(e)){for(var t=0;t<e.length;t++)e[t]=this._convertObject(e[t]);return e}if(o.isObject(e)){var r=new Map;for(var n in e)r.set(n,this._convertObject(e[n]));return r}return e},t}(r(50).BaseWriter);t.MapWriter=s},function(e,t,r){\"use strict\";var n=r(139),i=r(143);e.exports=n(\"Map\",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,r){\"use strict\";var n=r(4),i=r(8),o=r(59),a=r(13),s=r(27),u=r(26),l=r(134),c=r(128),h=r(63),p=r(5),f=r(129),d=p(\"isConcatSpreadable\"),m=f>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),y=h(\"concat\"),v=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)};n({target:\"Array\",proto:!0,forced:!m||!y},{concat:function(e){var t,r,n,i,o,a=s(this),h=c(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(v(o=-1===t?a:arguments[t])){if(p+(i=u(o.length))>9007199254740991)throw TypeError(\"Maximum allowed index exceeded\");for(r=0;r<i;r++,p++)r in o&&l(h,p,o[r])}else{if(p>=9007199254740991)throw TypeError(\"Maximum allowed index exceeded\");l(h,p++,o)}return h.length=p,h}})},function(e,t,r){\"use strict\";var n=r(8);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i(\"a\",\"y\");return e.lastIndex=2,null!=e.exec(\"abcd\")})),t.BROKEN_CARET=n((function(){var e=i(\"^r\",\"gy\");return e.lastIndex=2,null!=e.exec(\"str\")}))},function(e,t,r){var n=r(223);e.exports=function(e){if(n(e))throw TypeError(\"The method doesn't accept regular expressions\");return e}},function(e,t,r){var n=r(13),i=r(42),o=r(5)(\"match\");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:\"RegExp\"==i(e))}},function(e,t,r){var n=r(5)(\"match\");e.exports=function(e){var t=/./;try{\"/./\"[e](t)}catch(r){try{return t[n]=!1,\"/./\"[e](t)}catch(e){}}return!1}},function(e,t,r){\"use strict\";r(68);var n=r(25),i=r(8),o=r(5),a=r(93),s=r(21),u=o(\"species\"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:\"7\"},e},\"7\"!==\"\".replace(e,\"$<a>\")})),c=\"$0\"===\"a\".replace(/./,\"$0\"),h=o(\"replace\"),p=!!/./[h]&&\"\"===/./[h](\"a\",\"$0\"),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r=\"ab\".split(e);return 2!==r.length||\"a\"!==r[0]||\"b\"!==r[1]}));e.exports=function(e,t,r,h){var d=o(e),m=!i((function(){var t={};return t[d]=function(){return 7},7!=\"\"[e](t)})),y=m&&!i((function(){var t=!1,r=/a/;return\"split\"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags=\"\",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](\"\"),!t}));if(!m||!y||\"replace\"===e&&(!l||!c||p)||\"split\"===e&&!f){var v=/./[d],_=r(d,\"\"[e],(function(e,t,r,n,i){return t.exec===a?m&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),g=_[0],b=_[1];n(String.prototype,e,g),n(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}h&&s(RegExp.prototype[d],\"sham\",!0)}},function(e,t,r){\"use strict\";var n=r(137).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(42),i=r(93);e.exports=function(e,t){var r=e.exec;if(\"function\"==typeof r){var o=r.call(e,t);if(\"object\"!=typeof o)throw TypeError(\"RegExp exec method returned something other than an Object or null\");return o}if(\"RegExp\"!==n(e))throw TypeError(\"RegExp#exec called on incompatible receiver\");return i.call(e,t)}},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(96);t.forgivingBase64Encode=function(t){return e.from(t).toString(\"base64\")},t.forgivingBase64Decode=function(t){return\"\"===t?\"\":((t=t.replace(n.ASCIIWhiteSpace,\"\")).length%4==0&&(t.endsWith(\"==\")?t=t.substr(0,t.length-2):t.endsWith(\"=\")&&(t=t.substr(0,t.length-1))),t.length%4==1?null:/[0-9A-Za-z+/]/.test(t)?e.from(t,\"base64\").toString(\"utf8\"):null)}}).call(this,r(145).Buffer)},function(e,t,r){\"use strict\";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),c=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+\"==\")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return o.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.indexOf(\"=\");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=e[t+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+f]=255&a,f+=d,a/=256,l-=8);e[r+f-d]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(1);function o(e){var t,r;if(null===e||i.isString(e)||i.isNumber(e))return e;if(i.isArray(e)){var a=new Array;try{for(var s=n(e),u=s.next();!u.done;u=s.next()){var l=u.value;a.push(o(l))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a}if(i.isObject(e)){a=new Map;for(var c in e)if(e.hasOwnProperty(c)){var h=e[c];a.set(c,o(h))}return a}return e}t.parseJSONFromBytes=function(e){var t=i.utf8Decode(e);return JSON.parse.call(void 0,t)},t.serializeJSONToBytes=function(e){var t=JSON.stringify.call(void 0,e);return i.utf8Encode(t)},t.parseJSONIntoInfraValues=function(e){return o(JSON.parse.call(void 0,e))},t.convertAJSONDerivedJavaScriptValueToAnInfraValue=o},function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(1);t.append=function(e,t){e.push(t)},t.extend=function(e,t){e.push.apply(e,o(t))},t.prepend=function(e,t){e.unshift(t)},t.replace=function(e,t,r){var n,i,o=0;try{for(var u=a(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(s.isFunction(t))t.call(null,c)&&(e[o]=r);else if(c===t)return void(e[o]=r);o++}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}},t.insert=function(e,t,r){e.splice(r,0,t)},t.remove=function(e,t){for(var r=e.length;r--;){var n=e[r];if(s.isFunction(t))t.call(null,n)&&e.splice(r,1);else if(n===t)return void e.splice(r,1)}},t.empty=function(e){e.length=0},t.contains=function(e,t){var r,n;try{for(var i=a(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(s.isFunction(t)){if(t.call(null,u))return!0}else if(u===t)return!0}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},t.size=function(e,t){var r,n;if(void 0===t)return e.length;var i=0;try{for(var o=a(e),s=o.next();!s.done;s=o.next()){var u=s.value;t.call(null,u)&&i++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.isEmpty=function(e){return 0===e.length},t.forEach=function(e,t){var r,i,o,s,u,l;return n(this,(function(n){switch(n.label){case 0:return void 0!==t?[3,2]:[5,a(e)];case 1:return n.sent(),[3,9];case 2:n.trys.push([2,7,8,9]),r=a(e),i=r.next(),n.label=3;case 3:return i.done?[3,6]:(o=i.value,t.call(null,o)?[4,o]:[3,5]);case 4:n.sent(),n.label=5;case 5:return i=r.next(),[3,3];case 6:return[3,9];case 7:return s=n.sent(),u={error:s},[3,9];case 8:try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(u)throw u.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new(Array.bind.apply(Array,o([void 0],e)))},t.sortInAscendingOrder=function(e,t){return e.sort((function(e,r){return t.call(null,e,r)?-1:1}))},t.sortInDescendingOrder=function(e,t){return e.sort((function(e,r){return t.call(null,e,r)?1:-1}))}},function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(1);t.get=function(e,t){return e.get(t)},t.set=function(e,t,r){e.set(t,r)},t.remove=function(e,t){var r,n,o,a;if(s.isFunction(t)){var u=[];try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var h=c.value;t.call(null,h)&&u.push(h[0])}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var p=i(u),f=p.next();!f.done;f=p.next()){var d=f.value;e.delete(d)}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}else e.delete(t)},t.contains=function(e,t){var r,n;if(s.isFunction(t)){try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var u=a.value;if(t.call(null,u))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}return e.has(t)},t.keys=function(e){return new Set(e.keys())},t.values=function(e){return a(e.values())},t.size=function(e,t){var r,n;if(void 0===t)return e.size;var o=0;try{for(var a=i(e),s=a.next();!s.done;s=a.next()){var u=s.value;t.call(null,u)&&o++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},t.isEmpty=function(e){return 0===e.size},t.forEach=function(e,t){var r,o,a,s,u,l;return n(this,(function(n){switch(n.label){case 0:return void 0!==t?[3,2]:[5,i(e)];case 1:return n.sent(),[3,9];case 2:n.trys.push([2,7,8,9]),r=i(e),o=r.next(),n.label=3;case 3:return o.done?[3,6]:(a=o.value,t.call(null,a)?[4,a]:[3,5]);case 4:n.sent(),n.label=5;case 5:return o=r.next(),[3,3];case 6:return[3,9];case 7:return s=n.sent(),u={error:s},[3,9];case 8:try{o&&!o.done&&(l=r.return)&&l.call(r)}finally{if(u)throw u.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new Map(e)},t.sortInAscendingOrder=function(e,t){var r=new(Array.bind.apply(Array,a([void 0],e)));return r.sort((function(e,r){return t.call(null,e,r)?-1:1})),new Map(r)},t.sortInDescendingOrder=function(e,t){var r=new(Array.bind.apply(Array,a([void 0],e)));return r.sort((function(e,r){return t.call(null,e,r)?1:-1})),new Map(r)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.HTML=\"http://www.w3.org/1999/xhtml\",t.XML=\"http://www.w3.org/XML/1998/namespace\",t.XMLNS=\"http://www.w3.org/2000/xmlns/\",t.MathML=\"http://www.w3.org/1998/Math/MathML\",t.SVG=\"http://www.w3.org/2000/svg\",t.XLink=\"http://www.w3.org/1999/xlink\"},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.enqueue=function(e,t){e.push(t)},t.dequeue=function(e){return e.shift()||null}},function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},o=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(1);function u(e,t){var r,n;try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(!t.has(s))return!1}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0}t.append=function(e,t){e.add(t)},t.extend=function(e,t){t.forEach(e.add,e)},t.prepend=function(e,t){var r=new Set(e);e.clear(),e.add(t),r.forEach(e.add,e)},t.replace=function(e,t,r){var n,o,a=new Set;try{for(var u=i(e),l=u.next();!l.done;l=u.next()){var c=l.value;s.isFunction(t)?t.call(null,c)?a.add(r):a.add(c):c===t?a.add(r):a.add(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}e.clear(),a.forEach(e.add,e)},t.insert=function(e,t,r){var n,o,a=new Set,s=0;try{for(var u=i(e),l=u.next();!l.done;l=u.next()){var c=l.value;s===r&&a.add(t),a.add(c),s++}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}e.clear(),a.forEach(e.add,e)},t.remove=function(e,t){var r,n,o,a;if(s.isFunction(t)){var u=[];try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var h=c.value;t.call(null,h)&&u.push(h)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var p=i(u),f=p.next();!f.done;f=p.next()){var d=f.value;e.delete(d)}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}else e.delete(t)},t.empty=function(e){e.clear()},t.contains=function(e,t){var r,n;if(!s.isFunction(t))return e.has(t);try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var u=a.value;if(t.call(null,u))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},t.size=function(e,t){var r,n;if(void 0===t)return e.size;var o=0;try{for(var a=i(e),s=a.next();!s.done;s=a.next()){var u=s.value;t.call(null,u)&&o++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},t.isEmpty=function(e){return 0===e.size},t.forEach=function(e,t){var r,o,a,s,u,l;return n(this,(function(n){switch(n.label){case 0:return void 0!==t?[3,2]:[5,i(e)];case 1:return n.sent(),[3,9];case 2:n.trys.push([2,7,8,9]),r=i(e),o=r.next(),n.label=3;case 3:return o.done?[3,6]:(a=o.value,t.call(null,a)?[4,a]:[3,5]);case 4:n.sent(),n.label=5;case 5:return o=r.next(),[3,3];case 6:return[3,9];case 7:return s=n.sent(),u={error:s},[3,9];case 8:try{o&&!o.done&&(l=r.return)&&l.call(r)}finally{if(u)throw u.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new Set(e)},t.sortInAscendingOrder=function(e,t){var r=new(Array.bind.apply(Array,a([void 0],e)));return r.sort((function(e,r){return t.call(null,e,r)?-1:1})),new Set(r)},t.sortInDescendingOrder=function(e,t){var r=new(Array.bind.apply(Array,a([void 0],e)));return r.sort((function(e,r){return t.call(null,e,r)?1:-1})),new Set(r)},t.isSubsetOf=u,t.isSupersetOf=function(e,t){return u(t,e)},t.intersection=function(e,t){var r,n,o=new Set;try{for(var a=i(e),s=a.next();!s.done;s=a.next()){var u=s.value;t.has(u)&&o.add(u)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},t.union=function(e,t){var r=new Set(e);return t.forEach(r.add,r),r},t.range=function(e,t){for(var r=new Set,n=e;n<=t;n++)r.add(n);return r}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.push=function(e,t){e.push(t)},t.pop=function(e){return e.pop()||null}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(96),o=r(147),a=r(146),s=r(1);function u(e,t){for(var r=0;;){var n=r<e.length?e.charCodeAt(r):null,i=r<t.length?t.charCodeAt(r):null;if(null===n)return!0;if(n!==i)return!1;r++}}function l(e){var t,r,i=Array.from(e),o=new Uint8Array(i.length),a=0;try{for(var s=n(e),u=s.next();!u.done;u=s.next()){var l=u.value.codePointAt(0);console.assert(void 0!==l&&l<=255,\"isomorphicEncode requires string bytes to be less than or equal to 0x00FF.\"),void 0!==l&&l<=255&&(o[a++]=l)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o}function c(e){return/^[\\u0000-\\u007F]*$/.test(e)}function h(e){var t,r,i=\"\";try{for(var o=n(e),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.codePointAt(0);i+=void 0!==u&&u>=65&&u<=90?String.fromCodePoint(u+32):s}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function p(e){return e.replace(/^[\\t\\n\\f\\r ]+/,\"\").replace(/[\\t\\n\\f\\r ]+$/,\"\")}function f(e,t,r){if(!s.isArray(t))return f(e,Array.from(t),r);for(var n=\"\";r.position<t.length&&e.call(null,t[r.position]);)n+=t[r.position],r.position++;return n}function d(e,t){f((function(e){return i.ASCIIWhiteSpace.test(e)}),e,t)}t.isCodeUnitPrefix=u,t.isCodeUnitLessThan=function(e,t){if(u(t,e))return!1;if(u(e,t))return!0;for(var r=0;r<Math.min(e.length,t.length);r++){var n=e.charCodeAt(r),i=t.charCodeAt(r);if(n!==i)return n<i}return!1},t.isomorphicEncode=l,t.isASCIIString=c,t.asciiLowercase=h,t.asciiUppercase=function(e){var t,r,i=\"\";try{for(var o=n(e),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.codePointAt(0);i+=void 0!==u&&u>=97&&u<=122?String.fromCodePoint(u-32):s}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},t.asciiCaseInsensitiveMatch=function(e,t){return h(e)===h(t)},t.asciiEncode=function(e){return console.assert(c(e),\"asciiEncode requires an ASCII string.\"),l(e)},t.asciiDecode=function(e){var t,r;try{for(var i=n(e),s=i.next();!s.done;s=i.next()){var u=s.value;console.assert(a.isASCIIByte(u),\"asciiDecode requires an ASCII byte sequence.\")}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o.isomorphicDecode(e)},t.stripNewlines=function(e){return e.replace(/[\\n\\r]/g,\"\")},t.normalizeNewlines=function(e){return e.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")},t.stripLeadingAndTrailingASCIIWhitespace=p,t.stripAndCollapseASCIIWhitespace=function(e){return p(e.replace(/[\\t\\n\\f\\r ]{2,}/g,\" \"))},t.collectASequenceOfCodePoints=f,t.skipASCIIWhitespace=d,t.strictlySplit=function e(t,r){if(!s.isArray(t))return e(Array.from(t),r);var n={position:0},i=[],o=f((function(e){return r!==e}),t,n);for(i.push(o);n.position<t.length;)console.assert(t[n.position]===r,\"strictlySplit found no delimiter in input string.\"),n.position++,o=f((function(e){return r!==e}),t,n),i.push(o);return i},t.splitAStringOnASCIIWhitespace=function e(t){if(!s.isArray(t))return e(Array.from(t));var r={position:0},n=[];for(d(t,r);r.position<t.length;){var o=f((function(e){return!i.ASCIIWhiteSpace.test(e)}),t,r);n.push(o),d(t,r)}return n},t.splitAStringOnCommas=function e(t){if(!s.isArray(t))return e(Array.from(t));for(var r={position:0},n=[];r.position<t.length;){var i=f((function(e){return\",\"!==e}),t,r);n.push(p(i)),r.position<t.length&&(console.assert(\",\"===t[r.position],\"splitAStringOnCommas found no delimiter in input string.\"),r.position++)}return n},t.concatenate=function(e,t){return void 0===t&&(t=\"\"),0===e.length?\"\":e.join(t)}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(97);t.abort_add=function(e,t){t._abortedFlag||t._abortAlgorithms.add(e)},t.abort_remove=function(e,t){t._abortAlgorithms.delete(e)},t.abort_signalAbort=function(e){var t,r;if(!e._abortedFlag){e._abortedFlag=!0;try{for(var o=n(e._abortAlgorithms),a=o.next();!a.done;a=o.next()){a.value.call(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}e._abortAlgorithms.clear(),i.event_fireAnEvent(\"abort\",e)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(150),i=function(){function e(){}return e.asNode=function(e){if(n.Guard.isNode(e))return e;throw new Error(\"Invalid object. Node expected.\")},e}();t.Cast=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){}return Object.defineProperty(e.prototype,\"size\",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.add=function(e){throw new Error(\"Cannot add to an empty set.\")},e.prototype.clear=function(){},e.prototype.delete=function(e){return!1},e.prototype.forEach=function(e,t){},e.prototype.has=function(e){return!1},e.prototype[Symbol.iterator]=function(){return new i},e.prototype.entries=function(){return new i},e.prototype.keys=function(){return new i},e.prototype.values=function(){return new i},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return\"EmptySet\"},enumerable:!0,configurable:!0}),e}();t.EmptySet=n;var i=function(){function e(){}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return{done:!0,value:null}},e}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e[e.SchemeStart=0]=\"SchemeStart\",e[e.Scheme=1]=\"Scheme\",e[e.NoScheme=2]=\"NoScheme\",e[e.SpecialRelativeOrAuthority=3]=\"SpecialRelativeOrAuthority\",e[e.PathOrAuthority=4]=\"PathOrAuthority\",e[e.Relative=5]=\"Relative\",e[e.RelativeSlash=6]=\"RelativeSlash\",e[e.SpecialAuthoritySlashes=7]=\"SpecialAuthoritySlashes\",e[e.SpecialAuthorityIgnoreSlashes=8]=\"SpecialAuthorityIgnoreSlashes\",e[e.Authority=9]=\"Authority\",e[e.Host=10]=\"Host\",e[e.Hostname=11]=\"Hostname\",e[e.Port=12]=\"Port\",e[e.File=13]=\"File\",e[e.FileSlash=14]=\"FileSlash\",e[e.FileHost=15]=\"FileHost\",e[e.PathStart=16]=\"PathStart\",e[e.Path=17]=\"Path\",e[e.CannotBeABaseURLPath=18]=\"CannotBeABaseURLPath\",e[e.Query=19]=\"Query\",e[e.Fragment=20]=\"Fragment\"}(t.ParserState||(t.ParserState={})),t.OpaqueOrigin=[\"\",\"\",null,null]},function(e,t,r){\"use strict\";var n=r(245),i=r(247);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=g,t.resolve=function(e,t){return g(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=g(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(l),h=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),p=[\"/\",\"?\",\"#\"],f=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,\"javascript:\":!0},y={javascript:!0,\"javascript:\":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},_=r(248);function g(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof e);var o=e.indexOf(\"?\"),s=-1!==o&&o<e.indexOf(\"#\")?\"?\":\"#\",l=e.split(s);l[0]=l[0].replace(/\\\\/g,\"/\");var g=e=l.join(s);if(g=g.trim(),!r&&1===e.split(\"#\").length){var b=u.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=\"\",this.query={}),this}var x=a.exec(g);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,g=g.substr(x.length)}if(r||x||g.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var E=\"//\"===g.substr(0,2);!E||x&&y[x]||(g=g.substr(2),this.slashes=!0)}if(!y[x]&&(E||x&&!v[x])){for(var D,S,C=-1,A=0;A<p.length;A++){-1!==(N=g.indexOf(p[A]))&&(-1===C||N<C)&&(C=N)}-1!==(S=-1===C?g.lastIndexOf(\"@\"):g.lastIndexOf(\"@\",C))&&(D=g.slice(0,S),g=g.slice(S+1),this.auth=decodeURIComponent(D)),C=-1;for(A=0;A<h.length;A++){var N;-1!==(N=g.indexOf(h[A]))&&(-1===C||N<C)&&(C=N)}-1===C&&(C=g.length),this.host=g.slice(0,C),g=g.slice(C),this.parseHost(),this.hostname=this.hostname||\"\";var T=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!T)for(var O=this.hostname.split(/\\./),F=(A=0,O.length);A<F;A++){var k=O[A];if(k&&!k.match(f)){for(var P=\"\",I=0,L=k.length;I<L;I++)k.charCodeAt(I)>127?P+=\"x\":P+=k[I];if(!P.match(f)){var M=O.slice(0,A),B=O.slice(A+1),j=k.match(d);j&&(M.push(j[1]),B.unshift(j[2])),B.length&&(g=\"/\"+B.join(\".\")+g),this.hostname=M.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var R=this.port?\":\"+this.port:\"\",z=this.hostname||\"\";this.host=z+R,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==g[0]&&(g=\"/\"+g))}if(!m[w])for(A=0,F=c.length;A<F;A++){var U=c[A];if(-1!==g.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),g=g.split(U).join(G)}}var X=g.indexOf(\"#\");-1!==X&&(this.hash=g.substr(X),g=g.slice(0,X));var q=g.indexOf(\"?\");if(-1!==q?(this.search=g.substr(q),this.query=g.substr(q+1),t&&(this.query=_.parse(this.query)),g=g.slice(0,q)):t&&(this.search=\"\",this.query={}),g&&(this.pathname=g),v[w]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){R=this.pathname||\"\";var W=this.search||\"\";this.path=R+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||\"\";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\":\"),e+=\"@\");var t=this.protocol||\"\",r=this.pathname||\"\",n=this.hash||\"\",o=!1,a=\"\";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var s=this.search||a&&\"?\"+a||\"\";return t&&\":\"!==t.substr(-1)&&(t+=\":\"),this.slashes||(!t||v[t])&&!1!==o?(o=\"//\"+(o||\"\"),r&&\"/\"!==r.charAt(0)&&(r=\"/\"+r)):o||(o=\"\"),n&&\"#\"!==n.charAt(0)&&(n=\"#\"+n),s&&\"?\"!==s.charAt(0)&&(s=\"?\"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace(\"#\",\"%23\"))+n},o.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,\"\"===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];\"protocol\"!==c&&(r[c]=e[c])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname=\"/\"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),p=0;p<h.length;p++){var f=h[p];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||\"\").split(\"/\");d.length&&!(e.host=d.shift()););e.host||(e.host=\"\"),e.hostname||(e.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),r.pathname=d.join(\"/\")}if(r.search=e.search,r.query=e.query,r.host=e.host||\"\",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||\"\",_=r.search||\"\";r.path=m+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&\"/\"===r.pathname.charAt(0),b=e.host||e.pathname&&\"/\"===e.pathname.charAt(0),x=b||g||r.host&&e.pathname,w=x,E=r.pathname&&r.pathname.split(\"/\")||[],D=(d=e.pathname&&e.pathname.split(\"/\")||[],r.protocol&&!v[r.protocol]);if(D&&(r.hostname=\"\",r.port=null,r.host&&(\"\"===E[0]?E[0]=r.host:E.unshift(r.host)),r.host=\"\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\"\"===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),x=x&&(\"\"===d[0]||\"\"===E[0])),b)r.host=e.host||\"\"===e.host?e.host:r.host,r.hostname=e.hostname||\"\"===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(D)r.hostname=r.host=E.shift(),(T=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path=\"/\"+r.search:r.path=null,r.href=r.format(),r;for(var S=E.slice(-1)[0],C=(r.host||e.host||E.length>1)&&(\".\"===S||\"..\"===S)||\"\"===S,A=0,N=E.length;N>=0;N--)\".\"===(S=E[N])?E.splice(N,1):\"..\"===S?(E.splice(N,1),A++):A&&(E.splice(N,1),A--);if(!x&&!w)for(;A--;A)E.unshift(\"..\");!x||\"\"===E[0]||E[0]&&\"/\"===E[0].charAt(0)||E.unshift(\"\"),C&&\"/\"!==E.join(\"/\").substr(-1)&&E.push(\"\");var T,O=\"\"===E[0]||E[0]&&\"/\"===E[0].charAt(0);D&&(r.hostname=r.host=O?\"\":E.length?E.shift():\"\",(T=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(x=x||r.host&&E.length)&&!O&&E.unshift(\"\"),E.length?r.pathname=E.join(\"/\"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(\":\"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a=\"object\"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=/^xn--/,c=/[^\\x20-\\x7E]/,h=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,p={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},f=Math.floor,d=String.fromCharCode;function m(e){throw new RangeError(p[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function v(e,t){var r=e.split(\"@\"),n=\"\";return r.length>1&&(n=r[0]+\"@\",e=r[1]),n+y((e=e.replace(h,\".\")).split(\".\"),t).join(\".\")}function _(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function g(e){return y(e,(function(e){var t=\"\";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join(\"\")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))}function w(e){var t,r,n,i,o,a,s,l,c,h,p,d=[],y=e.length,v=0,_=128,b=72;for((r=e.lastIndexOf(\"-\"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m(\"not-basic\"),d.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(o=v,a=1,s=36;i>=y&&m(\"invalid-input\"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||l>f((u-v)/a))&&m(\"overflow\"),v+=l*a,!(l<(c=s<=b?1:s>=b+26?26:s-b));s+=36)a>f(u/(h=36-c))&&m(\"overflow\"),a*=h;b=x(v-o,t=d.length+1,0==o),f(v/t)>u-_&&m(\"overflow\"),_+=f(v/t),v%=t,d.splice(v++,0,_)}return g(d)}function E(e){var t,r,n,i,o,a,s,l,c,h,p,y,v,g,w,E=[];for(y=(e=_(e)).length,t=128,r=0,o=72,a=0;a<y;++a)(p=e[a])<128&&E.push(d(p));for(n=i=E.length,i&&E.push(\"-\");n<y;){for(s=u,a=0;a<y;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>f((u-r)/(v=n+1))&&m(\"overflow\"),r+=(s-t)*v,t=s,a=0;a<y;++a)if((p=e[a])<t&&++r>u&&m(\"overflow\"),p==t){for(l=r,c=36;!(l<(h=c<=o?1:c>=o+26?26:c-o));c+=36)w=l-h,g=36-h,E.push(d(b(h+w%g,0))),l=f(w/g);E.push(d(b(l,0))),o=x(r,v,n==i),r=0,++n}++r,++t}return E.join(\"\")}s={version:\"1.4.1\",ucs2:{decode:_,encode:g},decode:w,encode:E,toASCII:function(e){return v(e,(function(e){return c.test(e)?\"xn--\"+E(e):e}))},toUnicode:function(e){return v(e,(function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(246)(e),r(78))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){\"use strict\";e.exports={isString:function(e){return\"string\"==typeof e},isObject:function(e){return\"object\"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){\"use strict\";t.decode=t.parse=r(249),t.encode=t.stringify=r(250)},function(e,t,r){\"use strict\";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||\"&\",r=r||\"=\";var a={};if(\"string\"!=typeof e||0===e.length)return a;var s=/\\+/g;e=e.split(t);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,p,f,d,m=e[c].replace(s,\"%20\"),y=m.indexOf(r);y>=0?(h=m.substr(0,y),p=m.substr(y+1)):(h=m,p=\"\"),f=decodeURIComponent(h),d=decodeURIComponent(p),n(a,f)?i(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a};var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)}},function(e,t,r){\"use strict\";var n=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};e.exports=function(e,t,r,s){return t=t||\"&\",r=r||\"=\",null===e&&(e=void 0),\"object\"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):\"\"};var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(52);t.attr_setAnExistingAttributeValue=function(e,t){null===e._element?e._value=t:n.element_change(e,e._element,t)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(108),i=r(30),o=r(52);t.tokenList_validationSteps=function(e,t){if(!i.dom_hasSupportedTokens(e._attribute._localName))throw new TypeError(\"There are no supported tokens defined for attribute name: '\"+e._attribute._localName+\"'.\");return i.dom_getSupportedTokens(e._attribute._localName).has(t.toLowerCase())},t.tokenList_updateSteps=function(e){(e._element.hasAttribute(e._attribute._localName)||0!==e._tokenSet.size)&&o.element_setAnAttributeValue(e._element,e._attribute._localName,n.orderedSet_serialize(e._tokenSet))},t.tokenList_serializeSteps=function(e){return o.element_getAnAttributeValue(e._element,e._attribute._localName)}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(1);function o(e){return i.isBoolean(e)?e:e.capture||!1}t.eventTarget_flatten=o,t.eventTarget_flattenMore=function(e){var t=o(e),r=!1,n=!1;return i.isBoolean(e)||(r=e.once||!1,n=e.passive||!1),[t,n,r]},t.eventTarget_addEventListener=function(e,t){if(null!==t.callback){for(var r=0;r<e._eventListenerList.length;r++){var n=e._eventListenerList[r];if(n.type===t.type&&n.callback.handleEvent===t.callback.handleEvent&&n.capture===t.capture)return}e._eventListenerList.push(t)}},t.eventTarget_removeEventListener=function(e,t,r){t.removed=!0,e._eventListenerList.splice(r,1)},t.eventTarget_removeAllEventListeners=function(e){var t,r;try{for(var i=n(e._eventListenerList),o=i.next();!o.done;o=i.next()){o.value.removed=!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e._eventListenerList.length=0}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(1),o=r(29);t.parentNode_convertNodesIntoANode=function(e,t){for(var r,a,s=null,u=0;u<e.length;u++){var l=e[u];if(i.isString(l)){var c=o.create_text(t,l);e[u]=c}}if(1===e.length)s=e[0];else{var h=s=o.create_documentFragment(t);try{for(var p=n(e),f=p.next();!f.done;f=p.next()){l=f.value;h.appendChild(l)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}}return s}},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(2),s=r(9),u=r(3),l=r(29),c=r(17),h=r(175),p=r(107),f=r(176),d=r(37),m=r(177);function y(e){return e._startNode===e._endNode&&e._startOffset===e._endOffset}function v(e){return c.tree_rootNode(e._startNode)}function _(e,t){return c.tree_rootNode(e)===v(t)&&h.boundaryPoint_position([e,0],t._start)===a.BoundaryPosition.After&&h.boundaryPoint_position([e,c.tree_nodeLength(e)],t._end)===a.BoundaryPosition.Before}function g(e,t){var r=c.tree_isAncestorOf(t._startNode,e,!0),n=c.tree_isAncestorOf(t._endNode,e,!0);return r&&!n||!r&&n}function b(e){var t,r,i,a,h,m,v=l.create_documentFragment(e._startNode._nodeDocument);if(y(e))return v;var x=e._startNode,w=e._startOffset,E=e._endNode,D=e._endOffset;if(x===E&&u.Guard.isCharacterDataNode(x))return(R=f.node_clone(x))._data=p.characterData_substringData(x,w,D-w),d.mutation_append(R,v),p.characterData_replaceData(x,w,D-w,\"\"),v;for(var S=x;!c.tree_isAncestorOf(E,S,!0);){if(null===S._parent)throw new Error(\"Parent node  is null.\");S=S._parent}var C=null;if(!c.tree_isAncestorOf(E,x,!0))try{for(var A=n(S._children),N=A.next();!N.done;N=A.next()){if(g(k=N.value,e)){C=k;break}}}catch(e){t={error:e}}finally{try{N&&!N.done&&(r=A.return)&&r.call(A)}finally{if(t)throw t.error}}var T=null;if(!c.tree_isAncestorOf(x,E,!0))for(var O=o(S._children),F=O.length-1;F>0;F--){var k;if(g(k=O[F],e)){T=k;break}}var P,I,L=[];try{for(var M=n(S._children),B=M.next();!B.done;B=M.next()){if(_(X=B.value,e)){if(u.Guard.isDocumentTypeNode(X))throw new s.HierarchyRequestError;L.push(X)}}}catch(e){i={error:e}}finally{try{B&&!B.done&&(a=M.return)&&a.call(M)}finally{if(i)throw i.error}}if(c.tree_isAncestorOf(E,x,!0))P=x,I=w;else{for(var j=x;null!==j._parent&&!c.tree_isAncestorOf(E,j._parent);)j=j._parent;if(null===j._parent)throw new Error(\"Parent node is null.\");P=j._parent,I=1+c.tree_index(j)}if(u.Guard.isCharacterDataNode(C))(R=f.node_clone(x))._data=p.characterData_substringData(x,w,c.tree_nodeLength(x)-w),d.mutation_append(R,v),p.characterData_replaceData(x,w,c.tree_nodeLength(x)-w,\"\");else if(null!==C){var R=f.node_clone(C);d.mutation_append(R,v);var z=b(l.create_range([x,w],[C,c.tree_nodeLength(C)]));d.mutation_append(z,R)}try{for(var U=n(L),G=U.next();!G.done;G=U.next()){var X=G.value;d.mutation_append(X,v)}}catch(e){h={error:e}}finally{try{G&&!G.done&&(m=U.return)&&m.call(U)}finally{if(h)throw h.error}}if(u.Guard.isCharacterDataNode(T))(R=f.node_clone(E))._data=p.characterData_substringData(E,0,D),d.mutation_append(R,v),p.characterData_replaceData(E,0,D,\"\");else if(null!==T){R=f.node_clone(T);d.mutation_append(R,v);z=b(l.create_range([T,0],[E,D]));d.mutation_append(z,R)}return e._start=[P,I],e._end=[P,I],v}t.range_collapsed=y,t.range_root=v,t.range_isContained=_,t.range_isPartiallyContained=g,t.range_setTheStart=function(e,t,r){if(u.Guard.isDocumentTypeNode(t))throw new s.InvalidNodeTypeError;if(r>c.tree_nodeLength(t))throw new s.IndexSizeError;var n=[t,r];v(e)===c.tree_rootNode(t)&&h.boundaryPoint_position(n,e._end)!==a.BoundaryPosition.After||(e._end=n),e._start=n},t.range_setTheEnd=function(e,t,r){if(u.Guard.isDocumentTypeNode(t))throw new s.InvalidNodeTypeError;if(r>c.tree_nodeLength(t))throw new s.IndexSizeError;var n=[t,r];v(e)===c.tree_rootNode(t)&&h.boundaryPoint_position(n,e._start)!==a.BoundaryPosition.Before||(e._start=n),e._end=n},t.range_select=function(e,t){var r=e._parent;if(null===r)throw new s.InvalidNodeTypeError;var n=c.tree_index(e);t._start=[r,n],t._end=[r,n+1]},t.range_extract=b,t.range_cloneTheContents=function e(t){var r,i,a,h,m,v,x=l.create_documentFragment(t._startNode._nodeDocument);if(y(t))return x;var w=t._startNode,E=t._startOffset,D=t._endNode,S=t._endOffset;w===D&&u.Guard.isCharacterDataNode(w)&&((B=f.node_clone(w))._data=p.characterData_substringData(w,E,S-E),d.mutation_append(B,x));for(var C=w;!c.tree_isAncestorOf(D,C,!0);){if(null===C._parent)throw new Error(\"Parent node  is null.\");C=C._parent}var A=null;if(!c.tree_isAncestorOf(D,w,!0))try{for(var N=n(C._children),T=N.next();!T.done;T=N.next()){if(g(P=T.value,t)){A=P;break}}}catch(e){r={error:e}}finally{try{T&&!T.done&&(i=N.return)&&i.call(N)}finally{if(r)throw r.error}}var O=null;if(!c.tree_isAncestorOf(w,D,!0))for(var F=o(C._children),k=F.length-1;k>0;k--){var P;if(g(P=F[k],t)){O=P;break}}var I=[];try{for(var L=n(C._children),M=L.next();!M.done;M=L.next()){if(_(U=M.value,t)){if(u.Guard.isDocumentTypeNode(U))throw new s.HierarchyRequestError;I.push(U)}}}catch(e){a={error:e}}finally{try{M&&!M.done&&(h=L.return)&&h.call(L)}finally{if(a)throw a.error}}if(u.Guard.isCharacterDataNode(A))(B=f.node_clone(w))._data=p.characterData_substringData(w,E,c.tree_nodeLength(w)-E),d.mutation_append(B,x);else if(null!==A){var B=f.node_clone(A);d.mutation_append(B,x);var j=e(l.create_range([w,E],[A,c.tree_nodeLength(A)]));d.mutation_append(j,B)}try{for(var R=n(I),z=R.next();!z.done;z=R.next()){var U=z.value,B=f.node_clone(U);d.mutation_append(B,x)}}catch(e){m={error:e}}finally{try{z&&!z.done&&(v=R.return)&&v.call(R)}finally{if(m)throw m.error}}if(u.Guard.isCharacterDataNode(O))(B=f.node_clone(D))._data=p.characterData_substringData(D,0,S),d.mutation_append(B,x);else if(null!==O){B=f.node_clone(O);x.append(B);j=b(l.create_range([O,0],[D,S]));d.mutation_append(j,B)}return x},t.range_insert=function(e,t){var r,i;if(u.Guard.isProcessingInstructionNode(t._startNode)||u.Guard.isCommentNode(t._startNode)||u.Guard.isTextNode(t._startNode)&&null===t._startNode._parent||t._startNode===e)throw new s.HierarchyRequestError;var o,a=null;if(u.Guard.isTextNode(t._startNode))a=t._startNode;else{var l=0;try{for(var h=n(t._startNode._children),p=h.next();!p.done;p=h.next()){var f=p.value;if(l===t._startOffset){a=f;break}l++}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(null===a)o=t._startNode;else{if(null===a._parent)throw new Error(\"Parent node is null.\");o=a._parent}d.mutation_ensurePreInsertionValidity(e,o,a),u.Guard.isTextNode(t._startNode)&&(a=m.text_split(t._startNode,t._startOffset)),e===a&&(a=e._nextSibling),null!==e._parent&&d.mutation_remove(e,e._parent);var v=null===a?c.tree_nodeLength(o):c.tree_index(a);u.Guard.isDocumentFragmentNode(e)?v+=c.tree_nodeLength(e):v++,d.mutation_preInsert(e,o,a),y(t)&&(t._end=[o,v])},t.range_getContainedNodes=function(e){var t;return(t={})[Symbol.iterator]=function(){var t=e.commonAncestorContainer,r=c.tree_getFirstDescendantNode(t);return{next:function(){for(;r&&!_(r,e);)r=c.tree_getNextDescendantNode(t,r);if(null===r)return{done:!0,value:null};var n={done:!1,value:r};return r=c.tree_getNextDescendantNode(t,r),n}}},t},t.range_getPartiallyContainedNodes=function(e){var t;return(t={})[Symbol.iterator]=function(){var t=e.commonAncestorContainer,r=c.tree_getFirstDescendantNode(t);return{next:function(){for(;r&&!g(r,e);)r=c.tree_getNextDescendantNode(t,r);if(null===r)return{done:!0,value:null};var n={done:!1,value:r};return r=c.tree_getNextDescendantNode(t,r),n}}},t}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(9);t.selectors_scopeMatchASelectorsString=function(e,t){throw new n.NotSupportedError}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=r(105);t.treeWalker_traverseChildren=function(e,t){for(var r=t?e._current._firstChild:e._current._lastChild;null!==r;){var o=i.traversal_filter(e,r);if(o===n.FilterResult.Accept)return e._current=r,r;if(o===n.FilterResult.Skip){var a=t?r._firstChild:r._lastChild;if(null!==a){r=a;continue}}for(;null!==r;){var s=t?r._nextSibling:r._previousSibling;if(null!==s){r=s;break}var u=r._parent;if(null===u||u===e._root||u===e._current)return null;r=u}}return null},t.treeWalker_traverseSiblings=function(e,t){var r=e._current;if(r===e._root)return null;for(;;){for(var o=t?r._nextSibling:r._previousSibling;null!==o;){r=o;var a=i.traversal_filter(e,r);if(a===n.FilterResult.Accept)return e._current=r,r;o=t?r._firstChild:r._lastChild,a!==n.FilterResult.Reject&&null!==o||(o=t?r._nextSibling:r._previousSibling)}if(null===(r=r._parent)||r===e._root)return null;if(i.traversal_filter(e,r)===n.FilterResult.Accept)return null}}},function(e,t,r){\"use strict\";r(89),r(74);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(1),a=r(2),s=r(50),u=r(3),l=function(e){function t(t,r){var n=e.call(this,t)||this;return n._indentation={},n._lengthToLastNewline=0,n._writerOptions=o.applyDefaults(r,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:\"  \",newline:\"\\n\",offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),n}return i(t,e),t.prototype.serialize=function(e){return this._refs={suppressPretty:!1,emptyNode:!1,markup:\"\"},e.nodeType!==a.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(e,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},t.prototype.declaration=function(e,t,r){this._beginLine(),this._refs.markup+='<?xml version=\"'+e+'\"',void 0!==t&&(this._refs.markup+=' encoding=\"'+t+'\"'),void 0!==r&&(this._refs.markup+=' standalone=\"'+(r?\"yes\":\"no\")+'\"'),this._refs.markup+=\"?>\",this._endLine()},t.prototype.docType=function(e,t,r){this._beginLine(),this._refs.markup+=t&&r?\"<!DOCTYPE \"+e+' PUBLIC \"'+t+'\" \"'+r+'\">':t?\"<!DOCTYPE \"+e+' PUBLIC \"'+t+'\">':r?\"<!DOCTYPE \"+e+' SYSTEM \"'+r+'\">':\"<!DOCTYPE \"+e+\">\",this._endLine()},t.prototype.openTagBegin=function(e){this._beginLine(),this._refs.markup+=\"<\"+e},t.prototype.openTagEnd=function(e,t,r){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!t&&!r){for(var n=!0,i=!0,o=this.currentNode.firstChild,a=0,s=0;o;){if(u.Guard.isExclusiveTextNode(o))s++;else{if(!u.Guard.isCDATASectionNode(o)){n=!1,i=!1;break}a++}\"\"!==o.data&&(i=!1),o=o.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&n&&(a<=1&&0===s||0===a),this._refs.emptyNode=i}(r||t||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+=\"></\"+e+\">\":this._refs.markup+=r?\" />\":t||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?\" />\":\"/>\":\">\",this._endLine()},t.prototype.closeTag=function(e){this._refs.emptyNode||(this._beginLine(),this._refs.markup+=\"</\"+e+\">\"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},t.prototype.attribute=function(e,t){var r=e+'=\"'+t+'\"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+r.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+r):this._refs.markup+=\" \"+r},t.prototype.text=function(e){\"\"!==e&&(this._beginLine(),this._refs.markup+=e,this._endLine())},t.prototype.cdata=function(e){\"\"!==e&&(this._beginLine(),this._refs.markup+=\"<![CDATA[\"+e+\"]]>\",this._endLine())},t.prototype.comment=function(e){this._beginLine(),this._refs.markup+=\"\\x3c!--\"+e+\"--\\x3e\",this._endLine()},t.prototype.instruction=function(e,t){this._beginLine(),this._refs.markup+=\"<?\"+(\"\"===t?e:e+\" \"+t)+\"?>\",this._endLine()},t.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},t.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},t.prototype._indent=function(e){if(e<=0)return\"\";if(void 0!==this._indentation[e])return this._indentation[e];var t=this._writerOptions.indent.repeat(e);return this._indentation[e]=t,t},t}(s.BaseWriter);t.XMLWriter=l},function(e,t,r){\"use strict\";var n=r(47),i=r(35);e.exports=\"\".repeat||function(e){var t=String(i(this)),r=\"\",o=n(e);if(o<0||o==1/0)throw RangeError(\"Wrong number of repetitions\");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(19),r(178),r(20),r(22),r(23);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(67),s=r(1),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n._writerOptions=s.applyDefaults(r,{wellFormed:!1,prettyPrint:!1,indent:\"  \",newline:\"\\n\",offset:0,group:!1,verbose:!1}),n}return i(t,e),t.prototype.serialize=function(e){var t=s.applyDefaults(this._writerOptions,{format:\"object\",wellFormed:!1}),r=new a.ObjectWriter(this._builderOptions,t).serialize(e);return this._beginLine(this._writerOptions,0)+this._convertObject(r,this._writerOptions)},t.prototype._convertObject=function(e,t,r){var n,i,a=this;void 0===r&&(r=0);var u=\"\",l=this._isLeafNode(e);if(s.isArray(e)){u+=\"[\";var c=e.length,h=0;try{for(var p=o(e),f=p.next();!f.done;f=p.next()){var d=f.value;u+=this._endLine(t,r+1)+this._beginLine(t,r+1)+this._convertObject(d,t,r+1),h<c-1&&(u+=\",\"),h++}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}u+=this._endLine(t,r)+this._beginLine(t,r),u+=\"]\"}else if(s.isObject(e)){u+=\"{\";var m=s.objectLength(e),y=0;s.forEachObject(e,(function(e,n){l&&t.prettyPrint?u+=\" \":u+=a._endLine(t,r+1)+a._beginLine(t,r+1),u+=a._key(e),t.prettyPrint&&(u+=\" \"),u+=a._convertObject(n,t,r+1),y<m-1&&(u+=\",\"),y++}),this),l&&t.prettyPrint?u+=\" \":u+=this._endLine(t,r)+this._beginLine(t,r),u+=\"}\"}else u+=this._val(e);return u},t.prototype._beginLine=function(e,t){if(!e.prettyPrint)return\"\";var r=e.offset+t+1;return r>0?new Array(r).join(e.indent):\"\"},t.prototype._endLine=function(e,t){return e.prettyPrint?e.newline:\"\"},t.prototype._key=function(e){return'\"'+e+'\":'},t.prototype._val=function(e){return JSON.stringify(e)},t.prototype._isLeafNode=function(e){return this._descendantCount(e)<=1},t.prototype._descendantCount=function(e,t){var r=this;return void 0===t&&(t=0),s.isArray(e)?s.forEachArray(e,(function(e){return t+=r._descendantCount(e,t)}),this):s.isObject(e)?s.forEachObject(e,(function(e,n){return t+=r._descendantCount(n,t)}),this):t++,t},t}(r(50).BaseWriter);t.JSONWriter=u},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(19),r(178),r(89),r(20),r(22),r(23);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(67),s=r(1),u=function(e){function t(t,r){var n=e.call(this,t)||this;if(n._writerOptions=s.applyDefaults(r,{wellFormed:!1,indent:\"  \",newline:\"\\n\",offset:0,group:!1,verbose:!1}),n._writerOptions.indent.length<2)throw new Error(\"YAML indententation string must be at least two characters long.\");if(n._writerOptions.offset<0)throw new Error(\"YAML offset should be zero or a positive number.\");return n}return i(t,e),t.prototype.serialize=function(e){var t=s.applyDefaults(this._writerOptions,{format:\"object\",wellFormed:!1}),r=new a.ObjectWriter(this._builderOptions,t).serialize(e),n=this._beginLine(this._writerOptions,0)+\"---\"+this._endLine(this._writerOptions)+this._convertObject(r,this._writerOptions,0);return n.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(n=n.slice(0,-this._writerOptions.newline.length)),n},t.prototype._convertObject=function(e,t,r,n){var i,a,u=this;void 0===n&&(n=!1);var l=\"\";if(s.isArray(e))try{for(var c=o(e),h=c.next();!h.done;h=c.next()){var p=h.value;l+=this._beginLine(t,r,!0),s.isObject(p)?s.isEmpty(p)?l+='\"\"'+this._endLine(t):l+=this._convertObject(p,t,r,!0):l+=this._val(p)+this._endLine(t)}}catch(e){i={error:e}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}else s.forEachObject(e,(function(e,i){n?(l+=u._key(e),n=!1):l+=u._beginLine(t,r)+u._key(e),s.isObject(i)?s.isEmpty(i)?l+=' \"\"'+u._endLine(t):l+=u._endLine(t)+u._convertObject(i,t,r+1):l+=\" \"+u._val(i)+u._endLine(t)}),this);return l},t.prototype._beginLine=function(e,t,r){void 0===r&&(r=!1);var n=e.offset+t+1,i=new Array(n).join(e.indent);return r?i.substr(0,i.length-2)+\"-\"+i.substr(-1,1):i},t.prototype._endLine=function(e){return e.newline},t.prototype._key=function(e){return'\"'+e+'\":'},t.prototype._val=function(e){return JSON.stringify(e)},t}(r(50).BaseWriter);t.YAMLWriter=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),r(110).dom.setFeatures(!0);var n=r(110);t.DOMImplementation=n.DOMImplementation;var i=r(271);t.DOMParser=i.DOMParser;var o=r(274);t.XMLSerializer=o.XMLSerializer},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(3),i=r(0),o=function(){function e(){}return e.prototype.before=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.Cast.asNode(this),o=r._parent;if(null!==o){for(var a=r._previousSibling,s=!0;s&&a;){s=!1;for(var u=0;u<e.length;u++){var l=e[u];if(l===a){a=a._previousSibling,s=!0;break}}}var c=i.parentNode_convertNodesIntoANode(e,r._nodeDocument);a=null===a?o._firstChild:a._nextSibling,i.mutation_preInsert(c,o,a)}},e.prototype.after=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.Cast.asNode(this),o=r._parent;if(o){for(var a=r._nextSibling,s=!0;s&&a;){s=!1;for(var u=0;u<e.length;u++){var l=e[u];if(l===a){a=a._nextSibling,s=!0;break}}}var c=i.parentNode_convertNodesIntoANode(e,r._nodeDocument);i.mutation_preInsert(c,o,a)}},e.prototype.replaceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.Cast.asNode(this),o=r._parent;if(o){for(var a=r._nextSibling,s=!0;s&&a;){s=!1;for(var u=0;u<e.length;u++){var l=e[u];if(l===a){a=a._nextSibling,s=!0;break}}}var c=i.parentNode_convertNodesIntoANode(e,r._nodeDocument);r._parent===o?i.mutation_replace(r,c,o):i.mutation_preInsert(c,o,a)}},e.prototype.remove=function(){var e=n.Cast.asNode(this),t=e._parent;t&&i.mutation_remove(e,t)},e}();t.ChildNodeImpl=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){};t.DocumentOrShadowRootImpl=n},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6),o=r(3),a=r(7),s=function(){function e(e){this._nodeList=[],this._recordQueue=[],this._callback=e;var t=i.dom.window;a.set.append(t._mutationObservers,this)}return e.prototype.observe=function(e,t){var r,i;if(void 0===(t=t||{childList:!1,subtree:!1}).attributeOldValue&&void 0===t.attributeFilter||void 0!==t.attributes||(t.attributes=!0),void 0!==t.characterDataOldValue&&void 0===t.characterData&&(t.characterData=!0),!t.childList&&!t.attributes&&!t.characterData)throw new TypeError;if(t.attributeOldValue&&!t.attributes)throw new TypeError;if(void 0!==t.attributeFilter&&!t.attributes)throw new TypeError;if(t.characterDataOldValue&&!t.characterData)throw new TypeError;var s=!1,u=t,l=function(e){var t,r;if(e.observer===c){s=!0;try{for(var i=(t=void 0,n(c._nodeList)),l=i.next();!l.done;l=i.next()){var h=l.value;a.list.remove(h._registeredObserverList,(function(t){return o.Guard.isTransientRegisteredObserver(t)&&t.source===e}))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.options=u}},c=this;try{for(var h=n(e._registeredObserverList),p=h.next();!p.done;p=h.next()){l(p.value)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s||(e._registeredObserverList.push({observer:this,options:t}),this._nodeList.push(e))},e.prototype.disconnect=function(){var e,t,r=this;try{for(var i=n(this._nodeList),o=i.next();!o.done;o=i.next()){var s=o.value;a.list.remove(s._registeredObserverList,(function(e){return e.observer===r}))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._recordQueue=[]},e.prototype.takeRecords=function(){var e=this._recordQueue;return this._recordQueue=[],e},e}();t.MutationObserverImpl=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(3),i=function(){function e(){}return Object.defineProperty(e.prototype,\"previousElementSibling\",{get:function(){for(var e=n.Cast.asNode(this)._previousSibling;e;){if(n.Guard.isElementNode(e))return e;e=e._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"nextElementSibling\",{get:function(){for(var e=n.Cast.asNode(this)._nextSibling;e;){if(n.Guard.isElementNode(e))return e;e=e._nextSibling}return null},enumerable:!0,configurable:!0}),e}();t.NonDocumentTypeChildNodeImpl=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(3),i=r(0),o=function(){function e(){}return e.prototype.getElementById=function(e){for(var t=i.tree_getFirstDescendantNode(n.Cast.asNode(this),!1,!1,(function(e){return n.Guard.isElementNode(e)}));null!==t;){if(t._uniqueIdentifier===e)return t;t=i.tree_getNextDescendantNode(n.Cast.asNode(this),t,!1,!1,(function(e){return n.Guard.isElementNode(e)}))}return null},e}();t.NonElementParentNodeImpl=o},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(3),o=r(0),a=function(){function e(){}return Object.defineProperty(e.prototype,\"children\",{get:function(){return o.create_htmlCollection(i.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"firstElementChild\",{get:function(){for(var e=i.Cast.asNode(this)._firstChild;e;){if(i.Guard.isElementNode(e))return e;e=e._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"lastElementChild\",{get:function(){for(var e=i.Cast.asNode(this)._lastChild;e;){if(i.Guard.isElementNode(e))return e;e=e._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"childElementCount\",{get:function(){var e,t,r=0;try{for(var o=n(i.Cast.asNode(this)._children),a=o.next();!a.done;a=o.next()){var s=a.value;i.Guard.isElementNode(s)&&r++}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},enumerable:!0,configurable:!0}),e.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.Cast.asNode(this),n=o.parentNode_convertNodesIntoANode(e,r._nodeDocument);o.mutation_preInsert(n,r,r._firstChild)},e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.Cast.asNode(this),n=o.parentNode_convertNodesIntoANode(e,r._nodeDocument);o.mutation_append(n,r)},e.prototype.querySelector=function(e){var t=i.Cast.asNode(this),r=o.selectors_scopeMatchASelectorsString(e,t);return 0===r.length?null:r[0]},e.prototype.querySelectorAll=function(e){var t=i.Cast.asNode(this),r=o.selectors_scopeMatchASelectorsString(e,t);return o.create_nodeListStatic(t,r)},e}();t.ParentNodeImpl=a},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),i=function(){function e(){}return Object.defineProperty(e.prototype,\"_name\",{get:function(){return this.__name||\"\"},set:function(e){this.__name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_assignedSlot\",{get:function(){return this.__assignedSlot||null},set:function(e){this.__assignedSlot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"assignedSlot\",{get:function(){return n.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),e}();t.SlotableImpl=i},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(102),a=r(9),s=r(3),u=function(e){function t(t){var r=e.call(this)||this;if(s.Guard.isDocumentTypeNode(t.startContainer)||s.Guard.isAttrNode(t.startContainer)||s.Guard.isDocumentTypeNode(t.endContainer)||s.Guard.isAttrNode(t.endContainer))throw new a.InvalidNodeTypeError;return r._start=[t.startContainer,t.startOffset],r._end=[t.endContainer,t.endOffset],r}return i(t,e),t}(o.AbstractRangeImpl);t.StaticRangeImpl=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(272);t.DOMParser=n.DOMParserImpl},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),i=r(273),o=function(){function e(){}return e.prototype.parseFromString=function(e,t){if(\"text/html\"===t)throw new Error(\"HTML parser not implemented.\");try{return(r=(new i.XMLParserImpl).parse(e))._contentType=t,r}catch(e){var r,o=\"http://www.mozilla.org/newlayout/xml/parsererror.xml\",a=(r=n.create_xmlDocument()).createElementNS(o,\"parsererror\"),s=r.createElementNS(o,\"error\");return s.setAttribute(\"message\",e.message),a.appendChild(s),r.appendChild(a),r}},e}();t.DOMParserImpl=o},function(e,t,r){\"use strict\";var n=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(180),a=r(111),s=r(7),u=r(0),l=r(69),c=function(){function e(){}return e.prototype.parse=function(e){for(var t,r,c,h,p=new o.XMLStringLexer(e,{skipWhitespaceOnlyText:!0}),f=u.create_document(),d=f,m=p.nextToken();m.type!==a.TokenType.EOF;){switch(m.type){case a.TokenType.Declaration:var y=m;if(\"1.0\"!==y.version)throw new Error(\"Invalid xml version: \"+y.version);break;case a.TokenType.DocType:var v=m;if(!u.xml_isPubidChar(v.pubId))throw new Error(\"DocType public identifier does not match PubidChar construct.\");if(!u.xml_isLegalChar(v.sysId)||-1!==v.sysId.indexOf('\"')&&-1!==v.sysId.indexOf(\"'\"))throw new Error(\"DocType system identifier contains invalid characters.\");d.appendChild(f.implementation.createDocumentType(v.name,v.pubId,v.sysId));break;case a.TokenType.CDATA:var _=m;if(!u.xml_isLegalChar(_.data)||-1!==_.data.indexOf(\"]]>\"))throw new Error(\"CDATA contains invalid characters.\");d.appendChild(f.createCDATASection(_.data));break;case a.TokenType.Comment:var g=m;if(!u.xml_isLegalChar(g.data)||-1!==g.data.indexOf(\"--\")||g.data.endsWith(\"-\"))throw new Error(\"Comment data contains invalid characters.\");d.appendChild(f.createComment(g.data));break;case a.TokenType.PI:var b=m;if(-1!==b.target.indexOf(\":\")||/^xml$/i.test(b.target))throw new Error(\"Processing instruction target contains invalid characters.\");if(!u.xml_isLegalChar(b.data)||-1!==b.data.indexOf(\"?>\"))throw new Error(\"Processing instruction data contains invalid characters.\");d.appendChild(f.createProcessingInstruction(b.target,b.data));break;case a.TokenType.Text:var x=m;if(!u.xml_isLegalChar(x.data))throw new Error(\"Text data contains invalid characters.\");d.appendChild(f.createTextNode(this._decodeText(x.data)));break;case a.TokenType.Element:var w=m,E=n(u.namespace_extractQName(w.name),2),D=E[0],S=E[1];if(-1!==S.indexOf(\":\")||!u.xml_isName(S))throw new Error(\"Node local name contains invalid characters.\");if(\"xmlns\"===D)throw new Error(\"An element cannot have the 'xmlns' prefix.\");var C=d.lookupNamespaceURI(D),A={};try{for(var N=(t=void 0,i(w.attributes)),T=N.next();!T.done;T=N.next()){var O=n(T.value,2),F=O[0],k=O[1];if(\"xmlns\"===F)C=k;else{var P=n(u.namespace_extractQName(F),2),I=P[0],L=P[1];\"xmlns\"===I&&(L===D&&(C=k),A[L]=k)}}}catch(e){t={error:e}}finally{try{T&&!T.done&&(r=N.return)&&r.call(N)}finally{if(t)throw t.error}}var M=null!==C?f.createElementNS(C,w.name):f.createElement(w.name);d.appendChild(M);var B=new l.LocalNameSet;try{for(var j=(c=void 0,i(w.attributes)),R=j.next();!R.done;R=j.next()){var z=n(R.value,2),U=(F=z[0],k=z[1],n(u.namespace_extractQName(F),2)),G=(I=U[0],L=U[1],null);if(\"xmlns\"===I||null===I&&\"xmlns\"===L?G=s.namespace.XMLNS:null!==(G=M.lookupNamespaceURI(I))&&M.isDefaultNamespace(G)?G=null:null===G&&null!==I&&(G=A[I]||null),B.has(G,L))throw new Error(\"Element contains duplicate attributes.\");if(B.set(G,L),G===s.namespace.XMLNS&&k===s.namespace.XMLNS)throw new Error(\"XMLNS namespace is reserved.\");if(-1!==L.indexOf(\":\")||!u.xml_isName(L))throw new Error(\"Attribute local name contains invalid characters.\");if(\"xmlns\"===I&&\"\"===k)throw new Error(\"Empty XML namespace is not allowed.\");null!==G?M.setAttributeNS(G,F,this._decodeAttributeValue(k)):M.setAttribute(F,this._decodeAttributeValue(k))}}catch(e){c={error:e}}finally{try{R&&!R.done&&(h=j.return)&&h.call(j)}finally{if(c)throw c.error}}w.selfClosing||(d=M);break;case a.TokenType.ClosingTag:if(m.name!==d.nodeName)throw new Error(\"Closing tag name does not match opening tag name.\");d._parent&&(d=d._parent)}m=p.nextToken()}return f},e.prototype._decodeText=function(e){return null==e?e:e.replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\").replace(/&amp;/g,\"&\")},e.prototype._decodeAttributeValue=function(e){return null==e?e:e.replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\").replace(/&amp;/g,\"&\")},e}();t.XMLParserImpl=c},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(275);t.XMLSerializer=n.XMLSerializerImpl},function(e,t,r){\"use strict\";var n=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(2),o=r(69),a=r(95),s=r(9),u=r(7),l=r(0),c=function(){function e(){}return e.prototype.serializeToString=function(e){return this._xmlSerialization(e,!1)},e.prototype._xmlSerialization=function(e,t){if(void 0===e._nodeDocument||e._nodeDocument._hasNamespaces){var r=new a.NamespacePrefixMap;r.set(\"xml\",u.namespace.XML);try{return this._serializeNodeNS(e,null,r,{value:1},t)}catch(e){throw new s.InvalidStateError}}else try{return this._serializeNode(e,t)}catch(e){throw new s.InvalidStateError}},e.prototype._serializeNodeNS=function(e,t,r,n,o){switch(e.nodeType){case i.NodeType.Element:return this._serializeElementNS(e,t,r,n,o);case i.NodeType.Document:return this._serializeDocumentNS(e,t,r,n,o);case i.NodeType.Comment:return this._serializeComment(e,o);case i.NodeType.Text:return this._serializeText(e,o);case i.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(e,t,r,n,o);case i.NodeType.DocumentType:return this._serializeDocumentType(e,o);case i.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(e,o);case i.NodeType.CData:return this._serializeCData(e,o);default:throw new Error(\"Unknown node type: \"+e.nodeType)}},e.prototype._serializeNode=function(e,t){switch(e.nodeType){case i.NodeType.Element:return this._serializeElement(e,t);case i.NodeType.Document:return this._serializeDocument(e,t);case i.NodeType.Comment:return this._serializeComment(e,t);case i.NodeType.Text:return this._serializeText(e,t);case i.NodeType.DocumentFragment:return this._serializeDocumentFragment(e,t);case i.NodeType.DocumentType:return this._serializeDocumentType(e,t);case i.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(e,t);case i.NodeType.CData:return this._serializeCData(e,t);default:throw new Error(\"Unknown node type: \"+e.nodeType)}},e.prototype._serializeElementNS=function(t,r,i,o,a){var s,c;if(a&&(-1!==t.localName.indexOf(\":\")||!l.xml_isName(t.localName)))throw new Error(\"Node local name contains invalid characters (well-formed required).\");var h=\"<\",p=\"\",f=!1,d=!1,m=i.copy(),y={},v=this._recordNamespaceInformation(t,m,y),_=r,g=t.namespaceURI;if(_===g)null!==v&&(d=!0),h+=p=g===u.namespace.XML?\"xml:\"+t.localName:t.localName;else{var b=t.prefix,x=null;if(null===b&&g===v||(x=m.get(b,g)),\"xmlns\"===b){if(a)throw new Error(\"An element cannot have the 'xmlns' prefix (well-formed required).\");x=b}null!==x?(p=x+\":\"+t.localName,null!==v&&v!==u.namespace.XML&&(_=v||null),h+=p):null!==b?(b in y&&(b=this._generatePrefix(g,m,o)),m.set(b,g),h+=p+=b+\":\"+t.localName,h+=\" xmlns:\"+b+'=\"'+this._serializeAttributeValue(g,a)+'\"',null!==v&&(_=v||null)):null===v||null!==v&&v!==g?(d=!0,_=g,h+=p+=t.localName,h+=' xmlns=\"'+this._serializeAttributeValue(g,a)+'\"'):(_=g,h+=p+=t.localName)}h+=this._serializeAttributesNS(t,m,o,y,d,a);var w=g===u.namespace.HTML;if(w&&0===t.childNodes.length&&e._VoidElementNames.has(t.localName)?(h+=\" /\",f=!0):w||0!==t.childNodes.length||(h+=\"/\",f=!0),h+=\">\",f)return h;if(w&&\"template\"===t.localName);else try{for(var E=n(t._children||t.childNodes),D=E.next();!D.done;D=E.next()){var S=D.value;h+=this._serializeNodeNS(S,_,m,o,a)}}catch(e){s={error:e}}finally{try{D&&!D.done&&(c=E.return)&&c.call(E)}finally{if(s)throw s.error}}return h+=\"</\"+p+\">\"},e.prototype._serializeDocumentNS=function(e,t,r,i,o){var a,s;if(o&&null===e.documentElement)throw new Error(\"Missing document element (well-formed required).\");var u=\"\";try{for(var l=n(e._children||e.childNodes),c=l.next();!c.done;c=l.next()){var h=c.value;u+=this._serializeNodeNS(h,t,r,i,o)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return u},e.prototype._serializeComment=function(e,t){if(t&&(!l.xml_isLegalChar(e.data)||-1!==e.data.indexOf(\"--\")||e.data.endsWith(\"-\")))throw new Error(\"Comment data contains invalid characters (well-formed required).\");return\"\\x3c!--\"+e.data+\"--\\x3e\"},e.prototype._serializeText=function(e,t){if(t&&!l.xml_isLegalChar(e.data))throw new Error(\"Text data contains invalid characters (well-formed required).\");for(var r=\"\",n=0;n<e.data.length;n++){var i=e.data[n];r+=\"&\"===i?\"&amp;\":\"<\"===i?\"&lt;\":\">\"===i?\"&gt;\":i}return r},e.prototype._serializeDocumentFragmentNS=function(e,t,r,i,o){var a,s,u=\"\";try{for(var l=n(e._children||e.childNodes),c=l.next();!c.done;c=l.next()){var h=c.value;u+=this._serializeNodeNS(h,t,r,i,o)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return u},e.prototype._serializeDocumentType=function(e,t){if(t&&!l.xml_isPubidChar(e.publicId))throw new Error(\"DocType public identifier does not match PubidChar construct (well-formed required).\");if(t&&(!l.xml_isLegalChar(e.systemId)||-1!==e.systemId.indexOf('\"')&&-1!==e.systemId.indexOf(\"'\")))throw new Error(\"DocType system identifier contains invalid characters (well-formed required).\");return e.publicId&&e.systemId?\"<!DOCTYPE \"+e.name+' PUBLIC \"'+e.publicId+'\" \"'+e.systemId+'\">':e.publicId?\"<!DOCTYPE \"+e.name+' PUBLIC \"'+e.publicId+'\">':e.systemId?\"<!DOCTYPE \"+e.name+' SYSTEM \"'+e.systemId+'\">':\"<!DOCTYPE \"+e.name+\">\"},e.prototype._serializeProcessingInstruction=function(e,t){if(t&&(-1!==e.target.indexOf(\":\")||/^xml$/i.test(e.target)))throw new Error(\"Processing instruction target contains invalid characters (well-formed required).\");if(t&&(!l.xml_isLegalChar(e.data)||-1!==e.data.indexOf(\"?>\")))throw new Error(\"Processing instruction data contains invalid characters (well-formed required).\");return\"<?\"+(\"\"===e.data?e.target:e.target+\" \"+e.data)+\"?>\"},e.prototype._serializeCData=function(e,t){if(t&&-1!==e.data.indexOf(\"]]>\"))throw new Error(\"CDATA contains invalid characters (well-formed required).\");return\"<![CDATA[\"+e.data+\"]]>\"},e.prototype._serializeAttributesNS=function(e,t,r,i,a,s){var c,h,p=\"\",f=s?new o.LocalNameSet:void 0;try{for(var d=n(e.attributes),m=d.next();!m.done;m=d.next()){var y=m.value;if(a||s||null!==y.namespaceURI){if(s&&f&&f.has(y.namespaceURI,y.localName))throw new Error(\"Element contains duplicate attributes (well-formed required).\");s&&f&&f.set(y.namespaceURI,y.localName);var v=y.namespaceURI,_=null;if(null!==v)if(_=t.get(y.prefix,v),v===u.namespace.XMLNS){if(y.value===u.namespace.XML||null===y.prefix&&a||null!==y.prefix&&(!(y.localName in i)||i[y.localName]!==y.value)&&t.has(y.localName,y.value))continue;if(s&&y.value===u.namespace.XMLNS)throw new Error(\"XMLNS namespace is reserved (well-formed required).\");if(s&&\"\"===y.value)throw new Error(\"Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).\");\"xmlns\"===y.prefix&&(_=\"xmlns\")}else null===_&&(p+=\" xmlns:\"+(_=null===y.prefix||t.hasPrefix(y.prefix)&&!t.has(y.prefix,v)?this._generatePrefix(v,t,r):y.prefix)+'=\"'+this._serializeAttributeValue(v,s)+'\"');if(p+=\" \",null!==_&&(p+=_+\":\"),s&&(-1!==y.localName.indexOf(\":\")||!l.xml_isName(y.localName)||\"xmlns\"===y.localName&&null===v))throw new Error(\"Attribute local name contains invalid characters (well-formed required).\");p+=y.localName+'=\"'+this._serializeAttributeValue(y.value,s)+'\"'}else p+=\" \"+y.localName+'=\"'+this._serializeAttributeValue(y.value,s)+'\"'}}catch(e){c={error:e}}finally{try{m&&!m.done&&(h=d.return)&&h.call(d)}finally{if(c)throw c.error}}return p},e.prototype._recordNamespaceInformation=function(e,t,r){var i,o,a=null;try{for(var s=n(e.attributes),l=s.next();!l.done;l=s.next()){var c=l.value,h=c.namespaceURI,p=c.prefix;if(h===u.namespace.XMLNS){if(null===p){a=c.value;continue}var f=c.localName,d=c.value;if(d===u.namespace.XML)continue;if(\"\"===d&&(d=null),t.has(f,d))continue;t.set(f,d),r[f]=d||\"\"}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a},e.prototype._generatePrefix=function(e,t,r){var n=\"ns\"+r.value;return r.value++,t.set(n,e),n},e.prototype._serializeAttributeValue=function(e,t){if(t&&null!==e&&!l.xml_isLegalChar(e))throw new Error(\"Invalid characters in attribute value.\");if(null===e)return\"\";for(var r=\"\",n=0;n<e.length;n++){var i=e[n];r+='\"'===i?\"&quot;\":\"&\"===i?\"&amp;\":\"<\"===i?\"&lt;\":\">\"===i?\"&gt;\":i}return r},e.prototype._serializeElement=function(e,t){var r,i;if(t&&(-1!==e.localName.indexOf(\":\")||!l.xml_isName(e.localName)))throw new Error(\"Node local name contains invalid characters (well-formed required).\");var o=!1,a=e.localName,s=\"<\"+a;if(s+=this._serializeAttributes(e,t),0===e._children.size&&(s+=\"/\",o=!0),s+=\">\",o)return s;try{for(var u=n(e._children),c=u.next();!c.done;c=u.next()){var h=c.value;s+=this._serializeNode(h,t)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s+=\"</\"+a+\">\"},e.prototype._serializeDocument=function(e,t){var r,i;if(t&&null===e.documentElement)throw new Error(\"Missing document element (well-formed required).\");var o=\"\";try{for(var a=n(e._children),s=a.next();!s.done;s=a.next()){var u=s.value;o+=this._serializeNode(u,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},e.prototype._serializeDocumentFragment=function(e,t){var r,i,o=\"\";try{for(var a=n(e._children),s=a.next();!s.done;s=a.next()){var u=s.value;o+=this._serializeNode(u,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},e.prototype._serializeAttributes=function(e,t){var r,i,o=\"\",a=t?{}:void 0;try{for(var s=n(e.attributes),u=s.next();!u.done;u=s.next()){var c=u.value;if(t&&a&&c.localName in a)throw new Error(\"Element contains duplicate attributes (well-formed required).\");if(t&&a&&(a[c.localName]=!0),t&&(-1!==c.localName.indexOf(\":\")||!l.xml_isName(c.localName)))throw new Error(\"Attribute local name contains invalid characters (well-formed required).\");o+=\" \"+c.localName+'=\"'+this._serializeAttributeValue(c.value,t)+'\"'}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},e._VoidElementNames=new Set([\"area\",\"base\",\"basefont\",\"bgsound\",\"br\",\"col\",\"embed\",\"frame\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"]),e}();t.XMLSerializerImpl=c},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(277);t.XMLReader=n.XMLReader;var i=r(112);t.ObjectReader=i.ObjectReader;var o=r(280);t.JSONReader=o.JSONReader;var a=r(281);t.YAMLReader=a.YAMLReader},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(19),r(65),r(20),r(22),r(23);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(180),u=r(111),l=r(7),c=r(0),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){for(var r,n,i,h,p=new s.XMLStringLexer(t,{skipWhitespaceOnlyText:!0}),f=e,d=e,m=p.nextToken();m.type!==u.TokenType.EOF;){switch(m.type){case u.TokenType.Declaration:var y=m,v=this.sanitize(y.version);if(\"1.0\"!==v)throw new Error(\"Invalid xml version: \"+v);var _={version:v};y.encoding&&(_.encoding=this.sanitize(y.encoding)),y.standalone&&(_.standalone=\"yes\"===this.sanitize(y.standalone)),d.set(_);break;case u.TokenType.DocType:var g=m;d=this.docType(d,this.sanitize(g.name),this.sanitize(g.pubId),this.sanitize(g.sysId))||d;break;case u.TokenType.CDATA:var b=m;d=this.cdata(d,this.sanitize(b.data))||d;break;case u.TokenType.Comment:var x=m;d=this.comment(d,this.sanitize(x.data))||d;break;case u.TokenType.PI:var w=m;d=this.instruction(d,this.sanitize(w.target),this.sanitize(w.data))||d;break;case u.TokenType.Text:var E=m;d=this.text(d,this._decodeText(this.sanitize(E.data)))||d;break;case u.TokenType.Element:var D=m,S=this.sanitize(D.name),C=o(c.namespace_extractQName(S),1)[0],A=d.node.lookupNamespaceURI(C),N={};try{for(var T=(r=void 0,a(D.attributes)),O=T.next();!O.done;O=T.next()){var F=o(O.value,2),k=F[0],P=F[1];if(k=this.sanitize(k),P=this.sanitize(P),\"xmlns\"===k)A=P;else{var I=o(c.namespace_extractQName(k),2),L=I[0],M=I[1];\"xmlns\"===L&&(M===C&&(A=P),N[M]=P)}}}catch(e){r={error:e}}finally{try{O&&!O.done&&(n=T.return)&&n.call(T)}finally{if(r)throw r.error}}var B=null!==A?this.element(d,A,S):this.element(d,void 0,S);if(void 0===B)break;d.node===e.node&&(f=B);try{for(var j=(i=void 0,a(D.attributes)),R=j.next();!R.done;R=j.next()){var z=o(R.value,2);k=z[0],P=z[1];k=this.sanitize(k),P=this.sanitize(P);var U=o(c.namespace_extractQName(k),2),G=(L=U[0],M=U[1],null);\"xmlns\"===L||null===L&&\"xmlns\"===M?G=l.namespace.XMLNS:null!==(G=B.node.lookupNamespaceURI(L))&&B.node.isDefaultNamespace(G)?G=null:null===G&&null!==L&&(G=N[L]||null),null!==G?this.attribute(B,G,k,this._decodeAttributeValue(P)):this.attribute(B,void 0,k,this._decodeAttributeValue(P))}}catch(e){i={error:e}}finally{try{R&&!R.done&&(h=j.return)&&h.call(j)}finally{if(i)throw i.error}}D.selfClosing||(d=B);break;case u.TokenType.ClosingTag:d.node.parentNode&&(d=d.up())}m=p.nextToken()}return f},t}(r(75).BaseReader);t.XMLReader=h},function(e,t,r){var n=r(4),i=r(279);n({target:\"Object\",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,r){\"use strict\";var n=r(16),i=r(8),o=r(61),a=r(85),s=r(79),u=r(27),l=r(41),c=Object.assign,h=Object.defineProperty;e.exports=!c||i((function(){if(n&&1!==c({b:1},c(h({},\"a\",{enumerable:!0,get:function(){h(this,\"b\",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,\"abcdefghijklmnopqrst\".split(\"\").forEach((function(e){t[e]=e})),7!=c({},e)[r]||\"abcdefghijklmnopqrst\"!=o(c({},t)).join(\"\")}))?function(e,t){for(var r=u(e),i=arguments.length,c=1,h=a.f,p=s.f;i>c;)for(var f,d=l(arguments[c++]),m=h?o(d).concat(h(d)):o(d),y=m.length,v=0;y>v;)f=m[v++],n&&!p.call(d,f)||(r[f]=d[f]);return r}:c},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(112),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){return new o.ObjectReader(this._builderOptions).parse(e,JSON.parse(t))},t}(r(75).BaseReader);t.JSONReader=a},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(112),a=r(75),s=r(282),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){var r=s.safeLoad(t);if(void 0===r)throw new Error(\"Unable to parse YAML document.\");return new o.ObjectReader(this._builderOptions).parse(e,r)},t}(a.BaseReader);t.YAMLReader=u},function(e,t,r){\"use strict\";var n=r(283);e.exports=n},function(e,t,r){\"use strict\";var n=r(284),i=r(303);function o(e){return function(){throw new Error(\"Function \"+e+\" is deprecated and cannot be used.\")}}e.exports.Type=r(10),e.exports.Schema=r(39),e.exports.FAILSAFE_SCHEMA=r(113),e.exports.JSON_SCHEMA=r(182),e.exports.CORE_SCHEMA=r(181),e.exports.DEFAULT_SAFE_SCHEMA=r(54),e.exports.DEFAULT_FULL_SCHEMA=r(76),e.exports.load=n.load,e.exports.loadAll=n.loadAll,e.exports.safeLoad=n.safeLoad,e.exports.safeLoadAll=n.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=r(53),e.exports.MINIMAL_SCHEMA=r(113),e.exports.SAFE_SCHEMA=r(54),e.exports.DEFAULT_SCHEMA=r(76),e.exports.scan=o(\"scan\"),e.exports.parse=o(\"parse\"),e.exports.compose=o(\"compose\"),e.exports.addConstructor=o(\"addConstructor\")},function(e,t,r){\"use strict\";var n=r(38),i=r(53),o=r(285),a=r(54),s=r(76),u=Object.prototype.hasOwnProperty,l=/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,c=/[\\x85\\u2028\\u2029]/,h=/[,\\[\\]\\{\\}]/,p=/^(?:!|!!|![a-z\\-]+!)$/i,f=/^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;function d(e){return Object.prototype.toString.call(e)}function m(e){return 10===e||13===e}function y(e){return 9===e||32===e}function v(e){return 9===e||32===e||10===e||13===e}function _(e){return 44===e||91===e||93===e||123===e||125===e}function g(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function b(e){return 48===e?\"\\0\":97===e?\"\u0007\":98===e?\"\\b\":116===e||9===e?\"\\t\":110===e?\"\\n\":118===e?\"\\v\":102===e?\"\\f\":114===e?\"\\r\":101===e?\"\u001b\":32===e?\" \":34===e?'\"':47===e?\"/\":92===e?\"\\\\\":78===e?\"\":95===e?\"\":76===e?\"\\u2028\":80===e?\"\\u2029\":\"\"}function x(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var w=new Array(256),E=new Array(256),D=0;D<256;D++)w[D]=b(D)?1:0,E[D]=b(D);function S(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function C(e,t){return new i(t,new o(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function A(e,t){throw C(e,t)}function N(e,t){e.onWarning&&e.onWarning.call(null,C(e,t))}var T={YAML:function(e,t,r){var n,i,o;null!==e.version&&A(e,\"duplication of %YAML directive\"),1!==r.length&&A(e,\"YAML directive accepts exactly one argument\"),null===(n=/^([0-9]+)\\.([0-9]+)$/.exec(r[0]))&&A(e,\"ill-formed argument of the YAML directive\"),i=parseInt(n[1],10),o=parseInt(n[2],10),1!==i&&A(e,\"unacceptable YAML version of the document\"),e.version=r[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&N(e,\"unsupported YAML version of the document\")},TAG:function(e,t,r){var n,i;2!==r.length&&A(e,\"TAG directive accepts exactly two arguments\"),n=r[0],i=r[1],p.test(n)||A(e,\"ill-formed tag handle (first argument) of the TAG directive\"),u.call(e.tagMap,n)&&A(e,'there is a previously declared suffix for \"'+n+'\" tag handle'),f.test(i)||A(e,\"ill-formed tag prefix (second argument) of the TAG directive\"),e.tagMap[n]=i}};function O(e,t,r,n){var i,o,a,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||A(e,\"expected valid JSON character\");else l.test(s)&&A(e,\"the stream contains non-printable characters\");e.result+=s}}function F(e,t,r,i){var o,a,s,l;for(n.isObject(r)||A(e,\"cannot merge mappings; the provided source object is unacceptable\"),s=0,l=(o=Object.keys(r)).length;s<l;s+=1)a=o[s],u.call(t,a)||(t[a]=r[a],i[a]=!0)}function k(e,t,r,n,i,o,a,s){var l,c;if(Array.isArray(i))for(l=0,c=(i=Array.prototype.slice.call(i)).length;l<c;l+=1)Array.isArray(i[l])&&A(e,\"nested arrays are not supported inside keys\"),\"object\"==typeof i&&\"[object Object]\"===d(i[l])&&(i[l]=\"[object Object]\");if(\"object\"==typeof i&&\"[object Object]\"===d(i)&&(i=\"[object Object]\"),i=String(i),null===t&&(t={}),\"tag:yaml.org,2002:merge\"===n)if(Array.isArray(o))for(l=0,c=o.length;l<c;l+=1)F(e,t,o[l],r);else F(e,t,o,r);else e.json||u.call(r,i)||!u.call(t,i)||(e.line=a||e.line,e.position=s||e.position,A(e,\"duplicated mapping key\")),t[i]=o,delete r[i];return t}function P(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):A(e,\"a line break is expected\"),e.line+=1,e.lineStart=e.position}function I(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;y(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!m(i))break;for(P(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&N(e,\"deficient indentation\"),n}function L(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!v(t)))}function M(e,t){1===t?e.result+=\" \":t>1&&(e.result+=n.repeat(\"\\n\",t-1))}function B(e,t){var r,n,i=e.tag,o=e.anchor,a=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),n=e.input.charCodeAt(e.position);0!==n&&45===n&&v(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,I(e,!0,-1)&&e.lineIndent<=t)a.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,z(e,t,3,!1,!0),a.push(e.result),I(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)A(e,\"bad indentation of a sequence entry\");else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=o,e.kind=\"sequence\",e.result=a,!0)}function j(e){var t,r,n,i,o=!1,a=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&A(e,\"duplication of a tag property\"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(a=!0,r=\"!!\",i=e.input.charCodeAt(++e.position)):r=\"!\",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):A(e,\"unexpected end of the stream within a verbatim tag\")}else{for(;0!==i&&!v(i);)33===i&&(a?A(e,\"tag suffix cannot contain exclamation marks\"):(r=e.input.slice(t-1,e.position+1),p.test(r)||A(e,\"named tag handle cannot contain such characters\"),a=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),h.test(n)&&A(e,\"tag suffix cannot contain flow indicator characters\")}return n&&!f.test(n)&&A(e,\"tag name cannot contain such characters: \"+n),o?e.tag=n:u.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:\"!\"===r?e.tag=\"!\"+n:\"!!\"===r?e.tag=\"tag:yaml.org,2002:\"+n:A(e,'undeclared tag handle \"'+r+'\"'),!0}function R(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&A(e,\"duplication of an anchor property\"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!v(r)&&!_(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&A(e,\"name of an anchor node must contain at least one character\"),e.anchor=e.input.slice(t,e.position),!0}function z(e,t,r,i,o){var a,s,l,c,h,p,f,d,b=1,D=!1,S=!1;if(null!==e.listener&&e.listener(\"open\",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=l=4===r||3===r,i&&I(e,!0,-1)&&(D=!0,e.lineIndent>t?b=1:e.lineIndent===t?b=0:e.lineIndent<t&&(b=-1)),1===b)for(;j(e)||R(e);)I(e,!0,-1)?(D=!0,l=a,e.lineIndent>t?b=1:e.lineIndent===t?b=0:e.lineIndent<t&&(b=-1)):l=!1;if(l&&(l=D||o),1!==b&&4!==r||(f=1===r||2===r?t:t+1,d=e.position-e.lineStart,1===b?l&&(B(e,d)||function(e,t,r){var n,i,o,a,s,u=e.tag,l=e.anchor,c={},h={},p=null,f=null,d=null,m=!1,_=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=c),s=e.input.charCodeAt(e.position);0!==s;){if(n=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,63!==s&&58!==s||!v(n)){if(!z(e,r,2,!1,!0))break;if(e.line===o){for(s=e.input.charCodeAt(e.position);y(s);)s=e.input.charCodeAt(++e.position);if(58===s)v(s=e.input.charCodeAt(++e.position))||A(e,\"a whitespace character is expected after the key-value separator within a block mapping\"),m&&(k(e,c,h,p,f,null),p=f=d=null),_=!0,m=!1,i=!1,p=e.tag,f=e.result;else{if(!_)return e.tag=u,e.anchor=l,!0;A(e,\"can not read an implicit mapping pair; a colon is missed\")}}else{if(!_)return e.tag=u,e.anchor=l,!0;A(e,\"can not read a block mapping entry; a multiline key may not be an implicit key\")}}else 63===s?(m&&(k(e,c,h,p,f,null),p=f=d=null),_=!0,m=!0,i=!0):m?(m=!1,i=!0):A(e,\"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line\"),e.position+=1,s=n;if((e.line===o||e.lineIndent>t)&&(z(e,t,4,!0,i)&&(m?f=e.result:d=e.result),m||(k(e,c,h,p,f,d,o,a),p=f=d=null),I(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)A(e,\"bad indentation of a mapping entry\");else if(e.lineIndent<t)break}return m&&k(e,c,h,p,f,null),_&&(e.tag=u,e.anchor=l,e.kind=\"mapping\",e.result=c),_}(e,d,f))||function(e,t){var r,n,i,o,a,s,u,l,c,h,p=!0,f=e.tag,d=e.anchor,m={};if(91===(h=e.input.charCodeAt(e.position)))i=93,s=!1,n=[];else{if(123!==h)return!1;i=125,s=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),h=e.input.charCodeAt(++e.position);0!==h;){if(I(e,!0,t),(h=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=f,e.anchor=d,e.kind=s?\"mapping\":\"sequence\",e.result=n,!0;p||A(e,\"missed comma between flow collection entries\"),c=null,o=a=!1,63===h&&v(e.input.charCodeAt(e.position+1))&&(o=a=!0,e.position++,I(e,!0,t)),r=e.line,z(e,t,1,!1,!0),l=e.tag,u=e.result,I(e,!0,t),h=e.input.charCodeAt(e.position),!a&&e.line!==r||58!==h||(o=!0,h=e.input.charCodeAt(++e.position),I(e,!0,t),z(e,t,1,!1,!0),c=e.result),s?k(e,n,m,l,u,c):o?n.push(k(e,null,m,l,u,c)):n.push(u),I(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(p=!0,h=e.input.charCodeAt(++e.position)):p=!1}A(e,\"unexpected end of the stream within a flow collection\")}(e,f)?S=!0:(s&&function(e,t){var r,i,o,a,s,u=1,l=!1,c=!1,h=t,p=0,f=!1;if(124===(a=e.input.charCodeAt(e.position)))i=!1;else{if(62!==a)return!1;i=!0}for(e.kind=\"scalar\",e.result=\"\";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===u?u=43===a?3:2:A(e,\"repeat of a chomping mode identifier\");else{if(!((o=48<=(s=a)&&s<=57?s-48:-1)>=0))break;0===o?A(e,\"bad explicit indentation width of a block scalar; it cannot be less than one\"):c?A(e,\"repeat of an indentation width identifier\"):(h=t+o-1,c=!0)}if(y(a)){do{a=e.input.charCodeAt(++e.position)}while(y(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!m(a)&&0!==a)}for(;0!==a;){for(P(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!c||e.lineIndent<h)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>h&&(h=e.lineIndent),m(a))p++;else{if(e.lineIndent<h){3===u?e.result+=n.repeat(\"\\n\",l?1+p:p):1===u&&l&&(e.result+=\"\\n\");break}for(i?y(a)?(f=!0,e.result+=n.repeat(\"\\n\",l?1+p:p)):f?(f=!1,e.result+=n.repeat(\"\\n\",p+1)):0===p?l&&(e.result+=\" \"):e.result+=n.repeat(\"\\n\",p):e.result+=n.repeat(\"\\n\",l?1+p:p),l=!0,c=!0,p=0,r=e.position;!m(a)&&0!==a;)a=e.input.charCodeAt(++e.position);O(e,r,e.position,!1)}}return!0}(e,f)||function(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind=\"scalar\",e.result=\"\",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(O(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else m(r)?(O(e,n,i,!0),M(e,I(e,!1,t)),n=i=e.position):e.position===e.lineStart&&L(e)?A(e,\"unexpected end of the document within a single quoted scalar\"):(e.position++,i=e.position);A(e,\"unexpected end of the stream within a single quoted scalar\")}(e,f)||function(e,t){var r,n,i,o,a,s,u;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind=\"scalar\",e.result=\"\",e.position++,r=n=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return O(e,r,e.position,!0),e.position++,!0;if(92===s){if(O(e,r,e.position,!0),m(s=e.input.charCodeAt(++e.position)))I(e,!1,t);else if(s<256&&w[s])e.result+=E[s],e.position++;else if((a=120===(u=s)?2:117===u?4:85===u?8:0)>0){for(i=a,o=0;i>0;i--)(a=g(s=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+a:A(e,\"expected hexadecimal character\");e.result+=x(o),e.position++}else A(e,\"unknown escape sequence\");r=n=e.position}else m(s)?(O(e,r,n,!0),M(e,I(e,!1,t)),r=n=e.position):e.position===e.lineStart&&L(e)?A(e,\"unexpected end of the document within a double quoted scalar\"):(e.position++,n=e.position)}A(e,\"unexpected end of the stream within a double quoted scalar\")}(e,f)?S=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!v(n)&&!_(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&A(e,\"name of an alias node must contain at least one character\"),r=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(r)||A(e,'unidentified alias \"'+r+'\"'),e.result=e.anchorMap[r],I(e,!0,-1),!0}(e)?function(e,t,r){var n,i,o,a,s,u,l,c,h=e.kind,p=e.result;if(v(c=e.input.charCodeAt(e.position))||_(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(v(n=e.input.charCodeAt(e.position+1))||r&&_(n)))return!1;for(e.kind=\"scalar\",e.result=\"\",i=o=e.position,a=!1;0!==c;){if(58===c){if(v(n=e.input.charCodeAt(e.position+1))||r&&_(n))break}else if(35===c){if(v(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&L(e)||r&&_(c))break;if(m(c)){if(s=e.line,u=e.lineStart,l=e.lineIndent,I(e,!1,-1),e.lineIndent>=t){a=!0,c=e.input.charCodeAt(e.position);continue}e.position=o,e.line=s,e.lineStart=u,e.lineIndent=l;break}}a&&(O(e,i,o,!1),M(e,e.line-s),i=o=e.position,a=!1),y(c)||(o=e.position+1),c=e.input.charCodeAt(++e.position)}return O(e,i,o,!1),!!e.result||(e.kind=h,e.result=p,!1)}(e,f,1===r)&&(S=!0,null===e.tag&&(e.tag=\"?\")):(S=!0,null===e.tag&&null===e.anchor||A(e,\"alias node should not have any properties\")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===b&&(S=l&&B(e,d))),null!==e.tag&&\"!\"!==e.tag)if(\"?\"===e.tag){for(null!==e.result&&\"scalar\"!==e.kind&&A(e,'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"'+e.kind+'\"'),c=0,h=e.implicitTypes.length;c<h;c+=1)if((p=e.implicitTypes[c]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else u.call(e.typeMap[e.kind||\"fallback\"],e.tag)?(p=e.typeMap[e.kind||\"fallback\"][e.tag],null!==e.result&&p.kind!==e.kind&&A(e,\"unacceptable node kind for !<\"+e.tag+'> tag; it should be \"'+p.kind+'\", not \"'+e.kind+'\"'),p.resolve(e.result)?(e.result=p.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):A(e,\"cannot resolve a node with !<\"+e.tag+\"> explicit tag\")):A(e,\"unknown tag !<\"+e.tag+\">\");return null!==e.listener&&e.listener(\"close\",e),null!==e.tag||null!==e.anchor||S}function U(e){var t,r,n,i,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(I(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(a=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!v(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&A(e,\"directive name must not be less than one character in length\");0!==i;){for(;y(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!m(i));break}if(m(i))break;for(t=e.position;0!==i&&!v(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&P(e),u.call(T,r)?T[r](e,r,n):N(e,'unknown document directive \"'+r+'\"')}I(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,I(e,!0,-1)):a&&A(e,\"directives end mark is expected\"),z(e,e.lineIndent-1,4,!1,!0),I(e,!0,-1),e.checkLineBreaks&&c.test(e.input.slice(o,e.position))&&N(e,\"non-ASCII line breaks are interpreted as content\"),e.documents.push(e.result),e.position===e.lineStart&&L(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,I(e,!0,-1)):e.position<e.length-1&&A(e,\"end of the stream or a document separator is expected\")}function G(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+=\"\\n\"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new S(e,t),n=e.indexOf(\"\\0\");for(-1!==n&&(r.position=n,A(r,\"null byte is not allowed in input\")),r.input+=\"\\0\";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)U(r);return r.documents}function X(e,t,r){null!==t&&\"object\"==typeof t&&void 0===r&&(r=t,t=null);var n=G(e,r);if(\"function\"!=typeof t)return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function q(e,t){var r=G(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new i(\"expected a single document in the stream, but found more\")}}e.exports.loadAll=X,e.exports.load=q,e.exports.safeLoadAll=function(e,t,r){return\"object\"==typeof t&&null!==t&&void 0===r&&(r=t,t=null),X(e,t,n.extend({schema:a},r))},e.exports.safeLoad=function(e,t){return q(e,n.extend({schema:a},t))}},function(e,t,r){\"use strict\";var n=r(38);function i(e,t,r,n,i){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=i}i.prototype.getSnippet=function(e,t){var r,i,o,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,r=\"\",i=this.position;i>0&&-1===\"\\0\\r\\n\\u2028\\u2029\".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){r=\" ... \",i+=5;break}for(o=\"\",a=this.position;a<this.buffer.length&&-1===\"\\0\\r\\n\\u2028\\u2029\".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>t/2-1){o=\" ... \",a-=5;break}return s=this.buffer.slice(i,a),n.repeat(\" \",e)+r+s+o+\"\\n\"+n.repeat(\" \",e+this.position-i+r.length)+\"^\"},i.prototype.toString=function(e){var t,r=\"\";return this.name&&(r+='in \"'+this.name+'\" '),r+=\"at line \"+(this.line+1)+\", column \"+(this.column+1),e||(t=this.getSnippet())&&(r+=\":\\n\"+t),r},e.exports=i},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:str\",{kind:\"scalar\",construct:function(e){return null!==e?e:\"\"}})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:seq\",{kind:\"sequence\",construct:function(e){return null!==e?e:[]}})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:map\",{kind:\"mapping\",construct:function(e){return null!==e?e:{}}})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:null\",{kind:\"scalar\",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&\"~\"===e||4===t&&(\"null\"===e||\"Null\"===e||\"NULL\"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return\"~\"},lowercase:function(){return\"null\"},uppercase:function(){return\"NULL\"},camelcase:function(){return\"Null\"}},defaultStyle:\"lowercase\"})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:bool\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&(\"true\"===e||\"True\"===e||\"TRUE\"===e)||5===t&&(\"false\"===e||\"False\"===e||\"FALSE\"===e)},construct:function(e){return\"true\"===e||\"True\"===e||\"TRUE\"===e},predicate:function(e){return\"[object Boolean]\"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?\"true\":\"false\"},uppercase:function(e){return e?\"TRUE\":\"FALSE\"},camelcase:function(e){return e?\"True\":\"False\"}},defaultStyle:\"lowercase\"})},function(e,t,r){\"use strict\";var n=r(38),i=r(10);function o(e){return 48<=e&&e<=55}function a(e){return 48<=e&&e<=57}e.exports=new i(\"tag:yaml.org,2002:int\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,i=0,s=!1;if(!n)return!1;if(\"-\"!==(t=e[i])&&\"+\"!==t||(t=e[++i]),\"0\"===t){if(i+1===n)return!0;if(\"b\"===(t=e[++i])){for(i++;i<n;i++)if(\"_\"!==(t=e[i])){if(\"0\"!==t&&\"1\"!==t)return!1;s=!0}return s&&\"_\"!==t}if(\"x\"===t){for(i++;i<n;i++)if(\"_\"!==(t=e[i])){if(!(48<=(r=e.charCodeAt(i))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;s=!0}return s&&\"_\"!==t}for(;i<n;i++)if(\"_\"!==(t=e[i])){if(!o(e.charCodeAt(i)))return!1;s=!0}return s&&\"_\"!==t}if(\"_\"===t)return!1;for(;i<n;i++)if(\"_\"!==(t=e[i])){if(\":\"===t)break;if(!a(e.charCodeAt(i)))return!1;s=!0}return!(!s||\"_\"===t)&&(\":\"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,r,n=e,i=1,o=[];return-1!==n.indexOf(\"_\")&&(n=n.replace(/_/g,\"\")),\"-\"!==(t=n[0])&&\"+\"!==t||(\"-\"===t&&(i=-1),t=(n=n.slice(1))[0]),\"0\"===n?0:\"0\"===t?\"b\"===n[1]?i*parseInt(n.slice(2),2):\"x\"===n[1]?i*parseInt(n,16):i*parseInt(n,8):-1!==n.indexOf(\":\")?(n.split(\":\").forEach((function(e){o.unshift(parseInt(e,10))})),n=0,r=1,o.forEach((function(e){n+=e*r,r*=60})),i*n):i*parseInt(n,10)},predicate:function(e){return\"[object Number]\"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?\"0b\"+e.toString(2):\"-0b\"+e.toString(2).slice(1)},octal:function(e){return e>=0?\"0\"+e.toString(8):\"-0\"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?\"0x\"+e.toString(16).toUpperCase():\"-0x\"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:\"decimal\",styleAliases:{binary:[2,\"bin\"],octal:[8,\"oct\"],decimal:[10,\"dec\"],hexadecimal:[16,\"hex\"]}})},function(e,t,r){\"use strict\";var n=r(38),i=r(10),o=new RegExp(\"^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))$\");var a=/^[-+]?[0-9]+e/;e.exports=new i(\"tag:yaml.org,2002:float\",{kind:\"scalar\",resolve:function(e){return null!==e&&!(!o.test(e)||\"_\"===e[e.length-1])},construct:function(e){var t,r,n,i;return r=\"-\"===(t=e.replace(/_/g,\"\").toLowerCase())[0]?-1:1,i=[],\"+-\".indexOf(t[0])>=0&&(t=t.slice(1)),\".inf\"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:\".nan\"===t?NaN:t.indexOf(\":\")>=0?(t.split(\":\").forEach((function(e){i.unshift(parseFloat(e,10))})),t=0,n=1,i.forEach((function(e){t+=e*n,n*=60})),r*t):r*parseFloat(t,10)},predicate:function(e){return\"[object Number]\"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case\"lowercase\":return\".nan\";case\"uppercase\":return\".NAN\";case\"camelcase\":return\".NaN\"}else if(Number.POSITIVE_INFINITY===e)switch(t){case\"lowercase\":return\".inf\";case\"uppercase\":return\".INF\";case\"camelcase\":return\".Inf\"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case\"lowercase\":return\"-.inf\";case\"uppercase\":return\"-.INF\";case\"camelcase\":return\"-.Inf\"}else if(n.isNegativeZero(e))return\"-0.0\";return r=e.toString(10),a.test(r)?r.replace(\"e\",\".e\"):r},defaultStyle:\"lowercase\"})},function(e,t,r){\"use strict\";var n=r(10),i=new RegExp(\"^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$\"),o=new RegExp(\"^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\\\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\\\.([0-9]*))?(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$\");e.exports=new n(\"tag:yaml.org,2002:timestamp\",{kind:\"scalar\",resolve:function(e){return null!==e&&(null!==i.exec(e)||null!==o.exec(e))},construct:function(e){var t,r,n,a,s,u,l,c,h=0,p=null;if(null===(t=i.exec(e))&&(t=o.exec(e)),null===t)throw new Error(\"Date resolve error\");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(s=+t[4],u=+t[5],l=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+=\"0\";h=+h}return t[9]&&(p=6e4*(60*+t[10]+ +(t[11]||0)),\"-\"===t[9]&&(p=-p)),c=new Date(Date.UTC(r,n,a,s,u,l,h)),p&&c.setTime(c.getTime()-p),c},instanceOf:Date,represent:function(e){return e.toISOString()}})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:merge\",{kind:\"scalar\",resolve:function(e){return\"<<\"===e||null===e}})},function(e,t,r){\"use strict\";var n;try{n=r(145).Buffer}catch(e){}var i=r(10),o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r\";e.exports=new i(\"tag:yaml.org,2002:binary\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,a=o;for(r=0;r<i;r++)if(!((t=a.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,i=e.replace(/[\\r\\n=]/g,\"\"),a=i.length,s=o,u=0,l=[];for(t=0;t<a;t++)t%4==0&&t&&(l.push(u>>16&255),l.push(u>>8&255),l.push(255&u)),u=u<<6|s.indexOf(i.charAt(t));return 0===(r=a%4*6)?(l.push(u>>16&255),l.push(u>>8&255),l.push(255&u)):18===r?(l.push(u>>10&255),l.push(u>>2&255)):12===r&&l.push(u>>4&255),n?n.from?n.from(l):new n(l):l},predicate:function(e){return n&&n.isBuffer(e)},represent:function(e){var t,r,n=\"\",i=0,a=e.length,s=o;for(t=0;t<a;t++)t%3==0&&t&&(n+=s[i>>18&63],n+=s[i>>12&63],n+=s[i>>6&63],n+=s[63&i]),i=(i<<8)+e[t];return 0===(r=a%3)?(n+=s[i>>18&63],n+=s[i>>12&63],n+=s[i>>6&63],n+=s[63&i]):2===r?(n+=s[i>>10&63],n+=s[i>>4&63],n+=s[i<<2&63],n+=s[64]):1===r&&(n+=s[i>>2&63],n+=s[i<<4&63],n+=s[64],n+=s[64]),n}})},function(e,t,r){\"use strict\";var n=r(10),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=new n(\"tag:yaml.org,2002:omap\",{kind:\"sequence\",resolve:function(e){if(null===e)return!0;var t,r,n,a,s,u=[],l=e;for(t=0,r=l.length;t<r;t+=1){if(n=l[t],s=!1,\"[object Object]\"!==o.call(n))return!1;for(a in n)if(i.call(n,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(a))return!1;u.push(a)}return!0},construct:function(e){return null!==e?e:[]}})},function(e,t,r){\"use strict\";var n=r(10),i=Object.prototype.toString;e.exports=new n(\"tag:yaml.org,2002:pairs\",{kind:\"sequence\",resolve:function(e){if(null===e)return!0;var t,r,n,o,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],\"[object Object]\"!==i.call(n))return!1;if(1!==(o=Object.keys(n)).length)return!1;a[t]=[o[0],n[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}})},function(e,t,r){\"use strict\";var n=r(10),i=Object.prototype.hasOwnProperty;e.exports=new n(\"tag:yaml.org,2002:set\",{kind:\"mapping\",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(i.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:js/undefined\",{kind:\"scalar\",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return\"\"}})},function(e,t,r){\"use strict\";var n=r(10);e.exports=new n(\"tag:yaml.org,2002:js/regexp\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,r=/\\/([gim]*)$/.exec(e),n=\"\";if(\"/\"===t[0]){if(r&&(n=r[1]),n.length>3)return!1;if(\"/\"!==t[t.length-n.length-1])return!1}return!0},construct:function(e){var t=e,r=/\\/([gim]*)$/.exec(e),n=\"\";return\"/\"===t[0]&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)},predicate:function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},represent:function(e){var t=\"/\"+e.source+\"/\";return e.global&&(t+=\"g\"),e.multiline&&(t+=\"m\"),e.ignoreCase&&(t+=\"i\"),t}})},function(e,t,r){\"use strict\";var n;try{n=r(302)}catch(e){\"undefined\"!=typeof window&&(n=window.esprima)}var i=r(10);e.exports=new i(\"tag:yaml.org,2002:js/function\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;try{var t=\"(\"+e+\")\",r=n.parse(t,{range:!0});return\"Program\"===r.type&&1===r.body.length&&\"ExpressionStatement\"===r.body[0].type&&(\"ArrowFunctionExpression\"===r.body[0].expression.type||\"FunctionExpression\"===r.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,r=\"(\"+e+\")\",i=n.parse(r,{range:!0}),o=[];if(\"Program\"!==i.type||1!==i.body.length||\"ExpressionStatement\"!==i.body[0].type||\"ArrowFunctionExpression\"!==i.body[0].expression.type&&\"FunctionExpression\"!==i.body[0].expression.type)throw new Error(\"Failed to resolve function\");return i.body[0].expression.params.forEach((function(e){o.push(e.name)})),t=i.body[0].expression.body.range,\"BlockStatement\"===i.body[0].expression.body.type?new Function(o,r.slice(t[0]+1,t[1]-1)):new Function(o,\"return \"+r.slice(t[0],t[1]))},predicate:function(e){return\"[object Function]\"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(1),i=r(3),o=r(8),a=r(15);function s(e,t,r){var a=null,s=function(e,t){r&&r(e,t),a&&a.visit(e,t)},u=\"function\"==typeof r?s:null,l=!1;if(t){l=\"boolean\"==typeof t.comment&&t.comment;var c=\"boolean\"==typeof t.attachComment&&t.attachComment;(l||c)&&((a=new n.CommentHandler).attach=c,t.comment=!0,u=s)}var h,p=!1;t&&\"string\"==typeof t.sourceType&&(p=\"module\"===t.sourceType),h=t&&\"boolean\"==typeof t.jsx&&t.jsx?new i.JSXParser(e,t,u):new o.Parser(e,t,u);var f=p?h.parseModule():h.parseScript();return l&&a&&(f.comments=a.comments),h.config.tokens&&(f.tokens=h.tokens),h.config.tolerant&&(f.errors=h.errorHandler.errors),f}t.parse=s,t.parseModule=function(e,t,r){var n=t||{};return n.sourceType=\"module\",s(e,n,r)},t.parseScript=function(e,t,r){var n=t||{};return n.sourceType=\"script\",s(e,n,r)},t.tokenize=function(e,t,r){var n,i=new a.Tokenizer(e,t);n=[];try{for(;;){var o=i.getNextToken();if(!o)break;r&&(o=r(o)),n.push(o)}}catch(e){i.errorHandler.tolerate(e)}return i.errorHandler.tolerant&&(n.errors=i.errors()),n};var u=r(2);t.Syntax=u.Syntax,t.version=\"4.0.1\"},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===n.Syntax.BlockStatement&&0===e.body.length){for(var r=[],i=this.leading.length-1;i>=0;--i){var o=this.leading[i];t.end.offset>=o.start&&(r.unshift(o.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}r.length&&(e.innerComments=r)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var r=this.trailing.length-1;r>=0;--r){var n=this.trailing[r];n.start>=e.end.offset&&t.unshift(n.comment)}return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,r=[];this.stack.length>0&&((o=this.stack[this.stack.length-1])&&o.start>=e.start.offset);)t=o.node,this.stack.pop();if(t){for(var n=(t.leadingComments?t.leadingComments.length:0)-1;n>=0;--n){var i=t.leadingComments[n];i.range[1]<=e.start.offset&&(r.unshift(i),t.leadingComments.splice(n,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,r}for(n=this.leading.length-1;n>=0;--n){var o;(o=this.leading[n]).start<=e.start.offset&&(r.unshift(o.comment),this.leading.splice(n,1))}return r},e.prototype.visitNode=function(e,t){if(!(e.type===n.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var r=this.findTrailingComments(t),i=this.findLeadingComments(t);i.length>0&&(e.leadingComments=i),r.length>0&&(e.trailingComments=r),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var r=\"L\"===e.type[0]?\"Line\":\"Block\",n={type:r,value:e.value};if(e.range&&(n.range=e.range),e.loc&&(n.loc=e.loc),this.comments.push(n),this.attach){var i={comment:{type:r,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=r,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){\"LineComment\"===e.type||\"BlockComment\"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=i},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Syntax={AssignmentExpression:\"AssignmentExpression\",AssignmentPattern:\"AssignmentPattern\",ArrayExpression:\"ArrayExpression\",ArrayPattern:\"ArrayPattern\",ArrowFunctionExpression:\"ArrowFunctionExpression\",AwaitExpression:\"AwaitExpression\",BlockStatement:\"BlockStatement\",BinaryExpression:\"BinaryExpression\",BreakStatement:\"BreakStatement\",CallExpression:\"CallExpression\",CatchClause:\"CatchClause\",ClassBody:\"ClassBody\",ClassDeclaration:\"ClassDeclaration\",ClassExpression:\"ClassExpression\",ConditionalExpression:\"ConditionalExpression\",ContinueStatement:\"ContinueStatement\",DoWhileStatement:\"DoWhileStatement\",DebuggerStatement:\"DebuggerStatement\",EmptyStatement:\"EmptyStatement\",ExportAllDeclaration:\"ExportAllDeclaration\",ExportDefaultDeclaration:\"ExportDefaultDeclaration\",ExportNamedDeclaration:\"ExportNamedDeclaration\",ExportSpecifier:\"ExportSpecifier\",ExpressionStatement:\"ExpressionStatement\",ForStatement:\"ForStatement\",ForOfStatement:\"ForOfStatement\",ForInStatement:\"ForInStatement\",FunctionDeclaration:\"FunctionDeclaration\",FunctionExpression:\"FunctionExpression\",Identifier:\"Identifier\",IfStatement:\"IfStatement\",ImportDeclaration:\"ImportDeclaration\",ImportDefaultSpecifier:\"ImportDefaultSpecifier\",ImportNamespaceSpecifier:\"ImportNamespaceSpecifier\",ImportSpecifier:\"ImportSpecifier\",Literal:\"Literal\",LabeledStatement:\"LabeledStatement\",LogicalExpression:\"LogicalExpression\",MemberExpression:\"MemberExpression\",MetaProperty:\"MetaProperty\",MethodDefinition:\"MethodDefinition\",NewExpression:\"NewExpression\",ObjectExpression:\"ObjectExpression\",ObjectPattern:\"ObjectPattern\",Program:\"Program\",Property:\"Property\",RestElement:\"RestElement\",ReturnStatement:\"ReturnStatement\",SequenceExpression:\"SequenceExpression\",SpreadElement:\"SpreadElement\",Super:\"Super\",SwitchCase:\"SwitchCase\",SwitchStatement:\"SwitchStatement\",TaggedTemplateExpression:\"TaggedTemplateExpression\",TemplateElement:\"TemplateElement\",TemplateLiteral:\"TemplateLiteral\",ThisExpression:\"ThisExpression\",ThrowStatement:\"ThrowStatement\",TryStatement:\"TryStatement\",UnaryExpression:\"UnaryExpression\",UpdateExpression:\"UpdateExpression\",VariableDeclaration:\"VariableDeclaration\",VariableDeclarator:\"VariableDeclarator\",WhileStatement:\"WhileStatement\",WithStatement:\"WithStatement\",YieldExpression:\"YieldExpression\"}},function(e,t,r){\"use strict\";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(4),a=r(5),s=r(6),u=r(7),l=r(8),c=r(13),h=r(14);function p(e){var t;switch(e.type){case s.JSXSyntax.JSXIdentifier:t=e.name;break;case s.JSXSyntax.JSXNamespacedName:var r=e;t=p(r.namespace)+\":\"+p(r.name);break;case s.JSXSyntax.JSXMemberExpression:var n=e;t=p(n.object)+\".\"+p(n.property)}return t}c.TokenName[100]=\"JSXIdentifier\",c.TokenName[101]=\"JSXText\";var f=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}return i(t,e),t.prototype.parsePrimaryExpression=function(){return this.match(\"<\")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX(\"}\"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t=\"&\",r=!0,n=!1,i=!1,a=!1;!this.scanner.eof()&&r&&!n;){var s=this.scanner.source[this.scanner.index];if(s===e)break;if(n=\";\"===s,t+=s,++this.scanner.index,!n)switch(t.length){case 2:i=\"#\"===s;break;case 3:i&&(r=(a=\"x\"===s)||o.Character.isDecimalDigit(s.charCodeAt(0)),i=i&&!a);break;default:r=(r=r&&!(i&&!o.Character.isDecimalDigit(s.charCodeAt(0))))&&!(a&&!o.Character.isHexDigit(s.charCodeAt(0)))}}if(r&&n&&t.length>2){var u=t.substr(1,t.length-2);i&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):a&&u.length>2?t=String.fromCharCode(parseInt(\"0\"+u.substr(1),16)):i||a||!h.XHTMLEntities[u]||(t=h.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:s=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,r=this.scanner.source[this.scanner.index++],n=\"\";!this.scanner.eof()&&(u=this.scanner.source[this.scanner.index++])!==r;)n+=\"&\"===u?this.scanXHTMLEntity(r):u;return{type:8,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var i=this.scanner.source.charCodeAt(this.scanner.index+1),a=this.scanner.source.charCodeAt(this.scanner.index+2),s=46===i&&46===a?\"...\":\".\";return t=this.scanner.index,this.scanner.index+=s.length,{type:7,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:\"\",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t=\"\";!this.scanner.eof();){var r=this.scanner.source[this.scanner.index];if(\"{\"===r||\"<\"===r)break;++this.scanner.index,t+=r,o.Character.isLineTerminator(r.charCodeAt(0))&&(++this.scanner.lineNumber,\"\\r\"===r&&\"\\n\"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var n={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(n)),n},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new a.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(\":\")){var r=t;this.expectJSX(\":\");var n=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXNamespacedName(r,n))}else if(this.matchJSX(\".\"))for(;this.matchJSX(\".\");){var i=t;this.expectJSX(\".\");var o=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXMemberExpression(i,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),r=this.parseJSXIdentifier();if(this.matchJSX(\":\")){var n=r;this.expectJSX(\":\");var i=this.parseJSXIdentifier();e=this.finalize(t,new a.JSXNamespacedName(n,i))}else e=r;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var r=this.getTokenRaw(t);return this.finalize(e,new u.Literal(t.value,r))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX(\"{\"),this.finishJSX(),this.match(\"}\")&&this.tolerateError(\"JSX attributes must only be assigned a non-empty expression\");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new a.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX(\"{\")?this.parseJSXExpressionAttribute():this.matchJSX(\"<\")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),r=null;return this.matchJSX(\"=\")&&(this.expectJSX(\"=\"),r=this.parseJSXAttributeValue()),this.finalize(e,new a.JSXAttribute(t,r))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX(\"{\"),this.expectJSX(\"...\"),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new a.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX(\"/\")&&!this.matchJSX(\">\");){var t=this.matchJSX(\"{\")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX(\"<\");var t=this.parseJSXElementName(),r=this.parseJSXAttributes(),n=this.matchJSX(\"/\");return n&&this.expectJSX(\"/\"),this.expectJSX(\">\"),this.finalize(e,new a.JSXOpeningElement(t,n,r))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX(\"<\"),this.matchJSX(\"/\")){this.expectJSX(\"/\");var t=this.parseJSXElementName();return this.expectJSX(\">\"),this.finalize(e,new a.JSXClosingElement(t))}var r=this.parseJSXElementName(),n=this.parseJSXAttributes(),i=this.matchJSX(\"/\");return i&&this.expectJSX(\"/\"),this.expectJSX(\">\"),this.finalize(e,new a.JSXOpeningElement(r,i,n))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new a.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX(\"{\"),this.matchJSX(\"}\")?(e=this.parseJSXEmptyExpression(),this.expectJSX(\"}\")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new a.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),r=this.nextJSXText();if(r.start<r.end){var n=this.getTokenRaw(r),i=this.finalize(t,new a.JSXText(r.value,n));e.push(i)}if(\"{\"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var r=this.createJSXChildNode(),n=this.parseJSXBoundaryElement();if(n.type===s.JSXSyntax.JSXOpeningElement){var i=n;if(i.selfClosing){var o=this.finalize(r,new a.JSXElement(i,[],null));e.children.push(o)}else t.push(e),e={node:r,opening:i,closing:null,children:[]}}if(n.type===s.JSXSyntax.JSXClosingElement){e.closing=n;var u=p(e.opening.name);if(u!==p(e.closing.name)&&this.tolerateError(\"Expected corresponding JSX closing tag for %0\",u),!(t.length>0))break;o=this.finalize(e.node,new a.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(o),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),r=[],n=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:n,children:r});r=i.children,n=i.closing}return this.finalize(e,new a.JSXElement(t,r,n))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match(\"<\")},t}(l.Parser);t.JSXParser=f},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={NonAsciiIdentifierStart:/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]/,NonAsciiIdentifierPart:/[\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&r.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&r.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(6),i=function(e){this.type=n.JSXSyntax.JSXClosingElement,this.name=e};t.JSXClosingElement=i;var o=function(e,t,r){this.type=n.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=r};t.JSXElement=o;var a=function(){this.type=n.JSXSyntax.JSXEmptyExpression};t.JSXEmptyExpression=a;var s=function(e){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXExpressionContainer=s;var u=function(e){this.type=n.JSXSyntax.JSXIdentifier,this.name=e};t.JSXIdentifier=u;var l=function(e,t){this.type=n.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXMemberExpression=l;var c=function(e,t){this.type=n.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXAttribute=c;var h=function(e,t){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXNamespacedName=h;var p=function(e,t,r){this.type=n.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=r};t.JSXOpeningElement=p;var f=function(e){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXSpreadAttribute=f;var d=function(e,t){this.type=n.JSXSyntax.JSXText,this.value=e,this.raw=t};t.JSXText=d},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JSXSyntax={JSXAttribute:\"JSXAttribute\",JSXClosingElement:\"JSXClosingElement\",JSXElement:\"JSXElement\",JSXEmptyExpression:\"JSXEmptyExpression\",JSXExpressionContainer:\"JSXExpressionContainer\",JSXIdentifier:\"JSXIdentifier\",JSXMemberExpression:\"JSXMemberExpression\",JSXNamespacedName:\"JSXNamespacedName\",JSXOpeningElement:\"JSXOpeningElement\",JSXSpreadAttribute:\"JSXSpreadAttribute\",JSXText:\"JSXText\"}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),i=function(e){this.type=n.Syntax.ArrayExpression,this.elements=e};t.ArrayExpression=i;var o=function(e){this.type=n.Syntax.ArrayPattern,this.elements=e};t.ArrayPattern=o;var a=function(e,t,r){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=r,this.async=!1};t.ArrowFunctionExpression=a;var s=function(e,t,r){this.type=n.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=r};t.AssignmentExpression=s;var u=function(e,t){this.type=n.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AssignmentPattern=u;var l=function(e,t,r){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=r,this.async=!0};t.AsyncArrowFunctionExpression=l;var c=function(e,t,r){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=r,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionDeclaration=c;var h=function(e,t,r){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=r,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionExpression=h;var p=function(e){this.type=n.Syntax.AwaitExpression,this.argument=e};t.AwaitExpression=p;var f=function(e,t,r){var i=\"||\"===e||\"&&\"===e;this.type=i?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=r};t.BinaryExpression=f;var d=function(e){this.type=n.Syntax.BlockStatement,this.body=e};t.BlockStatement=d;var m=function(e){this.type=n.Syntax.BreakStatement,this.label=e};t.BreakStatement=m;var y=function(e,t){this.type=n.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CallExpression=y;var v=function(e,t){this.type=n.Syntax.CatchClause,this.param=e,this.body=t};t.CatchClause=v;var _=function(e){this.type=n.Syntax.ClassBody,this.body=e};t.ClassBody=_;var g=function(e,t,r){this.type=n.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=r};t.ClassDeclaration=g;var b=function(e,t,r){this.type=n.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=r};t.ClassExpression=b;var x=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ComputedMemberExpression=x;var w=function(e,t,r){this.type=n.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=r};t.ConditionalExpression=w;var E=function(e){this.type=n.Syntax.ContinueStatement,this.label=e};t.ContinueStatement=E;var D=function(){this.type=n.Syntax.DebuggerStatement};t.DebuggerStatement=D;var S=function(e,t){this.type=n.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.Directive=S;var C=function(e,t){this.type=n.Syntax.DoWhileStatement,this.body=e,this.test=t};t.DoWhileStatement=C;var A=function(){this.type=n.Syntax.EmptyStatement};t.EmptyStatement=A;var N=function(e){this.type=n.Syntax.ExportAllDeclaration,this.source=e};t.ExportAllDeclaration=N;var T=function(e){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportDefaultDeclaration=T;var O=function(e,t,r){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=r};t.ExportNamedDeclaration=O;var F=function(e,t){this.type=n.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExportSpecifier=F;var k=function(e){this.type=n.Syntax.ExpressionStatement,this.expression=e};t.ExpressionStatement=k;var P=function(e,t,r){this.type=n.Syntax.ForInStatement,this.left=e,this.right=t,this.body=r,this.each=!1};t.ForInStatement=P;var I=function(e,t,r){this.type=n.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=r};t.ForOfStatement=I;var L=function(e,t,r,i){this.type=n.Syntax.ForStatement,this.init=e,this.test=t,this.update=r,this.body=i};t.ForStatement=L;var M=function(e,t,r,i){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=r,this.generator=i,this.expression=!1,this.async=!1};t.FunctionDeclaration=M;var B=function(e,t,r,i){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=r,this.generator=i,this.expression=!1,this.async=!1};t.FunctionExpression=B;var j=function(e){this.type=n.Syntax.Identifier,this.name=e};t.Identifier=j;var R=function(e,t,r){this.type=n.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=r};t.IfStatement=R;var z=function(e,t){this.type=n.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDeclaration=z;var U=function(e){this.type=n.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportDefaultSpecifier=U;var G=function(e){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportNamespaceSpecifier=G;var X=function(e,t){this.type=n.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.ImportSpecifier=X;var q=function(e,t){this.type=n.Syntax.LabeledStatement,this.label=e,this.body=t};t.LabeledStatement=q;var W=function(e,t){this.type=n.Syntax.Literal,this.value=e,this.raw=t};t.Literal=W;var H=function(e,t){this.type=n.Syntax.MetaProperty,this.meta=e,this.property=t};t.MetaProperty=H;var J=function(e,t,r,i,o){this.type=n.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=r,this.kind=i,this.static=o};t.MethodDefinition=J;var Y=function(e){this.type=n.Syntax.Program,this.body=e,this.sourceType=\"module\"};t.Module=Y;var V=function(e,t){this.type=n.Syntax.NewExpression,this.callee=e,this.arguments=t};t.NewExpression=V;var K=function(e){this.type=n.Syntax.ObjectExpression,this.properties=e};t.ObjectExpression=K;var $=function(e){this.type=n.Syntax.ObjectPattern,this.properties=e};t.ObjectPattern=$;var Q=function(e,t,r,i,o,a){this.type=n.Syntax.Property,this.key=t,this.computed=r,this.value=i,this.kind=e,this.method=o,this.shorthand=a};t.Property=Q;var Z=function(e,t,r,i){this.type=n.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:r,flags:i}};t.RegexLiteral=Z;var ee=function(e){this.type=n.Syntax.RestElement,this.argument=e};t.RestElement=ee;var te=function(e){this.type=n.Syntax.ReturnStatement,this.argument=e};t.ReturnStatement=te;var re=function(e){this.type=n.Syntax.Program,this.body=e,this.sourceType=\"script\"};t.Script=re;var ne=function(e){this.type=n.Syntax.SequenceExpression,this.expressions=e};t.SequenceExpression=ne;var ie=function(e){this.type=n.Syntax.SpreadElement,this.argument=e};t.SpreadElement=ie;var oe=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.StaticMemberExpression=oe;var ae=function(){this.type=n.Syntax.Super};t.Super=ae;var se=function(e,t){this.type=n.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchCase=se;var ue=function(e,t){this.type=n.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.SwitchStatement=ue;var le=function(e,t){this.type=n.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TaggedTemplateExpression=le;var ce=function(e,t){this.type=n.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateElement=ce;var he=function(e,t){this.type=n.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.TemplateLiteral=he;var pe=function(){this.type=n.Syntax.ThisExpression};t.ThisExpression=pe;var fe=function(e){this.type=n.Syntax.ThrowStatement,this.argument=e};t.ThrowStatement=fe;var de=function(e,t,r){this.type=n.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=r};t.TryStatement=de;var me=function(e,t){this.type=n.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UnaryExpression=me;var ye=function(e,t,r){this.type=n.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=r};t.UpdateExpression=ye;var ve=function(e,t){this.type=n.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclaration=ve;var _e=function(e,t){this.type=n.Syntax.VariableDeclarator,this.id=e,this.init=t};t.VariableDeclarator=_e;var ge=function(e,t){this.type=n.Syntax.WhileStatement,this.test=e,this.body=t};t.WhileStatement=ge;var be=function(e,t){this.type=n.Syntax.WithStatement,this.object=e,this.body=t};t.WithStatement=be;var xe=function(e,t){this.type=n.Syntax.YieldExpression,this.argument=e,this.delegate=t};t.YieldExpression=xe},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(9),i=r(10),o=r(11),a=r(7),s=r(12),u=r(2),l=r(13),c=function(){function e(e,t,r){void 0===t&&(t={}),this.config={range:\"boolean\"==typeof t.range&&t.range,loc:\"boolean\"==typeof t.loc&&t.loc,source:null,tokens:\"boolean\"==typeof t.tokens&&t.tokens,comment:\"boolean\"==typeof t.comment&&t.comment,tolerant:\"boolean\"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=r,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={\")\":0,\";\":0,\",\":0,\"=\":0,\"]\":0,\"||\":1,\"&&\":2,\"|\":3,\"^\":4,\"&\":5,\"==\":6,\"!=\":6,\"===\":6,\"!==\":6,\"<\":7,\">\":7,\"<=\":7,\">=\":7,\"<<\":8,\">>\":8,\">>>\":8,\"+\":9,\"-\":9,\"*\":11,\"/\":11,\"%\":11},this.lookahead={type:2,value:\"\",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\\d)/g,(function(e,t){return n.assert(t<i.length,\"Message reference must be in range\"),i[t]})),a=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,s,u,o)},e.prototype.tolerateError=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\\d)/g,(function(e,t){return n.assert(t<i.length,\"Message reference must be in range\"),i[t]})),a=this.lastMarker.index,s=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,s,u,o)},e.prototype.unexpectedTokenError=function(e,t){var r,n=t||o.Messages.UnexpectedToken;if(e?(t||(n=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?n=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(n=o.Messages.StrictReservedWord))),r=e.value):r=\"ILLEGAL\",n=n.replace(\"%0\",r),e&&\"number\"==typeof e.lineNumber){var i=e.start,a=e.lineNumber,s=this.lastMarker.index-this.lastMarker.column,u=e.start-s+1;return this.errorHandler.createError(i,a,u,n)}return i=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1,this.errorHandler.createError(i,a,u,n)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var r=e[t],n=void 0;n={type:r.multiLine?\"BlockComment\":\"LineComment\",value:this.scanner.source.slice(r.slice[0],r.slice[1])},this.config.range&&(n.range=r.range),this.config.loc&&(n.loc=r.loc);var i={start:{line:r.loc.start.line,column:r.loc.start.column,offset:r.range[0]},end:{line:r.loc.end.line,column:r.loc.end.column,offset:r.range[1]}};this.delegate(n,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:l.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var r=e.pattern,n=e.flags;t.regex={pattern:r,flags:n}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var r=e.start-e.lineStart,n=e.lineNumber;return r<0&&(r+=t,n--),{index:e.start,line:n,column:r}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var r={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,r)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&\",\"===e.value?this.nextToken():7===e.type&&\";\"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(\",\")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return\"=\"===e||\"*=\"===e||\"**=\"===e||\"/=\"===e||\"%=\"===e||\"+=\"===e||\"-=\"===e||\"<<=\"===e||\">>=\"===e||\">>>=\"===e||\"&=\"===e||\"^=\"===e||\"|=\"===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,r=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=r,this.context.firstCoverInitializedNameError=n,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,r=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&r,this.context.firstCoverInitializedNameError=n||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(\";\")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match(\"}\")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,r,n=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&\"await\"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(n,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),r=this.getTokenRaw(t),e=this.finalize(n,new a.Literal(t.value,r));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),r=this.getTokenRaw(t),e=this.finalize(n,new a.Literal(\"true\"===t.value,r));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),r=this.getTokenRaw(t),e=this.finalize(n,new a.Literal(null,r));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case\"(\":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case\"[\":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case\"{\":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case\"/\":case\"/=\":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),r=this.getTokenRaw(t),e=this.finalize(n,new a.RegexLiteral(t.regex,r,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword(\"yield\")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword(\"let\")?e=this.finalize(n,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword(\"function\")?e=this.parseFunctionExpression():this.matchKeyword(\"this\")?(this.nextToken(),e=this.finalize(n,new a.ThisExpression)):e=this.matchKeyword(\"class\")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect(\"...\");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new a.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect(\"[\");!this.match(\"]\");)if(this.match(\",\"))this.nextToken(),t.push(null);else if(this.match(\"...\")){var r=this.parseSpreadElement();this.match(\"]\")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(\",\")),t.push(r)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match(\"]\")||this.expect(\",\");return this.expect(\"]\"),this.finalize(e,new a.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,r=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var n=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=r,n},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters(),n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,r.params,n,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,r=this.context.await;this.context.allowYield=!1,this.context.await=!0;var n=this.parseFormalParameters(),i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.context.await=r,this.finalize(e,new a.AsyncFunctionExpression(null,n.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),r=this.nextToken();switch(r.type){case 8:case 6:this.context.strict&&r.octal&&this.tolerateUnexpectedToken(r,o.Messages.StrictOctalLiteral);var n=this.getTokenRaw(r);e=this.finalize(t,new a.Literal(r.value,n));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new a.Identifier(r.value));break;case 7:\"[\"===r.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect(\"]\")):e=this.throwUnexpectedToken(r);break;default:e=this.throwUnexpectedToken(r)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,r=this.createNode(),n=this.lookahead,i=null,s=null,u=!1,l=!1,c=!1,h=!1;if(3===n.type){var p=n.value;this.nextToken(),u=this.match(\"[\"),i=(h=!(this.hasLineTerminator||\"async\"!==p||this.match(\":\")||this.match(\"(\")||this.match(\"*\")||this.match(\",\")))?this.parseObjectPropertyKey():this.finalize(r,new a.Identifier(p))}else this.match(\"*\")?this.nextToken():(u=this.match(\"[\"),i=this.parseObjectPropertyKey());var f=this.qualifiedPropertyName(this.lookahead);if(3===n.type&&!h&&\"get\"===n.value&&f)t=\"get\",u=this.match(\"[\"),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(3===n.type&&!h&&\"set\"===n.value&&f)t=\"set\",u=this.match(\"[\"),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(7===n.type&&\"*\"===n.value&&f)t=\"init\",u=this.match(\"[\"),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t=\"init\",this.match(\":\")&&!h)!u&&this.isPropertyKey(i,\"__proto__\")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match(\"(\"))s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0;else if(3===n.type)if(p=this.finalize(r,new a.Identifier(n.value)),this.match(\"=\")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(r,new a.AssignmentPattern(p,d))}else c=!0,s=p;else this.throwUnexpectedToken(this.nextToken());return this.finalize(r,new a.Property(t,i,u,s,l,c))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect(\"{\");for(var t=[],r={value:!1};!this.match(\"}\");)t.push(this.parseObjectProperty(r)),this.match(\"}\")||this.expectCommaSeparator();return this.expect(\"}\"),this.finalize(e,new a.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,\"Template literal must start with a template head\");var e=this.createNode(),t=this.nextToken(),r=t.value,i=t.cooked;return this.finalize(e,new a.TemplateElement({raw:r,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),r=t.value,n=t.cooked;return this.finalize(e,new a.TemplateElement({raw:r,cooked:n},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],r=[],n=this.parseTemplateHead();for(r.push(n);!n.tail;)t.push(this.parseExpression()),n=this.parseTemplateElement(),r.push(n);return this.finalize(e,new a.TemplateLiteral(r,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:for(e.type=u.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect(\"(\"),this.match(\")\"))this.nextToken(),this.match(\"=>\")||this.expect(\"=>\"),e={type:\"ArrowParameterPlaceHolder\",params:[],async:!1};else{var t=this.lookahead,r=[];if(this.match(\"...\"))e=this.parseRestElement(r),this.expect(\")\"),this.match(\"=>\")||this.expect(\"=>\"),e={type:\"ArrowParameterPlaceHolder\",params:[e],async:!1};else{var n=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(\",\")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(e);2!==this.lookahead.type&&this.match(\",\");){if(this.nextToken(),this.match(\")\")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);n=!0,e={type:\"ArrowParameterPlaceHolder\",params:i,async:!1}}else if(this.match(\"...\")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(r)),this.expect(\")\"),this.match(\"=>\")||this.expect(\"=>\"),this.context.isBindingElement=!1,o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);n=!0,e={type:\"ArrowParameterPlaceHolder\",params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(e=this.finalize(this.startNode(t),new a.SequenceExpression(i)))}if(!n){if(this.expect(\")\"),this.match(\"=>\")&&(e.type===u.Syntax.Identifier&&\"yield\"===e.name&&(n=!0,e={type:\"ArrowParameterPlaceHolder\",params:[e],async:!1}),!n)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);e={type:\"ArrowParameterPlaceHolder\",params:e.type===u.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect(\"(\");var e=[];if(!this.match(\")\"))for(;;){var t=this.match(\"...\")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(\")\"))break;if(this.expectCommaSeparator(),this.match(\")\"))break}return this.expect(\")\"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new a.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),r=this.parseIdentifierName();if(n.assert(\"new\"===r.name,\"New expression must start with `new`\"),this.match(\".\"))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&\"target\"===this.lookahead.value){var i=this.parseIdentifierName();e=new a.MetaProperty(r,i)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match(\"(\")?this.parseArguments():[];e=new a.NewExpression(o,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect(\"(\");var e=[];if(!this.match(\")\"))for(;;){var t=this.match(\"...\")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(\")\"))break;if(this.expectCommaSeparator(),this.match(\")\"))break}return this.expect(\")\"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,r=this.matchContextualKeyword(\"async\"),n=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword(\"super\")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new a.Super),this.match(\"(\")||this.match(\".\")||this.match(\"[\")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword(\"new\")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(\".\")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(\".\");var i=this.parseIdentifierName();e=this.finalize(this.startNode(t),new a.StaticMemberExpression(e,i))}else if(this.match(\"(\")){var o=r&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=o?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new a.CallExpression(e,s)),o&&this.match(\"=>\")){for(var u=0;u<s.length;++u)this.reinterpretExpressionAsPattern(s[u]);e={type:\"ArrowParameterPlaceHolder\",params:s,async:!0}}}else if(this.match(\"[\"))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(\"[\"),i=this.isolateCoverGrammar(this.parseExpression),this.expect(\"]\"),e=this.finalize(this.startNode(t),new a.ComputedMemberExpression(e,i));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var l=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new a.TaggedTemplateExpression(e,l))}return this.context.allowIn=n,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword(\"super\"),this.match(\"[\")||this.match(\".\")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new a.Super)},e.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,\"callee of new expression always allow in keyword.\");for(var e=this.startNode(this.lookahead),t=this.matchKeyword(\"super\")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword(\"new\")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(\"[\")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(\"[\");var r=this.isolateCoverGrammar(this.parseExpression);this.expect(\"]\"),t=this.finalize(e,new a.ComputedMemberExpression(t,r))}else if(this.match(\".\"))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(\".\"),r=this.parseIdentifierName(),t=this.finalize(e,new a.StaticMemberExpression(t,r));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new a.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match(\"++\")||this.match(\"--\")){var r=this.startNode(t),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(r,new a.UpdateExpression(n.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match(\"++\")||this.match(\"--\"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;i=!1,e=this.finalize(this.startNode(t),new a.UpdateExpression(s,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new a.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match(\"+\")||this.match(\"-\")||this.match(\"~\")||this.match(\"!\")||this.matchKeyword(\"delete\")||this.matchKeyword(\"void\")||this.matchKeyword(\"typeof\")){var t=this.startNode(this.lookahead),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new a.UnaryExpression(r.value,e)),this.context.strict&&\"delete\"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword(\"await\")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match(\"**\")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=t,n=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new a.BinaryExpression(\"**\",r,n))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&(\"instanceof\"===t||this.context.allowIn&&\"in\"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),r=this.lookahead,n=this.binaryPrecedence(r);if(n>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],o=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[o,r.value,s],l=[n];!((n=this.binaryPrecedence(this.lookahead))<=0);){for(;u.length>2&&n<=l[l.length-1];){s=u.pop();var c=u.pop();l.pop(),o=u.pop(),i.pop();var h=this.startNode(i[i.length-1]);u.push(this.finalize(h,new a.BinaryExpression(c,o,s)))}u.push(this.nextToken().value),l.push(n),i.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var p=u.length-1;t=u[p];for(var f=i.pop();p>1;){var d=i.pop(),m=f&&f.lineStart;h=this.startNode(d,m),c=u[p-1],t=this.finalize(h,new a.BinaryExpression(c,u[p-2],t)),p-=2,f=d}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match(\"?\")){this.nextToken();var r=this.context.allowIn;this.context.allowIn=!0;var n=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=r,this.expect(\":\");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.ConditionalExpression(t,n,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(var r=0;r<t.elements.length;r++)null!==t.elements[r]&&this.checkPatternParam(e,t.elements[r]);break;case u.Syntax.ObjectPattern:for(r=0;r<t.properties.length;r++)this.checkPatternParam(e,t.properties[r].value)}e.simple=e.simple&&t instanceof a.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,r=[e],n=!1;switch(e.type){case u.Syntax.Identifier:break;case\"ArrowParameterPlaceHolder\":r=e.params,n=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<r.length;++i)(a=r[i]).type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name=\"yield\",delete a.right.argument,delete a.right.delegate):n&&a.type===u.Syntax.Identifier&&\"await\"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,a),r[i]=a;if(this.context.strict||!this.context.allowYield)for(i=0;i<r.length;++i){var a;(a=r[i]).type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{simple:t.simple,params:r,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword(\"yield\"))e=this.parseYieldExpression();else{var t=this.lookahead,r=t;if(e=this.parseConditionalExpression(),3===r.type&&r.lineNumber===this.lookahead.lineNumber&&\"async\"===r.value&&(3===this.lookahead.type||this.matchKeyword(\"yield\"))){var n=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(n),e={type:\"ArrowParameterPlaceHolder\",params:[n],async:!0}}if(\"ArrowParameterPlaceHolder\"===e.type||this.match(\"=>\")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,s=this.reinterpretAsCoverFormalsList(e);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var l=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var h=this.context.allowYield,p=this.context.await;this.context.allowYield=!0,this.context.await=i;var f=this.startNode(t);this.expect(\"=>\");var d=void 0;if(this.match(\"{\")){var m=this.context.allowIn;this.context.allowIn=!0,d=this.parseFunctionSourceElements(),this.context.allowIn=m}else d=this.isolateCoverGrammar(this.parseAssignmentExpression);var y=d.type!==u.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),e=i?this.finalize(f,new a.AsyncArrowFunctionExpression(s.params,d,y)):this.finalize(f,new a.ArrowFunctionExpression(s.params,d,y)),this.context.strict=l,this.context.allowStrictDirective=c,this.context.allowYield=h,this.context.await=p}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var v=e;this.scanner.isRestrictedWord(v.name)&&this.tolerateUnexpectedToken(r,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(v.name)&&this.tolerateUnexpectedToken(r,o.Messages.StrictReservedWord)}this.match(\"=\")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var _=(r=this.nextToken()).value,g=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.AssignmentExpression(_,e,g)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(\",\")){var r=[];for(r.push(t);2!==this.lookahead.type&&this.match(\",\");)this.nextToken(),r.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new a.SequenceExpression(r))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case\"export\":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case\"import\":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case\"const\":e=this.parseLexicalDeclaration({inFor:!1});break;case\"function\":e=this.parseFunctionDeclaration();break;case\"class\":e=this.parseClassDeclaration();break;case\"let\":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect(\"{\");for(var t=[];!this.match(\"}\");)t.push(this.parseStatementListItem());return this.expect(\"}\"),this.finalize(e,new a.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var r=this.createNode(),n=this.parsePattern([],e);this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return\"const\"===e?this.matchKeyword(\"in\")||this.matchContextualKeyword(\"of\")||(this.match(\"=\")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,\"const\")):(!t.inFor&&n.type!==u.Syntax.Identifier||this.match(\"=\"))&&(this.expect(\"=\"),i=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(r,new a.VariableDeclarator(n,i))},e.prototype.parseBindingList=function(e,t){for(var r=[this.parseLexicalBinding(e,t)];this.match(\",\");)this.nextToken(),r.push(this.parseLexicalBinding(e,t));return r},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&\"[\"===t.value||7===t.type&&\"{\"===t.value||4===t.type&&\"let\"===t.value||4===t.type&&\"yield\"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),r=this.nextToken().value;n.assert(\"let\"===r||\"const\"===r,\"Lexical declaration must be either let or const\");var i=this.parseBindingList(r,e);return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(i,r))},e.prototype.parseBindingRestElement=function(e,t){var r=this.createNode();this.expect(\"...\");var n=this.parsePattern(e,t);return this.finalize(r,new a.RestElement(n))},e.prototype.parseArrayPattern=function(e,t){var r=this.createNode();this.expect(\"[\");for(var n=[];!this.match(\"]\");)if(this.match(\",\"))this.nextToken(),n.push(null);else{if(this.match(\"...\")){n.push(this.parseBindingRestElement(e,t));break}n.push(this.parsePatternWithDefault(e,t)),this.match(\"]\")||this.expect(\",\")}return this.expect(\"]\"),this.finalize(r,new a.ArrayPattern(n))},e.prototype.parsePropertyPattern=function(e,t){var r,n,i=this.createNode(),o=!1,s=!1;if(3===this.lookahead.type){var u=this.lookahead;r=this.parseVariableIdentifier();var l=this.finalize(i,new a.Identifier(u.value));if(this.match(\"=\")){e.push(u),s=!0,this.nextToken();var c=this.parseAssignmentExpression();n=this.finalize(this.startNode(u),new a.AssignmentPattern(l,c))}else this.match(\":\")?(this.expect(\":\"),n=this.parsePatternWithDefault(e,t)):(e.push(u),s=!0,n=l)}else o=this.match(\"[\"),r=this.parseObjectPropertyKey(),this.expect(\":\"),n=this.parsePatternWithDefault(e,t);return this.finalize(i,new a.Property(\"init\",r,o,n,!1,s))},e.prototype.parseObjectPattern=function(e,t){var r=this.createNode(),n=[];for(this.expect(\"{\");!this.match(\"}\");)n.push(this.parsePropertyPattern(e,t)),this.match(\"}\")||this.expect(\",\");return this.expect(\"}\"),this.finalize(r,new a.ObjectPattern(n))},e.prototype.parsePattern=function(e,t){var r;return this.match(\"[\")?r=this.parseArrayPattern(e,t):this.match(\"{\")?r=this.parseObjectPattern(e,t):(!this.matchKeyword(\"let\")||\"const\"!==t&&\"let\"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),r=this.parseVariableIdentifier(t)),r},e.prototype.parsePatternWithDefault=function(e,t){var r=this.lookahead,n=this.parsePattern(e,t);if(this.match(\"=\")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,n=this.finalize(this.startNode(r),new a.AssignmentPattern(n,o))}return n},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),r=this.nextToken();return 4===r.type&&\"yield\"===r.value?this.context.strict?this.tolerateUnexpectedToken(r,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(r):3!==r.type?this.context.strict&&4===r.type&&this.scanner.isStrictModeReservedWord(r.value)?this.tolerateUnexpectedToken(r,o.Messages.StrictReservedWord):(this.context.strict||\"let\"!==r.value||\"var\"!==e)&&this.throwUnexpectedToken(r):(this.context.isModule||this.context.await)&&3===r.type&&\"await\"===r.value&&this.tolerateUnexpectedToken(r),this.finalize(t,new a.Identifier(r.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),r=this.parsePattern([],\"var\");this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var n=null;return this.match(\"=\")?(this.nextToken(),n=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===u.Syntax.Identifier||e.inFor||this.expect(\"=\"),this.finalize(t,new a.VariableDeclarator(r,n))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},r=[];for(r.push(this.parseVariableDeclaration(t));this.match(\",\");)this.nextToken(),r.push(this.parseVariableDeclaration(t));return r},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword(\"var\");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(t,\"var\"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(\";\"),this.finalize(e,new a.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword(\"function\")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),r=null;this.expectKeyword(\"if\"),this.expect(\"(\");var n=this.parseExpression();return!this.match(\")\")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(\")\"),e=this.parseIfClause(),this.matchKeyword(\"else\")&&(this.nextToken(),r=this.parseIfClause())),this.finalize(t,new a.IfStatement(n,e,r))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword(\"do\");var t=this.context.inIteration;this.context.inIteration=!0;var r=this.parseStatement();this.context.inIteration=t,this.expectKeyword(\"while\"),this.expect(\"(\");var n=this.parseExpression();return!this.match(\")\")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(\")\"),this.match(\";\")&&this.nextToken()),this.finalize(e,new a.DoWhileStatement(r,n))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword(\"while\"),this.expect(\"(\");var r=this.parseExpression();if(!this.match(\")\")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(\")\");var n=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=n}return this.finalize(t,new a.WhileStatement(r,e))},e.prototype.parseForStatement=function(){var e,t,r,n=null,i=null,s=null,l=!0,c=this.createNode();if(this.expectKeyword(\"for\"),this.expect(\"(\"),this.match(\";\"))this.nextToken();else if(this.matchKeyword(\"var\")){n=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var p=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===p.length&&this.matchKeyword(\"in\")){var f=p[0];f.init&&(f.id.type===u.Syntax.ArrayPattern||f.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,\"for-in\"),n=this.finalize(n,new a.VariableDeclaration(p,\"var\")),this.nextToken(),e=n,t=this.parseExpression(),n=null}else 1===p.length&&null===p[0].init&&this.matchContextualKeyword(\"of\")?(n=this.finalize(n,new a.VariableDeclaration(p,\"var\")),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,l=!1):(n=this.finalize(n,new a.VariableDeclaration(p,\"var\")),this.expect(\";\"))}else if(this.matchKeyword(\"const\")||this.matchKeyword(\"let\")){n=this.createNode();var d=this.nextToken().value;this.context.strict||\"in\"!==this.lookahead.value?(h=this.context.allowIn,this.context.allowIn=!1,p=this.parseBindingList(d,{inFor:!0}),this.context.allowIn=h,1===p.length&&null===p[0].init&&this.matchKeyword(\"in\")?(n=this.finalize(n,new a.VariableDeclaration(p,d)),this.nextToken(),e=n,t=this.parseExpression(),n=null):1===p.length&&null===p[0].init&&this.matchContextualKeyword(\"of\")?(n=this.finalize(n,new a.VariableDeclaration(p,d)),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,l=!1):(this.consumeSemicolon(),n=this.finalize(n,new a.VariableDeclaration(p,d)))):(n=this.finalize(n,new a.Identifier(d)),this.nextToken(),e=n,t=this.parseExpression(),n=null)}else{var m=this.lookahead;if(h=this.context.allowIn,this.context.allowIn=!1,n=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword(\"in\"))this.context.isAssignmentTarget&&n.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseExpression(),n=null;else if(this.matchContextualKeyword(\"of\"))this.context.isAssignmentTarget&&n.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseAssignmentExpression(),n=null,l=!1;else{if(this.match(\",\")){for(var y=[n];this.match(\",\");)this.nextToken(),y.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(m),new a.SequenceExpression(y))}this.expect(\";\")}}if(void 0===e&&(this.match(\";\")||(i=this.parseExpression()),this.expect(\";\"),this.match(\")\")||(s=this.parseExpression())),!this.match(\")\")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),r=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(\")\");var v=this.context.inIteration;this.context.inIteration=!0,r=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===e?this.finalize(c,new a.ForStatement(n,i,s,r)):l?this.finalize(c,new a.ForInStatement(e,t,r)):this.finalize(c,new a.ForOfStatement(e,t,r))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword(\"continue\");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var r=this.parseVariableIdentifier();t=r;var n=\"$\"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)||this.throwError(o.Messages.UnknownLabel,r.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new a.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword(\"break\");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var r=this.parseVariableIdentifier(),n=\"$\"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)||this.throwError(o.Messages.UnknownLabel,r.name),t=r}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new a.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword(\"return\");var t=(this.match(\";\")||this.match(\"}\")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword(\"with\"),this.expect(\"(\");var r=this.parseExpression();return!this.match(\")\")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(\")\"),e=this.parseStatement()),this.finalize(t,new a.WithStatement(r,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword(\"default\")?(this.nextToken(),e=null):(this.expectKeyword(\"case\"),e=this.parseExpression()),this.expect(\":\");for(var r=[];!(this.match(\"}\")||this.matchKeyword(\"default\")||this.matchKeyword(\"case\"));)r.push(this.parseStatementListItem());return this.finalize(t,new a.SwitchCase(e,r))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword(\"switch\"),this.expect(\"(\");var t=this.parseExpression();this.expect(\")\");var r=this.context.inSwitch;this.context.inSwitch=!0;var n=[],i=!1;for(this.expect(\"{\");!this.match(\"}\");){var s=this.parseSwitchCase();null===s.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),n.push(s)}return this.expect(\"}\"),this.context.inSwitch=r,this.finalize(e,new a.SwitchStatement(t,n))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),r=this.parseExpression();if(r.type===u.Syntax.Identifier&&this.match(\":\")){this.nextToken();var n=r,i=\"$\"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(o.Messages.Redeclaration,\"Label\",n.name),this.context.labelSet[i]=!0;var s=void 0;if(this.matchKeyword(\"class\"))this.tolerateUnexpectedToken(this.lookahead),s=this.parseClassDeclaration();else if(this.matchKeyword(\"function\")){var l=this.lookahead,c=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(l,o.Messages.StrictFunction):c.generator&&this.tolerateUnexpectedToken(l,o.Messages.GeneratorInLegacyContext),s=c}else s=this.parseStatement();delete this.context.labelSet[i],e=new a.LabeledStatement(n,s)}else this.consumeSemicolon(),e=new a.ExpressionStatement(r);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword(\"throw\"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword(\"catch\"),this.expect(\"(\"),this.match(\")\")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],r=this.parsePattern(t),n={},i=0;i<t.length;i++){var s=\"$\"+t[i].value;Object.prototype.hasOwnProperty.call(n,s)&&this.tolerateError(o.Messages.DuplicateBinding,t[i].value),n[s]=!0}this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(\")\");var l=this.parseBlock();return this.finalize(e,new a.CatchClause(r,l))},e.prototype.parseFinallyClause=function(){return this.expectKeyword(\"finally\"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword(\"try\");var t=this.parseBlock(),r=this.matchKeyword(\"catch\")?this.parseCatchClause():null,n=this.matchKeyword(\"finally\")?this.parseFinallyClause():null;return r||n||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new a.TryStatement(t,r,n))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword(\"debugger\"),this.consumeSemicolon(),this.finalize(e,new a.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e=\"{\"===t?this.parseBlock():\"(\"===t?this.parseExpressionStatement():\";\"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case\"break\":e=this.parseBreakStatement();break;case\"continue\":e=this.parseContinueStatement();break;case\"debugger\":e=this.parseDebuggerStatement();break;case\"do\":e=this.parseDoWhileStatement();break;case\"for\":e=this.parseForStatement();break;case\"function\":e=this.parseFunctionDeclaration();break;case\"if\":e=this.parseIfStatement();break;case\"return\":e=this.parseReturnStatement();break;case\"switch\":e=this.parseSwitchStatement();break;case\"throw\":e=this.parseThrowStatement();break;case\"try\":e=this.parseTryStatement();break;case\"var\":e=this.parseVariableStatement();break;case\"while\":e=this.parseWhileStatement();break;case\"with\":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect(\"{\");var t=this.parseDirectivePrologues(),r=this.context.labelSet,n=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match(\"}\");)t.push(this.parseStatementListItem());return this.expect(\"}\"),this.context.labelSet=r,this.context.inIteration=n,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(e,new a.BlockStatement(t))},e.prototype.validateParam=function(e,t,r){var n=\"$\"+r;this.context.strict?(this.scanner.isRestrictedWord(r)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(r)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(r)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),\"function\"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,n,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[n]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect(\"...\");var r=this.parsePattern(e);return this.match(\"=\")&&this.throwError(o.Messages.DefaultRestParameter),this.match(\")\")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new a.RestElement(r))},e.prototype.parseFormalParameter=function(e){for(var t=[],r=this.match(\"...\")?this.parseRestElement(t):this.parsePatternWithDefault(t),n=0;n<t.length;n++)this.validateParam(e,t[n],t[n].value);e.simple=e.simple&&r instanceof a.Identifier,e.params.push(r)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect(\"(\"),!this.match(\")\"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(\")\"))&&(this.expect(\",\"),!this.match(\")\")););return this.expect(\")\"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword(\"async\");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var r=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===r.lineNumber&&4===r.type&&\"function\"===r.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),r=this.matchContextualKeyword(\"async\");r&&this.nextToken(),this.expectKeyword(\"function\");var n,i=!r&&this.match(\"*\");i&&this.nextToken();var s=null,u=null;if(!e||!this.match(\"(\")){var l=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(u=l,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(u=l,n=o.Messages.StrictReservedWord)}var c=this.context.await,h=this.context.allowYield;this.context.await=r,this.context.allowYield=!i;var p=this.parseFormalParameters(u),f=p.params,d=p.stricted;u=p.firstRestricted,p.message&&(n=p.message);var m=this.context.strict,y=this.context.allowStrictDirective;this.context.allowStrictDirective=p.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,n),this.context.strict&&d&&this.tolerateUnexpectedToken(d,n),this.context.strict=m,this.context.allowStrictDirective=y,this.context.await=c,this.context.allowYield=h,r?this.finalize(t,new a.AsyncFunctionDeclaration(s,f,v)):this.finalize(t,new a.FunctionDeclaration(s,f,v,i))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword(\"async\");t&&this.nextToken(),this.expectKeyword(\"function\");var r,n=!t&&this.match(\"*\");n&&this.nextToken();var i,s=null,u=this.context.await,l=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!n,!this.match(\"(\")){var c=this.lookahead;s=this.context.strict||n||!this.matchKeyword(\"yield\")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(i=c,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(i=c,r=o.Messages.StrictReservedWord)}var h=this.parseFormalParameters(i),p=h.params,f=h.stricted;i=h.firstRestricted,h.message&&(r=h.message);var d=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var y=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,r),this.context.strict&&f&&this.tolerateUnexpectedToken(f,r),this.context.strict=d,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=l,t?this.finalize(e,new a.AsyncFunctionExpression(s,p,y)):this.finalize(e,new a.FunctionExpression(s,p,y,n))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),r=this.parseExpression(),n=r.type===u.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,n?new a.Directive(r,n):new a.ExpressionStatement(r))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var r=this.lookahead;if(8!==r.type)break;var n=this.parseDirective();t.push(n);var i=n.directive;if(\"string\"!=typeof i)break;\"use strict\"===i?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(r,o.Messages.IllegalLanguageModeDirective)):!e&&r.octal&&(e=r)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return\"[\"===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();r.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,r.params,n,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();1!==r.params.length?this.tolerateError(o.Messages.BadSetterArity):r.params[0]instanceof a.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,r.params,n,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();this.context.allowYield=!1;var n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,r.params,n,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e=\"[\"===t||\"(\"===t||\"{\"===t||\"+\"===t||\"-\"===t||\"!\"===t||\"~\"===t||\"++\"===t||\"--\"===t||\"/\"===t||\"/=\"===t;break;case 4:e=\"class\"===t||\"delete\"===t||\"function\"===t||\"let\"===t||\"new\"===t||\"super\"===t||\"this\"===t||\"typeof\"===t||\"void\"===t||\"yield\"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword(\"yield\");var t=null,r=!1;if(!this.hasLineTerminator){var n=this.context.allowYield;this.context.allowYield=!1,(r=this.match(\"*\"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=n}return this.finalize(e,new a.YieldExpression(t,r))},e.prototype.parseClassElement=function(e){var t=this.lookahead,r=this.createNode(),n=\"\",i=null,s=null,u=!1,l=!1,c=!1,h=!1;if(this.match(\"*\"))this.nextToken();else if(u=this.match(\"[\"),\"static\"===(i=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match(\"*\"))&&(t=this.lookahead,c=!0,u=this.match(\"[\"),this.match(\"*\")?this.nextToken():i=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&\"async\"===t.value){var p=this.lookahead.value;\":\"!==p&&\"(\"!==p&&\"*\"!==p&&(h=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type&&\"constructor\"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync))}var f=this.qualifiedPropertyName(this.lookahead);return 3===t.type?\"get\"===t.value&&f?(n=\"get\",u=this.match(\"[\"),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):\"set\"===t.value&&f&&(n=\"set\",u=this.match(\"[\"),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===t.type&&\"*\"===t.value&&f&&(n=\"init\",u=this.match(\"[\"),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0),!n&&i&&this.match(\"(\")&&(n=\"init\",s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0),n||this.throwUnexpectedToken(this.lookahead),\"init\"===n&&(n=\"method\"),u||(c&&this.isPropertyKey(i,\"prototype\")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!c&&this.isPropertyKey(i,\"constructor\")&&((\"method\"!==n||!l||s&&s.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,n=\"constructor\")),this.finalize(r,new a.MethodDefinition(i,u,s,n,c))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect(\"{\");!this.match(\"}\");)this.match(\";\")?this.nextToken():e.push(this.parseClassElement(t));return this.expect(\"}\"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new a.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),r=this.context.strict;this.context.strict=!0,this.expectKeyword(\"class\");var n=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword(\"extends\")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=r,this.finalize(t,new a.ClassDeclaration(n,i,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword(\"class\");var r=3===this.lookahead.type?this.parseVariableIdentifier():null,n=null;this.matchKeyword(\"extends\")&&(this.nextToken(),n=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new a.ClassExpression(r,n,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),r=this.getTokenRaw(t);return this.finalize(e,new a.Literal(t.value,r))},e.prototype.parseImportSpecifier=function(){var e,t,r=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword(\"as\")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword(\"as\")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(r,new a.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect(\"{\");for(var e=[];!this.match(\"}\");)e.push(this.parseImportSpecifier()),this.match(\"}\")||this.expect(\",\");return this.expect(\"}\"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new a.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect(\"*\"),this.matchContextualKeyword(\"as\")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new a.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword(\"import\");var r=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match(\"{\")?r=r.concat(this.parseNamedImports()):this.match(\"*\")?r.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword(\"default\")?(r.push(this.parseImportDefaultSpecifier()),this.match(\",\")&&(this.nextToken(),this.match(\"*\")?r.push(this.parseImportNamespaceSpecifier()):this.match(\"{\")?r=r.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword(\"from\")){var n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(n,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new a.ImportDeclaration(r,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),r=t;return this.matchContextualKeyword(\"as\")&&(this.nextToken(),r=this.parseIdentifierName()),this.finalize(e,new a.ExportSpecifier(t,r))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword(\"export\"),this.matchKeyword(\"default\"))if(this.nextToken(),this.matchKeyword(\"function\")){var r=this.parseFunctionDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(r))}else this.matchKeyword(\"class\")?(r=this.parseClassDeclaration(!0),e=this.finalize(t,new a.ExportDefaultDeclaration(r))):this.matchContextualKeyword(\"async\")?(r=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new a.ExportDefaultDeclaration(r))):(this.matchContextualKeyword(\"from\")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value),r=this.match(\"{\")?this.parseObjectInitializer():this.match(\"[\")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new a.ExportDefaultDeclaration(r)));else if(this.match(\"*\")){if(this.nextToken(),!this.matchContextualKeyword(\"from\")){var n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(n,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new a.ExportAllDeclaration(i))}else if(4===this.lookahead.type){switch(r=void 0,this.lookahead.value){case\"let\":case\"const\":r=this.parseLexicalDeclaration({inFor:!1});break;case\"var\":case\"class\":case\"function\":r=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new a.ExportNamedDeclaration(r,[],null))}else if(this.matchAsyncFunction())r=this.parseFunctionDeclaration(),e=this.finalize(t,new a.ExportNamedDeclaration(r,[],null));else{var s=[],u=null,l=!1;for(this.expect(\"{\");!this.match(\"}\");)l=l||this.matchKeyword(\"default\"),s.push(this.parseExportSpecifier()),this.match(\"}\")||this.expect(\",\");this.expect(\"}\"),this.matchContextualKeyword(\"from\")?(this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon()):l?(n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause,this.throwError(n,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new a.ExportNamedDeclaration(null,s,u))}return e},e}();t.Parser=c},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(\"ASSERT: \"+t)}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var r=new Error(e);try{throw r}catch(e){Object.create&&Object.defineProperty&&(r=Object.create(e),Object.defineProperty(r,\"column\",{value:t}))}return r},e.prototype.createError=function(e,t,r,n){var i=\"Line \"+t+\": \"+n,o=this.constructError(i,r);return o.index=e,o.lineNumber=t,o.description=n,o},e.prototype.throwError=function(e,t,r,n){throw this.createError(e,t,r,n)},e.prototype.tolerateError=function(e,t,r,n){var i=this.createError(e,t,r,n);if(!this.tolerant)throw i;this.recordError(i)},e}();t.ErrorHandler=r},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Messages={BadGetterArity:\"Getter must not have any formal parameters\",BadSetterArity:\"Setter must have exactly one formal parameter\",BadSetterRestParameter:\"Setter function argument must not be a rest parameter\",ConstructorIsAsync:\"Class constructor may not be an async method\",ConstructorSpecialMethod:\"Class constructor may not be an accessor\",DeclarationMissingInitializer:\"Missing initializer in %0 declaration\",DefaultRestParameter:\"Unexpected token =\",DuplicateBinding:\"Duplicate binding %0\",DuplicateConstructor:\"A class may only have one constructor\",DuplicateProtoProperty:\"Duplicate __proto__ fields are not allowed in object literals\",ForInOfLoopInitializer:\"%0 loop variable declaration may not have an initializer\",GeneratorInLegacyContext:\"Generator declarations are not allowed in legacy contexts\",IllegalBreak:\"Illegal break statement\",IllegalContinue:\"Illegal continue statement\",IllegalExportDeclaration:\"Unexpected token\",IllegalImportDeclaration:\"Unexpected token\",IllegalLanguageModeDirective:\"Illegal 'use strict' directive in function with non-simple parameter list\",IllegalReturn:\"Illegal return statement\",InvalidEscapedReservedWord:\"Keyword must not contain escaped characters\",InvalidHexEscapeSequence:\"Invalid hexadecimal escape sequence\",InvalidLHSInAssignment:\"Invalid left-hand side in assignment\",InvalidLHSInForIn:\"Invalid left-hand side in for-in\",InvalidLHSInForLoop:\"Invalid left-hand side in for-loop\",InvalidModuleSpecifier:\"Unexpected token\",InvalidRegExp:\"Invalid regular expression\",LetInLexicalBinding:\"let is disallowed as a lexically bound name\",MissingFromClause:\"Unexpected token\",MultipleDefaultsInSwitch:\"More than one default clause in switch statement\",NewlineAfterThrow:\"Illegal newline after throw\",NoAsAfterImportNamespace:\"Unexpected token\",NoCatchOrFinally:\"Missing catch or finally after try\",ParameterAfterRestParameter:\"Rest parameter must be last formal parameter\",Redeclaration:\"%0 '%1' has already been declared\",StaticPrototype:\"Classes may not have static property named prototype\",StrictCatchVariable:\"Catch variable may not be eval or arguments in strict mode\",StrictDelete:\"Delete of an unqualified identifier in strict mode.\",StrictFunction:\"In strict mode code, functions can only be declared at top level or inside a block\",StrictFunctionName:\"Function name may not be eval or arguments in strict mode\",StrictLHSAssignment:\"Assignment to eval or arguments is not allowed in strict mode\",StrictLHSPostfix:\"Postfix increment/decrement may not have eval or arguments operand in strict mode\",StrictLHSPrefix:\"Prefix increment/decrement may not have eval or arguments operand in strict mode\",StrictModeWith:\"Strict mode code may not include a with statement\",StrictOctalLiteral:\"Octal literals are not allowed in strict mode.\",StrictParamDupe:\"Strict mode function may not have duplicate parameter names\",StrictParamName:\"Parameter name eval or arguments is not allowed in strict mode\",StrictReservedWord:\"Use of future reserved word in strict mode\",StrictVarName:\"Variable name may not be eval or arguments in strict mode\",TemplateOctalLiteral:\"Octal literals are not allowed in template strings.\",UnexpectedEOS:\"Unexpected end of input\",UnexpectedIdentifier:\"Unexpected identifier\",UnexpectedNumber:\"Unexpected number\",UnexpectedReserved:\"Unexpected reserved word\",UnexpectedString:\"Unexpected string\",UnexpectedTemplate:\"Unexpected quasi %0\",UnexpectedToken:\"Unexpected token %0\",UnexpectedTokenIllegal:\"Unexpected token ILLEGAL\",UnknownLabel:\"Undefined label '%0'\",UnterminatedRegExp:\"Invalid regular expression: missing /\"}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(9),i=r(4),o=r(11);function a(e){return\"0123456789abcdef\".indexOf(e.toLowerCase())}function s(e){return\"01234567\".indexOf(e)}var u=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,r,n=[];for(this.trackComment&&(n=[],t=this.index-e,r={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(o)){if(this.trackComment){r.end={line:this.lineNumber,column:this.index-this.lineStart-1};var a={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:r};n.push(a)}return 13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,n}}return this.trackComment&&(r.end={line:this.lineNumber,column:this.index-this.lineStart},a={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:r},n.push(a)),n},e.prototype.skipMultiLineComment=function(){var e,t,r=[];for(this.trackComment&&(r=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var n=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(n))13===n&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===n){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};r.push(o)}return r}++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},r.push(o)),this.tolerateUnexpectedToken(),r},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var r=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(r))++this.index;else if(i.Character.isLineTerminator(r))++this.index,13===r&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===r)if(47===(r=this.source.charCodeAt(this.index+1))){this.index+=2;var n=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(n)),t=!0}else{if(42!==r)break;this.index+=2,n=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(n))}else if(t&&45===r){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,n=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(n))}else{if(60!==r||this.isModule)break;if(\"!--\"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,n=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(n))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case\"enum\":case\"export\":case\"import\":case\"super\":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case\"implements\":case\"interface\":case\"package\":case\"private\":case\"protected\":case\"public\":case\"static\":case\"yield\":case\"let\":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return\"eval\"===e||\"arguments\"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return\"if\"===e||\"in\"===e||\"do\"===e;case 3:return\"var\"===e||\"for\"===e||\"new\"===e||\"try\"===e||\"let\"===e;case 4:return\"this\"===e||\"else\"===e||\"case\"===e||\"void\"===e||\"with\"===e||\"enum\"===e;case 5:return\"while\"===e||\"break\"===e||\"catch\"===e||\"throw\"===e||\"const\"===e||\"yield\"===e||\"class\"===e||\"super\"===e;case 6:return\"return\"===e||\"typeof\"===e||\"delete\"===e||\"switch\"===e||\"export\"===e||\"import\"===e;case 7:return\"default\"===e||\"finally\"===e||\"extends\"===e;case 8:return\"function\"===e||\"continue\"===e||\"debugger\"===e;case 10:return\"instanceof\"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var r=this.source.charCodeAt(e+1);r>=56320&&r<=57343&&(t=1024*(t-55296)+r-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t=\"u\"===e?4:2,r=0,n=0;n<t;++n){if(this.eof()||!i.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;r=16*r+a(this.source[this.index++])}return String.fromCharCode(r)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for(\"}\"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],i.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+a(e);return(t>1114111||\"}\"!==e)&&this.throwUnexpectedToken(),i.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!i.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),r=i.Character.fromCodePoint(t);for(this.index+=r.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,\"{\"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape(\"u\"))&&\"\\\\\"!==e&&i.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),r=e);!this.eof()&&(t=this.codePointAt(this.index),i.Character.isIdentifierPart(t));)r+=e=i.Character.fromCodePoint(t),this.index+=e.length,92===t&&(r=r.substr(0,r.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,\"{\"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape(\"u\"))&&\"\\\\\"!==e&&i.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),r+=e);return r},e.prototype.octalToDecimal=function(e){var t=\"0\"!==e,r=s(e);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,r=8*r+s(this.source[this.index++]),\"0123\".indexOf(e)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(r=8*r+s(this.source[this.index++]))),{code:r,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,r=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===r.length?3:this.isKeyword(r)?4:\"null\"===r?5:\"true\"===r||\"false\"===r?1:3)&&t+r.length!==this.index){var n=this.index;this.index=t,this.tolerateUnexpectedToken(o.Messages.InvalidEscapedReservedWord),this.index=n}return{type:e,value:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case\"(\":case\"{\":\"{\"===t&&this.curlyStack.push(\"{\"),++this.index;break;case\".\":++this.index,\".\"===this.source[this.index]&&\".\"===this.source[this.index+1]&&(this.index+=2,t=\"...\");break;case\"}\":++this.index,this.curlyStack.pop();break;case\")\":case\";\":case\",\":case\"[\":case\"]\":case\":\":case\"?\":case\"~\":++this.index;break;default:\">>>=\"===(t=this.source.substr(this.index,4))?this.index+=4:\"===\"===(t=t.substr(0,3))||\"!==\"===t||\">>>\"===t||\"<<=\"===t||\">>=\"===t||\"**=\"===t?this.index+=3:\"&&\"===(t=t.substr(0,2))||\"||\"===t||\"==\"===t||\"!=\"===t||\"+=\"===t||\"-=\"===t||\"*=\"===t||\"/=\"===t||\"++\"===t||\"--\"===t||\"<<\"===t||\">>\"===t||\"&=\"===t||\"|=\"===t||\"^=\"===t||\"%=\"===t||\"<=\"===t||\">=\"===t||\"=>\"===t||\"**\"===t?this.index+=2:(t=this.source[this.index],\"<>=!+-*%&|^/\".indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t=\"\";!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt(\"0x\"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,r=\"\";!this.eof()&&(\"0\"===(t=this.source[this.index])||\"1\"===t);)r+=this.source[this.index++];return 0===r.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(t)||i.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(r,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var r=\"\",n=!1;for(i.Character.isOctalDigit(e.charCodeAt(0))?(n=!0,r=\"0\"+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];return n||0!==r.length||this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(r,8),octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if(\"8\"===t||\"9\"===t)return!1;if(!i.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];n.assert(i.Character.isDecimalDigit(t.charCodeAt(0))||\".\"===t,\"Numeric literal must start with a decimal digit or a decimal point\");var r=\"\";if(\".\"!==t){if(r=this.source[this.index++],t=this.source[this.index],\"0\"===r){if(\"x\"===t||\"X\"===t)return++this.index,this.scanHexLiteral(e);if(\"b\"===t||\"B\"===t)return++this.index,this.scanBinaryLiteral(e);if(\"o\"===t||\"O\"===t)return this.scanOctalLiteral(t,e);if(t&&i.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];t=this.source[this.index]}if(\".\"===t){for(r+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];t=this.source[this.index]}if(\"e\"===t||\"E\"===t)if(r+=this.source[this.index++],\"+\"!==(t=this.source[this.index])&&\"-\"!==t||(r+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];n.assert(\"'\"===t||'\"'===t,\"String literal must starts with a quote\"),++this.index;for(var r=!1,a=\"\";!this.eof();){var s=this.source[this.index++];if(s===t){t=\"\";break}if(\"\\\\\"===s)if((s=this.source[this.index++])&&i.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,\"\\r\"===s&&\"\\n\"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(s){case\"u\":if(\"{\"===this.source[this.index])++this.index,a+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(s);null===u&&this.throwUnexpectedToken(),a+=u}break;case\"x\":var l=this.scanHexEscape(s);null===l&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),a+=l;break;case\"n\":a+=\"\\n\";break;case\"r\":a+=\"\\r\";break;case\"t\":a+=\"\\t\";break;case\"b\":a+=\"\\b\";break;case\"f\":a+=\"\\f\";break;case\"v\":a+=\"\\v\";break;case\"8\":case\"9\":a+=s,this.tolerateUnexpectedToken();break;default:if(s&&i.Character.isOctalDigit(s.charCodeAt(0))){var c=this.octalToDecimal(s);r=c.octal||r,a+=String.fromCharCode(c.code)}else a+=s}else{if(i.Character.isLineTerminator(s.charCodeAt(0)))break;a+=s}}return\"\"!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:a,octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e=\"\",t=!1,r=this.index,n=\"`\"===this.source[r],a=!1,s=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if(\"`\"===u){s=1,a=!0,t=!0;break}if(\"$\"===u){if(\"{\"===this.source[this.index]){this.curlyStack.push(\"${\"),++this.index,t=!0;break}e+=u}else if(\"\\\\\"===u)if(u=this.source[this.index++],i.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,\"\\r\"===u&&\"\\n\"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case\"n\":e+=\"\\n\";break;case\"r\":e+=\"\\r\";break;case\"t\":e+=\"\\t\";break;case\"u\":if(\"{\"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var l=this.index,c=this.scanHexEscape(u);null!==c?e+=c:(this.index=l,e+=u)}break;case\"x\":var h=this.scanHexEscape(u);null===h&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),e+=h;break;case\"b\":e+=\"\\b\";break;case\"f\":e+=\"\\f\";break;case\"v\":e+=\"\\v\";break;default:\"0\"===u?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral),e+=\"\\0\"):i.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral):e+=u}else i.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,\"\\r\"===u&&\"\\n\"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+=\"\\n\"):e+=u}return t||this.throwUnexpectedToken(),n||this.curlyStack.pop(),{type:10,value:this.source.slice(r+1,this.index-s),cooked:e,head:n,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:r,end:this.index}},e.prototype.testRegExp=function(e,t){var r=e,n=this;t.indexOf(\"u\")>=0&&(r=r.replace(/\\\\u\\{([0-9a-fA-F]+)\\}|\\\\u([a-fA-F0-9]{4})/g,(function(e,t,r){var i=parseInt(t||r,16);return i>1114111&&n.throwUnexpectedToken(o.Messages.InvalidRegExp),i<=65535?String.fromCharCode(i):\"\"})).replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\"\"));try{RegExp(r)}catch(e){this.throwUnexpectedToken(o.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];n.assert(\"/\"===e,\"Regular expression literal must start with a slash\");for(var t=this.source[this.index++],r=!1,a=!1;!this.eof();)if(t+=e=this.source[this.index++],\"\\\\\"===e)e=this.source[this.index++],i.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t+=e;else if(i.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(o.Messages.UnterminatedRegExp);else if(r)\"]\"===e&&(r=!1);else{if(\"/\"===e){a=!0;break}\"[\"===e&&(r=!0)}return a||this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e=\"\";!this.eof();){var t=this.source[this.index];if(!i.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,\"\\\\\"!==t||this.eof())e+=t;else if(\"u\"===(t=this.source[this.index])){++this.index;var r=this.index,n=this.scanHexEscape(\"u\");if(null!==n)for(e+=n;r<this.index;++r)this.source[r];else this.index=r,e+=\"u\";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),r=this.scanRegExpFlags();return{type:9,value:\"\",pattern:t,flags:r,regex:this.testRegExp(t,r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:\"\",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&\"${\"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=u},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.TokenName={},t.TokenName[1]=\"Boolean\",t.TokenName[2]=\"<end>\",t.TokenName[3]=\"Identifier\",t.TokenName[4]=\"Keyword\",t.TokenName[5]=\"Null\",t.TokenName[6]=\"Numeric\",t.TokenName[7]=\"Punctuator\",t.TokenName[8]=\"String\",t.TokenName[9]=\"RegularExpression\",t.TokenName[10]=\"Template\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XHTMLEntities={quot:'\"',amp:\"&\",apos:\"'\",gt:\">\",nbsp:\"\",iexcl:\"\",cent:\"\",pound:\"\",curren:\"\",yen:\"\",brvbar:\"\",sect:\"\",uml:\"\",copy:\"\",ordf:\"\",laquo:\"\",not:\"\",shy:\"\",reg:\"\",macr:\"\",deg:\"\",plusmn:\"\",sup2:\"\",sup3:\"\",acute:\"\",micro:\"\",para:\"\",middot:\"\",cedil:\"\",sup1:\"\",ordm:\"\",raquo:\"\",frac14:\"\",frac12:\"\",frac34:\"\",iquest:\"\",Agrave:\"\",Aacute:\"\",Acirc:\"\",Atilde:\"\",Auml:\"\",Aring:\"\",AElig:\"\",Ccedil:\"\",Egrave:\"\",Eacute:\"\",Ecirc:\"\",Euml:\"\",Igrave:\"\",Iacute:\"\",Icirc:\"\",Iuml:\"\",ETH:\"\",Ntilde:\"\",Ograve:\"\",Oacute:\"\",Ocirc:\"\",Otilde:\"\",Ouml:\"\",times:\"\",Oslash:\"\",Ugrave:\"\",Uacute:\"\",Ucirc:\"\",Uuml:\"\",Yacute:\"\",THORN:\"\",szlig:\"\",agrave:\"\",aacute:\"\",acirc:\"\",atilde:\"\",auml:\"\",aring:\"\",aelig:\"\",ccedil:\"\",egrave:\"\",eacute:\"\",ecirc:\"\",euml:\"\",igrave:\"\",iacute:\"\",icirc:\"\",iuml:\"\",eth:\"\",ntilde:\"\",ograve:\"\",oacute:\"\",ocirc:\"\",otilde:\"\",ouml:\"\",divide:\"\",oslash:\"\",ugrave:\"\",uacute:\"\",ucirc:\"\",uuml:\"\",yacute:\"\",thorn:\"\",yuml:\"\",OElig:\"\",oelig:\"\",Scaron:\"\",scaron:\"\",Yuml:\"\",fnof:\"\",circ:\"\",tilde:\"\",Alpha:\"\",Beta:\"\",Gamma:\"\",Delta:\"\",Epsilon:\"\",Zeta:\"\",Eta:\"\",Theta:\"\",Iota:\"\",Kappa:\"\",Lambda:\"\",Mu:\"\",Nu:\"\",Xi:\"\",Omicron:\"\",Pi:\"\",Rho:\"\",Sigma:\"\",Tau:\"\",Upsilon:\"\",Phi:\"\",Chi:\"\",Psi:\"\",Omega:\"\",alpha:\"\",beta:\"\",gamma:\"\",delta:\"\",epsilon:\"\",zeta:\"\",eta:\"\",theta:\"\",iota:\"\",kappa:\"\",lambda:\"\",mu:\"\",nu:\"\",xi:\"\",omicron:\"\",pi:\"\",rho:\"\",sigmaf:\"\",sigma:\"\",tau:\"\",upsilon:\"\",phi:\"\",chi:\"\",psi:\"\",omega:\"\",thetasym:\"\",upsih:\"\",piv:\"\",ensp:\"\",emsp:\"\",thinsp:\"\",zwnj:\"\",zwj:\"\",lrm:\"\",rlm:\"\",ndash:\"\",mdash:\"\",lsquo:\"\",rsquo:\"\",sbquo:\"\",ldquo:\"\",rdquo:\"\",bdquo:\"\",dagger:\"\",Dagger:\"\",bull:\"\",hellip:\"\",permil:\"\",prime:\"\",Prime:\"\",lsaquo:\"\",rsaquo:\"\",oline:\"\",frasl:\"\",euro:\"\",image:\"\",weierp:\"\",real:\"\",trade:\"\",alefsym:\"\",larr:\"\",uarr:\"\",rarr:\"\",darr:\"\",harr:\"\",crarr:\"\",lArr:\"\",uArr:\"\",rArr:\"\",dArr:\"\",hArr:\"\",forall:\"\",part:\"\",exist:\"\",empty:\"\",nabla:\"\",isin:\"\",notin:\"\",ni:\"\",prod:\"\",sum:\"\",minus:\"\",lowast:\"\",radic:\"\",prop:\"\",infin:\"\",ang:\"\",and:\"\",or:\"\",cap:\"\",cup:\"\",int:\"\",there4:\"\",sim:\"\",cong:\"\",asymp:\"\",ne:\"\",equiv:\"\",le:\"\",ge:\"\",sub:\"\",sup:\"\",nsub:\"\",sube:\"\",supe:\"\",oplus:\"\",otimes:\"\",perp:\"\",sdot:\"\",lceil:\"\",rceil:\"\",lfloor:\"\",rfloor:\"\",loz:\"\",spades:\"\",clubs:\"\",hearts:\"\",diams:\"\",lang:\"\",rang:\"\"}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(10),i=r(12),o=r(13),a=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return[\"(\",\"{\",\"[\",\"in\",\"typeof\",\"instanceof\",\"new\",\"return\",\"case\",\"delete\",\"throw\",\"void\",\"=\",\"+=\",\"-=\",\"*=\",\"**=\",\"/=\",\"%=\",\"<<=\",\">>=\",\">>>=\",\"&=\",\"|=\",\"^=\",\",\",\"+\",\"-\",\"*\",\"**\",\"/\",\"%\",\"++\",\"--\",\"<<\",\">>\",\">>>\",\"&\",\"|\",\"^\",\"!\",\"~\",\"&&\",\"||\",\"?\",\":\",\"===\",\"==\",\">=\",\"<=\",\"<\",\">\",\"!=\",\"!==\"].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case\"this\":case\"]\":t=!1;break;case\")\":var r=this.values[this.paren-1];t=\"if\"===r||\"while\"===r||\"for\"===r||\"with\"===r;break;case\"}\":if(t=!1,\"function\"===this.values[this.curly-3])t=!!(n=this.values[this.curly-4])&&!this.beforeFunctionExpression(n);else if(\"function\"===this.values[this.curly-4]){var n;t=!(n=this.values[this.curly-5])||!this.beforeFunctionExpression(n)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?(\"{\"===e.value?this.curly=this.values.length:\"(\"===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),s=function(){function e(e,t){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=!!t&&\"boolean\"==typeof t.tolerant&&t.tolerant,this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&\"boolean\"==typeof t.comment&&t.comment,this.trackRange=!!t&&\"boolean\"==typeof t.range&&t.range,this.trackLoc=!!t&&\"boolean\"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new a}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var r=e[t],n=this.scanner.source.slice(r.slice[0],r.slice[1]),i={type:r.multiLine?\"BlockComment\":\"LineComment\",value:n};this.trackRange&&(i.range=r.range),this.trackLoc&&(i.loc=r.loc),this.buffer.push(i)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s=\"/\"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(s);var u={type:o.TokenName[s.type],value:this.scanner.source.slice(s.start,s.end)};if(this.trackRange&&(u.range=[s.start,s.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),9===s.type){var l=s.pattern,c=s.flags;u.regex={pattern:l,flags:c}}this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=s}])},e.exports=n()},function(e,t,r){\"use strict\";var n=r(38),i=r(53),o=r(76),a=r(54),s=Object.prototype.toString,u=Object.prototype.hasOwnProperty,l={0:\"\\\\0\",7:\"\\\\a\",8:\"\\\\b\",9:\"\\\\t\",10:\"\\\\n\",11:\"\\\\v\",12:\"\\\\f\",13:\"\\\\r\",27:\"\\\\e\",34:'\\\\\"',92:\"\\\\\\\\\",133:\"\\\\N\",160:\"\\\\_\",8232:\"\\\\L\",8233:\"\\\\P\"},c=[\"y\",\"Y\",\"yes\",\"Yes\",\"YES\",\"on\",\"On\",\"ON\",\"n\",\"N\",\"no\",\"No\",\"NO\",\"off\",\"Off\",\"OFF\"];function h(e){var t,r,o;if(t=e.toString(16).toUpperCase(),e<=255)r=\"x\",o=2;else if(e<=65535)r=\"u\",o=4;else{if(!(e<=4294967295))throw new i(\"code point within a string may not be greater than 0xFFFFFFFF\");r=\"U\",o=8}return\"\\\\\"+r+n.repeat(\"0\",o-t.length)+t}function p(e){this.schema=e.schema||o,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,i,o,a,s,l;if(null===t)return{};for(r={},i=0,o=(n=Object.keys(t)).length;i<o;i+=1)a=n[i],s=String(t[a]),\"!!\"===a.slice(0,2)&&(a=\"tag:yaml.org,2002:\"+a.slice(2)),(l=e.compiledTypeMap.fallback[a])&&u.call(l.styleAliases,s)&&(s=l.styleAliases[s]),r[a]=s;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result=\"\",this.duplicates=[],this.usedDuplicates=null}function f(e,t){for(var r,i=n.repeat(\" \",t),o=0,a=-1,s=\"\",u=e.length;o<u;)-1===(a=e.indexOf(\"\\n\",o))?(r=e.slice(o),o=u):(r=e.slice(o,a+1),o=a+1),r.length&&\"\\n\"!==r&&(s+=i),s+=r;return s}function d(e,t){return\"\\n\"+n.repeat(\" \",e.indent*t)}function m(e){return 32===e||9===e}function y(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function v(e,t){return y(e)&&65279!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&58!==e&&(35!==e||t&&function(e){return y(e)&&!m(e)&&65279!==e&&13!==e&&10!==e}(t))}function _(e){return/^\\n* /.test(e)}function g(e,t,r,n,i){var o,a,s,u,l=!1,c=!1,h=-1!==n,p=-1,f=y(u=e.charCodeAt(0))&&65279!==u&&!m(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&!m(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!y(a=e.charCodeAt(o)))return 5;s=o>0?e.charCodeAt(o-1):null,f=f&&v(a,s)}else{for(o=0;o<e.length;o++){if(10===(a=e.charCodeAt(o)))l=!0,h&&(c=c||o-p-1>n&&\" \"!==e[p+1],p=o);else if(!y(a))return 5;s=o>0?e.charCodeAt(o-1):null,f=f&&v(a,s)}c=c||h&&o-p-1>n&&\" \"!==e[p+1]}return l||c?r>9&&_(e)?5:c?4:3:f&&!i(e)?1:2}function b(e,t,r,n){e.dump=function(){if(0===t.length)return\"''\";if(!e.noCompatMode&&-1!==c.indexOf(t))return\"'\"+t+\"'\";var o=e.indent*Math.max(1,r),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),s=n||e.flowLevel>-1&&r>=e.flowLevel;switch(g(t,s,e.indent,a,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}))){case 1:return t;case 2:return\"'\"+t.replace(/'/g,\"''\")+\"'\";case 3:return\"|\"+x(t,e.indent)+w(f(t,o));case 4:return\">\"+x(t,e.indent)+w(f(function(e,t){var r,n,i=/(\\n+)([^\\n]*)/g,o=(s=e.indexOf(\"\\n\"),s=-1!==s?s:e.length,i.lastIndex=s,E(e.slice(0,s),t)),a=\"\\n\"===e[0]||\" \"===e[0];var s;for(;n=i.exec(e);){var u=n[1],l=n[2];r=\" \"===l[0],o+=u+(a||r||\"\"===l?\"\":\"\\n\")+E(l,t),a=r}return o}(t,a),o));case 5:return'\"'+function(e){for(var t,r,n,i=\"\",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=55296&&t<=56319&&(r=e.charCodeAt(o+1))>=56320&&r<=57343?(i+=h(1024*(t-55296)+r-56320+65536),o++):(n=l[t],i+=!n&&y(t)?e[o]:n||h(t));return i}(t)+'\"';default:throw new i(\"impossible error: invalid scalar style\")}}()}function x(e,t){var r=_(e)?String(t):\"\",n=\"\\n\"===e[e.length-1];return r+(n&&(\"\\n\"===e[e.length-2]||\"\\n\"===e)?\"+\":n?\"\":\"-\")+\"\\n\"}function w(e){return\"\\n\"===e[e.length-1]?e.slice(0,-1):e}function E(e,t){if(\"\"===e||\" \"===e[0])return e;for(var r,n,i=/ [^ ]/g,o=0,a=0,s=0,u=\"\";r=i.exec(e);)(s=r.index)-o>t&&(n=a>o?a:s,u+=\"\\n\"+e.slice(o,n),o=n+1),a=s;return u+=\"\\n\",e.length-o>t&&a>o?u+=e.slice(o,a)+\"\\n\"+e.slice(a+1):u+=e.slice(o),u.slice(1)}function D(e,t,r){var n,o,a,l,c,h;for(a=0,l=(o=r?e.explicitTypes:e.implicitTypes).length;a<l;a+=1)if(((c=o[a]).instanceOf||c.predicate)&&(!c.instanceOf||\"object\"==typeof t&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(e.tag=r?c.tag:\"?\",c.represent){if(h=e.styleMap[c.tag]||c.defaultStyle,\"[object Function]\"===s.call(c.represent))n=c.represent(t,h);else{if(!u.call(c.represent,h))throw new i(\"!<\"+c.tag+'> tag resolver accepts not \"'+h+'\" style');n=c.represent[h](t,h)}e.dump=n}return!0}return!1}function S(e,t,r,n,o,a){e.tag=null,e.dump=r,D(e,r,!1)||D(e,r,!0);var u=s.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var l,c,h=\"[object Object]\"===u||\"[object Array]\"===u;if(h&&(c=-1!==(l=e.duplicates.indexOf(r))),(null!==e.tag&&\"?\"!==e.tag||c||2!==e.indent&&t>0)&&(o=!1),c&&e.usedDuplicates[l])e.dump=\"*ref_\"+l;else{if(h&&c&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),\"[object Object]\"===u)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var o,a,s,u,l,c,h=\"\",p=e.tag,f=Object.keys(r);if(!0===e.sortKeys)f.sort();else if(\"function\"==typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new i(\"sortKeys must be a boolean or a function\");for(o=0,a=f.length;o<a;o+=1)c=\"\",n&&0===o||(c+=d(e,t)),u=r[s=f[o]],S(e,t+1,s,!0,!0,!0)&&((l=null!==e.tag&&\"?\"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?c+=\"?\":c+=\"? \"),c+=e.dump,l&&(c+=d(e,t)),S(e,t+1,u,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?c+=\":\":c+=\": \",h+=c+=e.dump));e.tag=p,e.dump=h||\"{}\"}(e,t,e.dump,o),c&&(e.dump=\"&ref_\"+l+e.dump)):(!function(e,t,r){var n,i,o,a,s,u=\"\",l=e.tag,c=Object.keys(r);for(n=0,i=c.length;n<i;n+=1)s=\"\",0!==n&&(s+=\", \"),e.condenseFlow&&(s+='\"'),a=r[o=c[n]],S(e,t,o,!1,!1)&&(e.dump.length>1024&&(s+=\"? \"),s+=e.dump+(e.condenseFlow?'\"':\"\")+\":\"+(e.condenseFlow?\"\":\" \"),S(e,t,a,!1,!1)&&(u+=s+=e.dump));e.tag=l,e.dump=\"{\"+u+\"}\"}(e,t,e.dump),c&&(e.dump=\"&ref_\"+l+\" \"+e.dump));else if(\"[object Array]\"===u){var p=e.noArrayIndent&&t>0?t-1:t;n&&0!==e.dump.length?(!function(e,t,r,n){var i,o,a=\"\",s=e.tag;for(i=0,o=r.length;i<o;i+=1)S(e,t+1,r[i],!0,!0)&&(n&&0===i||(a+=d(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+=\"-\":a+=\"- \",a+=e.dump);e.tag=s,e.dump=a||\"[]\"}(e,p,e.dump,o),c&&(e.dump=\"&ref_\"+l+e.dump)):(!function(e,t,r){var n,i,o=\"\",a=e.tag;for(n=0,i=r.length;n<i;n+=1)S(e,t,r[n],!1,!1)&&(0!==n&&(o+=\",\"+(e.condenseFlow?\"\":\" \")),o+=e.dump);e.tag=a,e.dump=\"[\"+o+\"]\"}(e,p,e.dump),c&&(e.dump=\"&ref_\"+l+\" \"+e.dump))}else{if(\"[object String]\"!==u){if(e.skipInvalid)return!1;throw new i(\"unacceptable kind of an object to dump \"+u)}\"?\"!==e.tag&&b(e,e.dump,t,a)}null!==e.tag&&\"?\"!==e.tag&&(e.dump=\"!<\"+e.tag+\"> \"+e.dump)}return!0}function C(e,t){var r,n,i=[],o=[];for(function e(t,r,n){var i,o,a;if(null!==t&&\"object\"==typeof t)if(-1!==(o=r.indexOf(t)))-1===n.indexOf(o)&&n.push(o);else if(r.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)e(t[o],r,n);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)e(t[i[o]],r,n)}(e,i,o),r=0,n=o.length;r<n;r+=1)t.duplicates.push(i[o[r]]);t.usedDuplicates=new Array(n)}function A(e,t){var r=new p(t=t||{});return r.noRefs||C(e,r),S(r,0,e,!0,!0)?r.dump+\"\\n\":\"\"}e.exports.dump=A,e.exports.safeDump=function(e,t){return A(e,n.extend({schema:a},t))}},function(e,t,r){\"use strict\";r(31),r(32),r(33),r(64),r(19),r(65),r(20),r(68),r(92),r(144),r(22),r(94),r(23);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},a=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(91),u=r(1),l=r(183),c=r(0),h=r(7),p=r(95),f=r(69),d=r(3),m=r(305),y=r(306),v=r(307),_=function(e){function t(t,r){void 0===r&&(r=!1);var n=e.call(this)||this;return n._hasDeclaration=!1,n._docTypeName=\"\",n._hasDocumentElement=!1,n._currentElementSerialized=!1,n._openTags=[],n._ended=!1,n._fragment=r,n._options=u.applyDefaults(t||{},s.DefaultXMLBuilderCBOptions),n._builderOptions={defaultNamespace:n._options.defaultNamespace,namespaceAlias:n._options.namespaceAlias},\"json\"===n._options.format?n._writer=new y.JSONCBWriter(n._options):\"yaml\"===n._options.format?n._writer=new v.YAMLCBWriter(n._options):n._writer=new m.XMLCBWriter(n._options),void 0!==n._options.data&&n.on(\"data\",n._options.data),void 0!==n._options.end&&n.on(\"end\",n._options.end),void 0!==n._options.error&&n.on(\"error\",n._options.error),n._prefixMap=new p.NamespacePrefixMap,n._prefixMap.set(\"xml\",h.namespace.XML),n._prefixIndex={value:1},n._push(n._writer.frontMatter()),n}return i(t,e),t.prototype.ele=function(e,t,r){var n,i;if(u.isObject(e)||u.isString(e)&&(/^\\s*</.test(e)||/^\\s*[\\{\\[]/.test(e)||/^(\\s*|(#.*)|(%.*))*---/.test(e))){var a=l.fragment().set(this._options);try{a.ele(e)}catch(e){return this.emit(\"error\",e),this}try{for(var s=o(a.node.childNodes),c=s.next();!c.done;c=s.next()){var h=c.value;this._fromNode(h)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&0===this._writer.level)return this.emit(\"error\",new Error(\"Document cannot have multiple document element nodes.\")),this;try{this._currentElement=l.fragment(this._builderOptions).ele(e,t,r)}catch(e){return this.emit(\"error\",e),this}return this._fragment||this._hasDocumentElement||\"\"===this._docTypeName||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit(\"error\",new Error(\"Document element name does not match DocType declaration name.\")),this)},t.prototype.att=function(e,t,r){if(void 0===this._currentElement)return this.emit(\"error\",new Error(\"Cannot insert an attribute node as child of a document node.\")),this;try{this._currentElement.att(e,t,r)}catch(e){return this.emit(\"error\",e),this}return this},t.prototype.com=function(e){var t;this._serializeOpenTag(!0);try{t=l.fragment(this._builderOptions).com(e).first().node}catch(e){return this.emit(\"error\",e),this}return!this._options.wellFormed||c.xml_isLegalChar(t.data)&&-1===t.data.indexOf(\"--\")&&!t.data.endsWith(\"-\")?(this._push(this._writer.comment(t.data)),this):(this.emit(\"error\",new Error(\"Comment data contains invalid characters (well-formed required).\")),this)},t.prototype.txt=function(e){if(!this._fragment&&void 0===this._currentElement)return this.emit(\"error\",new Error(\"Cannot insert a text node as child of a document node.\")),this;var t;this._serializeOpenTag(!0);try{t=l.fragment(this._builderOptions).txt(e).first().node}catch(e){return this.emit(\"error\",e),this}if(this._options.wellFormed&&!c.xml_isLegalChar(t.data))return this.emit(\"error\",new Error(\"Text data contains invalid characters (well-formed required).\")),this;var r=t.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");return this._push(this._writer.text(r)),this},t.prototype.ins=function(e,t){var r;void 0===t&&(t=\"\"),this._serializeOpenTag(!0);try{r=l.fragment(this._builderOptions).ins(e,t).first().node}catch(e){return this.emit(\"error\",e),this}return this._options.wellFormed&&(-1!==r.target.indexOf(\":\")||/^xml$/i.test(r.target))?(this.emit(\"error\",new Error(\"Processing instruction target contains invalid characters (well-formed required).\")),this):this._options.wellFormed&&!c.xml_isLegalChar(r.data)?(this.emit(\"error\",Error(\"Processing instruction data contains invalid characters (well-formed required).\")),this):(this._push(this._writer.instruction(r.target,r.data)),this)},t.prototype.dat=function(e){var t;this._serializeOpenTag(!0);try{t=l.fragment(this._builderOptions).dat(e).first().node}catch(e){return this.emit(\"error\",e),this}return this._push(this._writer.cdata(t.data)),this},t.prototype.dec=function(e){return void 0===e&&(e={version:\"1.0\"}),this._fragment?(this.emit(\"error\",Error(\"Cannot insert an XML declaration into a document fragment.\")),this):this._hasDeclaration?(this.emit(\"error\",Error(\"XML declaration is already inserted.\")),this):(this._push(this._writer.declaration(e.version||\"1.0\",e.encoding,e.standalone)),this._hasDeclaration=!0,this)},t.prototype.dtd=function(e){if(this._fragment)return this.emit(\"error\",Error(\"Cannot insert a DocType declaration into a document fragment.\")),this;if(\"\"!==this._docTypeName)return this.emit(\"error\",new Error(\"DocType declaration is already inserted.\")),this;if(this._hasDocumentElement)return this.emit(\"error\",new Error(\"Cannot insert DocType declaration after document element.\")),this;var t;try{t=l.create().dtd(e).first().node}catch(e){return this.emit(\"error\",e),this}return this._options.wellFormed&&!c.xml_isPubidChar(t.publicId)?(this.emit(\"error\",new Error(\"DocType public identifier does not match PubidChar construct (well-formed required).\")),this):this._options.wellFormed&&(!c.xml_isLegalChar(t.systemId)||-1!==t.systemId.indexOf('\"')&&-1!==t.systemId.indexOf(\"'\"))?(this.emit(\"error\",new Error(\"DocType system identifier contains invalid characters (well-formed required).\")),this):(this._docTypeName=e.name,this._push(this._writer.docType(e.name,t.publicId,t.systemId)),this)},t.prototype.import=function(e){var t,r,n=l.fragment().set(this._options);try{n.import(e)}catch(e){return this.emit(\"error\",e),this}try{for(var i=o(n.node.childNodes),a=i.next();!a.done;a=i.next()){var s=a.value;this._fromNode(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return this},t.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},t.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},t.prototype._serializeOpenTag=function(e){if(!this._currentElementSerialized&&void 0!==this._currentElement){var r=this._currentElement.node;if(!this._options.wellFormed||-1===r.localName.indexOf(\":\")&&c.xml_isName(r.localName)){var n=\"\",i=!1,o=this._prefixMap.copy(),a={},s=this._recordNamespaceInformation(r,o,a),u=0===this._openTags.length?null:this._openTags[this._openTags.length-1][1],l=r.namespaceURI;if(null===l&&(l=u),u===l)null!==s&&(i=!0),n=l===h.namespace.XML?\"xml:\"+r.localName:r.localName,this._writer.beginElement(n),this._push(this._writer.openTagBegin(n));else{var p=r.prefix,f=null;if(null===p&&l===s||(f=o.get(p,l)),\"xmlns\"===p){if(this._options.wellFormed)return void this.emit(\"error\",new Error(\"An element cannot have the 'xmlns' prefix (well-formed required).\"));f=p}null!==f?(n=f+\":\"+r.localName,null!==s&&s!==h.namespace.XML&&(u=s||null),this._writer.beginElement(n),this._push(this._writer.openTagBegin(n))):null!==p?(p in a&&(p=this._generatePrefix(l,o,this._prefixIndex)),o.set(p,l),n+=p+\":\"+r.localName,this._writer.beginElement(n),this._push(this._writer.openTagBegin(n)),this._push(this._writer.attribute(\"xmlns:\"+p,this._serializeAttributeValue(l,this._options.wellFormed))),null!==s&&(u=s||null)):null===s||null!==s&&s!==l?(i=!0,n+=r.localName,u=l,this._writer.beginElement(n),this._push(this._writer.openTagBegin(n)),this._push(this._writer.attribute(\"xmlns\",this._serializeAttributeValue(l,this._options.wellFormed)))):(n+=r.localName,u=l,this._writer.beginElement(n),this._push(this._writer.openTagBegin(n)))}this._serializeAttributes(r,o,this._prefixIndex,a,i,this._options.wellFormed);var d=l===h.namespace.HTML;d&&!e&&t._VoidElementNames.has(r.localName)?(this._push(this._writer.openTagEnd(n,!0,!0)),this._writer.endElement(n)):d||e?this._push(this._writer.openTagEnd(n,!1,!1)):(this._push(this._writer.openTagEnd(n,!0,!1)),this._writer.endElement(n)),this._currentElementSerialized=!0,this._openTags.push([n,u,this._prefixMap,e]),this._isPrefixMapModified(this._prefixMap,o)&&(this._prefixMap=o),this._writer.level++}else this.emit(\"error\",new Error(\"Node local name contains invalid characters (well-formed required).\"))}},t.prototype._serializeCloseTag=function(){this._writer.level--;var e=this._openTags.pop();if(void 0!==e){var t=a(e,4),r=t[0],n=(t[1],t[2]),i=t[3];this._prefixMap=n,i&&(this._push(this._writer.closeTag(r)),this._writer.endElement(r))}else this.emit(\"error\",new Error(\"Last element is undefined.\"))},t.prototype._push=function(e){null===e?(this._ended=!0,this.emit(\"end\")):this._ended?this.emit(\"error\",new Error(\"Cannot push to ended stream.\")):0!==e.length&&(this._writer.hasData=!0,this.emit(\"data\",e,this._writer.level))},t.prototype._fromNode=function(e){var t,r,n,i;if(d.Guard.isElementNode(e)){var a=e.prefix?e.prefix+\":\"+e.localName:e.localName;null!==e.namespaceURI?this.ele(e.namespaceURI,a):this.ele(a);try{for(var s=o(e.attributes),u=s.next();!u.done;u=s.next()){var l=u.value,c=l.prefix?l.prefix+\":\"+l.localName:l.localName;null!==l.namespaceURI?this.att(l.namespaceURI,c,l.value):this.att(c,l.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var h=o(e.childNodes),p=h.next();!p.done;p=h.next()){var f=p.value;this._fromNode(f)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}this.up()}else d.Guard.isExclusiveTextNode(e)&&e.data?this.txt(e.data):d.Guard.isCommentNode(e)?this.com(e.data):d.Guard.isCDATASectionNode(e)?this.dat(e.data):d.Guard.isProcessingInstructionNode(e)&&this.ins(e.target,e.data)},t.prototype._serializeAttributes=function(e,t,r,n,i,a){var s,u,l=a?new f.LocalNameSet:void 0;try{for(var p=o(e.attributes),d=p.next();!d.done;d=p.next()){var m=d.value;if(a||i||null!==m.namespaceURI){if(a&&l&&l.has(m.namespaceURI,m.localName))return void this.emit(\"error\",new Error(\"Element contains duplicate attributes (well-formed required).\"));a&&l&&l.set(m.namespaceURI,m.localName);var y=m.namespaceURI,v=null;if(null!==y)if(v=t.get(m.prefix,y),y===h.namespace.XMLNS){if(m.value===h.namespace.XML||null===m.prefix&&i||null!==m.prefix&&(!(m.localName in n)||n[m.localName]!==m.value)&&t.has(m.localName,m.value))continue;if(a&&m.value===h.namespace.XMLNS)return void this.emit(\"error\",new Error(\"XMLNS namespace is reserved (well-formed required).\"));if(a&&\"\"===m.value)return void this.emit(\"error\",new Error(\"Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).\"));\"xmlns\"===m.prefix&&(v=\"xmlns\")}else null===v&&(v=null===m.prefix||t.hasPrefix(m.prefix)&&!t.has(m.prefix,y)?this._generatePrefix(y,t,r):m.prefix,this._push(this._writer.attribute(\"xmlns:\"+v,this._serializeAttributeValue(y,this._options.wellFormed))));if(a&&(-1!==m.localName.indexOf(\":\")||!c.xml_isName(m.localName)||\"xmlns\"===m.localName&&null===y))return void this.emit(\"error\",new Error(\"Attribute local name contains invalid characters (well-formed required).\"));this._push(this._writer.attribute((null!==v?v+\":\":\"\")+m.localName,this._serializeAttributeValue(m.value,this._options.wellFormed)))}else this._push(this._writer.attribute(m.localName,this._serializeAttributeValue(m.value,this._options.wellFormed)))}}catch(e){s={error:e}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}},t.prototype._serializeAttributeValue=function(e,t){return t&&null!==e&&!c.xml_isLegalChar(e)?(this.emit(\"error\",new Error(\"Invalid characters in attribute value.\")),\"\"):null===e?\"\":e.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")},t.prototype._recordNamespaceInformation=function(e,t,r){var n,i,a=null;try{for(var s=o(e.attributes),u=s.next();!u.done;u=s.next()){var l=u.value,c=l.namespaceURI,p=l.prefix;if(c===h.namespace.XMLNS){if(null===p){a=l.value;continue}var f=l.localName,d=l.value;if(d===h.namespace.XML)continue;if(\"\"===d&&(d=null),t.has(f,d))continue;t.set(f,d),r[f]=d||\"\"}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a},t.prototype._generatePrefix=function(e,t,r){var n=\"ns\"+r.value;return r.value++,t.set(n,e),n},t.prototype._isPrefixMapModified=function(e,t){var r=e._items,n=t._items,i=e._nullItems,o=t._nullItems;for(var a in n){var s=r[a];if(void 0===s)return!0;var u=n[a];if(s.length!==u.length)return!0;for(var l=0;l<s.length;l++)if(s[l]!==u[l])return!0}if(i.length!==o.length)return!0;for(l=0;l<i.length;l++)if(i[l]!==o[l])return!0;return!1},t._VoidElementNames=new Set([\"area\",\"base\",\"basefont\",\"bgsound\",\"br\",\"col\",\"embed\",\"frame\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"]),t}(r(308).EventEmitter);t.XMLBuilderCBImpl=_},function(e,t,r){\"use strict\";r(74);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t){var r=e.call(this,t)||this;return r._lineLength=0,r}return i(t,e),t.prototype.frontMatter=function(){return\"\"},t.prototype.declaration=function(e,t,r){var n=this._beginLine()+\"<?xml\";return n+=' version=\"'+e+'\"',void 0!==t&&(n+=' encoding=\"'+t+'\"'),void 0!==r&&(n+=' standalone=\"'+(r?\"yes\":\"no\")+'\"'),n+=\"?>\"},t.prototype.docType=function(e,t,r){var n=this._beginLine();return n+=t&&r?\"<!DOCTYPE \"+e+' PUBLIC \"'+t+'\" \"'+r+'\">':t?\"<!DOCTYPE \"+e+' PUBLIC \"'+t+'\">':r?\"<!DOCTYPE \"+e+' SYSTEM \"'+r+'\">':\"<!DOCTYPE \"+e+\">\"},t.prototype.comment=function(e){return this._beginLine()+\"\\x3c!--\"+e+\"--\\x3e\"},t.prototype.text=function(e){return this._beginLine()+e},t.prototype.instruction=function(e,t){return t?this._beginLine()+\"<?\"+e+\" \"+t+\"?>\":this._beginLine()+\"<?\"+e+\"?>\"},t.prototype.cdata=function(e){return this._beginLine()+\"<![CDATA[\"+e+\"]]>\"},t.prototype.openTagBegin=function(e){return this._lineLength+=1+e.length,this._beginLine()+\"<\"+e},t.prototype.openTagEnd=function(e,t,r){return r?\" />\":t?this._writerOptions.allowEmptyTags?\"></\"+e+\">\":this._writerOptions.spaceBeforeSlash?\" />\":\"/>\":\">\"},t.prototype.closeTag=function(e){return this._beginLine()+\"</\"+e+\">\"},t.prototype.attribute=function(e,t){var r=e+'=\"'+t+'\"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+r.length>this._writerOptions.width?(r=this._beginLine()+this._indent(1)+r,this._lineLength=r.length,r):(this._lineLength+=1+r.length,\" \"+r)},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){},t.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var e=(this.hasData?this._writerOptions.newline:\"\")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=e.length,e}return\"\"},t.prototype._indent=function(e){return e<=0?\"\":this._writerOptions.indent.repeat(e)},t}(r(114).BaseCBWriter);t.XMLCBWriter=o},function(e,t,r){\"use strict\";r(74);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t){var r=e.call(this,t)||this;return r._hasChildren=[],r._additionalLevel=0,r}return i(t,e),t.prototype.frontMatter=function(){return\"\"},t.prototype.declaration=function(e,t,r){return\"\"},t.prototype.docType=function(e,t,r){return\"\"},t.prototype.comment=function(e){return this._comma()+this._beginLine()+\"{\"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(e)+this._sep()+\"}\"},t.prototype.text=function(e){return this._comma()+this._beginLine()+\"{\"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(e)+this._sep()+\"}\"},t.prototype.instruction=function(e,t){return this._comma()+this._beginLine()+\"{\"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(t?e+\" \"+t:e)+this._sep()+\"}\"},t.prototype.cdata=function(e){return this._comma()+this._beginLine()+\"{\"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(e)+this._sep()+\"}\"},t.prototype.attribute=function(e,t){return this._comma()+this._beginLine(1)+\"{\"+this._sep()+this._key(this._builderOptions.convert.att+e)+this._sep()+this._val(t)+this._sep()+\"}\"},t.prototype.openTagBegin=function(e){var t=this._comma()+this._beginLine()+\"{\"+this._sep()+this._key(e)+this._sep()+\"{\";return this._additionalLevel++,this.hasData=!0,t+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+\"[\",this._hasChildren.push(!1),t},t.prototype.openTagEnd=function(e,t,r){if(t){var n=this._sep()+\"]\";return this._additionalLevel--,n+=this._beginLine()+\"}\"+this._sep()+\"}\"}return\"\"},t.prototype.closeTag=function(e){var t=this._beginLine()+\"]\";return this._additionalLevel--,t+=this._beginLine()+\"}\"+this._sep()+\"}\"},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){this._hasChildren.pop()},t.prototype._beginLine=function(e){return void 0===e&&(e=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:\"\")+this._indent(this._writerOptions.offset+this.level+e):\"\"},t.prototype._indent=function(e){return e+this._additionalLevel<=0?\"\":this._writerOptions.indent.repeat(e+this._additionalLevel)},t.prototype._comma=function(){var e=this._hasChildren[this._hasChildren.length-1]?\",\":\"\";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),e},t.prototype._sep=function(){return this._writerOptions.prettyPrint?\" \":\"\"},t.prototype._key=function(e){return'\"'+e+'\":'},t.prototype._val=function(e){return JSON.stringify(e)},t}(r(114).BaseCBWriter);t.JSONCBWriter=o},function(e,t,r){\"use strict\";r(74);var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t){var r=e.call(this,t)||this;if(r._rootWritten=!1,r._additionalLevel=0,t.indent.length<2)throw new Error(\"YAML indententation string must be at least two characters long.\");if(t.offset<0)throw new Error(\"YAML offset should be zero or a positive number.\");return r}return i(t,e),t.prototype.frontMatter=function(){return this._beginLine()+\"---\"},t.prototype.declaration=function(e,t,r){return\"\"},t.prototype.docType=function(e,t,r){return\"\"},t.prototype.comment=function(e){return this._beginLine()+this._key(this._builderOptions.convert.comment)+\" \"+this._val(e)},t.prototype.text=function(e){return this._beginLine()+this._key(this._builderOptions.convert.text)+\" \"+this._val(e)},t.prototype.instruction=function(e,t){return this._beginLine()+this._key(this._builderOptions.convert.ins)+\" \"+this._val(t?e+\" \"+t:e)},t.prototype.cdata=function(e){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+\" \"+this._val(e)},t.prototype.attribute=function(e,t){this._additionalLevel++;var r=this._beginLine()+this._key(this._builderOptions.convert.att+e)+\" \"+this._val(t);return this._additionalLevel--,r},t.prototype.openTagBegin=function(e){var t=this._beginLine()+this._key(e);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,t+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},t.prototype.openTagEnd=function(e,t,r){return t?\" \"+this._val(\"\"):\"\"},t.prototype.closeTag=function(e){return this._additionalLevel--,\"\"},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){},t.prototype._beginLine=function(e){return void 0===e&&(e=!1),(this.hasData?this._writerOptions.newline:\"\")+this._indent(this._writerOptions.offset+this.level,e)},t.prototype._indent=function(e,t){if(e+this._additionalLevel<=0)return\"\";var r=this._writerOptions.indent.repeat(e+this._additionalLevel);return!t&&this._rootWritten?r.substr(0,r.length-2)+\"-\"+r.substr(-1,1):r},t.prototype._key=function(e){return'\"'+e+'\":'},t.prototype._val=function(e){return JSON.stringify(e)},t}(r(114).BaseCBWriter);t.YAMLCBWriter=o},function(e,t,r){\"use strict\";var n,i=\"object\"==typeof Reflect?Reflect:null,o=i&&\"function\"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&\"function\"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,o,a,s;if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if(\"function\"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:\"function\"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if(\"function\"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return u},set:function(e){if(\"number\"!=typeof e||e<0||a(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||a(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=\"error\"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error(\"Unhandled error.\"+(a?\" (\"+a.message+\")\":\"\"));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if(\"function\"==typeof u)o(u,this,t);else{var l=u.length,c=y(u,l);for(r=0;r<l;++r)o(c[r],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit(\"removeListener\",e,r.listener||t));else if(\"function\"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit(\"removeListener\",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)\"removeListener\"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(77);t.createCB=function(e){return new n.XMLBuilderCBImpl(e)},t.fragmentCB=function(e){return new n.XMLBuilderCBImpl(e,!0)}}])}));"],"names":["MouseBindings","KeyboardBindings","ToolModes","AnnotationStyleStates","Events","SegmentationRepresentations","Swipe","globalLockedAnnotationsSet","Set","setAnnotationLocked","annotation","locked","detail","makeEventDetail","lockedAnnotationsSet","has","add","added","push","lock","unlock","publish","unlockAllAnnotations","forEach","clearLockedAnnotationsSet","getAnnotationsLocked","Array","from","isAnnotationLocked","getAnnotationsLockedCount","size","checkAndDefineIsLockedProperty","isLocked","descriptor","Object","getOwnPropertyDescriptor","configurable","set","setIsLocked","get","getIsLocked","isExtensible","shouldDefineIsLockedProperty","defineProperty","enumerable","freeze","removed","delete","length","item","triggerEvent","eventTarget","ANNOTATION_LOCK_CHANGE","this","selectedAnnotationUIDs","setAnnotationSelected","annotationUID","selected","preserveSelected","clearSelectionSet","selectAnnotation","deselectAnnotation","getAnnotationsSelected","getAnnotationsSelectedByToolName","toolName","filter","getAnnotation","metadata","isAnnotationSelected","getAnnotationsSelectedCount","selection","selectionSet","value","ANNOTATION_SELECTION_CHANGE","globalHiddenAnnotationUIDsSet","setAnnotationVisibility","visible","show","annotationUIDsSet","lastHidden","hide","showAllAnnotations","isAnnotationVisible","checkAndDefineIsVisibleProperty","isVisible","setIsVisible","getIsVisible","shouldDefineIsVisibleProperty","lastVisible","hidden","ANNOTATION_VISIBILITY_CHANGE","FrameOfReferenceSpecificAnnotationManager","constructor","uid","getGroupKey","annotationGroupSelector","element","enabledElement","getEnabledElement","Error","FrameOfReferenceUID","_imageVolumeModifiedHandler","evt","eventDetail","frameOfReferenceSpecificAnnotations","annotations","keys","undefined","invalidated","getFramesOfReference","getAnnotations","groupKey","frameOfReferenceUID","frameOfReferenceAnnotations","toolSpecificAnnotations","getNumberOfAnnotations","total","addAnnotation","removeAnnotation","groupAnnotations","toolAnnotations","index","findIndex","splice","removeAnnotations","saveAnnotations","restoreAnnotations","state","getNumberOfAllAnnotations","count","removeAllAnnotations","utilities","addEventListener","Enums","IMAGE_VOLUME_MODIFIED","defaultFrameOfReferenceSpecificAnnotationManager","svgNodeCache","defaultState","isInteractingWithTool","isMultiPartToolActive","tools","toolGroups","synchronizers","enabledElements","handleRadius","resetCornerstoneToolsState","addTool","ToolClass","toolAlreadyAdded","name","toolClass","removeTool","getMouseEventPoints","elementToUse","currentTarget","viewport","clientPoint","clientX","clientY","_clientToPoint","pagePoint","pageX","pageY","_pageToPoint","canvasPoint","rect","getBoundingClientRect","left","window","pageXOffset","top","pageYOffset","_pagePointsToCanvasPoints","page","client","canvas","world","canvasToWorld","viewportId","renderingEngineId","startPoints","event","eventName","MOUSE_DOUBLE_CLICK","camera","lastPoints","currentPoints","deltaPoints","stopImmediatePropagation","preventDefault","MOUSE_MOVE","MOUSE_DOWN","MOUSE_DOWN_ACTIVATE","MOUSE_CLICK","MOUSE_UP","MOUSE_DRAG","DOUBLE_CLICK_DRAG_TOLERANCE","mouseButton","isClickEvent","clickDelay","preventClickTimeout","doubleClickState","doubleClickTimeout","mouseDownEvent","mouseUpEvent","ignoreDoubleClick","_onMouseDrag","_updateMouseEventsLastPoints","_getDeltaPoints","_isDragPastDoubleClickTolerance","_doStateMouseDownAndUp","_copyPoints","_onMouseUp","clearTimeout","_cleanUp","_onMouseMove","document","removeEventListener","delta","Math","abs","_preventClickHandler","_clearDoubleClickTimeoutAndEvents","_doMouseDown","JSON","parse","stringify","points","_subtractPoints2D","point0","point1","mouseDoubleClickIgnoreListener","buttons","setTimeout","disable","capture","enable","pointerType","mouse","touch","lastInteractionType","lastInteractionTime","handleTap","type","e","now","Date","stopPropagation","handleTapMouse","bind","handleTapTouch","attachEvents","eventList","interactionType","tapHandler","passive","removeEvents","mouseEvents","touchEvents","getTouchEventPoints","touches","changedTouches","map","i","identifier","radiusX","radiusY","force","rotationAngle","getDeltaPoints","curr","getMeanPoints","last","getDeltaDistance","_getDistance2D","_getDistance3D","getDeltaRotation","getDeltaDistanceBetweenIPoints","currentDistance","_getMeanDistanceBetweenAllIPoints","lastDistance","copyPointsList","copyPoints","reduce","prev","getMeanTouchPoints","pairedDistance","j","sqrt","pow","runtimeSettings","Settings","getRuntimeSettings","TOUCH_START","TOUCH_START_ACTIVATE","TOUCH_PRESS","TOUCH_DRAG","TOUCH_END","TOUCH_TAP","TOUCH_SWIPE","zeroIPoint","zeroIDistance","startPointsList","lastPointsList","isTouchStart","startTime","pressTimeout","pressDelay","pressMaxDistance","accumulatedDistance","swipeDistanceThreshold","swiped","swipeToleranceMs","defaultTapState","taps","tapTimeout","tapMaxDistance","tapToleranceMs","tapState","triggerEventCallback","ele","console","debug","_onTouchDrag","currentPointsList","_updateTouchEventsLastPoints","deltaDistance","totalDistance","currentTime","getTime","x","y","swipe","RIGHT","LEFT","DOWN","UP","_checkTouchSwipe","_onTouchEnd","distanceFromStart","_checkTouchTap","lp","_onTouchPress","_onTouchStart","preventGhostClick","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","deltaY","spinX","spinY","pixelX","pixelY","wheelDelta","wheelDeltaY","wheelDeltaX","deltaX","deltaMode","normalizeWheel","direction","MOUSE_WHEEL","wheel","key","keyCode","keyListener","KEY_DOWN","_onKeyUp","_onVisibilityChange","visibilityState","resetModifierKey","KEY_UP","keyDownListener","getModifierKey","defaultContourConfig","renderOutline","outlineWidthActive","outlineWidthInactive","outlineOpacity","outlineOpacityInactive","renderFill","fillAlpha","fillAlphaInactive","defaultLabelmapConfig","renderFillInactive","initialDefaultState","colorLUT","segmentations","globalConfig","renderInactiveSegmentations","representations","Labelmap","Contour","defaultSegmentationStateManager","getState","getToolGroups","getColorLUT","lutIndex","resetState","getSegmentation","segmentationId","find","segmentation","addSegmentation","_initDefaultColorLUTIfNecessary","getSegmentationRepresentations","toolGroupId","toolGroupSegRepresentationsWithConfig","segmentationRepresentations","getAllSegmentationRepresentations","toolGroupSegReps","entries","addSegmentationRepresentation","segmentationRepresentation","config","_handleActiveSegmentation","getGlobalConfig","setGlobalConfig","getSegmentationRepresentationByUID","segmentationRepresentationUID","representation","removeSegmentation","removeSegmentationRepresentation","toolGroupSegmentationRepresentations","segData","warn","removedSegmentationRepresentation","setActiveSegmentationRepresentation","toolGroupSegmentations","segmentationData","active","getToolGroupSpecificConfig","toolGroupStateWithConfig","getSegmentationRepresentationSpecificConfig","segmentationRepresentationSpecificConfig","setSegmentationRepresentationSpecificConfig","getSegmentSpecificConfig","segmentIndex","segmentSpecificConfig","setSegmentSpecificConfig","setSegmentationRepresentationConfig","addColorLUT","log","removeColorLUT","colorLUTIndex","recentlyAddedOrRemovedSegmentationRepresentation","triggerSegmentationRemoved","SEGMENTATION_REMOVED","triggerSegmentationRepresentationRemoved","SEGMENTATION_REPRESENTATION_REMOVED","triggerSegmentationRepresentationModified","SEGMENTATION_REPRESENTATION_MODIFIED","triggerSegmentationModified","segmentationIds","getSegmentations","SEGMENTATION_MODIFIED","triggerSegmentationDataModified","modifiedSlicesToUse","SEGMENTATION_DATA_MODIFIED","segmentationInput","cachedStats","segmentLabels","label","segmentsLocked","activeSegmentIndex","representationData","data","getDefaultSegmentationStateManager","suppressEvents","segmentationStateManager","getToolGroupIdsWithSegmentation","toolGroupIds","foundToolGroupIds","setToolGroupSpecificConfig","getSegmentSpecificRepresentationConfig","setSegmentSpecificRepresentationConfig","segmentationConfig","getGlobalRepresentationConfig","representationType","setGlobalRepresentationConfig","segmentationRepresentationConfig","async","volumeId","renderingEngine","id","volumeInputs","actorUID","visibility","blendMode","MAXIMUM_INTENSITY_BLEND","addVolumesToViewports","removeFromCache","StackViewport","removeVolumeActors","MAX_NUMBER_COLORS","labelMapConfigCache","Map","_getLabelmapConfig","toolGroupLabelmapConfig","segmentationRepresentationLabelmapConfig","isActiveLabelmap","segmentsLabelmapConfig","configToUse","outlineWidth","_needsTransferFunctionUpdate","segmentColor","segmentsHidden","cacheUID","oldConfig","slice","forceOpacityUpdate","forceColorUpdate","oldFillAlpha","oldRenderFill","oldRenderOutline","oldOutlineWidth","oldSegmentColor","oldSegmentsHidden","render","toolGroupConfig","renderingConfig","labelmapData","labelmapUID","cache","getVolume","referencedVolumeId","defaultActor","getDefaultActor","defaultActorUID","volume","referencedVolume","isSameFrameOfReference","actorEntry","getActor","_addLabelmapToViewport","cfun","ofun","numColors","min","volumeActor","actor","segmentSpecificLabelmapConfig","addRGBPoint","segmentOpacity","removePoint","addPointLong","getProperty","setRGBTransferFunction","setClamping","setScalarOpacity","setInterpolationTypeToNearest","setUseLabelOutline","setLabelOutlineOpacity","setLabelOutlineThickness","setVisibility","_setLabelmapColorAndOpacity","representationInput","toolGroupSpecificConfig","addPoint","toolGroupSpecificRepresentation","currentToolGroupConfig","mergedConfig","renderImmediate","toolGroup","viewportsInfo","viewportInfo","getEnabledElementByIds","_removeLabelmapFromToolGroupViewports","getViewportsInfo","vtkErrorMacro","appendCellData","dest","src","ptOffset","cellOffset","offset","currentIdx","DEFAULT_VALUES","outputPointsPrecision","DEFAULT","extend","publicAPI","model","initialValues","arguments","assign","classHierarchy","requestData","inData","outData","numberOfInputs","getNumberOfInputPorts","output","numPts","pointType","ttype","firstType","numVerts","numLines","numStrips","numPolys","hasPtNormals","hasPtTCoords","hasPtScalars","ds","dsNumPts","getPoints","getNumberOfPoints","getVerts","getNumberOfValues","getLines","getStrips","getPolys","getDataType","ptD","getPointData","getNormals","getTCoords","getScalars","SINGLE","FLOAT","DOUBLE","dataType","setNumberOfPoints","pointData","getData","vertData","Uint32Array","lineData","stripData","polyData","newPtNormals","newPtTCoords","newPtScalars","lds","dsNormals","numberOfComponents","numberOfTuples","getName","dsTCoords","dsScalars","getNumberOfComponents","_i","_ds","dsPD","ptNorms","ptTCoords","ptScalars","setPoints","setData","setNormals","setTCoords","setScalars","vtkAppendPolyData","vtkAppendPolyData$1","newInstance","contourRepresentation","segmentId","CONTOUR","configCachePerSegmentationRepresentationUID","getConfigCache","setConfigCache","addContourSetsToElement","geometryIds","contourRepresentationConfig","contourActorUID","appendPolyData","scalarToColorMap","segmentSpecificMap","geometryId","geometry","getGeometry","getSegmentIndex","validateGeometry","contourSet","pointArray","lines","pointIndex","getContours","contour","pointList","flatPoints","getFlatPointsArray","getType","pointIndexes","_","pointListIndex","CLOSED_PLANAR","linePoints","Float32Array","insertNextCell","polygon","setLines","getPolyData","color","getColor","scalars","setTuple","setInputData","addInputData","polyDataOutput","getOutputData","mapper","setMapper","setLineWidth","setForceOpaque","addActor","resetCamera","updateContourSets","newContourConfig","cachedConfig","contourSetsActor","newOutlineWithActive","getMapper","lut","getLookupTable","segmentsToSetToInvisible","segmentsToSetToVisible","mergedInvisibleSegments","includes","concat","contourSets","segmentSpecificConfigs","acc","affectedSegments","hasCustomSegmentSpecificConfig","values","some","polyDataModified","getInputData","appendScalarsData","getTotalNumberOfPoints","segmentConfig","modified","setLookupTable","actorUIDsToRemove","getActors","Boolean","removeActors","representationConfig","contourData","addOrUpdateContourSets","_removeContourFromToolGroupViewports","deleteConfigCache","segmentationRepresentationUIDs","immediate","toolGroupSegRepresentations","toolGroupSegRepresentationUIDs","segRepresentationUIDsToRemove","invalidSegRepresentationUIDs","segRepresentationUID","segmentationDataUID","labelmapDisplay","contourDisplay","_removeSegmentation","segmentationInputArray","segInput","representationInputArray","toolGroupSpecificRepresentationConfig","promises","_addSegmentationRepresentation","Promise","all","getActiveSegmentationRepresentation","isSegmentIndexLocked","setSegmentIndexLocked","getLockedSegments","unshift","setColorLUT","segRepresentation","getColorForSegmentIndex","setColorForSegmentIndex","colorReference","setSegmentationVisibility","indices","scalarData","getScalarData","keySet","it","parseInt","getSegmentationIndices","clear","getSegmentationVisibility","setSegmentsVisibility","segmentIndices","setSegmentVisibility","setActiveSegmentIndex","getActiveSegmentIndex","BaseTool","toolProps","defaultToolProps","initialProps","configuration","supportedInteractionTypes","strategies","defaultStrategy","activeStrategy","strategyOptions","mode","Disabled","getToolName","applyActiveStrategy","operationData","call","setConfiguration","newConfiguration","setActiveStrategy","strategyName","getTargetVolumeId","actorEntries","getClassName","getTargetIdImage","targetId","startsWith","imageId","split","imageURI","viewports","getCurrentImageId","getImageData","getTargetId","BaseVolumeViewport","VIEWPORT_ELEMENT","getSvgNode","canvasHash","cacheKey","domRef","appendNode","svgLayerElement","svgNode","touched","appendChild","setNodeTouched","clearUntouched","cacheEntry","removeChild","viewportElement","internalDivElement","querySelector","_getSvgLayer","svgNodeCacheForCanvas","fn","svgDrawingHelper","drawingElementType","nodeUID","attributes","currentValue","getAttribute","newValue","removeAttribute","setAttribute","circleUID","center","radius","options","dataId","fill","width","lineWidth","lineDash","fillOpacity","strokeOpacity","strokeWidth","svgNodeHash","existingCircleElement","cx","cy","r","stroke","newCircleElement","createElementNS","ellipseUID","corner1","corner2","existingEllipse","w","h","rx","ry","svgEllipseElement","handleGroupUID","handlePoints","opacity","handle","svgns","side","parseFloat","height","existingHandleElement","newHandleElement","drawLine","lineUID","start","end","isNaN","shadow","existingLine","dropShadowStyle","x1","y1","x2","y2","style","newLine","drawPolyline","polylineUID","connectLastToFirst","existingPolyLine","pointsAttribute","point","firstPoint","newPolyLine","_createTextSpan","text","textSpanElement","textContent","_drawTextBackground","group","getBBox","insertBefore","firstChild","bBox","textUID","textLines","position","textGroupBoundingBox","padding","fontFamily","fontSize","background","existingTextGroup","textElement","textSpans","children","textSpan","textGroupAttributes","transform","textGroup","noSelectStyle","combinedStyle","_createTextElement","_drawTextGroup","centerX","centerY","findClosestPoint","sourcePoints","targetPoint","minPoint","minDistance","Number","MAX_SAFE_INTEGER","sourcePoint","distance","p1","p2","_distanceBetween","linkUID","annotationAnchorPoints","refPoint","boundingBox","boundingBoxPoints","halfWidth","halfHeight","_boundingBoxPoints","textBoxUID","textBoxPosition","textBox","mergedOptions","centering","canvasBoundingBox","drawRect","rectangleUID","_width","existingRect","tlhc","svgRectElement","drawArrow","arrowUID","angle","atan2","firstLine","cos","PI","sin","secondLine","modesFilter","enabledTools","toolGroupToolNames","toolOptions","toolInstance","getToolInstance","Active","Passive","Enabled","annotationRenderingEngine","_needsRender","_animationFrameSet","_animationFrameHandle","_renderFlaggedViewports","_throwIfDestroyed","elements","_viewportElements","_triggerRender","addViewportElement","removeViewportElement","_reset","renderViewport","_setViewportsToBeRenderedNextFrame","hasBeenDestroyed","_setAllViewportsToBeRenderedNextFrame","elementsEnabled","indexOf","_render","requestAnimationFrame","getRenderingEngine","anyRendered","tool","renderAnnotation","rendered","ANNOTATION_RENDERED","cancelAnimationFrame","EPSILON","CONSTANTS","PARALLEL_THRESHOLD","filterAnnotationsWithinSlice","spacingInNormalDirection","viewPlaneNormal","annotationsWithParallelNormals","td","annotationViewPlaneNormal","referencedImageId","imageOrientationPatient","metaData","rowCosineVec","colCosineVec","isParallel","halfSpacingInNormalDirection","focalPoint","annotationsWithinSlice","handles","dir","dot","filterAnnotationsForDisplay","colonIndex","substring","VolumeViewport","getCamera","_initializeConfig","colorHighlighted","colorSelected","colorLocked","textBoxVisibility","textBoxFontFamily","textBoxFontSize","textBoxColor","textBoxColorHighlighted","textBoxColorSelected","textBoxColorLocked","textBoxBackground","textBoxLinkLineWidth","textBoxLinkLineDash","textBoxShadow","getAnnotationToolStyles","getViewportToolStyles","getToolGroupToolStyles","getDefaultToolStyles","default","setAnnotationStyles","styles","annotationSpecificStyles","setViewportToolStyles","viewportSpecificStyles","setToolGroupToolStyles","toolGroupSpecificStyles","setDefaultToolStyles","getStyleProperty","toolStyle","specifications","_getToolStyle","property","global","globalStyles","toolStyles","styleSpecifier","alternatives","list","getHierarchalPropertyStyles","highlighted","Highlighted","Selected","Locked","Default","AnnotationDisplayTool","onImageSpacingCalibrated","annotationManager","getAnnotationManager","frameOfReference","filterInteractableAnnotationsForElement","getReferencedImageId","worldPos","viewUp","imageVolume","getStyle","AnnotationTool","super","mouseMoveCallback","filteredAnnotations","canvasCoords","annotationsNeedToBeRedrawn","activateHandleIndex","activeHandleIndex","near","_imagePointNearToolOrHandle","nearToolAndNotMarkedActive","notNearToolAndMarkedActive","getTextLines","statsCalculator","getHandleNearImagePoint","proximity","worldBoundingBox","topLeft","worldToCanvas","topRight","bottomLeft","bottomRight","annotationCanvasCoordinate","getLinkedTextBoxStyle","isSuvScaled","scaling","PT","scalingModule","suvbw","isPointNearTool","SegmentationDisplayTool","renderSegmentation","toolGroupViewports","segmentationRenderList","_getMergedRepresentationsConfig","viewportsRenderList","display","renderedViewport","allSettled","then","onSetToolEnabled","onSetToolDisabled","segmentationRenderingEngine","_renderFlaggedToolGroups","removeToolGroup","renderToolGroupSegmentations","_setToolGroupSegmentationToBeRenderedNextFrame","getViewport","segmentationDisplayToolInstance","onSegmentationRender","IMAGE_RENDERED","SEGMENTATION_RENDERED","triggerSegmentationRender","segmentationVolume","imageData","vtkOpenGLTexture","slicesToUpdate","isArray","numSlices","getDimensions","setUpdatedFrame","getAnnotationNearPoint","getAnnotationNearPointOnEnabledElement","_toolInstances","found","findAnnotationNearPointByTool","currentId","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","TypeError","invokeFunc","time","args","thisArg","apply","startTimer","pendingFunc","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeSinceLastInvoke","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","max","cancel","cancelTimer","flush","pending","clip","val","low","high","calibratedPixelSpacingMetadataProvider","calibrateImageSpacing","calibrationOrScale","USER","scale","getStackViewports","getImageIds","calibrateSpacing","viewportIdsToRender","viewportType","scroll","debounceLoading","loop","numScrollSteps","currentStepIndex","sliceRangeInfo","sliceRange","newFocalPoint","newPosition","setCamera","desiredStepIndex","VolumeScrollEventDetail","currentImageId","EVENTS","VOLUME_SCROLL_OUT_OF_BOUNDS","scrollVolume","imageIndex","currentImageIndex","numberOfSlices","getTargetImageIdIndex","getCurrentImageIdIndex","_getImageSliceData","imageIndexToJump","lastSliceIndex","_getImageIndexToJump","pointInShapeCallback","pointInShapeFn","callback","boundsIJK","iMin","iMax","jMin","jMax","kMin","kMax","dimensions","getDirection","rowCosines","columnCosines","scanAxisNormal","spacing","getSpacing","rowSpacing","columnSpacing","scanAxisSpacing","worldPosStart","indexToWorld","rowStep","columnStep","scanAxisStep","yMultiple","zMultiple","pointsInShape","k","pointIJK","dI","dJ","dK","startWorld","pointLPS","numSlicesToProject","sliceNormalIndex","xMin","Infinity","xMax","yMin","yMax","zMin","zMax","p","floor","depth","transformWorldToIndex","pointInSurroundingSphereCallback","circlePoints","centerWorld","radiusWorld","bottom","centerIJK","spacings","minSpacing","maxRadiusIJK","ceil","viewRight","topLeftWorld","bottomRightWorld","sphereCornersIJK","_computeBoundsIJKWithCamera","_getBounds","sphereObj","sphere","pointInSphere","precision","fixedPrecision","toFixed","strategySpecificConfiguration","THRESHOLD_INSIDE_CIRCLE","voxelValue","threshold","fillSphere","_inside","scalarIndex","minSlice","maxSlice","v","fillInsideSphere","thresholdInsideSphere","eraseInsideSphere","pointInEllipse","ellipse","circleCenterWorld","xRadius","yRadius","zRadius","z","x0","y0","z0","inside","getCanvasEllipseCorners","ellipseCanvasPoints","right","fillCircle","canvasCoordinates","topLeftCanvas","bottomRightCanvas","ellipsoidCornersIJK","ellipseObj","fillInsideCircle","thresholdInsideCircle","eraseInsideCircle","DEFINED_CURSORS","Symbol","STANDARD_CURSORS","MouseCursor","fallback","addFallbackStyleProperty","getDefinedCursor","definedCursors","getDefinedCursors","mouseCursor","setDefinedCursor","cursor","context","symbol","standardCursorNames","ImageMouseCursor","url","getUniqueInstanceName","prefix","BASE","iconContent","iconSize","viewBox","mousePoint","mousePointerGroupString","SEGMENTATION_CURSOR_BOUNDARIES","MINUS_RECT","PLUS_RECT","SCISSOR_ICON","RECTANGLE_ICON","CIRCLE_ICON","CursorSVG","Angle","ArrowAnnotate","Bidirectional","CobbAngle","CircleROI","EllipticalROI","FreehandROI","FreehandROISculptor","Length","Probe","RectangleROI","TextMarker","Crosshairs","Eraser","Magnify","Pan","Rotate","StackScroll","WindowLevelRegion","WindowLevel","Zoom","SegmentationFreeHandEraseInside","SegmentationFreeHandFillInside","SegmentationFreeHandEraseOutside","SegmentationFreeHandFillOutside","SegmentationRectangleEraseInside","RectangleScissor","CircleScissor","base","create","registerCursor","svgCursorNames","STATE","MODE","SVGMouseCursor","pointer","urn","getCursorURN","getDefinedSVGCursorDescriptor","URL","createObjectURL","svgString","createSVGIconWithPointer","createSVGIcon","Blob","createSVGIconBlob","createSVGIconUrl","createSVGMouseCursor","format","template","dictionary","dict","defined","prototype","hasOwnProperty","replace","match","svgSize","cursorName","CursorNames","ELEMENT_CURSORS_MAP","initElementCursor","_getElementCursors","_setElementCursor","cursors","resetElementCursor","hideElementCursor","WeakMap","BrushTool","FILL_INSIDE_CIRCLE","ERASE_INSIDE_CIRCLE","FILL_INSIDE_SPHERE","ERASE_INSIDE_SPHERE","THRESHOLD_INSIDE_SPHERE","brushSize","onSetToolPassive","disableCursor","preMouseDownCallback","eventData","activeSegmentationRepresentation","firstVolumeActorUID","_editData","_activateDraw","updateCursor","_dragCallback","brushCursor","_hoverData","_endCallback","_deactivateDraw","centerCanvas","getFrameOfReferenceUID","_calculateCursor","centerCursorInWorld","bottomCursorInWorld","topCursorInWorld","leftCursorInWorld","rightCursorInWorld","invalidateBrushCursor","toolMetadata","brushCursorUID","getBrushToolInstances","toolInstances","equalsCheck","a","b","getVoxelOverlap","voxelSpacing","voxelCenter","voxelCornersWorld","voxelCornersIJK","processVolumes","thresholdVolumeInformation","segmentationSpacing","segmentationImageData","volumeInfoList","baseVolumeIdx","volumeSize","referenceValues","lower","upper","overwrite","overlapType","overlaps","range","testOverlapRange","volumeInfo","overlapBounds","overlapTest","testRange","computeOffsetIndex","insert","PanTool","touchDragCallback","mouseDragCallback","deltaPointsWorld","updatedPosition","updatedFocalPoint","TrackballRotateTool","rotateIncrementDegrees","rotateCamera","axis","vtkCamera","getVtkActiveCamera","getViewUp","getFocalPoint","getPosition","newViewUp","currentPointsCanvas","lastPointsCanvas","clientWidth","clientHeight","normalizedPosition","normalizedPreviousPosition","radsq","op","oe","opsq","oesq","lop","loe","nop","noe","angleX","acos","sign","upVec","atV","rightV","forwardV","angleY","WindowLevelTool","_getImageDynamicRangeFromMiddleSlice","middleSliceIndex","frameLength","bytesPerVoxel","TypedArrayConstructor","Uint8Array","Uint16Array","Int16Array","frame","buffer","_getMinMax","modality","newRange","viewportsContainingVolumeUID","isPreScaled","properties","getProperties","voiRange","Modality","preScale","scaled","scalingParameters","getPTScaledNewRange","deltaPointsCanvas","getNewRange","setProperties","vp","multiplier","_getMultiplierFromDynamicRange","wwDelta","wcDelta","windowWidth","windowCenter","imageDynamicRange","calculatedDynamicRange","BitsStored","metadataDynamicRange","_getImageDynamicRangeFromViewport","ratio","round","getRange","voxel","StackScrollTool","invert","debounceIfNotLoaded","deltaPointY","pixelsPerImage","_getPixelPerImage","imageIdIndexOffset","_getNumberOfSlices","offsetHeight","angleBetweenLines","line1","line2","p3","p4","v1","v2","PlanarRotateTool","currentPointWorld","startPointWorld","cross","rotAngle","rotMat","rotatedViewUp","rotation","StackScrollMouseWheelTool","mouseWheelCallback","ZoomTool","zoomToCenter","minZoomScale","maxZoomScale","pinchToZoom","pan","initialMousePosWorld","dirVec","preTouchStartCallback","_dragParallelProjection","pinch","parallelScale","parallelScaleToSet","focalPointToSet","positionToSet","distanceToCanvasCenter","t","cappedParallelScale","thresholdExceeded","_dragPerspectiveProjection","zoomScale","directionOfProjection","tmp","_pinchCallback","parallelProjection","_panCallback","DIRECTIONS","VolumeRotateMouseWheelTool","cz","ax","ay","az","getWorldWidthAndHeightFromCorners","pos1","pos2","diagonal","diagonalLength","worldWidth","worldHeight","cosTheta","getPointInLineOfSightWithCriteria","targetVolumeId","criteriaFunction","stepSize","cameraPosition","step","bounds","getBounds","vector","pickedPoint","pointT","_inBounds","pointToPick","getIntensityFromWorld","jumpToWorld","jumpWorld","normal","dotProd","projectedDelta","_applyShift","MIPJumpToClickTool","targetViewportIds","mouseClickCallback","maxIntensity","brightestPoint","intensity","getViewports","foundToolGroup","filterViewportsWithFrameOfReferenceUID","numViewports","viewportsWithFrameOfReferenceUID","filterViewportsWithToolEnabled","viewportsWithToolEnabled","_toolGroupHasActiveEnabledOrPassiveTool","toolMode","EPS","vpCamera","getViewportIdsWithToolToRender","requireParallelNormals","INSIDE","OUTSIDE","clipT","num","denom","c","tE","tL","box","da","db","dx","dy","dist2","distanceToPointSquared","lineStart","lineEnd","d2","NaN","intersectLine","line1Start","line1End","line2Start","line2End","x3","y3","x4","y4","a1","b1","c1","r3","r4","a2","b2","c2","r1","r2","RENDERING_DEFAULTS","defaultReferenceLineColor","defaultReferenceLineControllable","defaultReferenceLineDraggableRotatable","defaultReferenceLineSlabThicknessControlsOn","OPERATION","CrosshairsTool","viewportIndicators","autoPan","enabled","panSize","referenceLinesCenterGapRadius","filterActorUIDsToSetSlabThickness","slabThicknessBlendMode","mobile","toolCenter","initializeViewport","_getAnnotations","cameraFocalPoint","rotationPoints","slabThicknessPoints","activeOperation","activeViewportIds","_getViewportsInfo","computeToolCenter","firstViewport","secondViewport","thirdViewport","normal1","normal2","point2","normal3","point3","firstPlane","secondPlane","thirdPlane","addNewAnnotation","_jump","viewportIdArray","otherViewport","viewportControllable","_getReferenceLineControllable","viewportDraggableRotatable","_getReferenceLineDraggableRotatable","_activateModify","handleSelectedCallback","_pointNearTool","toolSelectedCallback","onCameraModified","viewportAnnotation","currentCamera","oldCameraPosition","deltaCameraPosition","oldCameraFocalPoint","deltaCameraFocalPoint","isRotation","cameraModifiedInPlane","getViewportIds","_autoPanViewportIfNecessary","filteredToolAnnotations","imageNeedsUpdate","previousActiveOperation","previousActiveViewportIds","_areViewportIdArraysEqual","renderStatus","canvasDiagonalLength","canvasMinDimensionLength","crosshairCenterCanvas","otherViewportAnnotations","_filterAnnotationsByUniqueViewportOrientations","referenceLines","canvasBox","otherCamera","otherViewportControllable","otherViewportDraggableRotatable","otherViewportSlabThicknessControlsOn","_getReferenceLineSlabThicknessControlsOn","otherCanvasDiagonalLength","otherCanvasCenter","otherViewportCenterWorld","pointWorld0","pointWorld1","pointCanvas0","otherViewportCenterCanvas","canvasUnitVectorFromCenter","canvasVectorFromCenterLong","canvasVectorFromCenterMid","canvasVectorFromCenterShort","canvasVectorFromCenterStart","centerGap","refLinePointOne","refLinePointTwo","refLinePointThree","refLinePointFour","refLinesCenter","rotHandleOne","rotHandleTwo","stHandlesCenterCanvas","stHandlesCenterWorld","worldUnitVectorFromCenter","matrix","buildFromDegree","rotate","worldUnitOrthoVectorFromCenter","slabThicknessValue","getSlabThickness","worldOrthoVectorFromCenter","worldVerticalRefPoint","canvasVerticalRefPoint","canvasOrthoVectorFromCenter","stLinePointOne","stLinePointTwo","stLinePointThree","stLinePointFour","stHandleOne","stHandleTwo","stHandleThree","stHandleFour","newRtpoints","newStpoints","viewportColor","_getReferenceLineColor","line","lineIndex","viewportSlabThicknessControlsOn","selectedViewportId","lineActive","rotHandlesActive","rotationHandles","rotHandleWorldOne","rotHandleWorldTwo","slabThicknessHandlesActive","slabThicknessHandles","slabThicknessHandleWorldOne","slabThicknessHandleWorldTwo","slabThicknessHandleWorldThree","slabThicknessHandleWorldFour","handleUID","_onNewVolume","viewportIdArrayOne","viewportIdArrayTwo","itemFound","_getAnnotationsForViewportsWithDifferentCameras","viewportsWithDifferentCameras","cameraOfTarget","_filterViewportWithSameOrientation","referenceAnnotation","linkedViewportAnnotations","otherViewPlaneNormal","otherLinkedViewportAnnotationsFromSameScene","otherViewportsAnnotationsWithUniqueCameras","cameraFound","jj","cameraOfStocked","otherNonLinkedViewportAnnotationsFromSameScene","_checkIfViewportsRenderingSameScene","actors","otherViewportActors","sameScene","viewportsAnnotationsToUpdate","_applyDeltaShiftToSelectedViewportCameras","_deactivateModify","editData","dir1","dir2","finalPointCanvas","originalPointCanvas","_isClockWise","rotationAxis","buildFromRadian","translate","otherViewportsIds","renderViewports","referenceAnnotations","viewportsIds","mod","currentPoint","currentCenter","otherViewportRotationPoints","dotProdDirection","projectedDirection","normalizedProjectedDirection","normalizedProjectedDelta","MINIMUM_SLAB_THICKNESS","_pointNearReferenceLine","setSlabThickness","lineViewport","lineSegment1","distanceToPoint1","lineSegment2","distanceToPoint2","getReferenceLineColor","getReferenceLineControllable","getReferenceLineDraggableRotatable","getReferenceLineSlabThicknessControlsOn","onSetToolActive","_unsubscribeToViewportNewVolumeSet","_subscribeToViewportNewVolumeSet","_getRotationHandleNearImagePoint","_getSlabThicknessHandleNearImagePoint","VOLUME_VIEWPORT_NEW_VOLUME","toolCenterCanvas","visiblePointCanvas","visiblePointWorld","slabThickness","actorUIDs","blendModeToUse","COMPOSITE","setBlendMode","_applyDeltaShiftToViewportCamera","stPointLineCanvas1","stPointLineCanvas2","stPointLineCanvas1Start","stPointLineCanvas2Start","MAGNIFY_VIEWPORT_ID","MagnifyTool","magnifySize","magnifyWidth","magnifyHeight","_getReferencedImageId","_createMagnificationViewport","canvasPos","magnifyToolElement","magnifyElement","createElement","classList","viewportInput","STACK","enableElement","magnifyViewport","setStack","_dragEndCallback","disableElement","ReferenceLines","sourceViewportId","showFullDimension","_init","getRenderingEngines","sourceViewport","sourceViewportCanvasCornersInWorld","newAnnotation","targetViewport","sourceViewPlaneNormal","targetViewportPlane","pointSet1","pointSet2","pointSetToUse","topBottomVec","topRightVec","newNormal","isPerpendicular","lineStartWorld","lineEndWorld","handleFullDimension","vec1","vec2","targetImage","topLeftImageCoord","topRightImageCoord","bottomRightImageCoord","bottomLeftImageCoord","lineStartImageCoord","lineEndImageCoord","intersectInfiniteLines","isInBound","err","OverlayGridTool","sourceImageIds","imagePlaneModule","pointSets","calculateImageIdPointSets","viewportData","imagePositionPatient","rows","columns","rowPixelSpacing","columnPixelSpacing","imageIdNormal","getImageIdNormal","targetData","initializeViewportData","pointSetsToUse","lineStartsWorld","lineEndsWorld","CalibrationTypes","PIXEL_UNITS","getCalibratedLengthUnits","image","calibration","hasPixelSpacing","units","UNCALIBRATED","SequenceOfUltrasoundRegions","getCalibratedAreaUnits","getCalibratedScale","getCalibratedAspect","aspect","getTextBoxCoordsCanvas","annotationCanvasPoints","corners","canvasPoints","handlesLeftToRight","sort","_compareX","handlesTopToBottom","_compareY","_determineCorners","BidirectionalTool","preventHandleOutsideImage","defaultGetTextLines","canvasPoint1","canvasPoint2","distanceToPoint","movingTextBox","handleIndex","worldPosition","hasMoved","firstLineSegmentLength","longAxis","shortAxisPoint0","shortAxisPoint1","longAxisVector","counterClockWisePerpendicularToLongAxis","currentShortAxisVector","shortAxis","isHandleOutsideImage","eventType","ANNOTATION_COMPLETED","isDrawing","_dragDrawCallback","canvasCoordPoints","shortAxisDistFromCenter","vectorX","vectorY","xMid","yMid","startX","startY","endX","endY","_dragModifyCallback","worldPosDelta","_dragModifyHandle","movingHandleIndex","canvasCoordHandlesCurrent","firstLineSegment","secondLineSegment","proposedPoint","proposedCanvasCoord","fixedHandleCanvasCoord","fixedHandleToProposedCoordVec","fixedHandleToOldCoordVec","proposedFirstLineSegment","_movingLongAxisWouldPutItThroughShortAxis","centerOfRotation","_getSignedAngle","firstPointX","firstPointY","secondPointX","secondPointY","rotatedFirstPoint","rotatedFirstPointY","rotatedSecondPoint","rotatedSecondPointY","newFirstPoint","newSecondPoint","translateHandleIndex","canvasCoordsCurrent","longLineSegment","shortLineSegment","longLineSegmentVec","longLineSegmentVecNormalized","proposedToCurrentVec","movementLength","movementAlongLineSegmentLength","newTranslatedPoint","unit","_throttledCalculateCachedStats","_calculateCachedStats","activeHandleCanvasCoords","dataId1","dataId2","canvasTextBoxCoords","vectorInSecondLineDirection","extendedSecondLineSegment","worldPos1","worldPos2","worldPos3","worldPos4","targetIds","dist1","_calculateLength","index1","index2","index3","index4","_isInsideVolume","ANNOTATION_MODIFIED","vector1","vector2","dz","LengthTool","cachedVolumeStats","getModalityUnit","generalSeriesModule","petSeriesModule","_handlePTModality","isViewportPreScaled","ProbeTool","eventDispatchDetail","referencedImageURI","hasImageURI","currentImageURI","textCanvasCoordinates","modalityUnitOptions","modalityUnit","DragProbeTool","postMouseDownCallback","postTouchStartCallback","lineSegments","rectToLineSegments","segment","BasicStatsCalculator","currentMax","sum","sumSquares","squaredDiffSum","statsCallback","getStatistics","mean","stdDev","stdDevWithSumSquare","RectangleROITool","_getRectangleImageCoordinates","bottomLeftCanvas","topRightCanvas","bottomLeftWorld","topRightWorld","areaUnit","area","worldPos1Index","worldPos2Index","stats","statsArray","getWorldWidthAndHeightFromTwoPoints","EllipticalROITool","centerPointRadius","initialRotation","getRotation","canvasCorners","minorEllipse","majorEllipse","pointInMinorEllipse","_pointInEllipseCanvas","canvasWidth","canvasHeight","originalHandleCanvas","pointsCanvas","currentCanvasPoints","dX","dY","bottomCanvas","topCanvas","leftCanvas","rightCanvas","_dragHandle","dYCanvas","canvasBottom","canvasTop","newHalfCanvasWidth","canvasLeft","canvasRight","dXCanvas","newHalfCanvasHeight","centerPoint","_getCanvasEllipseCenter","isEmptyArea","location","normalized","areaLine","getCanvasCircleRadius","circleCanvasPoints","getCanvasCircleCorners","CircleROITool","radiusPoint","canvasCenter","canvasEnd","radiusUnit","perimeter","radiusLine","getIntersectionCoordinatesWithPolyline","q1","closed","polylineIndexes","initialI","intersections","doesIntersect","getAllIntersectionsWithPolyline","intersection","getIntersection","getFirstIntersectionWithPolyline","getClosestIntersectionWithPolyline","q2","distances","intersectionPoints","midpoint","orient","orientation","onSegment","q","orientationValue","denominator","numerator1","numerator2","subPixelResolution","xDir","yDir","volumeSpacing","iVector","jVector","kVector","absViewRightDotI","absViewRightDotJ","absViewRightDotK","xSpacing","absViewUpDotI","absViewUpDotJ","absViewUpDotK","ySpacing","closeContourProximity","newCanvasPoint","commonData","lastWorldPos","newWorldPos","worldPosDiff","xDist","yDist","numPointsToAdd","lastCanvasPoint","canvasDist","canvasDir","distPerPoint","p1p","p1p2","p1p2Mag","projectionVectorMag","p1p2UnitVector","projectionVector","projectionPoint","calculateAreaOfPoints","n","interpolateSegmentPoints","iniIndex","endIndex","knotsRatioPercentage","segmentSize","amountOfKnots","minKnotDistance","interpolationIniIndex","interpolationEndIndex","segmentPointsUnchangedBeg","segmentPointsUnchangedEnd","knotsIndexes","minDistributionDistance","closedInterval","intervalIni","intervalEnd","intervalSize","continuosDistributionValue","getContinuousUniformDistributionValues","interpolatedPoints","originalPoints","xInterpolator","yInterpolator","zInterpolator","interpolatePoints","shouldInterpolate","interpolation","interpolateOnAdd","interpolateOnEdit","followingIndex","circularFindNextIndexBy","listParams","otherListParams","criteria","indexDelimiter","otherIndexDelimiter","otherPoints","pointsLength","otherPointsLength","startIndex","otherStartIndex","findChangedSegment","previousPoints","firstMatchIndex","previousFirstMatchIndex","pointA","pointB","findMatchIndexes","toBeNotEqualCriteria","isEqualByProximity","lowDiffIndex","lowOtherDiffIndex","highIndex","getInterpolatedPoints","pointsOfReference","knotsRatioPercentageOnAdd","knotsRatioPercentageOnEdit","changedIniIndex","changedEndIndex","findOpenUShapedContourVectorToPeak","first","firstToLastUnitVector","normalVector1","normalVector2","centerOfFirstToLast","furthest","dist","addCanvasPointsToArray","pointsAreWithinCloseContourProximity","getSubPixelSpacingAndXYDirections","activateDraw","drawData","polylineIndex","mouseUpDrawCallback","mouseDragDrawCallback","deactivateDraw","lastWorldPoint","crossingIndex","findCrossingIndexDuringCreate","applyCreateOnCross","numPointsAdded","allowOpenContours","lastPoint","completeDrawOpenContour","completeDrawClosedContour","removeCrossedLinesOnCompleteDraw","haltDrawing","pop","worldPoints","polyline","isOpenContour","triggerAnnotationCompleted","numPoints","endToStart","canvasPointsMinusEnds","lineSegment","indexToRemoveUpTo","isOpenUShapeContour","openUShapeContourVectorToPeak","pointsLessLastOne","shift","activateClosedContourEdit","cancelDrawing","minPoints","shouldHaltDrawing","checkForFirstCrossing","isClosedContour","editCanvasPoints","prevCanvasPoints","crossedLineSegment","startCrossingIndex","removePointsUpUntilFirstCrossing","checkCanvasEditFallbackProximity","firstEditCanvasPoint","distanceIndexPairs","prevCanvasPoint","twoClosestDistanceIndexPairs","lowestIndex","extendedPoint","crossedLineSegmentFromExtendedPoint","pointsToPrepend","editIndex","numPointsToRemove","checkForSecondCrossing","removePointsAfterSecondCrossing","lastLine","didCrossLine","findSnapIndex","lastEditCanvasPoint","editCanvasPointsLessLastOne","snapCanvasPosition","checkAndRemoveCrossesOnEditLine","editIndexCrossed","isEditingClosed","mouseUpClosedContourEditCallback","mouseDragClosedContourEditCallback","deactivateClosedContourEdit","currentEditIndex","snapIndex","fusedCanvasPoints","fuseEditPointsWithClosedContour","finishEditAndStartNewEdit","triggerAnnotationModified","augmentedEditCanvasPoints","lowIndex","distanceBetweenLowAndFirstPoint","distanceBetweenLowAndLastPoint","distanceBetweenHighAndFirstPoint","distanceBetweenHighAndLastPoint","inPlaceDistance","reverseDistance","completeClosedContourEdit","cancelClosedContourEdit","activateOpenContourEdit","isEditingOpen","mouseUpOpenContourEditCallback","mouseDragOpenContourEditCallback","deactivateOpenContourEdit","fuseEditPointsWithOpenContour","finishEditOpenOnSecondCrossing","checkIfShouldOverwriteAnEnd","openContourEditOverwriteEnd","fuseEditPointsForOpenContourEndEdit","activateOpenContourEndEdit","lastCanvasPos","aDotb","magA","magB","newCanvasPoints","pointsToRender","completeOpenContourEdit","cancelOpenContourEdit","reverse","_getRenderingOptions","renderContour","findOpenUShapedContourVectorToPeakOnRender","calculateUShapeContourVectorToPeakIfNotPresent","renderOpenUShapedContour","renderOpenContour","renderClosedContour","alwaysRenderOpenContourHandles","handlePoint","firstCanvasPoint","openUShapeContourVectorToPeakCanvas","renderContourBeingDrawn","renderClosedContourBeingEdited","renderOpenContourBeingEdited","pointCanProjectOnLine","PlanarFreehandROITool","calculateStats","previousPoint","pStart","pEnd","activeAnnotationUID","_renderStats","originalWorldPoint","deltaXPoint","deltaYPoint","deltaInX","deltaInY","worldPosIndex","iDelta","jDelta","kDelta","worldPosEnd","canvasPosEnd","curRow","intersectionCounter","annotationsToDisplay","ArrowAnnotateTool","getTextCallback","changeTextCallback","arrowFirst","touchTapCallback","doubleClickCallback","clickedAnnotation","_doneChangingTextCallback","updatedText","doneChangingTextCallback","prompt","AngleTool","angleStartedNotYetCompleted","canvasPoint3","String","fromCharCode","midPoint","ret","len","arg","midPoint2","CobbAngleTool","point4","canvasPoint4","_mouseUpCallback","_mouseDownCallback","_mouseDragCallback","seg1","seg2","minDist","MAX_VALUE","ReferenceCursors","displayThreshold","positionSync","_elementWithCursor","_currentCursorWorldPosition","_currentCanvasPosition","_disableCursorEnabled","getActiveAnnotation","createInitialAnnotation","updateAnnotationPosition","previousCamera","oldFocalPoint","cameraNormal","dotProduct","isElementWithCursor","updateViewportImage","lineWidthBase","crosshairUIDs","centerSpace","lineLength","viewportIds","plane","currentMousePosition","closestIndex","setImageIdIndex","normalizedViewPlane","scaledPlaneNormal","viewportsWithAnnotations","ScaleOverlayTool","scaleLocation","viewportCanvasCornersInWorld","thisAnnotation","computeScaleSize","worldWidthViewport","worldHeightViewport","scaleSizes","currentScaleSize","scaleSize","computeEndScaleTicks","locationTickOffset","endTick1","endTick2","computeInnerScaleTicks","leftTick","rightTick","canvasScaleSize","tickIds","tickUIDs","tickCoordinates","numberSmallTicks","tickSpacing","locationOffset","computeWorldScaleCoordinates","pointSet","worldCoordinates","midpointLocation","computeCanvasScaleCoordinates","canvasSize","vscaleBounds","hscaleBounds","scaleCanvasCoordinates","worldDistanceOnCanvas","computeScaleBounds","horizontalReduction","verticalReduction","hReduction","vReduction","locationBounds","canvasBounds","scaleTicks","scaleId","leftTickId","rightTickId","locationTextOffest","textBoxLines","_getTextLines","scaleSizeDisplayValue","scaleSizeUnits","toString","fillRectangle","constraintFn","rectangleCornersIJK","coord","fillInsideRectangle","eraseRectangle","eraseInsideRectangle","RectangleScissorsTool","FILL_INSIDE","ERASE_INSIDE","CircleScissorsTool","SphereScissorsTool","RectangleROIThresholdTool","RectangleROIStartEndThresholdTool","numSlicesToPropagate","spacingInNormal","_getEndSliceIndex","startSlice","endSlice","projectionPoints","projectionPointsImageIds","_computeProjectionPoints","sliceIndex","firstOrLastSlice","lineDashToUse","_calculateCachedStatsTool","startIJK","endIJK","indexToWorldVec3","endWorld","newProjectionPoints","newPoint","RectanglePoints","endPos","imageIds","imageIdIndex","defaultEquals","lpad","string","character","join","getter","seed","onFlood","onBoundary","equals","diagonals","startNode","permutations","perms","permutation","permute","perm","array","countNonZeroes","prunedPermutations","stack","flooded","visits","currentArgs","flood","boundaries","job","getArgs","prevArgs","previousArgs","markAsVisited","node","safely","member","markAsFlooded","nextArgs","pushAdjacent","markAsBoundary","f","error","isEqual","PaintFillTool","fixedDimension","getFixedDimension","floodFillGetter","getLabelValue","getScalarDataPositionFromPlane","inPlaneSeedPoint","fixedDimensionValue","generateHelpers","clickedLabelValue","floodFillResult","scalarDataPosition","getFramesModified","minJ","maxJ","framesModified","seedIndex3D","getScalarDataPosition","generateFloodFillGetter","generateGetScalarDataPositionFromPlane","xDirection","yDirection","zDirection","absoluteOfViewPlaneNormal","absoluteOfXDirection","absoluteOfYDirection","absoluteOfZDirection","Corners","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","target","source","getOwnPropertyDescriptors","defineProperties","viewportCorner","viewportSize","minPixelSize","maxPixelSize","parentRenderer","superClass","previousCameraInput","selfRenderer","resizeObserver","ResizeObserver","updateViewport","onCameraChangedSub","onCameraModifiedSub","onAnimationSub","onEndAnimationSub","selfSubscription","_interactor","isAnimating","updateMarkerOrientation","_onParentRendererChanged","computeViewport","parentRen","getCurrentRenderer","_parentRen$getViewpor","_parentRen$getViewpor2","view","getView","getSize","_view$getViewportSize","getViewportSize","_view$getViewportSize2","viewXSize","viewYSize","minViewSize","pixelSize","xFrac","yFrac","setViewport","getActiveCamera","getReferenceByName","activeCamera","setPosition","setFocalPoint","setViewUp","setEnabled","enabling","ren","renderWindow","getRenderWindow","addRenderer","getNumberOfLayers","setNumberOfLayers","setLayer","setInteractive","addViewProp","onEvent","unsubscribe","onModified","onAnimation","onEndAnimation","observe","getCanvas","_model$_interactor","_model$_interactor$fi","disconnect","removeViewProp","_renderWindow","findPokedRenderer","removeRenderer","setViewportCorner","corner","setViewportSize","sizeFactor","setActor","previousState","getRenderer","vtkOrientationMarkerWidget","vtkOrientationMarkerWidget$1","canvasToImageData","_boundingBox","idata","getContext","setOrigin","setSpacing","setExtent","setName","ImageHelper","imageToImageData","flipX","flipY","ctx","drawImage","STYLES","defaultStyle","fontStyle","fontColor","fontSizeScale","res","faceColor","edgeThickness","edgeColor","resolution","xMinusFaceProperty","xPlusFaceProperty","yMinusFaceProperty","yPlusFaceProperty","zMinusFaceProperty","zPlusFaceProperty","lps","faceRotation","applyDefinitions","definitions","cubeActor","AnnotatedCubePresets","applyPreset","registerStylePreset","FACE_TO_INDEX","xPlus","xMinus","yPlus","yMinus","zPlus","zMinus","cubeSource","texture","updateFaceTexture","faceName","newProp","prop","ctxt","fillStyle","fillRect","strokeStyle","strokeRect","save","textSize","textAlign","textBaseline","font","fillText","restore","vtkImage","updateAllFaceTextures","generate3DTextureCoordinates","setInputConnection","getOutputPort","setInterpolate","setDefaultStyle","setXPlusFaceProperty","setXMinusFaceProperty","setYPlusFaceProperty","setYMinusFaceProperty","setZPlusFaceProperty","setZMinusFaceProperty","addTexture","vtkAnnotatedCubeActor","vtkAnnotatedCubeActor$1","Presets","capping","_vtkMatrixBuilder$bui","deleted","dataset","xbot","numberOfPoints","cellArraySize","pointIdx","cellLocation","polys","rotateFromDirections","vtkConeSource","vtkConeSource$1","initAngle","_vtkMatrixBuilder$bui2","numberOfPolys","normalsData","normals","tcData","tcoords","nbot","ntop","xtop","tcbot","tctop","otherRadius","pt","_i2","botIdx","topIdx","_j","_i3","_i4","vtkCylinderSource","vtkCylinderSource$1","tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","cylinder","setResolution","setRadius","setHeight","setCenter","cylinderPD","cylinderPts","cylinderNormals","rotateZ","cone","conePD","conePts","append","appendPD","appendPts","vtkArrowSource","vtkArrowSource$1","centerDataSet","shiftDataset","addColor","g","rgbArray","recenter","xAxisColor","yAxisColor","zAxisColor","_mapper","update","xAxis","yAxis","zAxis","_debouncedUpdate","setConfig","setXAxisColor","setYAxisColor","setZAxisColor","vtkAxesActor","vtkAxesActor$1","u8","u16","u32","fleb","fdeb","clim","freb","eb","_a","fl","revfl","_b","fd","rev","hMap","cd","mb","s","l","co","le","rvb","sv","r_1","m","flt","fdt","bits","d","o","bits16","shft","slc","BYTES_PER_ELEMENT","subarray","ec","ind","msg","nt","code","captureStackTrace","inflt","dat","buf","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","pos","bt","lm","dm","lbt","dbt","tbts","flrm","fdrm","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","dsym","et","gzs","flg","zs","gzl","zlv","inflateSync","out","gunzipSync","unzlibSync","TextDecoder","decode","stream","queueMicrotask","TYPE_MAPPING","registerType","DataAccessHelper","REVERSE_LOOKUP","charCodeAt","BASE64_CODE","isValidChar","writeChunk","b64Str","chunk","dstOffset","uint8","remain","fourCharProcessCount","charIdx","encodeTriplet","v3","triplet","Base64","toArrayBuffer","chunks","strSize","currentChunk","extractChunks","totalEncodedLength","arrayBuffer","ArrayBuffer","fromArrayBuffer","ab","leftoverLength","byteLength","maxTripletIndex","segments","bufOffset","substr","arrayBufferToString","BinaryHelper","extractBinary","prefixRegex","suffixRegex","str","prefixMatch","exec","dataStartIndex","strFirstHalf","suffixMatch","binaryBuffer","getEndianness","Endian","ENDIANNESS","swapBytes","wordSize","bytes","Int8Array","tempBuffer","vtkDebugMacro","REJECT_COMPRESSION","reject","requestCount","openAsyncXHR","method","xhr","XMLHttpRequest","open","headers","_ref","_ref2","setRequestHeader","progressCallback","LiteHttpDataAccessHelper","fetchArray","instance","baseURL","compression","ref","resolve","basepath","onreadystatechange","readyState","invokeBusy","status","response","encode","responseType","send","fetchJSON","responseText","fetchText","fetchBinary","fetchImage","img","Image","crossOrigin","onload","onerror","findAllTags","tagName","getElementsByTagName","findFirstTag","TYPED_ARRAY","Int8","UInt8","Int16","UInt16","Int32","Int32Array","UInt32","Int64","UInt64","Float32","Float64","Float64Array","TYPED_ARRAY_BYTES","integer64to32","maxIdx","readerHeader","headerType","_uint","_nbBlocks","_resultArray","uint32","nbBlocks","resultArray","uncompressBlock","compressedUint8","uncompressedBlock","processDataArray","dataArrayElem","compressor","byteOrder","nodeValue","token","trim","header","_offset2","blockSize","_header","_offset3","arraySize","vtkXMLReader","dataAccessHelper","setUrl","option","path","loadData","fetchData","parseAsArrayBuffer","rawDataBuffer","_extractAppendedData","extractAppendedData","content","xmlStr","rootElem","root","appendedDataElem","encoding","arrayElems","appendedBuffer","dataArrays","nextOffset","arrayidx","dataArray","compressedOffset","_buffer","uncompressed","bufferLength","arr","_offset4","parseXML","fieldDataElem","fieldDataArrays","daElem","handleFieldDataArrays","fieldData","getFieldData","addArray","vtkXMLReader$1","processFieldData","fieldElem","fieldContainer","nameBinding","attrName","arrayName","dataArrayElems","nbArrays","idx","processCells","containerElem","elIdx","el","offsets","connectivitySize","connectivity","writeOffset","previousOffset","cellSize","vtkXMLPolyDataReader","pieces","nbPieces","_loop","outputIndex","polydata","piece","nbPoints","cellType","_vtkXMLReader$process","handleArray","nbCells","handleCells","getCellData","vtkXMLPolyDataReader$1","OverlayMarkerType","ANNOTATED_CUBE","AXES","CUSTOM","OrientationMarkerTool","orientationWidget","overlayMarkerType","OVERLAY_MARKER_TYPES","overlayConfiguration","faceProperties","polyDataURL","configuration_invalidated","initViewports","orientationMarkers","CUBE","AXIS","VTPFILE","addAxisActorInViewport","removeActor","createAnnotationCube","createCustomActor","renderer","offscreenMultiRenderWindow","interactor","getInteractor","setMinPixelSize","setMaxPixelSize","fetch","vtpReader","shallowCopy","setActiveScalars","setColorModeToDirectScalars","createAnnotatedCubeActor","axes","annotatedCube","methodName","charAt","toUpperCase","referenceVolume","AllBoundsIJK","pointsToUse","accumulator","annotationUIDs","validToolNames","_validateAnnotations","labelmaps","origin","labelmap","outputData","arrayType","volumeLoader","isValidRepresentationConfig","isValidLabelmapConfig","getDefaultRepresentationConfig","createLabelmapVolumeForViewport","input","_cloneDeep","setBrushSizeForToolGroup","viewportsInfoArray","getBrushSizeForToolGroup","brushToolInstance","setBrushThresholdForToolGroup","getBrushThresholdForToolGroup","segmentationIndex","_handleSameSizeVolume","getPoint","callbackOverlap","_handleDifferentSizeVolume","getOrientationStringLPS","orientationX","orientationY","orientationZ","MIN","invertOrientationStringLPS","orientationString","inverted","addToolState","getToolState","ViewportStatus","dynamicVolumesPlayingMap","playClip","playClipOptions","playClipTimeouts","playClipIsTimeVarying","dynamicCineEnabled","_getVolumeFromViewport","playClipContext","waitForRendered","frameTimeVectorEnabled","waitForRenderedCount","viewportStatus","RENDERED","_createStackViewportCinePlayContext","isDynamicVolume","numTimePoints","timePointIndex","_createDynamicVolumeViewportCinePlayContext","cachedScrollInfo","scrollInfo","getScrollInfo","volumeViewPlaneNormal","_createVolumeViewportCinePlayContext","_createCinePlayContext","playClipData","isDynamicCinePlaying","_stopDynamicVolumeCine","_stopClip","intervalId","framesPerSecond","lastFrameTimeStamp","ignoreFrameTimeVector","usingFrameTimeVector","frameTimeVector","speed","frameTimeVectorSpeedMultiplier","timeouts","isTimeVarying","sample","delay","limit","_getPlayClipTimeouts","playClipAction","newStepIndex","CLIP_STOPPED","playClipTimeoutHandler","setInterval","CLIP_STARTED","stopClip","stopDynamicCine","cineToolData","clearInterval","_stopClipWithData","dynamicCineElement","volumes","_getVolumesFromViewport","interpolateAnnotation","shouldPreventInterpolation","interpolatedCanvasPoints","requestType","Prefetch","priority","lowEnd","highEnd","getStackData","currentImageIdIndex","getPromiseRemovedHandler","stackData","stackPrefetchData","indicesToRequest","clearFromImageIds","imageIdSet","requestDetails","additionalDetails","resetPrefetchTimeout","maxImagesToPrefetch","preserveExistingPool","resetPrefetchDelay","prefetch","stackPrefetch","removeFromList","getImageLoadObject","isLoaded","imageLoadPoolManager","clearRequestStack","nearest","nearestIndex","nextImageIdIndex","lowerIndex","higherIndex","imageIdsToPrefetch","currentIndex","shouldLoadLower","shouldLoadHigher","requestFn","imageLoader","useNorm16Texture","rendering","targetBuffer","addRequest","onImageUpdated","indexOfCurrentImage","STACK_NEW_IMAGE","promiseRemovedHandler","IMAGE_CACHE_IMAGE_REMOVED","getConfiguration","minBefore","maxAfter","directionExtraImages","indicesToRequestCopy","filterRequests","getCachedImageBasedOnImageURI","decodeTimeInMS","loadTimeInMS","sizeInBytes","usage","getMaxCacheSize","cacheFill","fillTime","fillSize","initialTime","initialSize","updateToolState","doneCallback","stackCount","totalBytes","signum","positionFraction","minIndex","maxIndex","dynamicVolume","frames","frameNumbers","maskVolumeId","imageCoordinate","segScalarData","indexArray","dataInTime","allScalarData","getScalarDataArrays","indexValues","activeScalarData","_getTimePointDataMask","coordinate","worldToIndex","_getTimePointDataCoordinate","operation","numFrames","typedArrays","arrayLength","finalArray","SUM","currentArray","SUBTRACT","AVERAGE","onImageRendered","customCallbackHandler","handlerType","customFunction","activeTool","filterToolsWithMoveableHandles","ToolAndAnnotations","toolsWithMoveableHandles","filterMoveableAnnotationTools","moveableAnnotationTools","shiftKey","ctrlKey","ShiftCtrl","altKey","ShiftAlt","metaKey","ShiftMeta","Shift","CtrlAlt","CtrlMeta","Ctrl","AltMeta","Alt","Meta","getActiveToolForMouseEvent","mouseEvent","modifierKey","getMouseModifier","defaultMousePrimary","getDefaultMousePrimary","correctBinding","bindings","binding","getToolsWithModesForMouseEvent","evtButton","mouseDown","isPrimaryClick","applicableTools","annotationToolsWithAnnotations","annotationToolsWithMoveableHandles","isMultiSelect","getAnnotationForSelection","toggleAnnotationSelection","toolsWithMovableHandles","mouseDownActivate","mouseDrag","mouseMove","activeAndPassiveTools","toolsWithAnnotations","toolsWithoutAnnotations","toolAndAnnotation","getActiveToolForKeyboardEvent","keyDown","setViewportsCursorByToolName","keyUp","CAMERA_MODIFIED","IMAGE_SPACING_CALIBRATED","getActiveToolForTouchEvent","touchEvent","numTouchPoints","getToolsWithModesForTouchEvent","touchStart","touchStartActivate","touchDrag","addEnabledElement","svgLayer","svgLayerId","pointerEvents","defs","feOffset","feColorMatrix","feBlend","_createSvgAnnotationLayer","newNode","viewportUid","renderingEngineUid","elementHash","_setSvgNodeCache","imageRenderedEventDispatcher","cameraModifiedEventDispatcher","imageSpacingCalibratedEventDispatcher","synchronizersFilteredByIds","synchronizer","notDisabled","isDisabled","hasSourceViewport","hasTargetViewport","toolGroupFilteredByIds","tg","_removeViewportFromSynchronizers","sync","remove","_removeViewportFromToolGroup","removeViewports","_removeEnabledElement","foundElementIndex","elementDisabledEvt","_resetSvgNodeCache","internalViewportNode","_removeSvgNode","cancelActiveManipulations","toolsWithData","_getViewportIndex","ar","_containsViewport","synchronizerId","eventHandler","_viewportOptions","_onEvent","_ignoreFiredEvents","_targetViewports","_sourceViewports","fireEvent","_enabled","_eventName","_eventHandler","_options","_hasSourceElements","setOptions","getOptions","addTarget","addSource","_updateDisableHandlers","getSourceViewports","getTargetViewports","destroy","removeSource","removeTarget","_getViewportElement","sourceEvent","ex","vp1","vp2","unique","vps","u","_getUniqueViewports","_remove","disableHandler","elementDisabledEvent","vUid","ELEMENT_DISABLED","synchronizerIndex","ToolGroup","toolInstanceName","toolDefinition","hasToolName","localToolInstance","instantiatedTool","addToolInstance","parentClassName","ToolClassToUse","ParentClass","ToolInstance","addViewport","renderingEngines","renderingEngineUIDToUse","vpId","getActivePrimaryMouseButtonTool","vpInfo","setToolMode","setToolDisabled","setToolEnabled","setToolPassive","setToolActive","toolBindingsOptions","TouchBinding","MouseBinding","obj","binding1","binding2","hasSameBinding","useCursor","_hasMousePrimaryButtonBinding","_setCursorForViewports","_renderViewports","TOOL_ACTIVATED","prevToolOptions","getToolOptions","toolOptionsForTool","_getCursor","setToolConfiguration","_configuration","Primary","getToolConfiguration","configurationPath","toolGroupIndex","MODES","defaultManager","setAnnotationManager","resetAnnotationManager","manager","HTMLDivElement","ANNOTATION_ADDED","triggerAnnotationAddedForElement","viewportsToRender","triggerAnnotationAddedForFOR","ANNOTATION_REMOVED","annotationManagerUID","csToolsInitialized","init","defaultConfiguration","_removeCornerstoneEventListeners","elementEnabledEvent","ELEMENT_ENABLED","_addCornerstoneEventListeners","_removeCornerstoneToolsEventListeners","segmentationDataModifiedEventListener","segmentationRepresentationModifiedEventListener","cameraSyncCallback","synchronizerInstance","cameraModifiedEvent","tViewport","createCameraPositionSynchronizer","synchronizerName","voiSyncCallback","voiModifiedEvent","invertStateChanged","tProperties","syncInvertState","createVOISynchronizer","VOI_MODIFIED","zoomPanSyncCallback","sViewport","syncZoom","srcZoom","getZoom","setZoom","syncPan","srcPan","getPan","setPan","createZoomPanSynchronizer","getSpatialRegistration","sourceId","stackImageSyncCallback","disabled","imageId1","sourceImagePositionPatient","targetImageIds","viewport1","viewport2","viewPlaneNormal1","viewPlaneNormal2","dotProducts","areViewportsCoplanar","registrationMatrixMat4","useInitialPosition","targetImagePositionPatientWithRegistrationMatrix","closestImageIdIndex2","closestImageIdIndex","createStackImageSynchronizer","HASH_UNDEFINED","INFINITY","funcTag","genTag","symbolTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","freeGlobal","freeSelf","self","Function","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","IE_PROTO","funcToString","objectToString","reIsNative","RegExp","getNative","nativeCreate","symbolProto","symbolToString","Hash","entry","ListCache","MapCache","assocIndexOf","other","baseGet","isSymbol","test","isKey","stringToPath","toKey","baseIsNative","isObject","pattern","tag","isFunction","isHostObject","toSource","getMapData","__data__","getValue","memoize","baseToString","number","quote","resolver","memoized","Cache","isObjectLike","module","exports","defaultValue","toStringTag","__esModule","__values","iterator","next","done","FixedSizeSet","ObjectCache","CompareCache","Lazy","return","getPrototypeOf","StringWalker","applyMixin","getOwnPropertyNames","applyDefaults","forEachArray","forEachObject","objectLength","getObjectValue","removeObjectValue","clone","isBoolean","isNumber","isString","isSet","isMap","isEmpty","isPlainObject","isIterable","valueOf","utf8Encode","utf8Decode","Before","Equal","After","BoundaryPosition","None","Capturing","AtTarget","Bubbling","EventPhase","Element","Attribute","Text","CData","EntityReference","Entity","ProcessingInstruction","Comment","Document","DocumentType","DocumentFragment","Notation","NodeType","Disconnected","Preceding","Following","Contains","ContainedBy","ImplementationSpecific","Position","Accept","Reject","Skip","FilterResult","All","CDataSection","WhatToShow","StartToStart","StartToEnd","EndToEnd","EndToStart","HowToCompare","Cast","Guard","EmptySet","stat","noTargetGet","forced","sham","withoutSetter","_features","mutationObservers","customElements","slots","steps","_window","_compareCache","_rangeList","setFeatures","create_window","_instance","dom","__importStar","base64","byte","byteSequence","codePoint","json","namespace","queue","__extends","setPrototypeOf","__proto__","DOMException","DOMStringSizeError","WrongDocumentError","NoDataAllowedError","NoModificationAllowedError","NotSupportedError","InUseAttributeError","InvalidStateError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","E","TimeoutError","D","InvalidNodeTypeError","S","DataCloneError","C","NotImplementedError","A","HierarchyRequestError","N","NotFoundError","T","IndexSizeError","O","SyntaxError","F","InvalidCharacterError","kind","construct","instanceOf","predicate","represent","styleAliases","globalThis","idl_defineConst","writable","isElementNode","isShadowRoot","shadowRoot","_firstChild","_nextSibling","_parent","_children","isDocumentTypeNode","isCharacterDataNode","_data","_host","tree_getFirstDescendantNode","tree_getNextDescendantNode","tree_getDescendantNodes","tree_getDescendantElements","tree_getSiblingNodes","tree_getFirstAncestorNode","tree_getNextAncestorNode","tree_getAncestorNodes","tree_getCommonAncestor","tree_getFollowingNode","tree_getPrecedingNode","_previousSibling","_lastChild","tree_isConstrained","_nodeType","hasChildNodes","tree_nodeLength","tree_isEmpty","tree_rootNode","tree_isDescendantOf","tree_isAncestorOf","tree_isHostIncludingAncestorOf","isDocumentFragmentNode","tree_isSiblingOf","tree_isPreceding","tree_isFollowing","tree_isParentOf","tree_isChildOf","tree_previousSibling","tree_nextSibling","tree_firstChild","tree_lastChild","tree_treePosition","tree_index","tree_retarget","isNode","host","getterFor","Arguments","unsafe","enforce","ACCESSORS","create_domImplementation","DOMImplementationImpl","_create","WindowImpl","create_xmlDocument","XMLDocumentImpl","create_document","DocumentImpl","create_abortController","AbortControllerImpl","create_abortSignal","AbortSignalImpl","create_documentType","DocumentTypeImpl","create_element","ElementImpl","create_htmlElement","create_htmlUnknownElement","create_documentFragment","DocumentFragmentImpl","create_shadowRoot","ShadowRootImpl","create_attr","AttrImpl","create_text","TextImpl","create_cdataSection","CDATASectionImpl","create_comment","CommentImpl","create_processingInstruction","ProcessingInstructionImpl","create_htmlCollection","HTMLCollectionImpl","create_nodeList","NodeListImpl","create_nodeListStatic","NodeListStaticImpl","create_namedNodeMap","NamedNodeMapImpl","create_range","RangeImpl","create_nodeIterator","NodeIteratorImpl","create_treeWalker","TreeWalkerImpl","create_nodeFilter","NodeFilterImpl","create_mutationRecord","MutationRecordImpl","create_domTokenList","DOMTokenListImpl","_root","_reference","_pointerBeforeReference","isSlot","_name","shadowTree_assignSlotablesForATree","isSlotable","shadowTree_isAssigned","shadowTree_assignSlotables","_assignedSlot","shadowTree_assignASlot","_uniqueIdentifier","dom_runRemovingSteps","dom_runCloningSteps","dom_runAdoptingSteps","dom_runAttributeChangeSteps","features","_attributeChangeSteps","dom_runInsertionSteps","dom_runNodeIteratorPreRemovingSteps","dom_hasSupportedTokens","dom_getSupportedTokens","dom_runEventConstructingSteps","dom_runChildTextContentChangeSteps","P","I","L","M","B","R","U","G","X","W","H","J","Y","V","K","$","Q","Z","ee","te","QObject","re","findChild","ne","ie","description","ae","se","he","ue","ce","wrap","for","keyFor","useSetter","useSimple","__childNodes","_nodeDocumentOverride","_associatedDocument","__registeredObserverList","_htmlUppercasedQualifiedName","isAttrNode","_qualifiedName","isExclusiveTextNode","isCDATASectionNode","isProcessingInstructionNode","_target","isCommentNode","isDocumentNode","urlSerializer","_nodeDocument","_URL","shadowTree_isConnected","getRootNode","composed","_childNodes","_value","attr_setAnExistingAttributeValue","characterData_replaceData","text_descendantTextContent","node_stringReplaceAll","normalize","text_contiguousExclusiveTextNodes","rangeList","_start","_end","mutation_remove","cloneNode","node_clone","isEqualNode","node_equals","isSameNode","compareDocumentPosition","_element","_attributeList","compareCache","check","contains","lookupPrefix","node_locateANamespacePrefix","documentElement","lookupNamespaceURI","node_locateANamespace","isDefaultNamespace","mutation_preInsert","mutation_append","replaceChild","mutation_replace","mutation_preRemove","_getTheParent","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","EventTargetImpl","NodeImpl","every","__read","__spread","nodeName","document_adopt","observer_queueTreeMutationRecord","_documentElement","_hasNamespaces","_namespace","_namespacePrefix","_shadowRoot","isTextNode","_assignedNodes","shadowTree_signalASlotChange","isCustomElementNode","customElement_enqueueACustomElementCallbackReaction","customElement_tryToUpgrade","nodeIterator_iteratorList","_registeredObserverList","subtree","observer","mutation_ensurePreInsertionValidity","mutation_insert","mutation_replaceAll","isNothing","toArray","repeat","isNegativeZero","NEGATIVE_INFINITY","include","implicit","explicit","loadKind","compiledImplicit","compiledExplicit","compiledTypeMap","scalar","sequence","mapping","propertyIsEnumerable","level","_builderOptions","declaration","docType","comment","instruction","cdata","openTagBegin","openTagEnd","closeTag","attribute","beginElement","endElement","serializeNode","currentNode","NamespacePrefixMap","XML","_serializeNodeNS","_serializeNode","nodeType","_serializeElementNS","_serializeDocumentNS","_serializeComment","_serializeText","_serializeDocumentFragmentNS","_serializeDocumentType","_serializeProcessingInstruction","_serializeCData","_serializeElement","_serializeDocument","_serializeDocumentFragment","localName","xml_isName","copy","_recordNamespaceInformation","namespaceURI","_generatePrefix","_serializeAttributeValue","_serializeAttributesNS","HTML","childNodes","_VoidElementNames","_serializeAttributes","xml_isLegalChar","endsWith","xml_isPubidChar","publicId","systemId","LocalNameSet","XMLNS","hasPrefix","BaseWriter","_mutationObserverMicrotaskQueued","_mutationObservers","_signalSlots","empty","_recordQueue","_nodeList","isTransientRegisteredObserver","_callback","event_fireAnEvent","bubbles","attributeFilter","characterData","childList","attributeOldValue","characterDataOldValue","observer_queueAMutationObserverMicrotask","observer_notifyMutationObservers","observer_queueMutationRecord","observer_queueAttributeMutationRecord","_localName","_asArray","_type","toLowerCase","element_has","element_change","element_append","element_remove","element_replace","element_getAnAttributeByName","element_getAnAttributeByNamespaceAndLocalName","element_getAnAttributeValue","element_setAnAttribute","element_setAnAttributeValue","element_removeAnAttributeByName","element_removeAnAttributeByNamespaceAndLocalName","element_createAnElement","_customElementState","_customElementDefinition","_is","customElement_lookUpACustomElementDefinition","document_elementInterface","customElement_upgrade","customElement_enqueueACustomElementUpgradeReaction","assert","customElement_isValidCustomElementName","element_insertAdjacent","reason","mark","message","random","domain","ActiveXObject","write","close","parentWindow","contentWindow","foo","proto","flags","_writerOptions","wellFormed","verbose","serialize","_currentList","_currentIndex","_listRegister","_process","_getAttrKey","_getNodeKey","_processSpecItem","_isElementNode","_isAttrNode","_isCommentNode","_isTextNode","_isInstructionNode","_isCDATANode","convert","att","ins","ObjectWriter","_items","_nullItems","__eventListenerList","__eventHandlerMap","once","eventTarget_flattenMore","isEventListener","handleEvent","eventTarget_addEventListener","eventTarget_flatten","_eventListenerList","eventTarget_removeEventListener","dispatchEvent","_dispatchFlag","_initializedFlag","_isTrusted","event_dispatch","substringData","characterData_substringData","appendData","insertData","deleteData","replaceData","before","after","replaceWith","CharacterDataImpl","asNode","_mode","shadowTree_findASlot","shadowTree_findSlotables","shadowTree_findFlattenedSlotables","customElement_isValidElementName","customElement_isVoidElementName","customElement_isValidShadowHostName","parser","_docType","dtd","pubID","sysID","_comment","com","_text","txt","_instruction","_cdata","_attribute","_sanitize","sanitizeInput","invalidCharReplacement","_decodeText","_entityTable","fromCodePoint","_decodeAttributeValue","_parse","sanitize","gt","amp","quot","apos","BaseReader","XMLBuilderImpl","XMLBuilderCBImpl","builder","fragment","createCB","fragmentCB","version","copyright","IteratorPrototype","BUGGY_SAFARI_ITERATORS","DefaultBuilderOptions","standalone","keepNullNodes","keepNullAttributes","ignoreConverters","defaultNamespace","namespaceAlias","html","xml","xmlns","mathml","svg","xlink","XMLBuilderOptionKeys","DefaultXMLBuilderCBOptions","prettyPrint","indent","newline","allowEmptyTags","spaceBeforeSlash","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","sticky","multiline","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","unicode","groups","Surrogate","ScalarValue","NonCharacter","ASCIICodePoint","ASCIITabOrNewLine","ASCIIWhiteSpace","C0Control","C0ControlOrSpace","Control","ASCIIDigit","ASCIIUpperHexDigit","ASCIILowerHexDigit","ASCIIHexDigit","ASCIIUpperAlpha","ASCIILowerAlpha","ASCIIAlpha","ASCIIAlphanumeric","_timeStamp","_relatedTarget","_touchTargetList","isMouseEvent","_activationBehavior","isWindow","_bubbles","_path","shadowAdjustedTarget","relatedTarget","touchTargetList","_legacyPreActivationBehavior","_eventPhase","_currentTarget","_stopPropagationFlag","_stopImmediatePropagationFlag","_canceledFlag","_legacyCanceledActivationBehavior","invocationTarget","invocationTargetInShadowTree","rootOfClosedTree","slotInClosedTree","_currentEvent","_inPassiveListenerFlag","event_setTheCanceledFlag","_cancelable","event_initialize","event_createAnEvent","event_innerEventCreationSteps","event_appendToAnEventPath","event_invoke","event_innerInvoke","EventImpl","event_createLegacyEvent","CustomEventImpl","event_getterEventHandlerIDLAttribute","event_setterEventHandlerIDLAttribute","event_determineTheTargetOfAnEventHandler","event_getTheCurrentValueOfAnEventHandler","event_activateAnEventHandler","event_deactivateAnEventHandler","_encoding","labels","_contentType","scheme","username","password","port","query","_cannotBeABaseURLFlag","_blobURLEntry","_origin","_nodeDocumentOverwrite","_implementation","node_listOfElementsWithQualifiedName","getElementsByTagNameNS","node_listOfElementsWithNamespace","getElementsByClassName","node_listOfElementsWithClassNames","is","document_internalCreateElementNS","createDocumentFragment","createTextNode","createCDATASection","createComment","createProcessingInstruction","importNode","adoptNode","createAttribute","createAttributeNS","namespace_validateAndExtract","createEvent","createRange","createNodeIterator","_whatToShow","_iteratorCollection","_filter","acceptNode","createTreeWalker","getElementById","prepend","querySelectorAll","hasAttributes","getAttributeNames","getAttributeNS","setAttributeNS","removeAttributeNS","hasAttribute","toggleAttribute","hasAttributeNS","getAttributeNode","getAttributeNodeNS","setAttributeNode","setAttributeNodeNS","removeAttributeNode","attachShadow","disableShadow","closest","matches","webkitMatchesSelector","insertAdjacentElement","insertAdjacentText","text_contiguousTextNodes","splitText","text_split","_startNode","_startOffset","_endNode","_endOffset","_collapsed","AbstractRangeImpl","_activeFlag","TraverserImpl","_composedFlag","cancelable","composedPath","initEvent","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","traversal_filter","whatToShow","splitAStringOnASCIIWhitespace","orderedSet_parse","orderedSet_serialize","orderedSet_sanitize","orderedSet_contains","createDocument","DOMImplementation","AbortController","AbortSignal","AbstractRange","Attr","CDATASection","CharacterData","CustomEvent","DOMTokenList","Event","EventTarget","HTMLCollection","MutationObserver","MutationObserverImpl","MutationRecord","NamedNodeMap","NodeFilter","Node","NodeIterator","NodeList","NodeListStatic","Range","ShadowRoot","StaticRange","StaticRangeImpl","Traverser","TreeWalker","Window","XMLDocument","ChildNodeImpl","DocumentOrShadowRootImpl","NonDocumentTypeChildNodeImpl","NonElementParentNodeImpl","ParentNodeImpl","SlotableImpl","EOF","Declaration","DocType","CDATA","ClosingTag","TokenType","_debugInfo","ObjectReader","BaseCBWriter","inspectSource","NATIVE","POLYFILL","process","versions","v8","callee","ignoreCase","dotAll","codeAt","getConstructor","REQUIRED","setStrong","objectID","weakData","fastKey","getWeakData","onFreeze","stopped","stop","previous","TYPED_ARRAY_SUPPORT","RangeError","isEncoding","isBuffer","isView","lastIndexOf","readUInt16BE","fromByteArray","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","kMaxLength","poolSize","_augment","species","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","inspect","isFinite","toJSON","_arr","readUIntLE","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","toByteArray","isASCIIByte","byteLowercase","byteUppercase","byteCaseInsensitiveMatch","byteLessThan","isomorphicDecode","createDocumentType","namespace_validate","SVG","createHTMLDocument","hasFeature","_iteratorList","screenX","screenY","navigator","isRegisteredObserver","ftp","file","http","https","ws","wss","ParserState","SchemeStart","Scheme","NoScheme","remaining","File","SpecialRelativeOrAuthority","SpecialAuthoritySlashes","PathOrAuthority","CannotBeABaseURLPath","Fragment","Relative","SpecialAuthorityIgnoreSlashes","Authority","Path","RelativeSlash","Query","Host","Hostname","FileHost","PathStart","Port","FileSlash","eof","of","domainToASCII","setValidationErrorCallback","newURL","isSpecialScheme","isSpecial","defaultPort","includesCredentials","cannotHaveAUsernamePasswordPort","hostSerializer","iPv4Serializer","iPv6Serializer","urlParser","basicURLParser","setTheUsername","setThePassword","isSingleDotPathSegment","isDoubleDotPathSegment","shorten","isNormalizedWindowsDriveLetter","isWindowsDriveLetter","startsWithAWindowsDriveLetter","hostParser","iPv4NumberParser","iPv4Parser","iPv6Parser","opaqueHostParser","resolveABlobURL","percentEncode","percentDecode","stringPercentDecode","utf8PercentEncode","hostEquals","urlEquals","urlEncodedStringParser","urlEncodedParser","urlEncodedByteSerializer","urlEncodedSerializer","OpaqueOrigin","domainToUnicode","asciiSerializationOfAnOrigin","_signal","abort","abort_signalAbort","_abortedFlag","_abortAlgorithms","_publicId","_systemId","_live","Proxy","namedItem","reservedNames","Reflect","_length","getNamedItem","getNamedItemNS","setNamedItem","setNamedItemNS","removeNamedItem","removeNamedItemNS","setStart","range_setTheStart","setEnd","range_setTheEnd","setStartBefore","setStartAfter","setEndBefore","setEndAfter","collapse","selectNode","range_select","selectNodeContents","compareBoundaryPoints","range_root","boundaryPoint_position","deleteContents","range_collapsed","range_getContainedNodes","range_isContained","extractContents","range_extract","cloneContents","range_cloneTheContents","insertNode","range_insert","surroundContents","range_getPartiallyContainedNodes","cloneRange","detach","isPointInRange","comparePoint","intersectsNode","START_TO_START","START_TO_END","END_TO_END","END_TO_START","nextNode","nodeIterator_traverse","previousNode","_current","parentNode","treeWalker_traverseChildren","lastChild","nextSibling","treeWalker_traverseSiblings","previousSibling","FILTER_ACCEPT","FILTER_REJECT","FILTER_SKIP","SHOW_ALL","SHOW_ELEMENT","SHOW_ATTRIBUTE","SHOW_TEXT","SHOW_CDATA_SECTION","SHOW_ENTITY_REFERENCE","SHOW_ENTITY","SHOW_PROCESSING_INSTRUCTION","SHOW_COMMENT","SHOW_DOCUMENT","SHOW_DOCUMENT_TYPE","SHOW_DOCUMENT_FRAGMENT","SHOW_NOTATION","_addedNodes","_removedNodes","_attributeName","_attributeNamespace","_oldValue","_tokenSet","tokenList_updateSteps","toggle","supports","tokenList_validationSteps","tokenList_serializeSteps","_detail","initCustomEvent","xml_isQName","namespace_extractQName","parentElement","skipWhitespaceOnlyText","col","_str","_index","nextToken","skipIfStartsWith","openBracket","isWhiteSpaceToken","isSpace","seek","pi","doctype","throwError","openTag","skipSpace","takeUntil2","quotedString","skipUntil","pubId","sysId","takeUntilStartsWith","takeUntil","selfClosing","take","isQuote","XMLStringLexer","_xmlBuilderOptions","_isFragment","_domNode","XMLReader","JSONReader","YAMLReader","_extractNamespace","_doc","implementation","up","_updateNamespace","removeAtt","dec","import","doc","each","_getFirstDescendantNode","_getNextDescendantNode","_serialize","toObject","XMLWriter","MapWriter","JSONWriter","YAMLWriter","ownerDocument","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DataTransferItemList","FileList","HTMLAllCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","preventExtensions","__generator","sent","trys","ops","throw","_limit","_initialized","_initFunc","_pointer","_chars","_codePoint","codePointAt","_c","_remaining","_substring","_convertObject","forgivingBase64Encode","forgivingBase64Decode","LN2","parseJSONFromBytes","serializeJSONToBytes","parseJSONIntoInfraValues","convertAJSONDerivedJavaScriptValueToAnInfraValue","sortInAscendingOrder","sortInDescendingOrder","MathML","XLink","enqueue","dequeue","isSubsetOf","isSupersetOf","union","isCodeUnitPrefix","isCodeUnitLessThan","isomorphicEncode","isASCIIString","asciiLowercase","asciiUppercase","asciiCaseInsensitiveMatch","asciiEncode","asciiDecode","stripNewlines","normalizeNewlines","stripLeadingAndTrailingASCIIWhitespace","stripAndCollapseASCIIWhitespace","collectASequenceOfCodePoints","skipASCIIWhitespace","strictlySplit","splitAStringOnCommas","concatenate","abort_add","abort_remove","protocol","slashes","auth","hostname","hash","search","pathname","href","resolveObject","Url","javascript","gopher","decodeURIComponent","parseHost","toASCII","encodeURIComponent","escape","isNullOrUndefined","isNull","overflow","ucs2","toUnicode","webpackPolyfill","deprecate","paths","maxKeys","eventTarget_removeAllEventListeners","parentNode_convertNodesIntoANode","range_isPartiallyContained","commonAncestorContainer","selectors_scopeMatchASelectorsString","_indentation","_lengthToLastNewline","headless","indentTextOnlyNodes","_refs","suppressPretty","emptyNode","markup","_beginLine","_endLine","_indent","_isLeafNode","_key","_val","_descendantCount","DOMParser","XMLSerializer","takeRecords","__name","__assignedSlot","startContainer","endContainer","startOffset","endOffset","DOMParserImpl","parseFromString","XMLParserImpl","XMLSerializerImpl","serializeToString","_xmlSerialization","safeLoad","Type","Schema","FAILSAFE_SCHEMA","JSON_SCHEMA","CORE_SCHEMA","DEFAULT_SAFE_SCHEMA","DEFAULT_FULL_SCHEMA","load","loadAll","safeLoadAll","dump","safeDump","YAMLException","MINIMAL_SCHEMA","SAFE_SCHEMA","DEFAULT_SCHEMA","scan","compose","addConstructor","filename","schema","onWarning","legacy","listener","implicitTypes","typeMap","lineIndent","documents","YAML","checkLineBreaks","TAG","tagMap","anchor","anchorMap","column","getSnippet","canonical","lowercase","uppercase","camelcase","binary","octal","decimal","hexadecimal","POSITIVE_INFINITY","UTC","setTime","toISOString","esprima","body","expression","params","loaded","visit","attachComment","CommentHandler","attach","sourceType","jsx","JSXParser","Parser","parseModule","parseScript","comments","tokens","tolerant","errors","errorHandler","tokenize","Tokenizer","getNextToken","tolerate","Syntax","insertInnerComments","BlockStatement","innerComments","findTrailingComments","trailingComments","findLeadingComments","leadingComments","visitNode","Program","visitComment","loc","AssignmentExpression","AssignmentPattern","ArrayExpression","ArrayPattern","ArrowFunctionExpression","AwaitExpression","BinaryExpression","BreakStatement","CallExpression","CatchClause","ClassBody","ClassDeclaration","ClassExpression","ConditionalExpression","ContinueStatement","DoWhileStatement","DebuggerStatement","EmptyStatement","ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ExportSpecifier","ExpressionStatement","ForStatement","ForOfStatement","ForInStatement","FunctionDeclaration","FunctionExpression","Identifier","IfStatement","ImportDeclaration","ImportDefaultSpecifier","ImportNamespaceSpecifier","ImportSpecifier","Literal","LabeledStatement","LogicalExpression","MemberExpression","MetaProperty","MethodDefinition","NewExpression","ObjectExpression","ObjectPattern","Property","RestElement","ReturnStatement","SequenceExpression","SpreadElement","Super","SwitchCase","SwitchStatement","TaggedTemplateExpression","TemplateElement","TemplateLiteral","ThisExpression","ThrowStatement","TryStatement","UnaryExpression","UpdateExpression","VariableDeclaration","VariableDeclarator","WhileStatement","WithStatement","YieldExpression","JSXSyntax","JSXIdentifier","JSXNamespacedName","JSXMemberExpression","TokenName","parsePrimaryExpression","parseJSXRoot","startJSX","scanner","startMarker","lineNumber","finishJSX","reenterJSX","expectJSX","createJSXNode","collectComments","createJSXChildNode","scanXHTMLEntity","Character","isDecimalDigit","isHexDigit","XHTMLEntities","lexJSX","isIdentifierStart","isIdentifierPart","lex","nextJSXToken","lastMarker","convertToken","nextJSXText","isLineTerminator","peekJSXToken","saveState","scanComments","restoreState","throwUnexpectedToken","matchJSX","parseJSXIdentifier","finalize","parseJSXElementName","parseJSXAttributeName","parseJSXStringLiteralAttribute","getTokenRaw","parseJSXExpressionAttribute","tolerateError","parseAssignmentExpression","JSXExpressionContainer","parseJSXAttributeValue","parseJSXElement","parseJSXNameValueAttribute","JSXAttribute","parseJSXSpreadAttribute","JSXSpreadAttribute","parseJSXAttributes","parseJSXOpeningElement","JSXOpeningElement","parseJSXBoundaryElement","JSXClosingElement","parseJSXEmptyExpression","JSXEmptyExpression","parseJSXExpressionContainer","parseJSXChildren","JSXText","parseComplexJSXElement","JSXElement","opening","closing","isStartOfExpression","NonAsciiIdentifierStart","NonAsciiIdentifierPart","isWhiteSpace","isOctalDigit","openingElement","closingElement","argument","raw","generator","operator","AsyncArrowFunctionExpression","AsyncFunctionDeclaration","AsyncFunctionExpression","param","computed","ComputedMemberExpression","consequent","alternate","directive","Directive","specifiers","exported","local","imported","meta","static","Module","shorthand","regex","RegexLiteral","Script","expressions","StaticMemberExpression","discriminant","cases","quasi","tail","quasis","pe","fe","de","block","handler","finalizer","me","ye","ve","declarations","_e","ge","be","xe","delegate","ErrorHandler","Scanner","trackComment","operatorPrecedence","lookahead","hasLineTerminator","isModule","await","allowIn","allowStrictDirective","allowYield","firstCoverInitializedNameError","isAssignmentTarget","isBindingElement","inFunctionBody","inIteration","inSwitch","labelSet","strict","createError","unexpectedTokenError","Messages","UnexpectedToken","UnexpectedEOS","UnexpectedIdentifier","UnexpectedNumber","UnexpectedString","UnexpectedTemplate","isFutureReservedWord","UnexpectedReserved","isStrictModeReservedWord","StrictReservedWord","tolerateUnexpectedToken","multiLine","nextRegexToken","scanRegExp","createNode","expect","expectCommaSeparator","expectKeyword","matchKeyword","matchContextualKeyword","matchAssign","isolateCoverGrammar","inheritCoverGrammar","consumeSemicolon","matchAsyncFunction","parseFunctionExpression","StrictOctalLiteral","parseTemplateLiteral","parseGroupExpression","parseArrayInitializer","parseObjectInitializer","parseIdentifierName","parseClassExpression","parseSpreadElement","parsePropertyMethod","simple","parseFunctionSourceElements","firstRestricted","stricted","parsePropertyMethodFunction","parseFormalParameters","parsePropertyMethodAsyncFunction","parseObjectPropertyKey","isPropertyKey","parseObjectProperty","qualifiedPropertyName","parseGetterMethod","parseSetterMethod","parseGeneratorMethod","DuplicateProtoProperty","parseTemplateHead","head","cooked","parseTemplateElement","parseExpression","reinterpretExpressionAsPattern","parseRestElement","parseArguments","isIdentifierName","parseNewExpression","parseLeftHandSideExpression","parseAsyncArgument","parseAsyncArguments","parseLeftHandSideExpressionAllowCall","parseSuper","parseUpdateExpression","parseUnaryExpression","isRestrictedWord","StrictLHSPrefix","InvalidLHSInAssignment","StrictLHSPostfix","parseAwaitExpression","StrictDelete","parseExponentiationExpression","binaryPrecedence","parseBinaryExpression","parseConditionalExpression","checkPatternParam","validateParam","reinterpretAsCoverFormalsList","paramSet","StrictParamDupe","parseYieldExpression","StrictLHSAssignment","parseStatementListItem","IllegalExportDeclaration","parseExportDeclaration","IllegalImportDeclaration","parseImportDeclaration","parseLexicalDeclaration","inFor","parseFunctionDeclaration","parseClassDeclaration","isLexicalDeclaration","parseStatement","parseBlock","parseLexicalBinding","parsePattern","StrictVarName","DeclarationMissingInitializer","parseBindingList","parseBindingRestElement","parseArrayPattern","parsePatternWithDefault","parsePropertyPattern","parseVariableIdentifier","parseObjectPattern","LetInLexicalBinding","parseVariableDeclaration","parseVariableDeclarationList","parseVariableStatement","parseEmptyStatement","parseExpressionStatement","parseIfClause","StrictFunction","parseIfStatement","parseDoWhileStatement","parseWhileStatement","parseForStatement","ForInOfLoopInitializer","InvalidLHSInForIn","InvalidLHSInForLoop","parseContinueStatement","UnknownLabel","IllegalContinue","parseBreakStatement","IllegalBreak","parseReturnStatement","IllegalReturn","parseWithStatement","StrictModeWith","parseSwitchCase","parseSwitchStatement","MultipleDefaultsInSwitch","parseLabelledStatement","Redeclaration","GeneratorInLegacyContext","parseThrowStatement","NewlineAfterThrow","parseCatchClause","DuplicateBinding","StrictCatchVariable","parseFinallyClause","parseTryStatement","NoCatchOrFinally","parseDebuggerStatement","parseDirectivePrologues","StrictParamName","DefaultRestParameter","ParameterAfterRestParameter","parseFormalParameter","StrictFunctionName","parseDirective","IllegalLanguageModeDirective","BadGetterArity","BadSetterArity","BadSetterRestParameter","parseClassElement","ConstructorIsAsync","StaticPrototype","ConstructorSpecialMethod","DuplicateConstructor","parseClassElementList","parseClassBody","parseModuleSpecifier","InvalidModuleSpecifier","parseImportSpecifier","parseNamedImports","parseImportDefaultSpecifier","parseImportNamespaceSpecifier","NoAsAfterImportNamespace","MissingFromClause","parseExportSpecifier","recordError","constructError","InvalidEscapedReservedWord","InvalidHexEscapeSequence","InvalidRegExp","TemplateOctalLiteral","UnexpectedTokenIllegal","UnterminatedRegExp","curlyStack","skipSingleLineComment","skipMultiLineComment","isKeyword","scanHexEscape","scanUnicodeCodePointEscape","getIdentifier","getComplexIdentifier","octalToDecimal","scanIdentifier","scanPunctuator","scanHexLiteral","scanBinaryLiteral","scanOctalLiteral","isImplicitOctalLiteral","scanNumericLiteral","scanStringLiteral","scanTemplate","testRegExp","scanRegExpBody","scanRegExpFlags","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","nabla","isin","notin","ni","prod","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","equiv","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","lang","rang","curly","paren","beforeFunctionExpression","isRegexStart","trackRange","trackLoc","reader","noArrayIndent","skipInvalid","flowLevel","styleMap","sortKeys","noRefs","noCompatMode","condenseFlow","explicitTypes","duplicates","usedDuplicates","_hasDeclaration","_docTypeName","_hasDocumentElement","_currentElementSerialized","_openTags","_ended","_fragment","_writer","JSONCBWriter","YAMLCBWriter","XMLCBWriter","on","_prefixMap","_prefixIndex","_push","frontMatter","emit","_fromNode","_serializeOpenTag","_currentElement","_serializeCloseTag","_isPrefixMapModified","hasData","EventEmitter","_lineLength","_hasChildren","_additionalLevel","_comma","_sep","_rootWritten","_events","_eventsCount","_maxListeners","defaultMaxListeners","newListener","warned","emitter","fired","removeListener","wrapFn","setMaxListeners","getMaxListeners","addListener","prependListener","prependOnceListener","off","removeAllListeners","listeners","rawListeners","listenerCount","eventNames"],"sourceRoot":""}