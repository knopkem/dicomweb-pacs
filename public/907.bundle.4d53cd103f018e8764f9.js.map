{"version":3,"file":"907.bundle.4d53cd103f018e8764f9.js","mappings":"mJAEMA,E,iDAAKC,GACLC,EAAqB,GAAEF,oC,eCA7B,MAAM,SAAEG,GAAaC,EAAAA,QAMfC,EAAeC,OAAOC,OAJL,CACrBC,iBAAkB,kC,oOCFpB,MAAMC,EAAYC,EAAAA,MAAW,IACpB,iCAGHC,EAA6BC,GAE/BF,EAAAA,cAACA,EAAAA,SAAc,CAACG,SAAUH,EAAAA,cAAA,WAAK,eAC7BA,EAAAA,cAACD,EAAcG,IAmCrB,EA3B0B,CAIxBZ,GAAE,EAOFc,kBAAiBA,EAAC,gBAAEC,EAAe,iBAAEC,KAW5B,CAAC,CAAEC,KAAM,YAAaC,UAVcN,GAEvCF,EAAAA,cAACC,EAA0BQ,EAAA,CACzBJ,gBAAiBA,EACjBC,iBAAkBA,GACdJ,MAOZQ,yBDca,UAAkC,gBAAEL,EAAe,iBAAEC,IAKlE,MAAO,CACL,CACEC,KAAM,YACNZ,eACAgB,yBAR6BC,GA/CDC,EAACD,EAAWP,EAAiBC,KAC7D,MAAMQ,EAAaR,EAAiBS,sBAAsB,GAC1D,OAAOH,EAAUI,KAAIC,IACnB,MAAM,SAAEC,EAAQ,eAAEC,EAAc,qBAAEC,GAAyBH,GACrD,kBAAEI,EAAoB,MAAK,+BAAEC,GAAmCL,GAChE,aAAEM,EAAY,WAAEC,EAAU,kBAAEC,EAAiB,iBAAEC,EAAgB,YAAEC,GAAgBV,EACjFW,EAASd,EAAWe,SAASC,UAAU,CAC3Cb,WACAc,IAAK,uBACLC,YAAaV,GAAkC,kBAC/CW,WAAY,QAgCd,MA7BmB,CAEjBf,WACAgB,sBAAuBC,EAAAA,MAAMC,OAC7Bf,oBACAE,eACAC,aACAL,iBACAM,oBACAC,mBACAlC,kBAAiB,EACjBmC,cACAU,iBAAkB,KAClBC,aAAc,KACdV,SACAhB,UAAW,CAACK,GACZsB,aAAczB,EAAWe,SAASC,UAAU,CAC1Cb,WACAuB,YAAa,aACbR,YAAa,aACbD,IAAK,WAEPU,qBAAqB,EACrBC,UAAU,EACV/C,eACAgD,eAAgB,EAChBC,aAAc,EACd3B,WAEe,GACjB,EAKOJ,CAA0BD,EAAWP,EAAiBC,IAUjE,E","sources":["webpack:///../../../extensions/dicom-pdf/src/id.js","webpack:///../../../extensions/dicom-pdf/src/getSopClassHandlerModule.js","webpack:///../../../extensions/dicom-pdf/src/index.tsx"],"sourcesContent":["import packageJson from '../package.json';\n\nconst id = packageJson.name;\nconst SOPClassHandlerId = `${id}.sopClassHandlerModule.dicom-pdf`;\n\nexport { id, SOPClassHandlerId };\n","import { SOPClassHandlerId } from './id';\nimport { utils, classes } from '@ohif/core';\n\nconst { ImageSet } = classes;\n\nconst SOP_CLASS_UIDS = {\n  ENCAPSULATED_PDF: '1.2.840.10008.5.1.4.1.1.104.1',\n};\n\nconst sopClassUids = Object.values(SOP_CLASS_UIDS);\n\nconst _getDisplaySetsFromSeries = (instances, servicesManager, extensionManager) => {\n  const dataSource = extensionManager.getActiveDataSource()[0];\n  return instances.map(instance => {\n    const { Modality, SOPInstanceUID, EncapsulatedDocument } = instance;\n    const { SeriesDescription = 'PDF', MIMETypeOfEncapsulatedDocument } = instance;\n    const { SeriesNumber, SeriesDate, SeriesInstanceUID, StudyInstanceUID, SOPClassUID } = instance;\n    const pdfUrl = dataSource.retrieve.directURL({\n      instance,\n      tag: 'EncapsulatedDocument',\n      defaultType: MIMETypeOfEncapsulatedDocument || 'application/pdf',\n      singlepart: 'pdf',\n    });\n\n    const displaySet = {\n      //plugin: id,\n      Modality,\n      displaySetInstanceUID: utils.guid(),\n      SeriesDescription,\n      SeriesNumber,\n      SeriesDate,\n      SOPInstanceUID,\n      SeriesInstanceUID,\n      StudyInstanceUID,\n      SOPClassHandlerId,\n      SOPClassUID,\n      referencedImages: null,\n      measurements: null,\n      pdfUrl,\n      instances: [instance],\n      thumbnailSrc: dataSource.retrieve.directURL({\n        instance,\n        defaultPath: '/thumbnail',\n        defaultType: 'image/jpeg',\n        tag: 'Absent',\n      }),\n      isDerivedDisplaySet: true,\n      isLoaded: false,\n      sopClassUids,\n      numImageFrames: 0,\n      numInstances: 1,\n      instance,\n    };\n    return displaySet;\n  });\n};\n\nexport default function getSopClassHandlerModule({ servicesManager, extensionManager }) {\n  const getDisplaySetsFromSeries = instances => {\n    return _getDisplaySetsFromSeries(instances, servicesManager, extensionManager);\n  };\n\n  return [\n    {\n      name: 'dicom-pdf',\n      sopClassUids,\n      getDisplaySetsFromSeries,\n    },\n  ];\n}\n","import React from 'react';\nimport getSopClassHandlerModule from './getSopClassHandlerModule';\nimport { id } from './id.js';\n\nconst Component = React.lazy(() => {\n  return import(/* webpackPrefetch: true */ './viewports/OHIFCornerstonePdfViewport');\n});\n\nconst OHIFCornerstonePdfViewport = props => {\n  return (\n    <React.Suspense fallback={<div>Loading...</div>}>\n      <Component {...props} />\n    </React.Suspense>\n  );\n};\n\n/**\n *\n */\nconst dicomPDFExtension = {\n  /**\n   * Only required property. Should be a unique value across all extensions.\n   */\n  id,\n  /**\n   *\n   *\n   * @param {object} [configuration={}]\n   * @param {object|array} [configuration.csToolsConfig] - Passed directly to `initCornerstoneTools`\n   */\n  getViewportModule({ servicesManager, extensionManager }) {\n    const ExtendedOHIFCornerstonePdfViewport = props => {\n      return (\n        <OHIFCornerstonePdfViewport\n          servicesManager={servicesManager}\n          extensionManager={extensionManager}\n          {...props}\n        />\n      );\n    };\n\n    return [{ name: 'dicom-pdf', component: ExtendedOHIFCornerstonePdfViewport }];\n  },\n  getSopClassHandlerModule,\n};\n\nexport default dicomPDFExtension;\n"],"names":["id","packageJson","SOPClassHandlerId","ImageSet","classes","sopClassUids","Object","values","ENCAPSULATED_PDF","Component","React","OHIFCornerstonePdfViewport","props","fallback","getViewportModule","servicesManager","extensionManager","name","component","_extends","getSopClassHandlerModule","getDisplaySetsFromSeries","instances","_getDisplaySetsFromSeries","dataSource","getActiveDataSource","map","instance","Modality","SOPInstanceUID","EncapsulatedDocument","SeriesDescription","MIMETypeOfEncapsulatedDocument","SeriesNumber","SeriesDate","SeriesInstanceUID","StudyInstanceUID","SOPClassUID","pdfUrl","retrieve","directURL","tag","defaultType","singlepart","displaySetInstanceUID","utils","guid","referencedImages","measurements","thumbnailSrc","defaultPath","isDerivedDisplaySet","isLoaded","numImageFrames","numInstances"],"sourceRoot":""}