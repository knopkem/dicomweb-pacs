{"version":3,"file":"732.bundle.56968fbdf8b5bc6cfe3b.js","mappings":"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AAS,EACTD,EAAOf,EAAKO,OACZS,GAAS,EACTb,KAAKU,WAAWI,GAAGmD,SAAWrD,GAAQ,EACtCZ,KAAKU,WAAWI,GAAGkD,SAAkB,GAAPpD,CAChC,CASA,GARAZ,KAAKsE,UAAYzE,EAAKO,OACtBS,GAAS,EACTb,KAAKuE,YAAc1E,EAAKO,OACxBS,GAAS,EACTD,EAAOf,EAAKO,OACZJ,KAAKoE,GAAKxD,GAAQ,EAClBZ,KAAKqE,GAAY,GAAPzD,EACVC,GAAS,EACLA,IAAUd,EACZ,MAAM,IAAIgB,MAAM,+CAElB,OAAO,CACT,GAIEyD,EAAe,WACjB,MAAM9E,EAAS,IAAI+E,YAAY,GAO/B,OANA,IAAIC,SAAShF,GAAQiF,SACnB,EACA,KACA,GAGmC,MAA9B,IAAIC,WAAWlF,GAAQ,EAChC,CATmB,GAUfmF,EAAU,MAAMC,EAClBpC,cAAgB,CACd,EACA,EACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEFA,aAAe,CACb,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEFA,2BAA6B,GAC7BA,WAAa,WACbA,4BAA8B,MAC9BA,0BAA4B,MAC5BhD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","sources":["webpack:///../../../node_modules/jpeg-lossless-decoder-js/release/lossless.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/component-spec.ts\nvar ComponentSpec = {\n  hSamp: 0,\n  quantTableSel: 0,\n  vSamp: 0\n};\n\n// src/data-stream.ts\nvar DataStream = class {\n  buffer;\n  index;\n  constructor(data, offset, length) {\n    this.buffer = new Uint8Array(data, offset, length);\n    this.index = 0;\n  }\n  get16() {\n    const value = (this.buffer[this.index] << 8) + this.buffer[this.index + 1];\n    this.index += 2;\n    return value;\n  }\n  get8() {\n    const value = this.buffer[this.index];\n    this.index += 1;\n    return value;\n  }\n};\n\n// src/frame-header.ts\nvar FrameHeader = class {\n  dimX = 0;\n  dimY = 0;\n  numComp = 0;\n  precision = 0;\n  components = [];\n  read(data) {\n    let count = 0;\n    let temp;\n    const length = data.get16();\n    count += 2;\n    this.precision = data.get8();\n    count += 1;\n    this.dimY = data.get16();\n    count += 2;\n    this.dimX = data.get16();\n    count += 2;\n    this.numComp = data.get8();\n    count += 1;\n    for (let i = 1; i <= this.numComp; i += 1) {\n      if (count > length) {\n        throw new Error(\"ERROR: frame format error\");\n      }\n      const c = data.get8();\n      count += 1;\n      if (count >= length) {\n        throw new Error(\"ERROR: frame format error [c>=Lf]\");\n      }\n      temp = data.get8();\n      count += 1;\n      if (!this.components[c]) {\n        this.components[c] = { ...ComponentSpec };\n      }\n      this.components[c].hSamp = temp >> 4;\n      this.components[c].vSamp = temp & 15;\n      this.components[c].quantTableSel = data.get8();\n      count += 1;\n    }\n    if (count !== length) {\n      throw new Error(\"ERROR: frame format error [Lf!=count]\");\n    }\n    return 1;\n  }\n};\n\n// src/utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  crc32: () => crc32,\n  crcTable: () => crcTable,\n  createArray: () => createArray,\n  makeCRCTable: () => makeCRCTable\n});\nvar createArray = (...dimensions) => {\n  if (dimensions.length > 1) {\n    const dim = dimensions[0];\n    const rest = dimensions.slice(1);\n    const newArray = [];\n    for (let i = 0; i < dim; i++) {\n      newArray[i] = createArray(...rest);\n    }\n    return newArray;\n  } else {\n    return Array(dimensions[0]).fill(void 0);\n  }\n};\nvar makeCRCTable = function() {\n  let c;\n  const crcTable2 = [];\n  for (let n = 0; n < 256; n++) {\n    c = n;\n    for (let k = 0; k < 8; k++) {\n      c = c & 1 ? 3988292384 ^ c >>> 1 : c >>> 1;\n    }\n    crcTable2[n] = c;\n  }\n  return crcTable2;\n};\nvar crcTable = makeCRCTable();\nvar crc32 = function(buffer) {\n  const uint8view = new Uint8Array(buffer);\n  let crc = 0 ^ -1;\n  for (let i = 0; i < uint8view.length; i++) {\n    crc = crc >>> 8 ^ crcTable[(crc ^ uint8view[i]) & 255];\n  }\n  return (crc ^ -1) >>> 0;\n};\n\n// src/huffman-table.ts\nvar HuffmanTable = class _HuffmanTable {\n  static MSB = 2147483648;\n  l;\n  th;\n  v;\n  tc;\n  constructor() {\n    this.l = createArray(4, 2, 16);\n    this.th = [0, 0, 0, 0];\n    this.v = createArray(4, 2, 16, 200);\n    this.tc = [\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0]\n    ];\n  }\n  read(data, HuffTab) {\n    let count = 0;\n    let temp;\n    let t;\n    let c;\n    let i;\n    let j;\n    const length = data.get16();\n    count += 2;\n    while (count < length) {\n      temp = data.get8();\n      count += 1;\n      t = temp & 15;\n      if (t > 3) {\n        throw new Error(\"ERROR: Huffman table ID > 3\");\n      }\n      c = temp >> 4;\n      if (c > 2) {\n        throw new Error(\"ERROR: Huffman table [Table class > 2 ]\");\n      }\n      this.th[t] = 1;\n      this.tc[t][c] = 1;\n      for (i = 0; i < 16; i += 1) {\n        this.l[t][c][i] = data.get8();\n        count += 1;\n      }\n      for (i = 0; i < 16; i += 1) {\n        for (j = 0; j < this.l[t][c][i]; j += 1) {\n          if (count > length) {\n            throw new Error(\"ERROR: Huffman table format error [count>Lh]\");\n          }\n          this.v[t][c][i][j] = data.get8();\n          count += 1;\n        }\n      }\n    }\n    if (count !== length) {\n      throw new Error(\"ERROR: Huffman table format error [count!=Lf]\");\n    }\n    for (i = 0; i < 4; i += 1) {\n      for (j = 0; j < 2; j += 1) {\n        if (this.tc[i][j] !== 0) {\n          this.buildHuffTable(HuffTab[i][j], this.l[i][j], this.v[i][j]);\n        }\n      }\n    }\n    return 1;\n  }\n  //\tBuild_HuffTab()\n  //\tParameter:  t       table ID\n  //\t            c       table class ( 0 for DC, 1 for AC )\n  //\t            L[i]    # of codewords which length is i\n  //\t            V[i][j] Huffman Value (length=i)\n  //\tEffect:\n  //\t    build up HuffTab[t][c] using L and V.\n  buildHuffTable(tab, L, V) {\n    let currentTable, k, i, j, n;\n    const temp = 256;\n    k = 0;\n    for (i = 0; i < 8; i += 1) {\n      for (j = 0; j < L[i]; j += 1) {\n        for (n = 0; n < temp >> i + 1; n += 1) {\n          tab[k] = V[i][j] | i + 1 << 8;\n          k += 1;\n        }\n      }\n    }\n    for (i = 1; k < 256; i += 1, k += 1) {\n      tab[k] = i | _HuffmanTable.MSB;\n    }\n    currentTable = 1;\n    k = 0;\n    for (i = 8; i < 16; i += 1) {\n      for (j = 0; j < L[i]; j += 1) {\n        for (n = 0; n < temp >> i - 7; n += 1) {\n          tab[currentTable * 256 + k] = V[i][j] | i + 1 << 8;\n          k += 1;\n        }\n        if (k >= 256) {\n          if (k > 256) {\n            throw new Error(\"ERROR: Huffman table error(1)!\");\n          }\n          k = 0;\n          currentTable += 1;\n        }\n      }\n    }\n  }\n};\n\n// src/quantization-table.ts\nvar QuantizationTable = class _QuantizationTable {\n  precision = [];\n  // Quantization precision 8 or 16\n  tq = [0, 0, 0, 0];\n  // 1: this table is presented\n  quantTables = createArray(4, 64);\n  // Tables\n  static enhanceQuantizationTable = function(qtab, table) {\n    for (let i = 0; i < 8; i += 1) {\n      qtab[table[0 * 8 + i]] *= 90;\n      qtab[table[4 * 8 + i]] *= 90;\n      qtab[table[2 * 8 + i]] *= 118;\n      qtab[table[6 * 8 + i]] *= 49;\n      qtab[table[5 * 8 + i]] *= 71;\n      qtab[table[1 * 8 + i]] *= 126;\n      qtab[table[7 * 8 + i]] *= 25;\n      qtab[table[3 * 8 + i]] *= 106;\n    }\n    for (let i = 0; i < 8; i += 1) {\n      qtab[table[0 + 8 * i]] *= 90;\n      qtab[table[4 + 8 * i]] *= 90;\n      qtab[table[2 + 8 * i]] *= 118;\n      qtab[table[6 + 8 * i]] *= 49;\n      qtab[table[5 + 8 * i]] *= 71;\n      qtab[table[1 + 8 * i]] *= 126;\n      qtab[table[7 + 8 * i]] *= 25;\n      qtab[table[3 + 8 * i]] *= 106;\n    }\n    for (let i = 0; i < 64; i += 1) {\n      qtab[i] >>= 6;\n    }\n  };\n  read(data, table) {\n    let count = 0;\n    let temp;\n    let t;\n    let i;\n    const length = data.get16();\n    count += 2;\n    while (count < length) {\n      temp = data.get8();\n      count += 1;\n      t = temp & 15;\n      if (t > 3) {\n        throw new Error(\"ERROR: Quantization table ID > 3\");\n      }\n      this.precision[t] = temp >> 4;\n      if (this.precision[t] === 0) {\n        this.precision[t] = 8;\n      } else if (this.precision[t] === 1) {\n        this.precision[t] = 16;\n      } else {\n        throw new Error(\"ERROR: Quantization table precision error\");\n      }\n      this.tq[t] = 1;\n      if (this.precision[t] === 8) {\n        for (i = 0; i < 64; i += 1) {\n          if (count > length) {\n            throw new Error(\"ERROR: Quantization table format error\");\n          }\n          this.quantTables[t][i] = data.get8();\n          count += 1;\n        }\n        _QuantizationTable.enhanceQuantizationTable(this.quantTables[t], table);\n      } else {\n        for (i = 0; i < 64; i += 1) {\n          if (count > length) {\n            throw new Error(\"ERROR: Quantization table format error\");\n          }\n          this.quantTables[t][i] = data.get16();\n          count += 2;\n        }\n        _QuantizationTable.enhanceQuantizationTable(this.quantTables[t], table);\n      }\n    }\n    if (count !== length) {\n      throw new Error(\"ERROR: Quantization table error [count!=Lq]\");\n    }\n    return 1;\n  }\n};\n\n// src/scan-component.ts\nvar ScanComponent = {\n  acTabSel: 0,\n  // AC table selector\n  dcTabSel: 0,\n  // DC table selector\n  scanCompSel: 0\n  // Scan component selector\n};\n\n// src/scan-header.ts\nvar ScanHeader = class {\n  ah = 0;\n  al = 0;\n  numComp = 0;\n  // Number of components in the scan\n  selection = 0;\n  // Start of spectral or predictor selection\n  spectralEnd = 0;\n  // End of spectral selection\n  components = [];\n  read(data) {\n    let count = 0;\n    let i;\n    let temp;\n    const length = data.get16();\n    count += 2;\n    this.numComp = data.get8();\n    count += 1;\n    for (i = 0; i < this.numComp; i += 1) {\n      this.components[i] = { ...ScanComponent };\n      if (count > length) {\n        throw new Error(\"ERROR: scan header format error\");\n      }\n      this.components[i].scanCompSel = data.get8();\n      count += 1;\n      temp = data.get8();\n      count += 1;\n      this.components[i].dcTabSel = temp >> 4;\n      this.components[i].acTabSel = temp & 15;\n    }\n    this.selection = data.get8();\n    count += 1;\n    this.spectralEnd = data.get8();\n    count += 1;\n    temp = data.get8();\n    this.ah = temp >> 4;\n    this.al = temp & 15;\n    count += 1;\n    if (count !== length) {\n      throw new Error(\"ERROR: scan header format error [count!=Ns]\");\n    }\n    return 1;\n  }\n};\n\n// src/decoder.ts\nvar littleEndian = function() {\n  const buffer = new ArrayBuffer(2);\n  new DataView(buffer).setInt16(\n    0,\n    256,\n    true\n    /* littleEndian */\n  );\n  return new Int16Array(buffer)[0] === 256;\n}();\nvar Decoder = class _Decoder {\n  static IDCT_P = [\n    0,\n    5,\n    40,\n    16,\n    45,\n    2,\n    7,\n    42,\n    21,\n    56,\n    8,\n    61,\n    18,\n    47,\n    1,\n    4,\n    41,\n    23,\n    58,\n    13,\n    32,\n    24,\n    37,\n    10,\n    63,\n    17,\n    44,\n    3,\n    6,\n    43,\n    20,\n    57,\n    15,\n    34,\n    29,\n    48,\n    53,\n    26,\n    39,\n    9,\n    60,\n    19,\n    46,\n    22,\n    59,\n    12,\n    33,\n    31,\n    50,\n    55,\n    25,\n    36,\n    11,\n    62,\n    14,\n    35,\n    28,\n    49,\n    52,\n    27,\n    38,\n    30,\n    51,\n    54\n  ];\n  static TABLE = [\n    0,\n    1,\n    5,\n    6,\n    14,\n    15,\n    27,\n    28,\n    2,\n    4,\n    7,\n    13,\n    16,\n    26,\n    29,\n    42,\n    3,\n    8,\n    12,\n    17,\n    25,\n    30,\n    41,\n    43,\n    9,\n    11,\n    18,\n    24,\n    31,\n    40,\n    44,\n    53,\n    10,\n    19,\n    23,\n    32,\n    39,\n    45,\n    52,\n    54,\n    20,\n    22,\n    33,\n    38,\n    46,\n    51,\n    55,\n    60,\n    21,\n    34,\n    37,\n    47,\n    50,\n    56,\n    59,\n    61,\n    35,\n    36,\n    48,\n    49,\n    57,\n    58,\n    62,\n    63\n  ];\n  static MAX_HUFFMAN_SUBTREE = 50;\n  static MSB = 2147483648;\n  static RESTART_MARKER_BEGIN = 65488;\n  static RESTART_MARKER_END = 65495;\n  buffer = null;\n  stream = null;\n  frame = new FrameHeader();\n  huffTable = new HuffmanTable();\n  quantTable = new QuantizationTable();\n  scan = new ScanHeader();\n  DU = createArray(10, 4, 64);\n  // at most 10 data units in a MCU, at most 4 data units in one component\n  HuffTab = createArray(4, 2, 50 * 256);\n  IDCT_Source = [];\n  nBlock = [];\n  // number of blocks in the i-th Comp in a scan\n  acTab = createArray(10, 1);\n  // ac HuffTab for the i-th Comp in a scan\n  dcTab = createArray(10, 1);\n  // dc HuffTab for the i-th Comp in a scan\n  qTab = createArray(10, 1);\n  // quantization table for the i-th Comp in a scan\n  marker = 0;\n  markerIndex = 0;\n  numComp = 0;\n  restartInterval = 0;\n  selection = 0;\n  xDim = 0;\n  yDim = 0;\n  xLoc = 0;\n  yLoc = 0;\n  outputData = null;\n  restarting = false;\n  mask = 0;\n  numBytes = 0;\n  precision = void 0;\n  components = [];\n  getter = null;\n  setter = null;\n  output = null;\n  selector = null;\n  /**\n   * The Decoder constructor.\n   * @property {number} numBytes - number of bytes per component\n   * @type {Function}\n   */\n  constructor(buffer, numBytes) {\n    this.buffer = buffer ?? null;\n    this.numBytes = numBytes ?? 0;\n  }\n  /**\n   * Returns decompressed data.\n   */\n  decompress(buffer, offset, length) {\n    const result = this.decode(buffer, offset, length);\n    return result.buffer;\n  }\n  decode(buffer, offset, length, numBytes) {\n    let scanNum = 0;\n    const pred = [];\n    let i;\n    let compN;\n    const temp = [];\n    const index = [];\n    let mcuNum;\n    if (buffer) {\n      this.buffer = buffer;\n    }\n    if (numBytes !== void 0) {\n      this.numBytes = numBytes;\n    }\n    this.stream = new DataStream(this.buffer, offset, length);\n    this.buffer = null;\n    this.xLoc = 0;\n    this.yLoc = 0;\n    let current = this.stream.get16();\n    if (current !== 65496) {\n      throw new Error(\"Not a JPEG file\");\n    }\n    current = this.stream.get16();\n    while (current >> 4 !== 4092 || current === 65476) {\n      switch (current) {\n        case 65476:\n          this.huffTable.read(this.stream, this.HuffTab);\n          break;\n        case 65484:\n          throw new Error(\"Program doesn't support arithmetic coding. (format throw new IOException)\");\n        case 65499:\n          this.quantTable.read(this.stream, _Decoder.TABLE);\n          break;\n        case 65501:\n          this.restartInterval = this.readNumber() ?? 0;\n          break;\n        case 65504:\n        case 65505:\n        case 65506:\n        case 65507:\n        case 65508:\n        case 65509:\n        case 65510:\n        case 65511:\n        case 65512:\n        case 65513:\n        case 65514:\n        case 65515:\n        case 65516:\n        case 65517:\n        case 65518:\n        case 65519:\n          this.readApp();\n          break;\n        case 65534:\n          this.readComment();\n          break;\n        default:\n          if (current >> 8 !== 255) {\n            throw new Error(\"ERROR: format throw new IOException! (decode)\");\n          }\n      }\n      current = this.stream.get16();\n    }\n    if (current < 65472 || current > 65479) {\n      throw new Error(\"ERROR: could not handle arithmetic code!\");\n    }\n    this.frame.read(this.stream);\n    current = this.stream.get16();\n    do {\n      while (current !== 65498) {\n        switch (current) {\n          case 65476:\n            this.huffTable.read(this.stream, this.HuffTab);\n            break;\n          case 65484:\n            throw new Error(\"Program doesn't support arithmetic coding. (format throw new IOException)\");\n          case 65499:\n            this.quantTable.read(this.stream, _Decoder.TABLE);\n            break;\n          case 65501:\n            this.restartInterval = this.readNumber() ?? 0;\n            break;\n          case 65504:\n          case 65505:\n          case 65506:\n          case 65507:\n          case 65508:\n          case 65509:\n          case 65510:\n          case 65511:\n          case 65512:\n          case 65513:\n          case 65514:\n          case 65515:\n          case 65516:\n          case 65517:\n          case 65518:\n          case 65519:\n            this.readApp();\n            break;\n          case 65534:\n            this.readComment();\n            break;\n          default:\n            if (current >> 8 !== 255) {\n              throw new Error(\"ERROR: format throw new IOException! (Parser.decode)\");\n            }\n        }\n        current = this.stream.get16();\n      }\n      this.precision = this.frame.precision;\n      this.components = this.frame.components;\n      if (!this.numBytes) {\n        this.numBytes = Math.round(Math.ceil(this.precision / 8));\n      }\n      if (this.numBytes === 1) {\n        this.mask = 255;\n      } else {\n        this.mask = 65535;\n      }\n      this.scan.read(this.stream);\n      this.numComp = this.scan.numComp;\n      this.selection = this.scan.selection;\n      if (this.numBytes === 1) {\n        if (this.numComp === 3) {\n          this.getter = this.getValueRGB;\n          this.setter = this.setValueRGB;\n          this.output = this.outputRGB;\n        } else {\n          this.getter = this.getValue8;\n          this.setter = this.setValue8;\n          this.output = this.outputSingle;\n        }\n      } else {\n        this.getter = this.getValue8;\n        this.setter = this.setValue8;\n        this.output = this.outputSingle;\n      }\n      switch (this.selection) {\n        case 2:\n          this.selector = this.select2;\n          break;\n        case 3:\n          this.selector = this.select3;\n          break;\n        case 4:\n          this.selector = this.select4;\n          break;\n        case 5:\n          this.selector = this.select5;\n          break;\n        case 6:\n          this.selector = this.select6;\n          break;\n        case 7:\n          this.selector = this.select7;\n          break;\n        default:\n          this.selector = this.select1;\n          break;\n      }\n      for (i = 0; i < this.numComp; i += 1) {\n        compN = this.scan.components[i].scanCompSel;\n        this.qTab[i] = this.quantTable.quantTables[this.components[compN].quantTableSel];\n        this.nBlock[i] = this.components[compN].vSamp * this.components[compN].hSamp;\n        this.dcTab[i] = this.HuffTab[this.scan.components[i].dcTabSel][0];\n        this.acTab[i] = this.HuffTab[this.scan.components[i].acTabSel][1];\n      }\n      this.xDim = this.frame.dimX;\n      this.yDim = this.frame.dimY;\n      if (this.numBytes === 1) {\n        this.outputData = new Uint8Array(new ArrayBuffer(this.xDim * this.yDim * this.numBytes * this.numComp));\n      } else {\n        this.outputData = new Uint16Array(new ArrayBuffer(this.xDim * this.yDim * this.numBytes * this.numComp));\n      }\n      scanNum += 1;\n      while (true) {\n        temp[0] = 0;\n        index[0] = 0;\n        for (i = 0; i < 10; i += 1) {\n          pred[i] = 1 << this.precision - 1;\n        }\n        if (this.restartInterval === 0) {\n          current = this.decodeUnit(pred, temp, index);\n          while (current === 0 && this.xLoc < this.xDim && this.yLoc < this.yDim) {\n            this.output(pred);\n            current = this.decodeUnit(pred, temp, index);\n          }\n          break;\n        }\n        for (mcuNum = 0; mcuNum < this.restartInterval; mcuNum += 1) {\n          this.restarting = mcuNum === 0;\n          current = this.decodeUnit(pred, temp, index);\n          this.output(pred);\n          if (current !== 0) {\n            break;\n          }\n        }\n        if (current === 0) {\n          if (this.markerIndex !== 0) {\n            current = 65280 | this.marker;\n            this.markerIndex = 0;\n          } else {\n            current = this.stream.get16();\n          }\n        }\n        if (!(current >= _Decoder.RESTART_MARKER_BEGIN && current <= _Decoder.RESTART_MARKER_END)) {\n          break;\n        }\n      }\n      if (current === 65500 && scanNum === 1) {\n        this.readNumber();\n        current = this.stream.get16();\n      }\n    } while (current !== 65497 && this.xLoc < this.xDim && this.yLoc < this.yDim && scanNum === 0);\n    return this.outputData;\n  }\n  decodeUnit(prev, temp, index) {\n    if (this.numComp === 1) {\n      return this.decodeSingle(prev, temp, index);\n    } else if (this.numComp === 3) {\n      return this.decodeRGB(prev, temp, index);\n    } else {\n      return -1;\n    }\n  }\n  select1(compOffset) {\n    return this.getPreviousX(compOffset);\n  }\n  select2(compOffset) {\n    return this.getPreviousY(compOffset);\n  }\n  select3(compOffset) {\n    return this.getPreviousXY(compOffset);\n  }\n  select4(compOffset) {\n    return this.getPreviousX(compOffset) + this.getPreviousY(compOffset) - this.getPreviousXY(compOffset);\n  }\n  select5(compOffset) {\n    return this.getPreviousX(compOffset) + (this.getPreviousY(compOffset) - this.getPreviousXY(compOffset) >> 1);\n  }\n  select6(compOffset) {\n    return this.getPreviousY(compOffset) + (this.getPreviousX(compOffset) - this.getPreviousXY(compOffset) >> 1);\n  }\n  select7(compOffset) {\n    return (this.getPreviousX(compOffset) + this.getPreviousY(compOffset)) / 2;\n  }\n  decodeRGB(prev, temp, index) {\n    if (this.selector === null)\n      throw new Error(\"decode hasn't run yet\");\n    let actab, dctab, qtab, ctrC, i, k, j;\n    prev[0] = this.selector(0);\n    prev[1] = this.selector(1);\n    prev[2] = this.selector(2);\n    for (ctrC = 0; ctrC < this.numComp; ctrC += 1) {\n      qtab = this.qTab[ctrC];\n      actab = this.acTab[ctrC];\n      dctab = this.dcTab[ctrC];\n      for (i = 0; i < this.nBlock[ctrC]; i += 1) {\n        for (k = 0; k < this.IDCT_Source.length; k += 1) {\n          this.IDCT_Source[k] = 0;\n        }\n        let value = this.getHuffmanValue(dctab, temp, index);\n        if (value >= 65280) {\n          return value;\n        }\n        prev[ctrC] = this.IDCT_Source[0] = prev[ctrC] + this.getn(index, value, temp, index);\n        this.IDCT_Source[0] *= qtab[0];\n        for (j = 1; j < 64; j += 1) {\n          value = this.getHuffmanValue(actab, temp, index);\n          if (value >= 65280) {\n            return value;\n          }\n          j += value >> 4;\n          if ((value & 15) === 0) {\n            if (value >> 4 === 0) {\n              break;\n            }\n          } else {\n            this.IDCT_Source[_Decoder.IDCT_P[j]] = this.getn(index, value & 15, temp, index) * qtab[j];\n          }\n        }\n      }\n    }\n    return 0;\n  }\n  decodeSingle(prev, temp, index) {\n    if (this.selector === null)\n      throw new Error(\"decode hasn't run yet\");\n    let value, i, n, nRestart;\n    if (this.restarting) {\n      this.restarting = false;\n      prev[0] = 1 << this.frame.precision - 1;\n    } else {\n      prev[0] = this.selector();\n    }\n    for (i = 0; i < this.nBlock[0]; i += 1) {\n      value = this.getHuffmanValue(this.dcTab[0], temp, index);\n      if (value >= 65280) {\n        return value;\n      }\n      n = this.getn(prev, value, temp, index);\n      nRestart = n >> 8;\n      if (nRestart >= _Decoder.RESTART_MARKER_BEGIN && nRestart <= _Decoder.RESTART_MARKER_END) {\n        return nRestart;\n      }\n      prev[0] += n;\n    }\n    return 0;\n  }\n  //\tHuffman table for fast search: (HuffTab) 8-bit Look up table 2-layer search architecture, 1st-layer represent 256 node (8 bits) if codeword-length > 8\n  //\tbits, then the entry of 1st-layer = (# of 2nd-layer table) | MSB and it is stored in the 2nd-layer Size of tables in each layer are 256.\n  //\tHuffTab[*][*][0-256] is always the only 1st-layer table.\n  //\n  //\tAn entry can be: (1) (# of 2nd-layer table) | MSB , for code length > 8 in 1st-layer (2) (Code length) << 8 | HuffVal\n  //\n  //\tHuffmanValue(table   HuffTab[x][y] (ex) HuffmanValue(HuffTab[1][0],...)\n  //\t                ):\n  //\t    return: Huffman Value of table\n  //\t            0xFF?? if it receives a MARKER\n  //\t    Parameter:  table   HuffTab[x][y] (ex) HuffmanValue(HuffTab[1][0],...)\n  //\t                temp    temp storage for remainded bits\n  //\t                index   index to bit of temp\n  //\t                in      FILE pointer\n  //\t    Effect:\n  //\t        temp  store new remainded bits\n  //\t        index change to new index\n  //\t        in    change to new position\n  //\t    NOTE:\n  //\t      Initial by   temp=0; index=0;\n  //\t    NOTE: (explain temp and index)\n  //\t      temp: is always in the form at calling time or returning time\n  //\t       |  byte 4  |  byte 3  |  byte 2  |  byte 1  |\n  //\t       |     0    |     0    | 00000000 | 00000??? |  if not a MARKER\n  //\t                                               ^index=3 (from 0 to 15)\n  //\t                                               321\n  //\t    NOTE (marker and marker_index):\n  //\t      If get a MARKER from 'in', marker=the low-byte of the MARKER\n  //\t        and marker_index=9\n  //\t      If marker_index=9 then index is always > 8, or HuffmanValue()\n  //\t        will not be called\n  getHuffmanValue(table, temp, index) {\n    let code, input;\n    const mask = 65535;\n    if (!this.stream)\n      throw new Error(\"stream not initialized\");\n    if (index[0] < 8) {\n      temp[0] <<= 8;\n      input = this.stream.get8();\n      if (input === 255) {\n        this.marker = this.stream.get8();\n        if (this.marker !== 0) {\n          this.markerIndex = 9;\n        }\n      }\n      temp[0] |= input;\n    } else {\n      index[0] -= 8;\n    }\n    code = table[temp[0] >> index[0]];\n    if ((code & _Decoder.MSB) !== 0) {\n      if (this.markerIndex !== 0) {\n        this.markerIndex = 0;\n        return 65280 | this.marker;\n      }\n      temp[0] &= mask >> 16 - index[0];\n      temp[0] <<= 8;\n      input = this.stream.get8();\n      if (input === 255) {\n        this.marker = this.stream.get8();\n        if (this.marker !== 0) {\n          this.markerIndex = 9;\n        }\n      }\n      temp[0] |= input;\n      code = table[(code & 255) * 256 + (temp[0] >> index[0])];\n      index[0] += 8;\n    }\n    index[0] += 8 - (code >> 8);\n    if (index[0] < 0) {\n      throw new Error(\"index=\" + index[0] + \" temp=\" + temp[0] + \" code=\" + code + \" in HuffmanValue()\");\n    }\n    if (index[0] < this.markerIndex) {\n      this.markerIndex = 0;\n      return 65280 | this.marker;\n    }\n    temp[0] &= mask >> 16 - index[0];\n    return code & 255;\n  }\n  getn(PRED, n, temp, index) {\n    let result, input;\n    const one = 1;\n    const n_one = -1;\n    const mask = 65535;\n    if (this.stream === null)\n      throw new Error(\"stream not initialized\");\n    if (n === 0) {\n      return 0;\n    }\n    if (n === 16) {\n      if (PRED[0] >= 0) {\n        return -32768;\n      } else {\n        return 32768;\n      }\n    }\n    index[0] -= n;\n    if (index[0] >= 0) {\n      if (index[0] < this.markerIndex && !this.isLastPixel()) {\n        this.markerIndex = 0;\n        return (65280 | this.marker) << 8;\n      }\n      result = temp[0] >> index[0];\n      temp[0] &= mask >> 16 - index[0];\n    } else {\n      temp[0] <<= 8;\n      input = this.stream.get8();\n      if (input === 255) {\n        this.marker = this.stream.get8();\n        if (this.marker !== 0) {\n          this.markerIndex = 9;\n        }\n      }\n      temp[0] |= input;\n      index[0] += 8;\n      if (index[0] < 0) {\n        if (this.markerIndex !== 0) {\n          this.markerIndex = 0;\n          return (65280 | this.marker) << 8;\n        }\n        temp[0] <<= 8;\n        input = this.stream.get8();\n        if (input === 255) {\n          this.marker = this.stream.get8();\n          if (this.marker !== 0) {\n            this.markerIndex = 9;\n          }\n        }\n        temp[0] |= input;\n        index[0] += 8;\n      }\n      if (index[0] < 0) {\n        throw new Error(\"index=\" + index[0] + \" in getn()\");\n      }\n      if (index[0] < this.markerIndex) {\n        this.markerIndex = 0;\n        return (65280 | this.marker) << 8;\n      }\n      result = temp[0] >> index[0];\n      temp[0] &= mask >> 16 - index[0];\n    }\n    if (result < one << n - 1) {\n      result += (n_one << n) + 1;\n    }\n    return result;\n  }\n  getPreviousX(compOffset = 0) {\n    if (this.getter === null)\n      throw new Error(\"decode hasn't run yet\");\n    if (this.xLoc > 0) {\n      return this.getter(this.yLoc * this.xDim + this.xLoc - 1, compOffset);\n    } else if (this.yLoc > 0) {\n      return this.getPreviousY(compOffset);\n    } else {\n      return 1 << this.frame.precision - 1;\n    }\n  }\n  getPreviousXY(compOffset = 0) {\n    if (this.getter === null)\n      throw new Error(\"decode hasn't run yet\");\n    if (this.xLoc > 0 && this.yLoc > 0) {\n      return this.getter((this.yLoc - 1) * this.xDim + this.xLoc - 1, compOffset);\n    } else {\n      return this.getPreviousY(compOffset);\n    }\n  }\n  getPreviousY(compOffset = 0) {\n    if (this.getter === null)\n      throw new Error(\"decode hasn't run yet\");\n    if (this.yLoc > 0) {\n      return this.getter((this.yLoc - 1) * this.xDim + this.xLoc, compOffset);\n    } else {\n      return this.getPreviousX(compOffset);\n    }\n  }\n  isLastPixel() {\n    return this.xLoc === this.xDim - 1 && this.yLoc === this.yDim - 1;\n  }\n  outputSingle(PRED) {\n    if (this.setter === null)\n      throw new Error(\"decode hasn't run yet\");\n    if (this.xLoc < this.xDim && this.yLoc < this.yDim) {\n      this.setter(this.yLoc * this.xDim + this.xLoc, this.mask & PRED[0]);\n      this.xLoc += 1;\n      if (this.xLoc >= this.xDim) {\n        this.yLoc += 1;\n        this.xLoc = 0;\n      }\n    }\n  }\n  outputRGB(PRED) {\n    if (this.setter === null)\n      throw new Error(\"decode hasn't run yet\");\n    const offset = this.yLoc * this.xDim + this.xLoc;\n    if (this.xLoc < this.xDim && this.yLoc < this.yDim) {\n      this.setter(offset, PRED[0], 0);\n      this.setter(offset, PRED[1], 1);\n      this.setter(offset, PRED[2], 2);\n      this.xLoc += 1;\n      if (this.xLoc >= this.xDim) {\n        this.yLoc += 1;\n        this.xLoc = 0;\n      }\n    }\n  }\n  setValue8(index, val) {\n    if (!this.outputData)\n      throw new Error(\"output data not ready\");\n    if (littleEndian) {\n      this.outputData[index] = val;\n    } else {\n      this.outputData[index] = (val & 255) << 8 | val >> 8 & 255;\n    }\n  }\n  getValue8(index) {\n    if (this.outputData === null)\n      throw new Error(\"output data not ready\");\n    if (littleEndian) {\n      return this.outputData[index];\n    } else {\n      const val = this.outputData[index];\n      return (val & 255) << 8 | val >> 8 & 255;\n    }\n  }\n  setValueRGB(index, val, compOffset = 0) {\n    if (this.outputData === null)\n      return;\n    this.outputData[index * 3 + compOffset] = val;\n  }\n  getValueRGB(index, compOffset) {\n    if (this.outputData === null)\n      throw new Error(\"output data not ready\");\n    return this.outputData[index * 3 + compOffset];\n  }\n  readApp() {\n    if (this.stream === null)\n      return null;\n    let count = 0;\n    const length = this.stream.get16();\n    count += 2;\n    while (count < length) {\n      this.stream.get8();\n      count += 1;\n    }\n    return length;\n  }\n  readComment() {\n    if (this.stream === null)\n      return null;\n    let sb = \"\";\n    let count = 0;\n    const length = this.stream.get16();\n    count += 2;\n    while (count < length) {\n      sb += this.stream.get8();\n      count += 1;\n    }\n    return sb;\n  }\n  readNumber() {\n    if (this.stream === null)\n      return null;\n    const Ld = this.stream.get16();\n    if (Ld !== 4) {\n      throw new Error(\"ERROR: Define number format throw new IOException [Ld!=4]\");\n    }\n    return this.stream.get16();\n  }\n};\nexport {\n  ComponentSpec,\n  DataStream,\n  Decoder,\n  FrameHeader,\n  HuffmanTable,\n  QuantizationTable,\n  ScanComponent,\n  ScanHeader,\n  utils_exports as Utils\n};\n//# sourceMappingURL=lossless.js.map"],"names":["__defProp","Object","defineProperty","ComponentSpec","hSamp","quantTableSel","vSamp","DataStream","buffer","index","constructor","data","offset","length","this","Uint8Array","get16","value","get8","FrameHeader","dimX","dimY","numComp","precision","components","read","temp","count","i","Error","c","utils_exports","target","all","name","get","enumerable","__export","crc32","crcTable","createArray","makeCRCTable","dimensions","dim","rest","slice","newArray","Array","fill","crcTable2","n","k","uint8view","crc","HuffmanTable","_HuffmanTable","static","l","th","v","tc","HuffTab","t","j","buildHuffTable","tab","L","V","currentTable","MSB","QuantizationTable","_QuantizationTable","tq","quantTables","qtab","table","enhanceQuantizationTable","ScanComponent","acTabSel","dcTabSel","scanCompSel","ScanHeader","ah","al","selection","spectralEnd","littleEndian","ArrayBuffer","DataView","setInt16","Int16Array","Decoder","_Decoder","stream","frame","huffTable","quantTable","scan","DU","IDCT_Source","nBlock","acTab","dcTab","qTab","marker","markerIndex","restartInterval","xDim","yDim","xLoc","yLoc","outputData","restarting","mask","numBytes","getter","setter","output","selector","decompress","decode","scanNum","pred","compN","mcuNum","current","TABLE","readNumber","readApp","readComment","Math","round","ceil","getValueRGB","setValueRGB","outputRGB","getValue8","setValue8","outputSingle","select2","select3","select4","select5","select6","select7","select1","Uint16Array","decodeUnit","RESTART_MARKER_BEGIN","RESTART_MARKER_END","prev","decodeSingle","decodeRGB","compOffset","getPreviousX","getPreviousY","getPreviousXY","actab","dctab","ctrC","getHuffmanValue","getn","IDCT_P","nRestart","code","input","PRED","result","isLastPixel","val","sb"],"sourceRoot":""}